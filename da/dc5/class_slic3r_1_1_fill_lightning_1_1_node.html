<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::FillLightning::Node Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../da/d66/class_slic3r_1_1_fill_lightning_1_1_node-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::FillLightning::Node Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/Fill/Lightning/TreeNode.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for Slic3r::FillLightning::Node:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d16/class_slic3r_1_1_fill_lightning_1_1_node__inherit__graph.svg" width="148" height="140"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::FillLightning::Node:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d1b/class_slic3r_1_1_fill_lightning_1_1_node__coll__graph.svg" width="100%" height="422"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction">RectilinearJunction</a></td></tr>
<tr class="separator:dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a28bf24f2e3148b8931ff4c26d9a8f764"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a28bf24f2e3148b8931ff4c26d9a8f764">getLocation</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a28bf24f2e3148b8931ff4c26d9a8f764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215bc2c9166776b177cd9584b9d6d8be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a215bc2c9166776b177cd9584b9d6d8be">setLocation</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;p)</td></tr>
<tr class="separator:a215bc2c9166776b177cd9584b9d6d8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf94eb493065ff7f4f193380b13bdcde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#acf94eb493065ff7f4f193380b13bdcde">addChild</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;p)</td></tr>
<tr class="separator:acf94eb493065ff7f4f193380b13bdcde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fad51308b347857789640e347a6c64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a53fad51308b347857789640e347a6c64">addChild</a> (<a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;new_child)</td></tr>
<tr class="separator:a53fad51308b347857789640e347a6c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6c51ce65e198e53fad0b22a5482c92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a3a6c51ce65e198e53fad0b22a5482c92">propagateToNextLayer</a> (std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;next_trees, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;next_outlines, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html">EdgeGrid::Grid</a> &amp;outline_locator, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> prune_distance, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> smooth_magnitude, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_remove_colinear_dist) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a3a6c51ce65e198e53fad0b22a5482c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b0b69dcbc4e961bcb257c6bd8f5f29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a83b0b69dcbc4e961bcb257c6bd8f5f29">visitBranches</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;)&gt; &amp;visitor) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a83b0b69dcbc4e961bcb257c6bd8f5f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480eccefe6675b611969d17e3dfed2a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a480eccefe6675b611969d17e3dfed2a2">visitNodes</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>)&gt; &amp;visitor)</td></tr>
<tr class="separator:a480eccefe6675b611969d17e3dfed2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99b635f83c0649b931364f07d7c1023"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#af99b635f83c0649b931364f07d7c1023">getWeightedDistance</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;unsupported_location, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;supporting_radius) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:af99b635f83c0649b931364f07d7c1023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c1ad09597d55a913e0634e55565af2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ad2c1ad09597d55a913e0634e55565af2">isRoot</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad2c1ad09597d55a913e0634e55565af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab079bea2e849337855e5ad4e887224a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ab079bea2e849337855e5ad4e887224a4">reroot</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;new_parent=nullptr)</td></tr>
<tr class="separator:ab079bea2e849337855e5ad4e887224a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20587cc243af74db564695e7ec071a1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a20587cc243af74db564695e7ec071a1b">closestNode</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;loc)</td></tr>
<tr class="separator:a20587cc243af74db564695e7ec071a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830d731dd525f24678c3b85b2db130c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a830d731dd525f24678c3b85b2db130c4">hasOffspring</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;to_be_checked) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a830d731dd525f24678c3b85b2db130c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519149fd6cd2daba9e72bc69efb0657f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a519149fd6cd2daba9e72bc69efb0657f">Node</a> ()=delete</td></tr>
<tr class="separator:a519149fd6cd2daba9e72bc69efb0657f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5927cb5e60ce5af6f735293ffb7b5891"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a5927cb5e60ce5af6f735293ffb7b5891">convertToPolylines</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;output, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> line_overlap) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a5927cb5e60ce5af6f735293ffb7b5891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0d84efe2b818380a165aa37de3f421"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::optional&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4a0d84efe2b818380a165aa37de3f421">getLastGroundingLocation</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a4a0d84efe2b818380a165aa37de3f421"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2ff70cc7c15a855abca9fc018f9d6032"><td class="memTemplParams" colspan="2">template&lt;typename ... Arg&gt; </td></tr>
<tr class="memitem:a2ff70cc7c15a855abca9fc018f9d6032"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a2ff70cc7c15a855abca9fc018f9d6032">create</a> (Arg &amp;&amp;...<a class="el" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a41ceecca5805bbcbeb0928339a0714da">arg</a>)</td></tr>
<tr class="separator:a2ff70cc7c15a855abca9fc018f9d6032"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1c14ccf7a44948c32bc2c68c0940115a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a1c14ccf7a44948c32bc2c68c0940115a">Node</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;p, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::optional&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt; &amp;last_grounding_location=std::nullopt)</td></tr>
<tr class="separator:a1c14ccf7a44948c32bc2c68c0940115a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f944d34ea47e9cde5a03560f1e6e9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a75f944d34ea47e9cde5a03560f1e6e9f">deepCopy</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a75f944d34ea47e9cde5a03560f1e6e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf8bbd8df3a0c998060e690bd854b7e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9cf8bbd8df3a0c998060e690bd854b7e">realign</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;outlines, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html">EdgeGrid::Grid</a> &amp;outline_locator, std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;rerooted_parts)</td></tr>
<tr class="separator:a9cf8bbd8df3a0c998060e690bd854b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaff3fb74df306a79841fe1a16598133"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#aeaff3fb74df306a79841fe1a16598133">straighten</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> magnitude, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_remove_colinear_dist)</td></tr>
<tr class="separator:aeaff3fb74df306a79841fe1a16598133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fdbea1bc722e3eb31e6e30261ac3a99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction">RectilinearJunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4fdbea1bc722e3eb31e6e30261ac3a99">straighten</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> magnitude, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;junction_above, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> accumulated_dist, <a class="el" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> max_remove_colinear_dist2)</td></tr>
<tr class="separator:a4fdbea1bc722e3eb31e6e30261ac3a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1969339c33a04076bb7217effbaf7459"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a1969339c33a04076bb7217effbaf7459">prune</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;distance)</td></tr>
<tr class="separator:a1969339c33a04076bb7217effbaf7459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580f5179b95dee4cef4910888c9c65f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a580f5179b95dee4cef4910888c9c65f7">convertToPolylines</a> (size_t long_line_idx, <a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;output) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a580f5179b95dee4cef4910888c9c65f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda6853021f7a870f7bc81fe0c69bec4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#abda6853021f7a870f7bc81fe0c69bec4">removeJunctionOverlap</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;polylines, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> line_overlap) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:abda6853021f7a870f7bc81fe0c69bec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9f473ea9a8ad420ee610c18f70f206fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a></td></tr>
<tr class="separator:a9f473ea9a8ad420ee610c18f70f206fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37629a1af49386eeba4945e9cbd5e4ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a></td></tr>
<tr class="separator:a37629a1af49386eeba4945e9cbd5e4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ecaf0075cfece6d6edc096894c14871"><td class="memItemLeft" align="right" valign="top">std::weak_ptr&lt; <a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html">Node</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a></td></tr>
<tr class="separator:a4ecaf0075cfece6d6edc096894c14871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b9eb70c21471c064fa4fcd976f10927"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a></td></tr>
<tr class="separator:a6b9eb70c21471c064fa4fcd976f10927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177afbd10712e5c877192b0ed1fe24e3"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">m_last_grounding_location</a></td></tr>
<tr class="separator:a177afbd10712e5c877192b0ed1fe24e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ae775737665df7faec2b24f66d9982362"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ae775737665df7faec2b24f66d9982362">get_extents</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;root_node)</td></tr>
<tr class="separator:ae775737665df7faec2b24f66d9982362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23aa39c84e700e456f6d3aa823bcf958"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a23aa39c84e700e456f6d3aa823bcf958">get_extents</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;tree_roots)</td></tr>
<tr class="separator:a23aa39c84e700e456f6d3aa823bcf958"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A single vertex of a Lightning Tree, the structure that determines the paths to be printed to form Lightning Infill.</p>
<p>In essence these vertices are just a position linked to other positions in 2D. The nodes have a hierarchical structure of parents and children, forming a tree. The class also has some helper functions specific to Lightning Infill e.g. to straighten the paths around this node. </p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction" id="dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction"></a>
<h2 class="memtitle"><span class="permalink"><a href="#dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction">&#9670;&#160;</a></span>Slic3r::FillLightning::Node::RectilinearJunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::FillLightning::Node::RectilinearJunction</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="aa5d0fb81d1d6ea0a36b36a567988a1e5" name="aa5d0fb81d1d6ea0a36b36a567988a1e5"></a><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a></td>
<td class="fieldname">
junction_loc</td>
<td class="fielddoc">
junction location below </td></tr>
<tr><td class="fieldtype">
<a id="a3b026395f982bf2e72808c30adc04280" name="a3b026395f982bf2e72808c30adc04280"></a><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></td>
<td class="fieldname">
total_recti_dist</td>
<td class="fielddoc">
rectilinear distance along the tree from the last junction above to the junction below </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a519149fd6cd2daba9e72bc69efb0657f" name="a519149fd6cd2daba9e72bc69efb0657f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519149fd6cd2daba9e72bc69efb0657f">&#9670;&#160;</a></span>Node() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::FillLightning::Node::Node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c14ccf7a44948c32bc2c68c0940115a" name="a1c14ccf7a44948c32bc2c68c0940115a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c14ccf7a44948c32bc2c68c0940115a">&#9670;&#160;</a></span>Node() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::FillLightning::Node::Node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::optional&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>last_grounding_location</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a new node, either for insertion in a tree or as root. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The physical location in the 2D layer that this node represents. Connecting other nodes to this node indicates that a line segment should be drawn between those two physical positions. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   87</span>                                                                              : </div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>(<span class="keyword">true</span>), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>(p), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">m_last_grounding_location</a>(last_grounding_location)</div>
<div class="line"><span class="lineno">   89</span>{}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a177afbd10712e5c877192b0ed1fe24e3"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">Slic3r::FillLightning::Node::m_last_grounding_location</a></div><div class="ttdeci">std::optional&lt; Point &gt; m_last_grounding_location</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:270</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a37629a1af49386eeba4945e9cbd5e4ec"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">Slic3r::FillLightning::Node::m_p</a></div><div class="ttdeci">Point m_p</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:266</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a9f473ea9a8ad420ee610c18f70f206fc"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">Slic3r::FillLightning::Node::m_is_root</a></div><div class="ttdeci">bool m_is_root</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:265</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acf94eb493065ff7f4f193380b13bdcde" name="acf94eb493065ff7f4f193380b13bdcde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf94eb493065ff7f4f193380b13bdcde">&#9670;&#160;</a></span>addChild() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> Slic3r::FillLightning::Node::addChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new <code><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html">Node</a></code> instance and add it as a child of this node. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The location of the new node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A shared pointer to the new node. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{</div>
<div class="line"><span class="lineno">   36</span>    assert(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> != child_loc);</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> child = <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a2ff70cc7c15a855abca9fc018f9d6032">Node::create</a>(child_loc);</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#acf94eb493065ff7f4f193380b13bdcde">addChild</a>(child);</div>
<div class="line"><span class="lineno">   39</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a2ff70cc7c15a855abca9fc018f9d6032"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a2ff70cc7c15a855abca9fc018f9d6032">Slic3r::FillLightning::Node::create</a></div><div class="ttdeci">static NodeSPtr create(Arg &amp;&amp;...arg)</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:45</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_acf94eb493065ff7f4f193380b13bdcde"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#acf94eb493065ff7f4f193380b13bdcde">Slic3r::FillLightning::Node::addChild</a></div><div class="ttdeci">NodeSPtr addChild(const Point &amp;p)</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:34</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_fill_lightning_html_aa65aa86cb9666888bb13475678f4f7b9"><div class="ttname"><a href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">Slic3r::FillLightning::NodeSPtr</a></div><div class="ttdeci">std::shared_ptr&lt; Node &gt; NodeSPtr</div><div class="ttdef"><b>Definition</b> Layer.hpp:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">addChild()</a>, <a class="el" href="../../#l00045">create()</a>, and <a class="el" href="../../#l00266">m_p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00034">addChild()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_acf94eb493065ff7f4f193380b13bdcde_cgraph.svg" width="410" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_acf94eb493065ff7f4f193380b13bdcde_icgraph.svg" width="143" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a53fad51308b347857789640e347a6c64" name="a53fad51308b347857789640e347a6c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53fad51308b347857789640e347a6c64">&#9670;&#160;</a></span>addChild() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> Slic3r::FillLightning::Node::addChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>new_child</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add an existing <code><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html">Node</a></code> as a child of this node. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_child</td><td>The node that must be added as a child. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always returns <code>new_child</code>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>    assert(new_child != shared_from_this());</div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">//assert(p != new_child-&gt;p); // NOTE: No problem for now. Issue to solve later. Maybe even afetr final. Low prio.</span></div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.push_back(new_child);</div>
<div class="line"><span class="lineno">   46</span>    new_child-&gt;m_parent = shared_from_this();</div>
<div class="line"><span class="lineno">   47</span>    new_child-&gt;m_is_root = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">return</span> new_child;</div>
<div class="line"><span class="lineno">   49</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a6b9eb70c21471c064fa4fcd976f10927"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">Slic3r::FillLightning::Node::m_children</a></div><div class="ttdeci">std::vector&lt; NodeSPtr &gt; m_children</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:268</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>.</p>

</div>
</div>
<a id="a20587cc243af74db564695e7ec071a1b" name="a20587cc243af74db564695e7ec071a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20587cc243af74db564695e7ec071a1b">&#9670;&#160;</a></span>closestNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> Slic3r::FillLightning::Node::closestNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the closest node to the specified location. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>The specified location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The branch that starts at the position closest to the location within this tree. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> result = shared_from_this();</div>
<div class="line"><span class="lineno">  130</span>    <span class="keyword">auto</span> closest_dist2 = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> - loc).cast&lt;double&gt;().norm());</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; child : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>) {</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> candidate_node = child-&gt;closestNode(loc);</div>
<div class="line"><span class="lineno">  134</span>        <span class="keyword">const</span> <span class="keyword">auto</span> child_dist2 = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((candidate_node-&gt;m_p - loc).cast&lt;<span class="keywordtype">double</span>&gt;().norm());</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> (child_dist2 &lt; closest_dist2) {</div>
<div class="line"><span class="lineno">  136</span>            closest_dist2 = child_dist2;</div>
<div class="line"><span class="lineno">  137</span>            result = candidate_node;</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  142</span>}</div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:39</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>, and <a class="el" href="../../#l00266">m_p</a>.</p>

</div>
</div>
<a id="a5927cb5e60ce5af6f735293ffb7b5891" name="a5927cb5e60ce5af6f735293ffb7b5891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5927cb5e60ce5af6f735293ffb7b5891">&#9670;&#160;</a></span>convertToPolylines() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::convertToPolylines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>line_overlap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert the tree into polylines</p>
<p>At each junction one line is chosen at random to continue</p>
<p>The lines start at a leaf and end in a junction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>all branches in this tree connected into polylines </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  339</span>{</div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> result;</div>
<div class="line"><span class="lineno">  341</span>    result.emplace_back();</div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a5927cb5e60ce5af6f735293ffb7b5891">convertToPolylines</a>(0, result);</div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#abda6853021f7a870f7bc81fe0c69bec4">removeJunctionOverlap</a>(result, line_overlap);</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ad61bb7f1e4b8aaa434964420b9bedf32">append</a>(output, std::move(result));</div>
<div class="line"><span class="lineno">  345</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a5927cb5e60ce5af6f735293ffb7b5891"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a5927cb5e60ce5af6f735293ffb7b5891">Slic3r::FillLightning::Node::convertToPolylines</a></div><div class="ttdeci">void convertToPolylines(Polylines &amp;output, coord_t line_overlap) const</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:338</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_abda6853021f7a870f7bc81fe0c69bec4"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#abda6853021f7a870f7bc81fe0c69bec4">Slic3r::FillLightning::Node::removeJunctionOverlap</a></div><div class="ttdeci">void removeJunctionOverlap(Polylines &amp;polylines, coord_t line_overlap) const</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:367</div></div>
<div class="ttc" id="anamespace_slic3r_html_a498065f79ccb865fc410d4afeacffc9c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Slic3r::Polylines</a></div><div class="ttdeci">std::vector&lt; Polyline &gt; Polylines</div><div class="ttdef"><b>Definition</b> Polyline.hpp:14</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad61bb7f1e4b8aaa434964420b9bedf32"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad61bb7f1e4b8aaa434964420b9bedf32">Slic3r::append</a></div><div class="ttdeci">void append(std::vector&lt; T, Alloc &gt; &amp;dest, const std::vector&lt; T, Alloc2 &gt; &amp;src)</div><div class="ttdef"><b>Definition</b> libslic3r.h:110</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00110">Slic3r::append()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00347">convertToPolylines()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a5927cb5e60ce5af6f735293ffb7b5891_cgraph.svg" width="342" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a5927cb5e60ce5af6f735293ffb7b5891_icgraph.svg" width="416" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a580f5179b95dee4cef4910888c9c65f7" name="a580f5179b95dee4cef4910888c9c65f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580f5179b95dee4cef4910888c9c65f7">&#9670;&#160;</a></span>convertToPolylines() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::convertToPolylines </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>long_line_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert the tree into polylines</p>
<p>At each junction one line is chosen at random to continue</p>
<p>The lines start at a leaf and end in a junction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">long_line</td><td>a reference to a polyline in <code>output</code> which to continue building on in the recursion </td></tr>
    <tr><td class="paramname">output</td><td>all branches in this tree connected into polylines </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  348</span>{</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.empty()) {</div>
<div class="line"><span class="lineno">  350</span>        output[long_line_idx].points.push_back(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>);</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  352</span>    }</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordtype">size_t</span> first_child_idx = rand() % <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size();</div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>[first_child_idx]-&gt;convertToPolylines(long_line_idx, output);</div>
<div class="line"><span class="lineno">  355</span>    output[long_line_idx].points.push_back(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx_offset = 1; idx_offset &lt; <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size(); idx_offset++) {</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordtype">size_t</span> child_idx = (first_child_idx + idx_offset) % <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size();</div>
<div class="line"><span class="lineno">  359</span>        <span class="keyword">const</span> <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a519149fd6cd2daba9e72bc69efb0657f">Node</a>&amp; child = *<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>[child_idx];</div>
<div class="line"><span class="lineno">  360</span>        output.emplace_back();</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordtype">size_t</span> child_line_idx = output.size() - 1;</div>
<div class="line"><span class="lineno">  362</span>        child.convertToPolylines(child_line_idx, output);</div>
<div class="line"><span class="lineno">  363</span>        output[child_line_idx].points.emplace_back(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>);</div>
<div class="line"><span class="lineno">  364</span>    }</div>
<div class="line"><span class="lineno">  365</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a519149fd6cd2daba9e72bc69efb0657f"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a519149fd6cd2daba9e72bc69efb0657f">Slic3r::FillLightning::Node::Node</a></div><div class="ttdeci">Node()=delete</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00338">convertToPolylines()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a580f5179b95dee4cef4910888c9c65f7_cgraph.svg" width="568" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2ff70cc7c15a855abca9fc018f9d6032" name="a2ff70cc7c15a855abca9fc018f9d6032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff70cc7c15a855abca9fc018f9d6032">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Arg&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> Slic3r::FillLightning::Node::create </td>
          <td>(</td>
          <td class="paramtype">Arg &amp;&amp;...&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   46</span>    {</div>
<div class="line"><span class="lineno">   47</span>        <span class="keyword">struct </span>EnableMakeShared : <span class="keyword">public</span> <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a519149fd6cd2daba9e72bc69efb0657f">Node</a></div>
<div class="line"><span class="lineno">   48</span>        {</div>
<div class="line"><span class="lineno">   49</span>            <span class="keyword">explicit</span> EnableMakeShared(Arg&amp;&amp;...<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a41ceecca5805bbcbeb0928339a0714da">arg</a>) : Node(<a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::forward&lt;Arg&gt;(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a41ceecca5805bbcbeb0928339a0714da">arg</a>)...) {}</div>
<div class="line"><span class="lineno">   50</span>        };</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">return</span> std::make_shared&lt;EnableMakeShared&gt;(std::forward&lt;Arg&gt;(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a41ceecca5805bbcbeb0928339a0714da">arg</a>)...);</div>
<div class="line"><span class="lineno">   52</span>    }</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a41ceecca5805bbcbeb0928339a0714da"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a41ceecca5805bbcbeb0928339a0714da">arg</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE const ArgReturnType arg() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:57</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00057">arg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00034">addChild()</a>, and <a class="el" href="../../#l00091">deepCopy()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a2ff70cc7c15a855abca9fc018f9d6032_cgraph.svg" width="230" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a2ff70cc7c15a855abca9fc018f9d6032_icgraph.svg" width="570" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a75f944d34ea47e9cde5a03560f1e6e9f" name="a75f944d34ea47e9cde5a03560f1e6e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f944d34ea47e9cde5a03560f1e6e9f">&#9670;&#160;</a></span>deepCopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> Slic3r::FillLightning::Node::deepCopy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy this node and its entire sub-tree. </p><dl class="section return"><dt>Returns</dt><dd>The equivalent of this node in the copy (the root of the new sub- tree). </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> local_root = <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a2ff70cc7c15a855abca9fc018f9d6032">Node::create</a>(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>);</div>
<div class="line"><span class="lineno">   94</span>    local_root-&gt;m_is_root = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>;</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>)</div>
<div class="line"><span class="lineno">   96</span>    {</div>
<div class="line"><span class="lineno">   97</span>        local_root-&gt;m_last_grounding_location = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">m_last_grounding_location</a>.value_or(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>);</div>
<div class="line"><span class="lineno">   98</span>    }</div>
<div class="line"><span class="lineno">   99</span>    local_root-&gt;m_children.reserve(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size());</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; node : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">  101</span>    {</div>
<div class="line"><span class="lineno">  102</span>        <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> child = node-&gt;deepCopy();</div>
<div class="line"><span class="lineno">  103</span>        child-&gt;m_parent = local_root;</div>
<div class="line"><span class="lineno">  104</span>        local_root-&gt;m_children.push_back(child);</div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">return</span> local_root;</div>
<div class="line"><span class="lineno">  107</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00045">create()</a>, <a class="el" href="../../#l00268">m_children</a>, <a class="el" href="../../#l00265">m_is_root</a>, <a class="el" href="../../#l00270">m_last_grounding_location</a>, and <a class="el" href="../../#l00266">m_p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00051">propagateToNextLayer()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a75f944d34ea47e9cde5a03560f1e6e9f_cgraph.svg" width="410" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a75f944d34ea47e9cde5a03560f1e6e9f_icgraph.svg" width="390" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4a0d84efe2b818380a165aa37de3f421" name="a4a0d84efe2b818380a165aa37de3f421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0d84efe2b818380a165aa37de3f421">&#9670;&#160;</a></span>getLastGroundingLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::optional&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &gt; &amp; Slic3r::FillLightning::Node::getLastGroundingLocation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If this was ever a direct child of the root, it'll have a previous grounding location.</p>
<p>This needs to be known when roots are reconnected, so that the last (higher) layer is supported by the next one. </p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">m_last_grounding_location</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00270">m_last_grounding_location</a>.</p>

</div>
</div>
<a id="a28bf24f2e3148b8931ff4c26d9a8f764" name="a28bf24f2e3148b8931ff4c26d9a8f764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28bf24f2e3148b8931ff4c26d9a8f764">&#9670;&#160;</a></span>getLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp; Slic3r::FillLightning::Node::getLocation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the position on this layer that this node represents, a vertex of the path to print. </p><dl class="section return"><dt>Returns</dt><dd>The position that this node represents. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   59</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00266">m_p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00010">getWeightedDistance()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a28bf24f2e3148b8931ff4c26d9a8f764_icgraph.svg" width="387" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af99b635f83c0649b931364f07d7c1023" name="af99b635f83c0649b931364f07d7c1023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99b635f83c0649b931364f07d7c1023">&#9670;&#160;</a></span>getWeightedDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Node::getWeightedDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>unsupported_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;&#160;</td>
          <td class="paramname"><em>supporting_radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a weighted distance from an unsupported point to this node (given the current supporting radius).</p>
<p>When attaching a unsupported location to a node, not all nodes have the same priority. (Eucludian) closer nodes are prioritised, but that's not the whole story. For instance, we give some nodes a 'valence boost' depending on the nr. of branches. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unsupported_location</td><td>The (unsuppported) location of which the weighted distance needs to be calculated. </td></tr>
    <tr><td class="paramname">supporting_radius</td><td>The maximum distance which can be bridged without (infill) supporting it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The weighted distance. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   11</span>{</div>
<div class="line"><span class="lineno">   12</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> min_valence_for_boost = 0;</div>
<div class="line"><span class="lineno">   13</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_valence_for_boost = 4;</div>
<div class="line"><span class="lineno">   14</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> valence_boost_multiplier = 4;</div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> valence = (!<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>) + <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size();</div>
<div class="line"><span class="lineno">   17</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> valence_boost = (min_valence_for_boost &lt; valence &amp;&amp; valence &lt; max_valence_for_boost) ? valence_boost_multiplier * supporting_radius : 0;</div>
<div class="line"><span class="lineno">   18</span>    <span class="keyword">const</span> <span class="keyword">auto</span> dist_here = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((<a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a28bf24f2e3148b8931ff4c26d9a8f764">getLocation</a>() - unsupported_location).cast&lt;double&gt;().norm());</div>
<div class="line"><span class="lineno">   19</span>    <span class="keywordflow">return</span> dist_here - valence_boost;</div>
<div class="line"><span class="lineno">   20</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a28bf24f2e3148b8931ff4c26d9a8f764"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a28bf24f2e3148b8931ff4c26d9a8f764">Slic3r::FillLightning::Node::getLocation</a></div><div class="ttdeci">const Point &amp; getLocation() const</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:59</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00059">getLocation()</a>, <a class="el" href="../../#l00268">m_children</a>, and <a class="el" href="../../#l00265">m_is_root</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_af99b635f83c0649b931364f07d7c1023_cgraph.svg" width="387" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a830d731dd525f24678c3b85b2db130c4" name="a830d731dd525f24678c3b85b2db130c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830d731dd525f24678c3b85b2db130c4">&#9670;&#160;</a></span>hasOffspring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::FillLightning::Node::hasOffspring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>to_be_checked</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether the given tree node is a descendant of this node.</p>
<p>If this node itself is given, it is also considered to be a descendant. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_be_checked</td><td>A node to find out whether it is a descendant of this node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the given node is a descendant or this node itself, or <code>false</code> if it is not in the sub-tree. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   23</span>{</div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">if</span> (to_be_checked == shared_from_this())</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; child_ptr : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">   28</span>        <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (child_ptr-&gt;<a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a830d731dd525f24678c3b85b2db130c4">hasOffspring</a>(to_be_checked)) </div>
<div class="line"><span class="lineno">   29</span>            return true;</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   32</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a830d731dd525f24678c3b85b2db130c4"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a830d731dd525f24678c3b85b2db130c4">Slic3r::FillLightning::Node::hasOffspring</a></div><div class="ttdeci">bool hasOffspring(const NodeSPtr &amp;to_be_checked) const</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:22</div></div>
<div class="ttc" id="alexer_8c_html_ad4a65b873df5c05570846b5413b41dfd"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a></div><div class="ttdeci">if(!(yy_init))</div><div class="ttdef"><b>Definition</b> lexer.c:1190</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>.</p>

</div>
</div>
<a id="ad2c1ad09597d55a913e0634e55565af2" name="ad2c1ad09597d55a913e0634e55565af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c1ad09597d55a913e0634e55565af2">&#9670;&#160;</a></span>isRoot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::FillLightning::Node::isRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns whether this node is the root of a lightning tree. It is the root if it has no parents. </p><dl class="section return"><dt>Returns</dt><dd><code>true</code> if this node is the root (no parents) or <code>false</code> if it is a child node of some other node. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  153</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00265">m_is_root</a>.</p>

</div>
</div>
<a id="a3a6c51ce65e198e53fad0b22a5482c92" name="a3a6c51ce65e198e53fad0b22a5482c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6c51ce65e198e53fad0b22a5482c92">&#9670;&#160;</a></span>propagateToNextLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::propagateToNextLayer </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>next_trees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>next_outlines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html">EdgeGrid::Grid</a> &amp;&#160;</td>
          <td class="paramname"><em>outline_locator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>prune_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>smooth_magnitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_remove_colinear_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Propagate this node's sub-tree to the next layer.</p>
<p>Creates a copy of this tree, realign it to the new layer boundaries <code>next_outlines</code> and reduce (i.e. prune and straighten) it. A copy of this node and all of its descendant nodes will be added to the <code>next_trees</code> vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next_trees</td><td>A collection of tree nodes to use for the next layer. </td></tr>
    <tr><td class="paramname">next_outlines</td><td>The shape of the layer below, to make sure that the tree stays within the bounds of the infill area. </td></tr>
    <tr><td class="paramname">prune_distance</td><td>The maximum distance that a leaf node may be moved such that it still supports the current node. </td></tr>
    <tr><td class="paramname">smooth_magnitude</td><td>The maximum distance that a line may be shifted to straighten the tree's paths, such that it still supports the current paths. </td></tr>
    <tr><td class="paramname">max_remove_colinear_dist</td><td>The maximum distance of a line-segment from which straightening may remove a colinear point. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>    <span class="keyword">auto</span> tree_below = <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a75f944d34ea47e9cde5a03560f1e6e9f">deepCopy</a>();</div>
<div class="line"><span class="lineno">   60</span>    tree_below-&gt;prune(prune_distance);</div>
<div class="line"><span class="lineno">   61</span>    tree_below-&gt;straighten(smooth_magnitude, max_remove_colinear_dist);</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">if</span> (tree_below-&gt;realign(next_outlines, outline_locator, next_trees))</div>
<div class="line"><span class="lineno">   63</span>        next_trees.push_back(tree_below);</div>
<div class="line"><span class="lineno">   64</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a75f944d34ea47e9cde5a03560f1e6e9f"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a75f944d34ea47e9cde5a03560f1e6e9f">Slic3r::FillLightning::Node::deepCopy</a></div><div class="ttdeci">NodeSPtr deepCopy() const</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:91</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00091">deepCopy()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a3a6c51ce65e198e53fad0b22a5482c92_cgraph.svg" width="656" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1969339c33a04076bb7217effbaf7459" name="a1969339c33a04076bb7217effbaf7459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1969339c33a04076bb7217effbaf7459">&#9670;&#160;</a></span>prune()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::Node::prune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;&#160;</td>
          <td class="paramname"><em>distance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prune the tree from the extremeties (leaf-nodes) until the pruning distance is reached. </p><dl class="section return"><dt>Returns</dt><dd>The distance that has been pruned. If less than <code>distance</code>, then the whole tree was puned away. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  302</span>{</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">if</span> (pruning_distance &lt;= 0)</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_distance_pruned = 0;</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> child_it = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.begin(); child_it != <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.end(); ) {</div>
<div class="line"><span class="lineno">  308</span>        <span class="keyword">auto</span>&amp; child = *child_it;</div>
<div class="line"><span class="lineno">  309</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dist_pruned_child = child-&gt;prune(pruning_distance);</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span> (dist_pruned_child &gt;= pruning_distance)</div>
<div class="line"><span class="lineno">  311</span>        { <span class="comment">// pruning is finished for child; dont modify further</span></div>
<div class="line"><span class="lineno">  312</span>            max_distance_pruned = std::max(max_distance_pruned, dist_pruned_child);</div>
<div class="line"><span class="lineno">  313</span>            ++child_it;</div>
<div class="line"><span class="lineno">  314</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  315</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a28bf24f2e3148b8931ff4c26d9a8f764">getLocation</a>();</div>
<div class="line"><span class="lineno">  316</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = child-&gt;getLocation();</div>
<div class="line"><span class="lineno">  317</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> ba = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>;</div>
<div class="line"><span class="lineno">  318</span>            <span class="keyword">const</span> <span class="keyword">auto</span> ab_len = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(ba.cast&lt;<span class="keywordtype">double</span>&gt;().norm());</div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">if</span> (dist_pruned_child + ab_len &lt;= pruning_distance) { </div>
<div class="line"><span class="lineno">  320</span>                <span class="comment">// we&#39;re still in the process of pruning</span></div>
<div class="line"><span class="lineno">  321</span>                assert(child-&gt;m_children.empty() &amp;&amp; <span class="stringliteral">&quot;when pruning away a node all it&#39;s children must already have been pruned away&quot;</span>);</div>
<div class="line"><span class="lineno">  322</span>                max_distance_pruned = std::max(max_distance_pruned, dist_pruned_child + ab_len);</div>
<div class="line"><span class="lineno">  323</span>                child_it = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.erase(child_it);</div>
<div class="line"><span class="lineno">  324</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  325</span>                <span class="comment">// pruning stops in between this node and the child</span></div>
<div class="line"><span class="lineno">  326</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> n = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> + (ba.cast&lt;<span class="keywordtype">double</span>&gt;().normalized() * (pruning_distance - dist_pruned_child)).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  327</span>                assert(std::abs((n - b).cast&lt;double&gt;().norm() + dist_pruned_child - pruning_distance) &lt; 10 &amp;&amp; <span class="stringliteral">&quot;total pruned distance must be equal to the pruning_distance&quot;</span>);</div>
<div class="line"><span class="lineno">  328</span>                max_distance_pruned = std::max(max_distance_pruned, pruning_distance);</div>
<div class="line"><span class="lineno">  329</span>                child-&gt;setLocation(n);</div>
<div class="line"><span class="lineno">  330</span>                ++child_it;</div>
<div class="line"><span class="lineno">  331</span>            }</div>
<div class="line"><span class="lineno">  332</span>        }</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">return</span> max_distance_pruned;</div>
<div class="line"><span class="lineno">  336</span>}</div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cf8bbd8df3a0c998060e690bd854b7e" name="a9cf8bbd8df3a0c998060e690bd854b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf8bbd8df3a0c998060e690bd854b7e">&#9670;&#160;</a></span>realign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::FillLightning::Node::realign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>outlines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html">EdgeGrid::Grid</a> &amp;&#160;</td>
          <td class="paramname"><em>outline_locator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rerooted_parts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reconnect trees from the layer above to the new outlines of the lower layer. </p><dl class="section return"><dt>Returns</dt><dd>Wether or not the root is kept (false is no, true is yes). </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  179</span>{</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> (outlines.empty())</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#acfc9a09a09ef564e917364aebae46df0">contains</a>(outlines, <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>)) {</div>
<div class="line"><span class="lineno">  184</span>        <span class="comment">// Only keep children that have an unbroken connection to here, realign will put the rest in rerooted parts due to recursion:</span></div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> coll;</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordtype">bool</span> reground_me = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  187</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.erase(std::remove_if(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.begin(), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.end(), [&amp;](<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;child) {</div>
<div class="line"><span class="lineno">  188</span>            bool connect_branch = child-&gt;realign(outlines, outline_locator, rerooted_parts);</div>
<div class="line"><span class="lineno">  189</span>            <span class="comment">// Find an intersection of the line segment from p to child-&gt;p, at maximum outline_locator.resolution() * 2 distance from p.</span></div>
<div class="line"><span class="lineno">  190</span>            if (connect_branch &amp;&amp; lineSegmentPolygonsIntersection(child-&gt;m_p, m_p, outline_locator, coll, outline_locator.resolution() * 2)) {</div>
<div class="line"><span class="lineno">  191</span>                child-&gt;m_last_grounding_location.reset();</div>
<div class="line"><span class="lineno">  192</span>                child-&gt;m_parent.reset();</div>
<div class="line"><span class="lineno">  193</span>                child-&gt;m_is_root = true;</div>
<div class="line"><span class="lineno">  194</span>                rerooted_parts.push_back(child);</div>
<div class="line"><span class="lineno">  195</span>                reground_me = true;</div>
<div class="line"><span class="lineno">  196</span>                connect_branch = false;</div>
<div class="line"><span class="lineno">  197</span>            }</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> ! connect_branch;</div>
<div class="line"><span class="lineno">  199</span>        }), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.end());</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">if</span> (reground_me)</div>
<div class="line"><span class="lineno">  201</span>            <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a177afbd10712e5c877192b0ed1fe24e3">m_last_grounding_location</a>.reset();</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">// &#39;Lift&#39; any decendants out of this tree:</span></div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; child : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">  207</span>        <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (child-&gt;<a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9cf8bbd8df3a0c998060e690bd854b7e">realign</a>(outlines, outline_locator, rerooted_parts)) {</div>
<div class="line"><span class="lineno">  208</span>            child-&gt;m_last_grounding_location = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>;</div>
<div class="line"><span class="lineno">  209</span>            child-&gt;m_parent.reset();</div>
<div class="line"><span class="lineno">  210</span>            child-&gt;m_is_root = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  211</span>            rerooted_parts.push_back(child);</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.clear();</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  216</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a9cf8bbd8df3a0c998060e690bd854b7e"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9cf8bbd8df3a0c998060e690bd854b7e">Slic3r::FillLightning::Node::realign</a></div><div class="ttdeci">bool realign(const Polygons &amp;outlines, const EdgeGrid::Grid &amp;outline_locator, std::vector&lt; NodeSPtr &gt; &amp;rerooted_parts)</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:178</div></div>
<div class="ttc" id="anamespace_slic3r_html_acfc9a09a09ef564e917364aebae46df0"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#acfc9a09a09ef564e917364aebae46df0">Slic3r::contains</a></div><div class="ttdeci">bool contains(const ContainerType &amp;c, const ValueType &amp;v)</div><div class="ttdef"><b>Definition</b> libslic3r.h:247</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00247">Slic3r::contains()</a>, <a class="el" href="../../#l00268">m_children</a>, <a class="el" href="../../#l00270">m_last_grounding_location</a>, and <a class="el" href="../../#l00266">m_p</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a9cf8bbd8df3a0c998060e690bd854b7e_cgraph.svg" width="302" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abda6853021f7a870f7bc81fe0c69bec4" name="abda6853021f7a870f7bc81fe0c69bec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda6853021f7a870f7bc81fe0c69bec4">&#9670;&#160;</a></span>removeJunctionOverlap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::removeJunctionOverlap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;&#160;</td>
          <td class="paramname"><em>polylines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>line_overlap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  368</span>{</div>
<div class="line"><span class="lineno">  369</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> reduction    = line_overlap;</div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordtype">size_t</span>        res_line_idx = 0;</div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">while</span> (res_line_idx &lt; result_lines.size()) {</div>
<div class="line"><span class="lineno">  372</span>        Polyline &amp;polyline = result_lines[res_line_idx];</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">if</span> (polyline.size() &lt;= 1) {</div>
<div class="line"><span class="lineno">  374</span>            polyline = std::move(result_lines.back());</div>
<div class="line"><span class="lineno">  375</span>            result_lines.pop_back();</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  377</span>        }</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> to_be_reduced = reduction;</div>
<div class="line"><span class="lineno">  380</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = polyline.back();</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> point_idx = <span class="keywordtype">int</span>(polyline.size()) - 2; point_idx &gt;= 0; point_idx--) {</div>
<div class="line"><span class="lineno">  382</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = polyline.points[point_idx];</div>
<div class="line"><span class="lineno">  383</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno">  384</span>            <span class="keyword">const</span> <span class="keyword">auto</span> ab_len = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<span class="keywordtype">double</span>&gt;().norm());</div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordflow">if</span> (ab_len &gt;= to_be_reduced) {</div>
<div class="line"><span class="lineno">  386</span>                polyline.points.back() = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> + (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<span class="keywordtype">double</span>&gt;() * (<span class="keywordtype">double</span>(to_be_reduced) / ab_len)).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  388</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  389</span>                to_be_reduced -= ab_len;</div>
<div class="line"><span class="lineno">  390</span>                polyline.points.pop_back();</div>
<div class="line"><span class="lineno">  391</span>            }</div>
<div class="line"><span class="lineno">  392</span>            <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>;</div>
<div class="line"><span class="lineno">  393</span>        }</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">if</span> (polyline.size() &lt;= 1) {</div>
<div class="line"><span class="lineno">  396</span>            polyline = std::move(result_lines.back());</div>
<div class="line"><span class="lineno">  397</span>            result_lines.pop_back();</div>
<div class="line"><span class="lineno">  398</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  399</span>            ++ res_line_idx;</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span>}</div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">marchsq::__impl::SquareTag::ab</a></div><div class="ttdeci">@ ab</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00037">Slic3r::MultiPoint::back()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, and <a class="el" href="../../#l00039">Slic3r::MultiPoint::size()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_abda6853021f7a870f7bc81fe0c69bec4_cgraph.svg" width="384" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab079bea2e849337855e5ad4e887224a4" name="ab079bea2e849337855e5ad4e887224a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab079bea2e849337855e5ad4e887224a4">&#9670;&#160;</a></span>reroot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::reroot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>new_parent</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reverse the parent-child relationship all the way to the root, from this node onward. This has the effect of 're-rooting' the tree at the current node if no immediate parent is given as argument. That is, the current node will become the root, it's (former) parent if any, will become one of it's children. This is then recursively bubbled up until it reaches the (former) root, which then will become a leaf. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_parent</td><td>The (new) parent-node of the root, useful for recursing or immediately attaching the node to another tree. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a>) {</div>
<div class="line"><span class="lineno">  112</span>        <span class="keyword">auto</span> old_parent = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a>.lock();</div>
<div class="line"><span class="lineno">  113</span>        old_parent-&gt;reroot(shared_from_this());</div>
<div class="line"><span class="lineno">  114</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.push_back(old_parent);</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">if</span> (new_parent) {</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.erase(std::remove(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.begin(), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.end(), new_parent), <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.end());</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  120</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a> = new_parent;</div>
<div class="line"><span class="lineno">  121</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  123</span>        <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a>.reset();</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_a4ecaf0075cfece6d6edc096894c14871"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">Slic3r::FillLightning::Node::m_parent</a></div><div class="ttdeci">std::weak_ptr&lt; Node &gt; m_parent</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:267</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>, <a class="el" href="../../#l00265">m_is_root</a>, and <a class="el" href="../../#l00267">m_parent</a>.</p>

</div>
</div>
<a id="a215bc2c9166776b177cd9584b9d6d8be" name="a215bc2c9166776b177cd9584b9d6d8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a215bc2c9166776b177cd9584b9d6d8be">&#9670;&#160;</a></span>setLocation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::setLocation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Change the position on this layer that the node represents. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The position that the node needs to represent. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{ <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> = p; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00266">m_p</a>.</p>

</div>
</div>
<a id="a4fdbea1bc722e3eb31e6e30261ac3a99" name="a4fdbea1bc722e3eb31e6e30261ac3a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fdbea1bc722e3eb31e6e30261ac3a99">&#9670;&#160;</a></span>straighten() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#dc/d00/struct_slic3r_1_1_fill_lightning_1_1_node_1_1_rectilinear_junction">Node::RectilinearJunction</a> Slic3r::FillLightning::Node::straighten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>magnitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>junction_above</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>accumulated_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&#160;</td>
          <td class="paramname"><em>max_remove_colinear_dist2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Recursive part of <a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#aeaff3fb74df306a79841fe1a16598133">straighten</a>(.) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">junction_above</td><td>The last seen junction with multiple children above </td></tr>
    <tr><td class="paramname">accumulated_dist</td><td>The distance along the tree from the last seen junction to this node </td></tr>
    <tr><td class="paramname">max_remove_colinear_dist2</td><td>Maximum distance <em>squared</em> of the (compound) line-segment from which a co-linear point may be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total distance along the tree from the last junction above to the first next junction below and the location of the next junction below </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  228</span>{</div>
<div class="line"><span class="lineno">  229</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> junction_magnitude_factor_numerator = 3;</div>
<div class="line"><span class="lineno">  230</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> junction_magnitude_factor_denominator = 4;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> junction_magnitude = magnitude * junction_magnitude_factor_numerator / junction_magnitude_factor_denominator;</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.size() == 1)</div>
<div class="line"><span class="lineno">  234</span>    {</div>
<div class="line"><span class="lineno">  235</span>        <span class="keyword">auto</span> child_p = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.front();</div>
<div class="line"><span class="lineno">  236</span>        <span class="keyword">auto</span> child_dist = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> - child_p-&gt;m_p).cast&lt;<span class="keywordtype">double</span>&gt;().norm());</div>
<div class="line"><span class="lineno">  237</span>        RectilinearJunction junction_below = child_p-&gt;straighten(magnitude, junction_above, accumulated_dist + child_dist, max_remove_colinear_dist2);</div>
<div class="line"><span class="lineno">  238</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> total_dist_to_junction_below = junction_below.total_recti_dist;</div>
<div class="line"><span class="lineno">  239</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>&amp; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = junction_above;</div>
<div class="line"><span class="lineno">  240</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = junction_below.junction_loc;</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> (a != b) <span class="comment">// should always be true!</span></div>
<div class="line"><span class="lineno">  242</span>        {</div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno">  244</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> destination = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(accumulated_dist) / std::max(<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(1), <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(total_dist_to_junction_below))).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">if</span> ((destination - <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().squaredNorm() &lt;= <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(magnitude) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(magnitude))</div>
<div class="line"><span class="lineno">  246</span>                <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> = destination;</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  248</span>                <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> += ((destination - <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>).cast&lt;double&gt;().normalized() * magnitude).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  249</span>        }</div>
<div class="line"><span class="lineno">  250</span>        { <span class="comment">// remove nodes on linear segments</span></div>
<div class="line"><span class="lineno">  251</span>            <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> close_enough = 10;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>            child_p = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.front(); <span class="comment">//recursive call to straighten might have removed the child</span></div>
<div class="line"><span class="lineno">  254</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&amp; parent_node = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a>.lock();</div>
<div class="line"><span class="lineno">  255</span>            <span class="keywordflow">if</span> (parent_node &amp;&amp;</div>
<div class="line"><span class="lineno">  256</span>                (child_p-&gt;m_p - parent_node-&gt;m_p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().squaredNorm() &lt; max_remove_colinear_dist2 &amp;&amp;</div>
<div class="line"><span class="lineno">  257</span>                <a class="code hl_function" href="../../d6/d3b/class_slic3r_1_1_line.html#a82d50986d5a325648e62c24fa24557b0">Line::distance_to_squared</a>(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>, parent_node-&gt;m_p, child_p-&gt;m_p) &lt; close_enough * close_enough) {</div>
<div class="line"><span class="lineno">  258</span>                child_p-&gt;m_parent = <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a4ecaf0075cfece6d6edc096894c14871">m_parent</a>;</div>
<div class="line"><span class="lineno">  259</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; sibling : parent_node-&gt;<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">  260</span>                { <span class="comment">// find this node among siblings</span></div>
<div class="line"><span class="lineno">  261</span>                    <span class="keywordflow">if</span> (sibling == shared_from_this())</div>
<div class="line"><span class="lineno">  262</span>                    {</div>
<div class="line"><span class="lineno">  263</span>                        sibling = child_p; <span class="comment">// replace this node by child</span></div>
<div class="line"><span class="lineno">  264</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  265</span>                    }</div>
<div class="line"><span class="lineno">  266</span>                }</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>        }</div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">return</span> junction_below;</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  272</span>    {</div>
<div class="line"><span class="lineno">  273</span>        <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> weight = 1000;</div>
<div class="line"><span class="lineno">  274</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> junction_moving_dir = ((junction_above - <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>).cast&lt;double&gt;().normalized() * weight).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordtype">bool</span> prevent_junction_moving = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; child_p : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">  277</span>        {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keyword">const</span> <span class="keyword">auto</span> child_dist = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> - child_p-&gt;m_p).cast&lt;<span class="keywordtype">double</span>&gt;().norm());</div>
<div class="line"><span class="lineno">  279</span>            RectilinearJunction below = child_p-&gt;straighten(magnitude, <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>, child_dist, max_remove_colinear_dist2);</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>            junction_moving_dir += ((below.junction_loc - <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>).cast&lt;double&gt;().normalized() * weight).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">if</span> (below.total_recti_dist &lt; magnitude) <span class="comment">// TODO: make configurable?</span></div>
<div class="line"><span class="lineno">  283</span>            {</div>
<div class="line"><span class="lineno">  284</span>                prevent_junction_moving = <span class="keyword">true</span>; <span class="comment">// prevent flipflopping in branches due to straightening and junctoin moving clashing</span></div>
<div class="line"><span class="lineno">  285</span>            }</div>
<div class="line"><span class="lineno">  286</span>        }</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span> (junction_moving_dir != <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(0, 0) &amp;&amp; ! <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>.empty() &amp;&amp; ! <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a9f473ea9a8ad420ee610c18f70f206fc">m_is_root</a> &amp;&amp; ! prevent_junction_moving)</div>
<div class="line"><span class="lineno">  288</span>        {</div>
<div class="line"><span class="lineno">  289</span>            <span class="keyword">auto</span> junction_moving_dir_len = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(junction_moving_dir.norm());</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">if</span> (junction_moving_dir_len &gt; junction_magnitude)</div>
<div class="line"><span class="lineno">  291</span>            {</div>
<div class="line"><span class="lineno">  292</span>                junction_moving_dir = junction_moving_dir * junction_magnitude / junction_moving_dir_len;</div>
<div class="line"><span class="lineno">  293</span>            }</div>
<div class="line"><span class="lineno">  294</span>            <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> += junction_moving_dir;</div>
<div class="line"><span class="lineno">  295</span>        }</div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">return</span> RectilinearJunction{ accumulated_dist, <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a> };</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_line_html_a82d50986d5a325648e62c24fa24557b0"><div class="ttname"><a href="../../d6/d3b/class_slic3r_1_1_line.html#a82d50986d5a325648e62c24fa24557b0">Slic3r::Line::distance_to_squared</a></div><div class="ttdeci">double distance_to_squared(const Point &amp;point) const</div><div class="ttdef"><b>Definition</b> Line.hpp:169</div></div>
<div class="ttc" id="aunistd_8h_html_a67a9885ef4908cb72ce26d75b694386c"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a></div><div class="ttdeci">__int64 int64_t</div><div class="ttdef"><b>Definition</b> unistd.h:76</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00169">Slic3r::Line::distance_to_squared()</a>, <a class="el" href="../../#l00208">Slic3r::FillLightning::Node::RectilinearJunction::junction_loc</a>, and <a class="el" href="../../#l00207">Slic3r::FillLightning::Node::RectilinearJunction::total_recti_dist</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node_a4fdbea1bc722e3eb31e6e30261ac3a99_cgraph.svg" width="334" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aeaff3fb74df306a79841fe1a16598133" name="aeaff3fb74df306a79841fe1a16598133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaff3fb74df306a79841fe1a16598133">&#9670;&#160;</a></span>straighten() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::straighten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>magnitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_remove_colinear_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Smoothen the tree to make it a bit more printable, while still supporting the trees above. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">magnitude</td><td>The maximum allowed distance to move the node. </td></tr>
    <tr><td class="paramname">max_remove_colinear_dist</td><td>Maximum distance of the (compound) line-segment from which a co-linear point may be removed. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  219</span>{</div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_function" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#aeaff3fb74df306a79841fe1a16598133">straighten</a>(magnitude, <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>, 0, <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(max_remove_colinear_dist) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(max_remove_colinear_dist));</div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_aeaff3fb74df306a79841fe1a16598133"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#aeaff3fb74df306a79841fe1a16598133">Slic3r::FillLightning::Node::straighten</a></div><div class="ttdeci">void straighten(coord_t magnitude, coord_t max_remove_colinear_dist)</div><div class="ttdef"><b>Definition</b> TreeNode.cpp:218</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83b0b69dcbc4e961bcb257c6bd8f5f29" name="a83b0b69dcbc4e961bcb257c6bd8f5f29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b0b69dcbc4e961bcb257c6bd8f5f29">&#9670;&#160;</a></span>visitBranches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::visitBranches </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>visitor</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes a given function for every line segment in this node's sub-tree.</p>
<p>The function takes two <code><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a></code> arguments. These arguments will be filled in with the higher-order node (closer to the root) first, and the downtree node (closer to the leaves) as the second argument. The segment from this node's parent to this node itself is not included. The order in which the segments are visited is depth-first. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">visitor</td><td>A function to execute for every branch in the node's sub- tree. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; node : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>) {</div>
<div class="line"><span class="lineno">   71</span>        assert(node-&gt;m_parent.lock() == shared_from_this());</div>
<div class="line"><span class="lineno">   72</span>        visitor(<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a37629a1af49386eeba4945e9cbd5e4ec">m_p</a>, node-&gt;m_p);</div>
<div class="line"><span class="lineno">   73</span>        node-&gt;visitBranches(visitor);</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>, and <a class="el" href="../../#l00266">m_p</a>.</p>

</div>
</div>
<a id="a480eccefe6675b611969d17e3dfed2a2" name="a480eccefe6675b611969d17e3dfed2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480eccefe6675b611969d17e3dfed2a2">&#9670;&#160;</a></span>visitNodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::Node::visitNodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>)&gt; &amp;&#160;</td>
          <td class="paramname"><em>visitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute a given function for every node in this node's sub-tree.</p>
<p>The visitor function takes a node as input. This node is not const, so this can be used to change the tree. Nodes are visited in depth-first order. This node itself is visited as well (pre-order). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">visitor</td><td>A function to execute for every node in this node's sub- tree. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{</div>
<div class="line"><span class="lineno">   80</span>    visitor(shared_from_this());</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; node : <a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>) {</div>
<div class="line"><span class="lineno">   82</span>        assert(node-&gt;m_parent.lock() == shared_from_this());</div>
<div class="line"><span class="lineno">   83</span>        node-&gt;visitNodes(visitor);</div>
<div class="line"><span class="lineno">   84</span>    }</div>
<div class="line"><span class="lineno">   85</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00268">m_children</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="ae775737665df7faec2b24f66d9982362" name="ae775737665df7faec2b24f66d9982362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae775737665df7faec2b24f66d9982362">&#9670;&#160;</a></span>get_extents <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> get_extents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>root_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  285</span>{</div>
<div class="line"><span class="lineno">  286</span>    BoundingBox bbox;</div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;children : root_node-&gt;<a class="code hl_variable" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#a6b9eb70c21471c064fa4fcd976f10927">m_children</a>)</div>
<div class="line"><span class="lineno">  288</span>        bbox.<a class="code hl_function" href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">merge</a>(<a class="code hl_friend" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ae775737665df7faec2b24f66d9982362">get_extents</a>(children));</div>
<div class="line"><span class="lineno">  289</span>    bbox.merge(root_node-&gt;getLocation());</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">return</span> bbox;</div>
<div class="line"><span class="lineno">  291</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_node_html_ae775737665df7faec2b24f66d9982362"><div class="ttname"><a href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ae775737665df7faec2b24f66d9982362">Slic3r::FillLightning::Node::get_extents</a></div><div class="ttdeci">friend BoundingBox get_extents(const NodeSPtr &amp;root_node)</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:284</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1nfp_html_a1557d47a1a466a42f34906efe9f4bc07"><div class="ttname"><a href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">libnest2d::nfp::merge</a></div><div class="ttdeci">TMultiShape&lt; PolygonImpl &gt; merge(const TMultiShape&lt; PolygonImpl &gt; &amp;shapes)</div><div class="ttdef"><b>Definition</b> geometries.hpp:259</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23aa39c84e700e456f6d3aa823bcf958" name="a23aa39c84e700e456f6d3aa823bcf958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23aa39c84e700e456f6d3aa823bcf958">&#9670;&#160;</a></span>get_extents <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> get_extents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tree_roots</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  294</span>{</div>
<div class="line"><span class="lineno">  295</span>    BoundingBox bbox;</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a> &amp;root_node : tree_roots)</div>
<div class="line"><span class="lineno">  297</span>        bbox.<a class="code hl_function" href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">merge</a>(<a class="code hl_friend" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html#ae775737665df7faec2b24f66d9982362">get_extents</a>(root_node));</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">return</span> bbox;</div>
<div class="line"><span class="lineno">  299</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6b9eb70c21471c064fa4fcd976f10927" name="a6b9eb70c21471c064fa4fcd976f10927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b9eb70c21471c064fa4fcd976f10927">&#9670;&#160;</a></span>m_children</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#aa65aa86cb9666888bb13475678f4f7b9">NodeSPtr</a>&gt; Slic3r::FillLightning::Node::m_children</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00041">addChild()</a>, <a class="el" href="../../#l00127">closestNode()</a>, <a class="el" href="../../#l00091">deepCopy()</a>, <a class="el" href="../../#l00010">getWeightedDistance()</a>, <a class="el" href="../../#l00022">hasOffspring()</a>, <a class="el" href="../../#l00178">realign()</a>, <a class="el" href="../../#l00109">reroot()</a>, <a class="el" href="../../#l00068">visitBranches()</a>, and <a class="el" href="../../#l00078">visitNodes()</a>.</p>

</div>
</div>
<a id="a9f473ea9a8ad420ee610c18f70f206fc" name="a9f473ea9a8ad420ee610c18f70f206fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f473ea9a8ad420ee610c18f70f206fc">&#9670;&#160;</a></span>m_is_root</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::FillLightning::Node::m_is_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00091">deepCopy()</a>, <a class="el" href="../../#l00010">getWeightedDistance()</a>, <a class="el" href="../../#l00153">isRoot()</a>, and <a class="el" href="../../#l00109">reroot()</a>.</p>

</div>
</div>
<a id="a177afbd10712e5c877192b0ed1fe24e3" name="a177afbd10712e5c877192b0ed1fe24e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177afbd10712e5c877192b0ed1fe24e3">&#9670;&#160;</a></span>m_last_grounding_location</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&gt; Slic3r::FillLightning::Node::m_last_grounding_location</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00091">deepCopy()</a>, <a class="el" href="../../#l00248">getLastGroundingLocation()</a>, and <a class="el" href="../../#l00178">realign()</a>.</p>

</div>
</div>
<a id="a37629a1af49386eeba4945e9cbd5e4ec" name="a37629a1af49386eeba4945e9cbd5e4ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37629a1af49386eeba4945e9cbd5e4ec">&#9670;&#160;</a></span>m_p</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> Slic3r::FillLightning::Node::m_p</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00034">addChild()</a>, <a class="el" href="../../#l00127">closestNode()</a>, <a class="el" href="../../#l00091">deepCopy()</a>, <a class="el" href="../../#l00059">getLocation()</a>, <a class="el" href="../../#l00178">realign()</a>, <a class="el" href="../../#l00065">setLocation()</a>, and <a class="el" href="../../#l00068">visitBranches()</a>.</p>

</div>
</div>
<a id="a4ecaf0075cfece6d6edc096894c14871" name="a4ecaf0075cfece6d6edc096894c14871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ecaf0075cfece6d6edc096894c14871">&#9670;&#160;</a></span>m_parent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::weak_ptr&lt;<a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html">Node</a>&gt; Slic3r::FillLightning::Node::m_parent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00109">reroot()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">TreeNode.hpp</a></li>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">TreeNode.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html">FillLightning</a></li><li class="navelem"><a class="el" href="../../da/dc5/class_slic3r_1_1_fill_lightning_1_1_node.html">Node</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
