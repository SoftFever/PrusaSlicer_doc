<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::UndoRedo::StackImpl Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dc/db4/class_slic3r_1_1_undo_redo_1_1_stack_impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::UndoRedo::StackImpl Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::UndoRedo::StackImpl:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dd3/class_slic3r_1_1_undo_redo_1_1_stack_impl__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae33da50a61f12f01b8cf9a92f0134673"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ae33da50a61f12f01b8cf9a92f0134673">StackImpl</a> ()</td></tr>
<tr class="separator:ae33da50a61f12f01b8cf9a92f0134673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cea43abc71fff94f2268a5aa3af654e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7cea43abc71fff94f2268a5aa3af654e">clear</a> ()</td></tr>
<tr class="separator:a7cea43abc71fff94f2268a5aa3af654e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1048d4c2d97286572e46f1e596472dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1048d4c2d97286572e46f1e596472dc">empty</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:af1048d4c2d97286572e46f1e596472dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73a40706f58d6c5e08465b22e2f0ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ae73a40706f58d6c5e08465b22e2f0ada">set_memory_limit</a> (size_t <a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a>)</td></tr>
<tr class="separator:ae73a40706f58d6c5e08465b22e2f0ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad375657fd601bc6d5642743eef3aae35"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad375657fd601bc6d5642743eef3aae35">get_memory_limit</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad375657fd601bc6d5642743eef3aae35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70746bc015c3d389c4a2b091ce7f90b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ac70746bc015c3d389c4a2b091ce7f90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22555576b49aa009c051b48fddd51a6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a22555576b49aa009c051b48fddd51a6a">take_snapshot</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::string &amp;snapshot_name, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;model, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html">Slic3r::GUI::Selection</a> &amp;selection, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;gizmos, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d7c/struct_slic3r_1_1_undo_redo_1_1_snapshot_data.html">SnapshotData</a> &amp;snapshot_data)</td></tr>
<tr class="separator:a22555576b49aa009c051b48fddd51a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cd4d6c97ad6f86a25556df3c35281c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a62cd4d6c97ad6f86a25556df3c35281c">reduce_noisy_snapshots</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::string &amp;new_name)</td></tr>
<tr class="separator:a62cd4d6c97ad6f86a25556df3c35281c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7990a700b6a68eb51e68829899c1b712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7990a700b6a68eb51e68829899c1b712">load_snapshot</a> (size_t timestamp, <a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;model, <a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;gizmos)</td></tr>
<tr class="separator:a7990a700b6a68eb51e68829899c1b712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7c4afd9fae35c11e3f897706610722"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7f7c4afd9fae35c11e3f897706610722">has_undo_snapshot</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a7f7c4afd9fae35c11e3f897706610722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53199cc1665a3d01eab4b5a27dcb8fdd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a53199cc1665a3d01eab4b5a27dcb8fdd">has_undo_snapshot</a> (size_t time_to_load) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a53199cc1665a3d01eab4b5a27dcb8fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c3dd010c1e95e03d2c9521e93b190f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ae0c3dd010c1e95e03d2c9521e93b190f">has_redo_snapshot</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ae0c3dd010c1e95e03d2c9521e93b190f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec151dbd85323076dddb0587e788ae71"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aec151dbd85323076dddb0587e788ae71">undo</a> (<a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;model, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html">Slic3r::GUI::Selection</a> &amp;selection, <a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;gizmos, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d7c/struct_slic3r_1_1_undo_redo_1_1_snapshot_data.html">SnapshotData</a> &amp;snapshot_data, size_t jump_to_time)</td></tr>
<tr class="separator:aec151dbd85323076dddb0587e788ae71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65f0bd3ed412954902efffe5b05abc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad65f0bd3ed412954902efffe5b05abc1">redo</a> (<a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;model, <a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;gizmos, size_t jump_to_time)</td></tr>
<tr class="separator:ad65f0bd3ed412954902efffe5b05abc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cef179958e3b77a815d05904e2eb52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ae3cef179958e3b77a815d05904e2eb52">release_least_recently_used</a> ()</td></tr>
<tr class="separator:ae3cef179958e3b77a815d05904e2eb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f0fe08f3a5ebad400bc65cf40fa5f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac2f0fe08f3a5ebad400bc65cf40fa5f5">snapshots</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ac2f0fe08f3a5ebad400bc65cf40fa5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2340207571a366069ab21cb60b698a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afb2340207571a366069ab21cb60b698a">snapshot</a> (size_t time) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:afb2340207571a366069ab21cb60b698a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b701e41471d936dab339185a2b6531"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a74b701e41471d936dab339185a2b6531">active_snapshot_time</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a74b701e41471d936dab339185a2b6531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c149593c5ae38ab078b704ab57eae6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af5c149593c5ae38ab078b704ab57eae6">temp_snapshot_active</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:af5c149593c5ae38ab078b704ab57eae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3f90cf1766396fce82af2ae7090e93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a0f3f90cf1766396fce82af2ae7090e93">mark_current_as_saved</a> ()</td></tr>
<tr class="separator:a0f3f90cf1766396fce82af2ae7090e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f85482435eab8d960f7126eced6ba01"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a0f85482435eab8d960f7126eced6ba01">project_modified</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a0f85482435eab8d960f7126eced6ba01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157b0ece7be1a9485f59f87db4013efe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html">Selection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a157b0ece7be1a9485f59f87db4013efe">selection_deserialized</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a157b0ece7be1a9485f59f87db4013efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25df34e256567e6a08f1ea921dcfc90"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aa25df34e256567e6a08f1ea921dcfc90"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa25df34e256567e6a08f1ea921dcfc90">save_mutable_object</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &amp;object)</td></tr>
<tr class="separator:aa25df34e256567e6a08f1ea921dcfc90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b0640650eb26744fd28160edbb8f6e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a44b0640650eb26744fd28160edbb8f6e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a44b0640650eb26744fd28160edbb8f6e">save_immutable_object</a> (std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt; &amp;object, bool optional)</td></tr>
<tr class="separator:a44b0640650eb26744fd28160edbb8f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16dd4add9a58e8475f0acd3bf7b30959"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a16dd4add9a58e8475f0acd3bf7b30959"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a16dd4add9a58e8475f0acd3bf7b30959">load_mutable_object</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a> id)</td></tr>
<tr class="separator:a16dd4add9a58e8475f0acd3bf7b30959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864c3585bb0271bbe576efe673137095"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a864c3585bb0271bbe576efe673137095"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a864c3585bb0271bbe576efe673137095">load_immutable_object</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a> id, bool optional)</td></tr>
<tr class="separator:a864c3585bb0271bbe576efe673137095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfce32038fc8dbb9922087e62c0980a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a9cfce32038fc8dbb9922087e62c0980a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a9cfce32038fc8dbb9922087e62c0980a">load_mutable_object</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a> id, T &amp;target)</td></tr>
<tr class="separator:a9cfce32038fc8dbb9922087e62c0980a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fa9b704c066accdca8c3a4b5859e6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:af1fa9b704c066accdca8c3a4b5859e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a86da69e13ba03ee1915827c3e52711cc"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a86da69e13ba03ee1915827c3e52711cc"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a86da69e13ba03ee1915827c3e52711cc">immutable_object_id</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt; &amp;ptr)</td></tr>
<tr class="separator:a86da69e13ba03ee1915827c3e52711cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624a4444000293af15479e048a29ed75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a624a4444000293af15479e048a29ed75">immutable_object_id_impl</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> *ptr)</td></tr>
<tr class="separator:a624a4444000293af15479e048a29ed75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7682a062e7d4741285da47d272c2b85d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7682a062e7d4741285da47d272c2b85d">collect_garbage</a> ()</td></tr>
<tr class="separator:a7682a062e7d4741285da47d272c2b85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26e38c440f460639ce4c83f5153fe39"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ab26e38c440f460639ce4c83f5153fe39">release_snapshots</a> (std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator begin, std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator end)</td></tr>
<tr class="separator:ab26e38c440f460639ce4c83f5153fe39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a56c0e4a6bc44913050d18a46193bc67f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a></td></tr>
<tr class="separator:a56c0e4a6bc44913050d18a46193bc67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe83235c9e5c343a03f5245e3a38ac30"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>, std::unique_ptr&lt; <a class="el" href="../../de/d3b/class_slic3r_1_1_undo_redo_1_1_object_history_base.html">ObjectHistoryBase</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a></td></tr>
<tr class="separator:abe83235c9e5c343a03f5245e3a38ac30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23549b76d77bbbf174a179646374ddf"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> *, <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a></td></tr>
<tr class="separator:aa23549b76d77bbbf174a179646374ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b2733dc59d512cb6836ae76c717dcc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a></td></tr>
<tr class="separator:a46b2733dc59d512cb6836ae76c717dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e046525014787bbf49fbf51fc5b998"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a></td></tr>
<tr class="separator:ad1e046525014787bbf49fbf51fc5b998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8f726ea44f9806612a8a860b85e133"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> { size_t(-1) }</td></tr>
<tr class="separator:afd8f726ea44f9806612a8a860b85e133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb817283c1a129a4476e5f1c4b8896fe"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a></td></tr>
<tr class="separator:aeb817283c1a129a4476e5f1c4b8896fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e69d9fb94596ffd8172e7b7c2bdb4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html">Selection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a></td></tr>
<tr class="separator:aa5e69d9fb94596ffd8172e7b7c2bdb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae33da50a61f12f01b8cf9a92f0134673" name="ae33da50a61f12f01b8cf9a92f0134673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae33da50a61f12f01b8cf9a92f0134673">&#9670;&#160;</a></span>StackImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::UndoRedo::StackImpl::StackImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  551</span>: <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a>(std::min(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aaa84311cee16662fe29c072dc3d4add4">Slic3r::total_physical_memory</a>() / 10, <span class="keywordtype">size_t</span>(1 * 16384 * 65536 / <a class="code hl_define" href="../../d2/d55/_undo_redo_8cpp.html#a0fc3fddc5d2021fe0a73f79e6bc030da">UNDO_REDO_DEBUG_LOW_MEM_FACTOR</a>))), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>(0), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>(0) {}</div>
<div class="ttc" id="a_undo_redo_8cpp_html_a0fc3fddc5d2021fe0a73f79e6bc030da"><div class="ttname"><a href="../../d2/d55/_undo_redo_8cpp.html#a0fc3fddc5d2021fe0a73f79e6bc030da">UNDO_REDO_DEBUG_LOW_MEM_FACTOR</a></div><div class="ttdeci">#define UNDO_REDO_DEBUG_LOW_MEM_FACTOR</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:35</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a56c0e4a6bc44913050d18a46193bc67f"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">Slic3r::UndoRedo::StackImpl::m_memory_limit</a></div><div class="ttdeci">size_t m_memory_limit</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:675</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_ad1e046525014787bbf49fbf51fc5b998"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">Slic3r::UndoRedo::StackImpl::m_active_snapshot_time</a></div><div class="ttdeci">size_t m_active_snapshot_time</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:684</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_aeb817283c1a129a4476e5f1c4b8896fe"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">Slic3r::UndoRedo::StackImpl::m_current_time</a></div><div class="ttdeci">size_t m_current_time</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:689</div></div>
<div class="ttc" id="anamespace_slic3r_html_aaa84311cee16662fe29c072dc3d4add4"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aaa84311cee16662fe29c072dc3d4add4">Slic3r::total_physical_memory</a></div><div class="ttdeci">size_t total_physical_memory()</div><div class="ttdef"><b>Definition</b> utils.cpp:1143</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a74b701e41471d936dab339185a2b6531" name="a74b701e41471d936dab339185a2b6531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b701e41471d936dab339185a2b6531">&#9670;&#160;</a></span>active_snapshot_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::active_snapshot_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  600</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>.</p>

</div>
</div>
<a id="a7cea43abc71fff94f2268a5aa3af654e" name="a7cea43abc71fff94f2268a5aa3af654e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cea43abc71fff94f2268a5aa3af654e">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  553</span>               {</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.clear();</div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.clear();</div>
<div class="line"><span class="lineno">  556</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.clear();</div>
<div class="line"><span class="lineno">  557</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> = 0;</div>
<div class="line"><span class="lineno">  558</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a> = 0;</div>
<div class="line"><span class="lineno">  559</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = size_t(-1);</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_function" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#ac9ed959266329aaacb4a5853270b7785">clear</a>();</div>
<div class="line"><span class="lineno">  561</span>  }</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a46b2733dc59d512cb6836ae76c717dcc"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">Slic3r::UndoRedo::StackImpl::m_snapshots</a></div><div class="ttdeci">std::vector&lt; Snapshot &gt; m_snapshots</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:682</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_aa23549b76d77bbbf174a179646374ddf"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">Slic3r::UndoRedo::StackImpl::m_shared_ptr_to_object_id</a></div><div class="ttdeci">std::map&lt; const void *, ObjectID &gt; m_shared_ptr_to_object_id</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:680</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_aa5e69d9fb94596ffd8172e7b7c2bdb4b"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">Slic3r::UndoRedo::StackImpl::m_selection</a></div><div class="ttdeci">Selection m_selection</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:691</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_abe83235c9e5c343a03f5245e3a38ac30"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">Slic3r::UndoRedo::StackImpl::m_objects</a></div><div class="ttdeci">std::map&lt; ObjectID, std::unique_ptr&lt; ObjectHistoryBase &gt; &gt; m_objects</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:679</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_afd8f726ea44f9806612a8a860b85e133"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">Slic3r::UndoRedo::StackImpl::m_saved_snapshot_time</a></div><div class="ttdeci">size_t m_saved_snapshot_time</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:687</div></div>
<div class="ttc" id="astruct_slic3r_1_1_undo_redo_1_1_selection_html_ac9ed959266329aaacb4a5853270b7785"><div class="ttname"><a href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#ac9ed959266329aaacb4a5853270b7785">Slic3r::UndoRedo::Selection::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition</b> UndoRedo.hpp:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00092">Slic3r::UndoRedo::Selection::clear()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00689">m_current_time</a>, <a class="el" href="../../#l00679">m_objects</a>, <a class="el" href="../../#l00687">m_saved_snapshot_time</a>, <a class="el" href="../../#l00691">m_selection</a>, <a class="el" href="../../#l00680">m_shared_ptr_to_object_id</a>, and <a class="el" href="../../#l00682">m_snapshots</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a7cea43abc71fff94f2268a5aa3af654e_cgraph.svg" width="436" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7682a062e7d4741285da47d272c2b85d" name="a7682a062e7d4741285da47d272c2b85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7682a062e7d4741285da47d272c2b85d">&#9670;&#160;</a></span>collect_garbage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::collect_garbage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1107</span>{</div>
<div class="line"><span class="lineno"> 1108</span>  <span class="comment">// Purge objects with empty histories.</span></div>
<div class="line"><span class="lineno"> 1109</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.begin(); it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end();) {</div>
<div class="line"><span class="lineno"> 1110</span>    <span class="keywordflow">if</span> (it-&gt;second-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 1111</span>      <span class="keywordflow">if</span> (it-&gt;second-&gt;immutable_object_ptr() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 1112</span>        <span class="comment">// Release the immutable object from the ptr to ObjectID map.</span></div>
<div class="line"><span class="lineno"> 1113</span>        <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.erase(it-&gt;second-&gt;immutable_object_ptr());</div>
<div class="line"><span class="lineno"> 1114</span>      it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.erase(it);</div>
<div class="line"><span class="lineno"> 1115</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1116</span>      ++ it;</div>
<div class="line"><span class="lineno"> 1117</span>  }</div>
<div class="line"><span class="lineno"> 1118</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l00680">m_shared_ptr_to_object_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00899">take_snapshot()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a7682a062e7d4741285da47d272c2b85d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af1048d4c2d97286572e46f1e596472dc" name="af1048d4c2d97286572e46f1e596472dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1048d4c2d97286572e46f1e596472dc">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  563</span>                     {</div>
<div class="line"><span class="lineno">  564</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.empty() == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty());</div>
<div class="line"><span class="lineno">  565</span>    assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.empty() || (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a> == 0 &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> == 0));</div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty();</div>
<div class="line"><span class="lineno">  567</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00689">m_current_time</a>, <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l00682">m_snapshots</a>.</p>

</div>
</div>
<a id="ad375657fd601bc6d5642743eef3aae35" name="ad375657fd601bc6d5642743eef3aae35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad375657fd601bc6d5642743eef3aae35">&#9670;&#160;</a></span>get_memory_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::get_memory_limit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  570</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00675">m_memory_limit</a>.</p>

</div>
</div>
<a id="ae0c3dd010c1e95e03d2c9521e93b190f" name="ae0c3dd010c1e95e03d2c9521e93b190f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c3dd010c1e95e03d2c9521e93b190f">&#9670;&#160;</a></span>has_redo_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::has_redo_snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1000</span>{</div>
<div class="line"><span class="lineno"> 1001</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno"> 1002</span>  <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1003</span>  <span class="keywordflow">return</span> ++ it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end();</div>
<div class="line"><span class="lineno"> 1004</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_af1fa9b704c066accdca8c3a4b5859e6e"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">Slic3r::UndoRedo::StackImpl::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:642</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ae0c3dd010c1e95e03d2c9521e93b190f_cgraph.svg" width="442" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7f7c4afd9fae35c11e3f897706610722" name="a7f7c4afd9fae35c11e3f897706610722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f7c4afd9fae35c11e3f897706610722">&#9670;&#160;</a></span>has_undo_snapshot() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::has_undo_snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  988</span>{ </div>
<div class="line"><span class="lineno">  989</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno">  990</span>  <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno">  991</span>  <span class="keywordflow">return</span> -- it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin();</div>
<div class="line"><span class="lineno">  992</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a7f7c4afd9fae35c11e3f897706610722_cgraph.svg" width="442" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a53199cc1665a3d01eab4b5a27dcb8fdd" name="a53199cc1665a3d01eab4b5a27dcb8fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53199cc1665a3d01eab4b5a27dcb8fdd">&#9670;&#160;</a></span>has_undo_snapshot() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::has_undo_snapshot </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>time_to_load</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  995</span>{</div>
<div class="line"><span class="lineno">  996</span>  <span class="keywordflow">return</span> time_to_load &lt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> &amp;&amp; std::binary_search(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(time_to_load));</div>
<div class="line"><span class="lineno">  997</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, and <a class="el" href="../../#l00682">m_snapshots</a>.</p>

</div>
</div>
<a id="a86da69e13ba03ee1915827c3e52711cc" name="a86da69e13ba03ee1915827c3e52711cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86da69e13ba03ee1915827c3e52711cc">&#9670;&#160;</a></span>immutable_object_id()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> Slic3r::UndoRedo::StackImpl::immutable_object_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt; &amp;&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  655</span>                                                                                         { </div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a624a4444000293af15479e048a29ed75">immutable_object_id_impl</a>((<span class="keyword">const</span> <span class="keywordtype">void</span>*)ptr.get());</div>
<div class="line"><span class="lineno">  657</span>  }</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a624a4444000293af15479e048a29ed75"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a624a4444000293af15479e048a29ed75">Slic3r::UndoRedo::StackImpl::immutable_object_id_impl</a></div><div class="ttdeci">ObjectID immutable_object_id_impl(const void *ptr)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:658</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00658">immutable_object_id_impl()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00850">save_immutable_object()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a86da69e13ba03ee1915827c3e52711cc_cgraph.svg" width="638" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a86da69e13ba03ee1915827c3e52711cc_icgraph.svg" width="442" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a624a4444000293af15479e048a29ed75" name="a624a4444000293af15479e048a29ed75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624a4444000293af15479e048a29ed75">&#9670;&#160;</a></span>immutable_object_id_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> Slic3r::UndoRedo::StackImpl::immutable_object_id_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  658</span>                                                                  {</div>
<div class="line"><span class="lineno">  659</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.find(ptr);</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.end()) {</div>
<div class="line"><span class="lineno">  661</span>      <span class="comment">// Allocate a new temporary ObjectID for this shared pointer.</span></div>
<div class="line"><span class="lineno">  662</span>      ObjectBase object_with_id;</div>
<div class="line"><span class="lineno">  663</span>      it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.insert(it, std::make_pair(ptr, object_with_id.id()));</div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><span class="lineno">  666</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00055">Slic3r::ObjectBase::id()</a>, and <a class="el" href="../../#l00680">m_shared_ptr_to_object_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00655">immutable_object_id()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a624a4444000293af15479e048a29ed75_cgraph.svg" width="399" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a624a4444000293af15479e048a29ed75_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a864c3585bb0271bbe576efe673137095" name="a864c3585bb0271bbe576efe673137095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864c3585bb0271bbe576efe673137095">&#9670;&#160;</a></span>load_immutable_object()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt; Slic3r::UndoRedo::StackImpl::load_immutable_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>optional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  873</span>{</div>
<div class="line"><span class="lineno">  874</span>  <span class="comment">// First find a history stack for the ObjectID of this object instance.</span></div>
<div class="line"><span class="lineno">  875</span>  <span class="keyword">auto</span> it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  876</span>  assert(optional || it_object_history != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end());</div>
<div class="line"><span class="lineno">  877</span>  <span class="keywordflow">if</span> (it_object_history == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end())</div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">return</span> std::shared_ptr&lt;const T&gt;();</div>
<div class="line"><span class="lineno">  879</span>  <span class="keyword">auto</span> *object_history = <span class="keyword">static_cast&lt;</span>ImmutableObjectHistory&lt;T&gt;*<span class="keyword">&gt;</span>(it_object_history-&gt;second.get());</div>
<div class="line"><span class="lineno">  880</span>  assert(object_history-&gt;has_snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno">  881</span>  object_history-&gt;restore_optional();</div>
<div class="line"><span class="lineno">  882</span>  <span class="keywordflow">return</span> object_history-&gt;shared_ptr(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  883</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, and <a class="el" href="../../#l00679">m_objects</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00783">cereal::load()</a>, and <a class="el" href="../../#l00790">cereal::load_optional()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a864c3585bb0271bbe576efe673137095_icgraph.svg" width="580" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a16dd4add9a58e8475f0acd3bf7b30959" name="a16dd4add9a58e8475f0acd3bf7b30959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16dd4add9a58e8475f0acd3bf7b30959">&#9670;&#160;</a></span>load_mutable_object() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T * Slic3r::UndoRedo::StackImpl::load_mutable_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  866</span>{</div>
<div class="line"><span class="lineno">  867</span>  T *target = <span class="keyword">new</span> T();</div>
<div class="line"><span class="lineno">  868</span>  this-&gt;load_mutable_object&lt;T&gt;(<span class="keywordtype">id</span>, *target);</div>
<div class="line"><span class="lineno">  869</span>  <span class="keywordflow">return</span> target;</div>
<div class="line"><span class="lineno">  870</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00746">cereal::load()</a>, <a class="el" href="../../#l00729">cereal::load()</a>, and <a class="el" href="../../#l00762">cereal::load_by_value()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a16dd4add9a58e8475f0acd3bf7b30959_icgraph.svg" width="618" height="175"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9cfce32038fc8dbb9922087e62c0980a" name="a9cfce32038fc8dbb9922087e62c0980a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfce32038fc8dbb9922087e62c0980a">&#9670;&#160;</a></span>load_mutable_object() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::load_mutable_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">Slic3r::ObjectID</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  886</span>{</div>
<div class="line"><span class="lineno">  887</span>  <span class="comment">// First find a history stack for the ObjectID of this object instance.</span></div>
<div class="line"><span class="lineno">  888</span>  <span class="keyword">auto</span> it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  889</span>  assert(it_object_history != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end());</div>
<div class="line"><span class="lineno">  890</span>  <span class="keyword">auto</span> *object_history = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>MutableObjectHistory&lt;T&gt;*<span class="keyword">&gt;</span>(it_object_history-&gt;second.get());</div>
<div class="line"><span class="lineno">  891</span>  <span class="comment">// Then get the data associated with the object history and m_active_snapshot_time.</span></div>
<div class="line"><span class="lineno">  892</span>  std::istringstream iss(object_history-&gt;load(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno">  893</span>  <a class="code hl_typedef" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#ade9a285c2f7d72b2a016f7a44e5be146">Slic3r::UndoRedo::InputArchive</a> archive(*<span class="keyword">this</span>, iss);</div>
<div class="line"><span class="lineno">  894</span>  target.m_id = id;</div>
<div class="line"><span class="lineno">  895</span>  archive(target);</div>
<div class="line"><span class="lineno">  896</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_ade9a285c2f7d72b2a016f7a44e5be146"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#ade9a285c2f7d72b2a016f7a44e5be146">Slic3r::UndoRedo::InputArchive</a></div><div class="ttdeci">cereal::UserDataAdapter&lt; StackImpl, cereal::BinaryInputArchive &gt; InputArchive</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:694</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, and <a class="el" href="../../#l00679">m_objects</a>.</p>

</div>
</div>
<a id="a7990a700b6a68eb51e68829899c1b712" name="a7990a700b6a68eb51e68829899c1b712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7990a700b6a68eb51e68829899c1b712">&#9670;&#160;</a></span>load_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::load_snapshot </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;&#160;</td>
          <td class="paramname"><em>gizmos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  966</span>{</div>
<div class="line"><span class="lineno">  967</span>  <span class="comment">// Find the snapshot by time. It must exist.</span></div>
<div class="line"><span class="lineno">  968</span>  <span class="keyword">const</span> <span class="keyword">auto</span> it_snapshot = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(timestamp));</div>
<div class="line"><span class="lineno">  969</span>  <span class="keywordflow">if</span> (it_snapshot == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() || it_snapshot-&gt;timestamp != timestamp)</div>
<div class="line"><span class="lineno">  970</span>    <span class="keywordflow">throw</span> Slic3r::RuntimeError((boost::format(<span class="stringliteral">&quot;Snapshot with timestamp %1% does not exist&quot;</span>) % timestamp).str());</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> = timestamp;</div>
<div class="line"><span class="lineno">  973</span>  model.<a class="code hl_function" href="../../dd/d8d/class_slic3r_1_1_model.html#a7af6d839bd5b3b3c119a179c647adf8b">clear_objects</a>();</div>
<div class="line"><span class="lineno">  974</span>  model.<a class="code hl_function" href="../../dd/d8d/class_slic3r_1_1_model.html#a350aeb2c741edfc617be24b3669421a2">clear_materials</a>();</div>
<div class="line"><span class="lineno">  975</span>  this-&gt;load_mutable_object&lt;Slic3r::Model&gt;(ObjectID(it_snapshot-&gt;model_id), model);</div>
<div class="line"><span class="lineno">  976</span>  model.<a class="code hl_function" href="../../dd/d8d/class_slic3r_1_1_model.html#a7a513a9ddb5d9d18871f34d55c2893ed">update_links_bottom_up_recursive</a>();</div>
<div class="line"><span class="lineno">  977</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">volumes_and_instances</a>.clear();</div>
<div class="line"><span class="lineno">  978</span>  this-&gt;load_mutable_object&lt;Selection&gt;(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_function" href="../../d9/d98/class_slic3r_1_1_object_base.html#afd34129dc2c72863ef538b184d2da4fe">id</a>(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>);</div>
<div class="line"><span class="lineno">  979</span>    <span class="comment">//gizmos.reset_all_states(); FIXME: is this really necessary? It is quite unpleasant for the gizmo undo/redo substack</span></div>
<div class="line"><span class="lineno">  980</span>    this-&gt;load_mutable_object&lt;Slic3r::GUI::GLGizmosManager&gt;(gizmos.<a class="code hl_function" href="../../d9/d98/class_slic3r_1_1_object_base.html#afd34129dc2c72863ef538b184d2da4fe">id</a>(), gizmos);</div>
<div class="line"><span class="lineno">  981</span>    <span class="comment">// Sort the volumes so that we may use binary search.</span></div>
<div class="line"><span class="lineno">  982</span>  std::sort(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">volumes_and_instances</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">volumes_and_instances</a>.end());</div>
<div class="line"><span class="lineno">  983</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> = timestamp;</div>
<div class="line"><span class="lineno">  984</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_model_html_a350aeb2c741edfc617be24b3669421a2"><div class="ttname"><a href="../../dd/d8d/class_slic3r_1_1_model.html#a350aeb2c741edfc617be24b3669421a2">Slic3r::Model::clear_materials</a></div><div class="ttdeci">void clear_materials()</div><div class="ttdef"><b>Definition</b> Model.cpp:288</div></div>
<div class="ttc" id="aclass_slic3r_1_1_model_html_a7a513a9ddb5d9d18871f34d55c2893ed"><div class="ttname"><a href="../../dd/d8d/class_slic3r_1_1_model.html#a7a513a9ddb5d9d18871f34d55c2893ed">Slic3r::Model::update_links_bottom_up_recursive</a></div><div class="ttdeci">void update_links_bottom_up_recursive()</div><div class="ttdef"><b>Definition</b> Model.cpp:90</div></div>
<div class="ttc" id="aclass_slic3r_1_1_model_html_a7af6d839bd5b3b3c119a179c647adf8b"><div class="ttname"><a href="../../dd/d8d/class_slic3r_1_1_model.html#a7af6d839bd5b3b3c119a179c647adf8b">Slic3r::Model::clear_objects</a></div><div class="ttdeci">void clear_objects()</div><div class="ttdef"><b>Definition</b> Model.cpp:272</div></div>
<div class="ttc" id="aclass_slic3r_1_1_object_base_html_afd34129dc2c72863ef538b184d2da4fe"><div class="ttname"><a href="../../d9/d98/class_slic3r_1_1_object_base.html#afd34129dc2c72863ef538b184d2da4fe">Slic3r::ObjectBase::id</a></div><div class="ttdeci">ObjectID id() const</div><div class="ttdef"><b>Definition</b> ObjectID.hpp:55</div></div>
<div class="ttc" id="astruct_slic3r_1_1_undo_redo_1_1_selection_html_a92d887b243d9520237a24949c123dc3b"><div class="ttname"><a href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">Slic3r::UndoRedo::Selection::volumes_and_instances</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; volumes_and_instances</div><div class="ttdef"><b>Definition</b> UndoRedo.hpp:94</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00288">Slic3r::Model::clear_materials()</a>, <a class="el" href="../../#l00272">Slic3r::Model::clear_objects()</a>, <a class="el" href="../../#l00055">Slic3r::ObjectBase::id()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00691">m_selection</a>, <a class="el" href="../../#l00682">m_snapshots</a>, <a class="el" href="../../#l00090">Slic3r::Model::update_links_bottom_up_recursive()</a>, <a class="el" href="../../#l00642">valid()</a>, and <a class="el" href="../../#l00094">Slic3r::UndoRedo::Selection::volumes_and_instances</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01047">redo()</a>, and <a class="el" href="../../#l01006">undo()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a7990a700b6a68eb51e68829899c1b712_cgraph.svg" width="442" height="298"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a7990a700b6a68eb51e68829899c1b712_icgraph.svg" width="442" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0f3f90cf1766396fce82af2ae7090e93" name="a0f3f90cf1766396fce82af2ae7090e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3f90cf1766396fce82af2ae7090e93">&#9670;&#160;</a></span>mark_current_as_saved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::mark_current_as_saved </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  604</span>{ <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, and <a class="el" href="../../#l00687">m_saved_snapshot_time</a>.</p>

</div>
</div>
<a id="ac70746bc015c3d389c4a2b091ce7f90b" name="ac70746bc015c3d389c4a2b091ce7f90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70746bc015c3d389c4a2b091ce7f90b">&#9670;&#160;</a></span>memsize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::memsize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  572</span>                         {</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a> = 0;</div>
<div class="line"><span class="lineno">  574</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<span class="keywordtype">object</span> : <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>)</div>
<div class="line"><span class="lineno">  575</span>      <a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a> += object.second-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a>();</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a>;</div>
<div class="line"><span class="lineno">  577</span>  }</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_ac70746bc015c3d389c4a2b091ce7f90b"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">Slic3r::UndoRedo::StackImpl::memsize</a></div><div class="ttdeci">size_t memsize() const</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:572</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l00572">memsize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00572">memsize()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, and <a class="el" href="../../#l00569">set_memory_limit()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ac70746bc015c3d389c4a2b091ce7f90b_cgraph.svg" width="203" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ac70746bc015c3d389c4a2b091ce7f90b_icgraph.svg" width="444" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0f85482435eab8d960f7126eced6ba01" name="a0f85482435eab8d960f7126eced6ba01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f85482435eab8d960f7126eced6ba01">&#9670;&#160;</a></span>project_modified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::project_modified </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1205</span>{</div>
<div class="line"><span class="lineno"> 1206</span>  assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty());</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> == <span class="keywordtype">size_t</span>(-1))</div>
<div class="line"><span class="lineno"> 1209</span>    <span class="comment">// Don&#39;t know anything about the project state.</span></div>
<div class="line"><span class="lineno"> 1210</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1211</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>)</div>
<div class="line"><span class="lineno"> 1212</span>    <span class="comment">// Just saved at this step.</span></div>
<div class="line"><span class="lineno"> 1213</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1214</span> </div>
<div class="line"><span class="lineno"> 1215</span>  assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &gt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.front().timestamp &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &lt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp);</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>  <span class="keyword">auto</span> it_saved = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1218</span>  assert(it_saved != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() &amp;&amp; it_saved-&gt;timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><span class="lineno"> 1221</span>  <span class="comment">// Verify that there is a snapshot with &quot;current time&quot;.</span></div>
<div class="line"><span class="lineno"> 1222</span>  <span class="keyword">auto</span> it_current = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1223</span>  assert(it_current != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() &amp;&amp; it_current-&gt;timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1224</span><span class="preprocessor">#endif </span><span class="comment">// NDEBUG</span></div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &lt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>) {</div>
<div class="line"><span class="lineno"> 1227</span>    <span class="comment">// Search upwards. Ignore state of the &quot;active&quot; snapshot.</span></div>
<div class="line"><span class="lineno"> 1228</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = it_saved; it-&gt;timestamp &lt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>; ++ it)</div>
<div class="line"><span class="lineno"> 1229</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">snapshot_modifies_project</a>(*it))</div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1231</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1232</span>    <span class="comment">// Search downwards. Ignore state of the &quot;saved&quot; snapshot.</span></div>
<div class="line"><span class="lineno"> 1233</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &gt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1234</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = it_saved - 1; it-&gt;timestamp &gt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>; -- it)</div>
<div class="line"><span class="lineno"> 1235</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">snapshot_modifies_project</a>(*it))</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1237</span>  }</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1240</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a8d961ec358910a1453f1c4229e6eb43b"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">Slic3r::UndoRedo::snapshot_modifies_project</a></div><div class="ttdeci">static bool snapshot_modifies_project(SnapshotType type)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:1067</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00687">m_saved_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, and <a class="el" href="../../#l01067">Slic3r::UndoRedo::snapshot_modifies_project()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a0f85482435eab8d960f7126eced6ba01_cgraph.svg" width="436" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad65f0bd3ed412954902efffe5b05abc1" name="ad65f0bd3ed412954902efffe5b05abc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65f0bd3ed412954902efffe5b05abc1">&#9670;&#160;</a></span>redo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::redo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;&#160;</td>
          <td class="paramname"><em>gizmos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jump_to_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>{</div>
<div class="line"><span class="lineno"> 1049</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno"> 1050</span>  <span class="keywordflow">if</span> (time_to_load == <a class="code hl_define" href="../../d8/d33/lexer_8c.html#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1051</span>    <span class="keyword">auto</span> it_current = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1052</span>    <span class="keywordflow">if</span> (++ it_current == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end())</div>
<div class="line"><span class="lineno"> 1053</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1054</span>    time_to_load = it_current-&gt;timestamp;</div>
<div class="line"><span class="lineno"> 1055</span>  }</div>
<div class="line"><span class="lineno"> 1056</span>  assert(time_to_load &gt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1057</span>  assert(std::binary_search(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(time_to_load)));</div>
<div class="line"><span class="lineno"> 1058</span>    this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7990a700b6a68eb51e68829899c1b712">load_snapshot</a>(time_to_load, model, gizmos);</div>
<div class="line"><span class="lineno"> 1059</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1060</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;After redo&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1061</span>  this-&gt;print();</div>
<div class="line"><span class="lineno"> 1062</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_UNDOREDO_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1063</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1064</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a7990a700b6a68eb51e68829899c1b712"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7990a700b6a68eb51e68829899c1b712">Slic3r::UndoRedo::StackImpl::load_snapshot</a></div><div class="ttdeci">void load_snapshot(size_t timestamp, Slic3r::Model &amp;model, Slic3r::GUI::GLGizmosManager &amp;gizmos)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:965</div></div>
<div class="ttc" id="alexer_8c_html_a3c75bb398badb69c7577b21486f9963f"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a></div><div class="ttdeci">#define SIZE_MAX</div><div class="ttdef"><b>Definition</b> lexer.c:87</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, <a class="el" href="../../#l00087">SIZE_MAX</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ad65f0bd3ed412954902efffe5b05abc1_cgraph.svg" width="100%" height="523"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a62cd4d6c97ad6f86a25556df3c35281c" name="a62cd4d6c97ad6f86a25556df3c35281c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cd4d6c97ad6f86a25556df3c35281c">&#9670;&#160;</a></span>reduce_noisy_snapshots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::reduce_noisy_snapshots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>new_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  940</span>{</div>
<div class="line"><span class="lineno">  941</span>  <span class="comment">// Preceding snapshot must be a &quot;leave gizmo&quot; snapshot.</span></div>
<div class="line"><span class="lineno">  942</span>  assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty() &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost() &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno">  943</span>  <span class="keyword">auto</span> it_last = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end();</div>
<div class="line"><span class="lineno">  944</span>  -- it_last; -- it_last;</div>
<div class="line"><span class="lineno">  945</span>  assert(it_last != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin() &amp;&amp; (it_last-&gt;snapshot_data.snapshot_type == <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdaa64c02a6ee9fb574966db8cdcd48590d">SnapshotType::LeavingGizmoNoAction</a> || it_last-&gt;snapshot_data.snapshot_type == <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad623b34b5bc8bba336c8b30122713baa">SnapshotType::LeavingGizmoWithAction</a>));</div>
<div class="line"><span class="lineno">  946</span>  <span class="keywordflow">if</span> (it_last-&gt;snapshot_data.snapshot_type == <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad623b34b5bc8bba336c8b30122713baa">SnapshotType::LeavingGizmoWithAction</a>) {</div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">for</span> (-- it_last; it_last-&gt;snapshot_data.snapshot_type != <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bda748a9e31c75c7fe746a9dcb413137d99">SnapshotType::EnteringGizmo</a>; -- it_last) {</div>
<div class="line"><span class="lineno">  948</span>      <span class="keywordflow">if</span> (it_last-&gt;snapshot_data.snapshot_type == <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad09c4e15c28d3769fdb6d17019ea7f3c">SnapshotType::GizmoAction</a>) {</div>
<div class="line"><span class="lineno">  949</span>                it_last-&gt;name = new_name;</div>
<div class="line"><span class="lineno">  950</span>                <span class="keyword">auto</span> it = it_last;</div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordflow">for</span> (-- it; it-&gt;snapshot_data.snapshot_type == <a class="code hl_enumvalue" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad09c4e15c28d3769fdb6d17019ea7f3c">SnapshotType::GizmoAction</a>; -- it) ;</div>
<div class="line"><span class="lineno">  952</span>        <span class="keywordflow">if</span> (++ it &lt; it_last) {</div>
<div class="line"><span class="lineno">  953</span>          <span class="comment">// Drop (it, it_last&gt;</span></div>
<div class="line"><span class="lineno">  954</span>          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;kvp : <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>)</div>
<div class="line"><span class="lineno">  955</span>            <span class="comment">// Drop products of &lt;it + 1, it_last + 1&gt;</span></div>
<div class="line"><span class="lineno">  956</span>            kvp.second-&gt;release_between_timestamps(it-&gt;timestamp, (it_last + 1)-&gt;timestamp);</div>
<div class="line"><span class="lineno">  957</span>          it_last = this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ab26e38c440f460639ce4c83f5153fe39">release_snapshots</a>(it + 1, it_last + 1);</div>
<div class="line"><span class="lineno">  958</span>        }</div>
<div class="line"><span class="lineno">  959</span>      }</div>
<div class="line"><span class="lineno">  960</span>      assert(it_last != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin());</div>
<div class="line"><span class="lineno">  961</span>    }</div>
<div class="line"><span class="lineno">  962</span>  }</div>
<div class="line"><span class="lineno">  963</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_ab26e38c440f460639ce4c83f5153fe39"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ab26e38c440f460639ce4c83f5153fe39">Slic3r::UndoRedo::StackImpl::release_snapshots</a></div><div class="ttdeci">std::vector&lt; Snapshot &gt;::iterator release_snapshots(std::vector&lt; Snapshot &gt;::iterator begin, std::vector&lt; Snapshot &gt;::iterator end)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:1079</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a90cb1118fd5acc5fe043ea13d0c5b7bda748a9e31c75c7fe746a9dcb413137d99"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bda748a9e31c75c7fe746a9dcb413137d99">Slic3r::UndoRedo::SnapshotType::EnteringGizmo</a></div><div class="ttdeci">@ EnteringGizmo</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a90cb1118fd5acc5fe043ea13d0c5b7bdaa64c02a6ee9fb574966db8cdcd48590d"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdaa64c02a6ee9fb574966db8cdcd48590d">Slic3r::UndoRedo::SnapshotType::LeavingGizmoNoAction</a></div><div class="ttdeci">@ LeavingGizmoNoAction</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a90cb1118fd5acc5fe043ea13d0c5b7bdad09c4e15c28d3769fdb6d17019ea7f3c"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad09c4e15c28d3769fdb6d17019ea7f3c">Slic3r::UndoRedo::SnapshotType::GizmoAction</a></div><div class="ttdeci">@ GizmoAction</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a90cb1118fd5acc5fe043ea13d0c5b7bdad623b34b5bc8bba336c8b30122713baa"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad623b34b5bc8bba336c8b30122713baa">Slic3r::UndoRedo::SnapshotType::LeavingGizmoWithAction</a></div><div class="ttdeci">@ LeavingGizmoWithAction</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bda748a9e31c75c7fe746a9dcb413137d99">Slic3r::UndoRedo::EnteringGizmo</a>, <a class="el" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad09c4e15c28d3769fdb6d17019ea7f3c">Slic3r::UndoRedo::GizmoAction</a>, <a class="el" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdaa64c02a6ee9fb574966db8cdcd48590d">Slic3r::UndoRedo::LeavingGizmoNoAction</a>, <a class="el" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a90cb1118fd5acc5fe043ea13d0c5b7bdad623b34b5bc8bba336c8b30122713baa">Slic3r::UndoRedo::LeavingGizmoWithAction</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00679">m_objects</a>, <a class="el" href="../../#l00682">m_snapshots</a>, and <a class="el" href="../../#l01079">release_snapshots()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a62cd4d6c97ad6f86a25556df3c35281c_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae3cef179958e3b77a815d05904e2eb52" name="ae3cef179958e3b77a815d05904e2eb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cef179958e3b77a815d05904e2eb52">&#9670;&#160;</a></span>release_least_recently_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::release_least_recently_used </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1121</span>{</div>
<div class="line"><span class="lineno"> 1122</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno"> 1123</span>  <span class="keywordtype">size_t</span> current_memsize = this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a>();</div>
<div class="line"><span class="lineno"> 1124</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1125</span>  <span class="keywordtype">bool</span> released = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1126</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1127</span>  <span class="comment">// First try to release the optional immutable data (for example the convex hulls),</span></div>
<div class="line"><span class="lineno"> 1128</span>  <span class="comment">// or the shared vertices of triangle meshes.</span></div>
<div class="line"><span class="lineno"> 1129</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.begin(); current_memsize &gt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a> &amp;&amp; it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end();) {</div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr = it-&gt;second-&gt;immutable_object_ptr();</div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordtype">size_t</span> mem_released = it-&gt;second-&gt;release_optional();</div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keywordflow">if</span> (it-&gt;second-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 1133</span>      <span class="keywordflow">if</span> (ptr != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="comment">// Release the immutable object from the ptr to ObjectID map.</span></div>
<div class="line"><span class="lineno"> 1135</span>        <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.erase(ptr);</div>
<div class="line"><span class="lineno"> 1136</span>      mem_released += it-&gt;second-&gt;memsize();</div>
<div class="line"><span class="lineno"> 1137</span>      it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.erase(it);</div>
<div class="line"><span class="lineno"> 1138</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1139</span>      ++ it;</div>
<div class="line"><span class="lineno"> 1140</span>    assert(current_memsize &gt;= mem_released);</div>
<div class="line"><span class="lineno"> 1141</span>    <span class="keywordflow">if</span> (current_memsize &gt;= mem_released)</div>
<div class="line"><span class="lineno"> 1142</span>      current_memsize -= mem_released;</div>
<div class="line"><span class="lineno"> 1143</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1144</span>      current_memsize = 0;</div>
<div class="line"><span class="lineno"> 1145</span>  }</div>
<div class="line"><span class="lineno"> 1146</span>  <span class="keywordflow">while</span> (current_memsize &gt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a> &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.size() &gt;= 3) {</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="comment">// From which side to remove a snapshot?</span></div>
<div class="line"><span class="lineno"> 1148</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.front().timestamp &lt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1149</span>    <span class="keywordtype">size_t</span> mem_released = 0;</div>
<div class="line"><span class="lineno"> 1150</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>[1].timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>) {</div>
<div class="line"><span class="lineno"> 1151</span>      <span class="comment">// Remove the last snapshot.</span></div>
<div class="line"><span class="lineno"> 1152</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1153</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.begin(); it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end();) {</div>
<div class="line"><span class="lineno"> 1154</span>        mem_released += it-&gt;second-&gt;release_after_timestamp(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp);</div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keywordflow">if</span> (it-&gt;second-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 1156</span>          <span class="keywordflow">if</span> (it-&gt;second-&gt;immutable_object_ptr() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 1157</span>            <span class="comment">// Release the immutable object from the ptr to ObjectID map.</span></div>
<div class="line"><span class="lineno"> 1158</span>            <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.erase(it-&gt;second-&gt;immutable_object_ptr());</div>
<div class="line"><span class="lineno"> 1159</span>          mem_released += it-&gt;second-&gt;memsize();</div>
<div class="line"><span class="lineno"> 1160</span>          it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.erase(it);</div>
<div class="line"><span class="lineno"> 1161</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1162</span>          ++ it;</div>
<div class="line"><span class="lineno"> 1163</span>      }</div>
<div class="line"><span class="lineno"> 1164</span>      <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.pop_back();</div>
<div class="line"><span class="lineno"> 1165</span>      <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().name = <a class="code hl_variable" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#af8a926ada1110bda71efa2a447a28d69">topmost_snapshot_name</a>;</div>
<div class="line"><span class="lineno"> 1166</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1167</span>      <span class="comment">// Rather don&#39;t release the last snapshot as it will be very confusing to the user</span></div>
<div class="line"><span class="lineno"> 1168</span>      <span class="comment">// as of why he cannot jump to the top most state. The Undo / Redo stack maximum size</span></div>
<div class="line"><span class="lineno"> 1169</span>      <span class="comment">// should be set low enough to accomodate for the top most snapshot.</span></div>
<div class="line"><span class="lineno"> 1170</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1171</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1172</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1173</span>      <span class="comment">// Remove the first snapshot.</span></div>
<div class="line"><span class="lineno"> 1174</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.begin(); it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end();) {</div>
<div class="line"><span class="lineno"> 1175</span>        mem_released += it-&gt;second-&gt;release_before_timestamp(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>[1].timestamp);</div>
<div class="line"><span class="lineno"> 1176</span>        <span class="keywordflow">if</span> (it-&gt;second-&gt;empty()) {</div>
<div class="line"><span class="lineno"> 1177</span>          <span class="keywordflow">if</span> (it-&gt;second-&gt;immutable_object_ptr() != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno"> 1178</span>            <span class="comment">// Release the immutable object from the ptr to ObjectID map.</span></div>
<div class="line"><span class="lineno"> 1179</span>            <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa23549b76d77bbbf174a179646374ddf">m_shared_ptr_to_object_id</a>.erase(it-&gt;second-&gt;immutable_object_ptr());</div>
<div class="line"><span class="lineno"> 1180</span>          mem_released += it-&gt;second-&gt;memsize();</div>
<div class="line"><span class="lineno"> 1181</span>          it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.erase(it);</div>
<div class="line"><span class="lineno"> 1182</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1183</span>          ++ it;</div>
<div class="line"><span class="lineno"> 1184</span>      }</div>
<div class="line"><span class="lineno"> 1185</span>      <span class="comment">//FIXME update the &quot;saved&quot; snapshot time.</span></div>
<div class="line"><span class="lineno"> 1186</span>      <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.erase(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin());</div>
<div class="line"><span class="lineno"> 1187</span>    }</div>
<div class="line"><span class="lineno"> 1188</span>    assert(current_memsize &gt;= mem_released);</div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keywordflow">if</span> (current_memsize &gt;= mem_released)</div>
<div class="line"><span class="lineno"> 1190</span>      current_memsize -= mem_released;</div>
<div class="line"><span class="lineno"> 1191</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1192</span>      current_memsize = 0;</div>
<div class="line"><span class="lineno"> 1193</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1194</span>    released = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1195</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1196</span>  }</div>
<div class="line"><span class="lineno"> 1197</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno"> 1198</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1199</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;After release_least_recently_used&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1200</span>  this-&gt;print();</div>
<div class="line"><span class="lineno"> 1201</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_UNDOREDO_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1202</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_af8a926ada1110bda71efa2a447a28d69"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#af8a926ada1110bda71efa2a447a28d69">Slic3r::UndoRedo::topmost_snapshot_name</a></div><div class="ttdeci">static std::string topmost_snapshot_name</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:50</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00675">m_memory_limit</a>, <a class="el" href="../../#l00679">m_objects</a>, <a class="el" href="../../#l00680">m_shared_ptr_to_object_id</a>, <a class="el" href="../../#l00682">m_snapshots</a>, <a class="el" href="../../#l00572">memsize()</a>, <a class="el" href="../../#l00050">Slic3r::UndoRedo::topmost_snapshot_name</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ae3cef179958e3b77a815d05904e2eb52_cgraph.svg" width="444" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab26e38c440f460639ce4c83f5153fe39" name="ab26e38c440f460639ce4c83f5153fe39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26e38c440f460639ce4c83f5153fe39">&#9670;&#160;</a></span>release_snapshots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator Slic3r::UndoRedo::StackImpl::release_snapshots </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt;::iterator&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1080</span>{</div>
<div class="line"><span class="lineno"> 1081</span>  assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty());</div>
<div class="line"><span class="lineno"> 1082</span>  assert(begin &lt;= end);</div>
<div class="line"><span class="lineno"> 1083</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> != <span class="keywordtype">size_t</span>(-1) &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &gt;= <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>-&gt;timestamp &amp;&amp; (end == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() || m_saved_snapshot_time &lt; end-&gt;timestamp)) {</div>
<div class="line"><span class="lineno"> 1084</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &lt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp);</div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keyword">auto</span> it_saved = std::lower_bound(begin, end, Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1086</span>    assert(it_saved != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() &amp;&amp; it_saved-&gt;timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1087</span>    <span class="keyword">auto</span> it = it_saved;</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">for</span> (; it != <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> &amp;&amp; ! <a class="code hl_function" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">snapshot_modifies_project</a>(*it); -- it) ;</div>
<div class="line"><span class="lineno"> 1089</span>    <span class="keywordflow">if</span> (it == begin &amp;&amp; ! <a class="code hl_function" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">snapshot_modifies_project</a>(*it)) {</div>
<div class="line"><span class="lineno"> 1090</span>      <span class="comment">// Found a snapshot before begin, which captures the same project state.</span></div>
<div class="line"><span class="lineno"> 1091</span>      <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = (-- it)-&gt;timestamp;</div>
<div class="line"><span class="lineno"> 1092</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1093</span>      <span class="keyword">auto</span> it = it_saved;</div>
<div class="line"><span class="lineno"> 1094</span>      <span class="keywordflow">for</span> (; it != <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a> &amp;&amp; ! <a class="code hl_function" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a8d961ec358910a1453f1c4229e6eb43b">snapshot_modifies_project</a>(*it); ++ it) ;</div>
<div class="line"><span class="lineno"> 1095</span>      <span class="keywordflow">if</span> (it == end &amp;&amp; end != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end())</div>
<div class="line"><span class="lineno"> 1096</span>        <span class="comment">// Found a snapshot after end, which captures the same project state.</span></div>
<div class="line"><span class="lineno"> 1097</span>        <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = (-- it)-&gt;timestamp;       </div>
<div class="line"><span class="lineno"> 1098</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1099</span>        <span class="comment">// State of the project is being lost. Indicate a &quot;likely modified&quot; project state until the project is saved again.</span></div>
<div class="line"><span class="lineno"> 1100</span>        <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = size_t(-1);</div>
<div class="line"><span class="lineno"> 1101</span>    }</div>
<div class="line"><span class="lineno"> 1102</span>  }</div>
<div class="line"><span class="lineno"> 1103</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.erase(begin, end);</div>
<div class="line"><span class="lineno"> 1104</span>}</div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a2aeb0374bbb83d0a6452bca14e1bbbda"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">libnest2d::shapelike::begin</a></div><div class="ttdeci">S::iterator begin(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:614</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ac9b51e95f63e38d00e5fc46bb96927c3"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">libnest2d::shapelike::end</a></div><div class="ttdeci">S::iterator end(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:620</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00687">m_saved_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, and <a class="el" href="../../#l01067">Slic3r::UndoRedo::snapshot_modifies_project()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00939">reduce_noisy_snapshots()</a>, and <a class="el" href="../../#l00899">take_snapshot()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ab26e38c440f460639ce4c83f5153fe39_cgraph.svg" width="436" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ab26e38c440f460639ce4c83f5153fe39_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a44b0640650eb26744fd28160edbb8f6e" name="a44b0640650eb26744fd28160edbb8f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b0640650eb26744fd28160edbb8f6e">&#9670;&#160;</a></span>save_immutable_object()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> Slic3r::UndoRedo::StackImpl::save_immutable_object </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &gt; &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>optional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  851</span>{</div>
<div class="line"><span class="lineno">  852</span>  <span class="comment">// First allocate a temporary ObjectID for this pointer.</span></div>
<div class="line"><span class="lineno">  853</span>  ObjectID object_id = this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a86da69e13ba03ee1915827c3e52711cc">immutable_object_id</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  854</span>  <span class="comment">// and find or allocate a history stack for the ObjectID associated to this shared_ptr.</span></div>
<div class="line"><span class="lineno">  855</span>  <span class="keyword">auto</span> it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.find(object_id);</div>
<div class="line"><span class="lineno">  856</span>  <span class="keywordflow">if</span> (it_object_history == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end())</div>
<div class="line"><span class="lineno">  857</span>    it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.emplace_hint(it_object_history, object_id, std::unique_ptr&lt;ImmutableObjectHistory&lt;T&gt;&gt;(<span class="keyword">new</span> ImmutableObjectHistory&lt;T&gt;(<span class="keywordtype">object</span>, optional)));</div>
<div class="line"><span class="lineno">  858</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  859</span>    assert(it_object_history-&gt;second.get()-&gt;is_optional() == optional);</div>
<div class="line"><span class="lineno">  860</span>  <span class="comment">// Then save the interval.</span></div>
<div class="line"><span class="lineno">  861</span>  <span class="keyword">static_cast&lt;</span>ImmutableObjectHistory&lt;T&gt;*<span class="keyword">&gt;</span>(it_object_history-&gt;second.get())-&gt;<a class="code hl_function" href="../../d9/db7/_g_l_gizmo_emboss_8cpp.html#a7eb23f3a0bb363a39baa43bf12865ff2">save</a>(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>);</div>
<div class="line"><span class="lineno">  862</span>  <span class="keywordflow">return</span> object_id;</div>
<div class="line"><span class="lineno">  863</span>}</div>
<div class="ttc" id="a_g_l_gizmo_emboss_8cpp_html_a7eb23f3a0bb363a39baa43bf12865ff2"><div class="ttname"><a href="../../d9/db7/_g_l_gizmo_emboss_8cpp.html#a7eb23f3a0bb363a39baa43bf12865ff2">save</a></div><div class="ttdeci">void save(Archive &amp;archive, wxString const &amp;d)</div><div class="ttdef"><b>Definition</b> GLGizmoEmboss.cpp:1557</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a86da69e13ba03ee1915827c3e52711cc"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a86da69e13ba03ee1915827c3e52711cc">Slic3r::UndoRedo::StackImpl::immutable_object_id</a></div><div class="ttdeci">ObjectID immutable_object_id(const std::shared_ptr&lt; const T &gt; &amp;ptr)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:655</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00655">immutable_object_id()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00689">m_current_time</a>, <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l01557">save()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a44b0640650eb26744fd28160edbb8f6e_cgraph.svg" width="100%" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa25df34e256567e6a08f1ea921dcfc90" name="aa25df34e256567e6a08f1ea921dcfc90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25df34e256567e6a08f1ea921dcfc90">&#9670;&#160;</a></span>save_mutable_object()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a> Slic3r::UndoRedo::StackImpl::save_mutable_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> T &amp;&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  824</span>{</div>
<div class="line"><span class="lineno">  825</span>  <span class="comment">// First find or allocate a history stack for the ObjectID of this object instance.</span></div>
<div class="line"><span class="lineno">  826</span>  <span class="keyword">auto</span> it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.find(<span class="keywordtype">object</span>.<span class="keywordtype">id</span>());</div>
<div class="line"><span class="lineno">  827</span>  <span class="keywordflow">if</span> (it_object_history == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end())</div>
<div class="line"><span class="lineno">  828</span>    it_object_history = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.insert(it_object_history, std::make_pair(<span class="keywordtype">object</span>.<span class="keywordtype">id</span>(), std::unique_ptr&lt;MutableObjectHistory&lt;T&gt;&gt;(<span class="keyword">new</span> MutableObjectHistory&lt;T&gt;())));</div>
<div class="line"><span class="lineno">  829</span>  <span class="keyword">auto</span> *object_history = <span class="keyword">static_cast&lt;</span>MutableObjectHistory&lt;T&gt;*<span class="keyword">&gt;</span>(it_object_history-&gt;second.get());</div>
<div class="line"><span class="lineno">  830</span>  <span class="keywordtype">bool</span>  needs_to_save  = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  831</span>  {</div>
<div class="line"><span class="lineno">  832</span>    <span class="comment">// If the timestamp returned is non zero, then it is considered reliable.</span></div>
<div class="line"><span class="lineno">  833</span>    <span class="comment">// The caller is supposed to serialize the timestamp first.</span></div>
<div class="line"><span class="lineno">  834</span>    <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> timestamp = <span class="keywordtype">object</span>.timestamp();</div>
<div class="line"><span class="lineno">  835</span>    <span class="keywordflow">if</span> (timestamp &gt; 0)</div>
<div class="line"><span class="lineno">  836</span>      needs_to_save = ! object_history-&gt;try_save_timestamp(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>, timestamp);</div>
<div class="line"><span class="lineno">  837</span>  }</div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">if</span> (needs_to_save) {</div>
<div class="line"><span class="lineno">  839</span>    <span class="comment">// Serialize the object into a string.</span></div>
<div class="line"><span class="lineno">  840</span>    std::ostringstream oss;</div>
<div class="line"><span class="lineno">  841</span>    {</div>
<div class="line"><span class="lineno">  842</span>      <a class="code hl_typedef" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a4748d6cc927b0c3ea0a5196460b3b962">Slic3r::UndoRedo::OutputArchive</a> archive(*<span class="keyword">this</span>, oss);</div>
<div class="line"><span class="lineno">  843</span>      archive(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  844</span>    }</div>
<div class="line"><span class="lineno">  845</span>    object_history-&gt;save(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>, oss.str());</div>
<div class="line"><span class="lineno">  846</span>  }</div>
<div class="line"><span class="lineno">  847</span>  <span class="keywordflow">return</span> <span class="keywordtype">object</span>.id();</div>
<div class="line"><span class="lineno">  848</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_undo_redo_html_a4748d6cc927b0c3ea0a5196460b3b962"><div class="ttname"><a href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#a4748d6cc927b0c3ea0a5196460b3b962">Slic3r::UndoRedo::OutputArchive</a></div><div class="ttdeci">cereal::UserDataAdapter&lt; StackImpl, cereal::BinaryOutputArchive &gt; OutputArchive</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:695</div></div>
<div class="ttc" id="aunistd_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> unistd.h:80</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00689">m_current_time</a>, <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l00442">Slic3r::UndoRedo::MutableObjectHistory&lt; T &gt;::try_save_timestamp()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_aa25df34e256567e6a08f1ea921dcfc90_cgraph.svg" width="428" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a157b0ece7be1a9485f59f87db4013efe" name="a157b0ece7be1a9485f59f87db4013efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157b0ece7be1a9485f59f87db4013efe">&#9670;&#160;</a></span>selection_deserialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html">Selection</a> &amp; Slic3r::UndoRedo::StackImpl::selection_deserialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  607</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00691">m_selection</a>.</p>

</div>
</div>
<a id="ae73a40706f58d6c5e08465b22e2f0ada" name="ae73a40706f58d6c5e08465b22e2f0ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73a40706f58d6c5e08465b22e2f0ada">&#9670;&#160;</a></span>set_memory_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::set_memory_limit </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>memsize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  569</span>{ <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a56c0e4a6bc44913050d18a46193bc67f">m_memory_limit</a> = <a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ac70746bc015c3d389c4a2b091ce7f90b">memsize</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00675">m_memory_limit</a>, and <a class="el" href="../../#l00572">memsize()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_ae73a40706f58d6c5e08465b22e2f0ada_cgraph.svg" width="442" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afb2340207571a366069ab21cb60b698a" name="afb2340207571a366069ab21cb60b698a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb2340207571a366069ab21cb60b698a">&#9670;&#160;</a></span>snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &amp; Slic3r::UndoRedo::StackImpl::snapshot </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  593</span>                                                        {</div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.cbegin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.cend(), UndoRedo::Snapshot(time));</div>
<div class="line"><span class="lineno">  595</span>    assert(it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() &amp;&amp; it-&gt;timestamp == time);</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">return</span> *it;</div>
<div class="line"><span class="lineno">  597</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00682">m_snapshots</a>.</p>

</div>
</div>
<a id="ac2f0fe08f3a5ebad400bc65cf40fa5f5" name="ac2f0fe08f3a5ebad400bc65cf40fa5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f0fe08f3a5ebad400bc65cf40fa5f5">&#9670;&#160;</a></span>snapshots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a> &gt; &amp; Slic3r::UndoRedo::StackImpl::snapshots </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  592</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00682">m_snapshots</a>.</p>

</div>
</div>
<a id="a22555576b49aa009c051b48fddd51a6a" name="a22555576b49aa009c051b48fddd51a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22555576b49aa009c051b48fddd51a6a">&#9670;&#160;</a></span>take_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::UndoRedo::StackImpl::take_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>snapshot_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html">Slic3r::GUI::Selection</a> &amp;&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;&#160;</td>
          <td class="paramname"><em>gizmos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d7c/struct_slic3r_1_1_undo_redo_1_1_snapshot_data.html">SnapshotData</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  900</span>{</div>
<div class="line"><span class="lineno">  901</span>  <span class="comment">// Release old snapshot data.</span></div>
<div class="line"><span class="lineno">  902</span>  assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> &lt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>);</div>
<div class="line"><span class="lineno">  903</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;kvp : <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>)</div>
<div class="line"><span class="lineno">  904</span>    kvp.second-&gt;release_after_timestamp(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno">  905</span>  <span class="keywordtype">bool</span> topmost_saved = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  906</span>  <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty()) {</div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">// If the project was saved for the topmost snapshot, restore the &quot;saved&quot; state after the &quot;topmost&quot; snapshot is taken.</span></div>
<div class="line"><span class="lineno">  908</span>    topmost_saved = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp;</div>
<div class="line"><span class="lineno">  909</span>    <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno">  910</span>    this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ab26e38c440f460639ce4c83f5153fe39">release_snapshots</a>(it, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end());</div>
<div class="line"><span class="lineno">  911</span>  }</div>
<div class="line"><span class="lineno">  912</span>  <span class="comment">// Take new snapshots.</span></div>
<div class="line"><span class="lineno">  913</span>  this-&gt;save_mutable_object&lt;Slic3r::Model&gt;(model);</div>
<div class="line"><span class="lineno">  914</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">volumes_and_instances</a>.clear();</div>
<div class="line"><span class="lineno">  915</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a92d887b243d9520237a24949c123dc3b">volumes_and_instances</a>.reserve(selection.<a class="code hl_function" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html#a646ad325f6c6b260f044aa762ae615bb">get_volume_idxs</a>().size());</div>
<div class="line"><span class="lineno">  916</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.<a class="code hl_variable" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a7b695b10d7075cd4e33c6fa882d3e7e6">mode</a> = selection.<a class="code hl_function" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html#a33ce9f8d3a5d288230c1abc288646310">get_mode</a>();</div>
<div class="line"><span class="lineno">  917</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> volume_idx : selection.get_volume_idxs())</div>
<div class="line"><span class="lineno">  918</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>.volumes_and_instances.emplace_back(selection.<a class="code hl_function" href="../../df/d2d/util_8cpp.html#a879ab8ce035faf422b7aff068a732fcd">get_volume</a>(volume_idx)-&gt;geometry_id);</div>
<div class="line"><span class="lineno">  919</span>  this-&gt;save_mutable_object&lt;Selection&gt;(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aa5e69d9fb94596ffd8172e7b7c2bdb4b">m_selection</a>);</div>
<div class="line"><span class="lineno">  920</span>    this-&gt;save_mutable_object&lt;Slic3r::GUI::GLGizmosManager&gt;(gizmos);</div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">// Save the snapshot info.</span></div>
<div class="line"><span class="lineno">  922</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.emplace_back(snapshot_name, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>, model.<a class="code hl_function" href="../../d9/d98/class_slic3r_1_1_object_base.html#afd34129dc2c72863ef538b184d2da4fe">id</a>().<a class="code hl_variable" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html#ad423574fbc3dcc62f5c1d412c9aad6d8">id</a>, snapshot_data);</div>
<div class="line"><span class="lineno">  923</span>  <span class="keywordflow">if</span> (topmost_saved)</div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">// Restore the &quot;saved&quot; timestamp.</span></div>
<div class="line"><span class="lineno">  925</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#afd8f726ea44f9806612a8a860b85e133">m_saved_snapshot_time</a> = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>;</div>
<div class="line"><span class="lineno">  926</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> = ++ <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#aeb817283c1a129a4476e5f1c4b8896fe">m_current_time</a>;</div>
<div class="line"><span class="lineno">  927</span>  <span class="comment">// Save snapshot info of the last &quot;current&quot; aka &quot;top most&quot; state, that is only being serialized</span></div>
<div class="line"><span class="lineno">  928</span>  <span class="comment">// if undoing an action. Such a snapshot has an invalid Model ID assigned if it was not taken yet.</span></div>
<div class="line"><span class="lineno">  929</span>  <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.emplace_back(<a class="code hl_variable" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#af8a926ada1110bda71efa2a447a28d69">topmost_snapshot_name</a>, <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>, 0, snapshot_data);</div>
<div class="line"><span class="lineno">  930</span>  <span class="comment">// Release empty objects from the history.</span></div>
<div class="line"><span class="lineno">  931</span>  this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7682a062e7d4741285da47d272c2b85d">collect_garbage</a>();</div>
<div class="line"><span class="lineno">  932</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno">  933</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno">  934</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;After snapshot&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  935</span>  this-&gt;print();</div>
<div class="line"><span class="lineno">  936</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_UNDOREDO_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  937</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_g_u_i_1_1_selection_html_a33ce9f8d3a5d288230c1abc288646310"><div class="ttname"><a href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html#a33ce9f8d3a5d288230c1abc288646310">Slic3r::GUI::Selection::get_mode</a></div><div class="ttdeci">EMode get_mode() const</div><div class="ttdef"><b>Definition</b> Selection.hpp:209</div></div>
<div class="ttc" id="aclass_slic3r_1_1_g_u_i_1_1_selection_html_a646ad325f6c6b260f044aa762ae615bb"><div class="ttname"><a href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html#a646ad325f6c6b260f044aa762ae615bb">Slic3r::GUI::Selection::get_volume_idxs</a></div><div class="ttdeci">const IndicesList &amp; get_volume_idxs() const</div><div class="ttdef"><b>Definition</b> Selection.hpp:290</div></div>
<div class="ttc" id="aclass_slic3r_1_1_object_i_d_html_ad423574fbc3dcc62f5c1d412c9aad6d8"><div class="ttname"><a href="../../d5/dd3/class_slic3r_1_1_object_i_d.html#ad423574fbc3dcc62f5c1d412c9aad6d8">Slic3r::ObjectID::id</a></div><div class="ttdeci">size_t id</div><div class="ttdef"><b>Definition</b> ObjectID.hpp:37</div></div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a7682a062e7d4741285da47d272c2b85d"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7682a062e7d4741285da47d272c2b85d">Slic3r::UndoRedo::StackImpl::collect_garbage</a></div><div class="ttdeci">void collect_garbage()</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:1106</div></div>
<div class="ttc" id="astruct_slic3r_1_1_undo_redo_1_1_selection_html_a7b695b10d7075cd4e33c6fa882d3e7e6"><div class="ttname"><a href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html#a7b695b10d7075cd4e33c6fa882d3e7e6">Slic3r::UndoRedo::Selection::mode</a></div><div class="ttdeci">unsigned char mode</div><div class="ttdef"><b>Definition</b> UndoRedo.hpp:93</div></div>
<div class="ttc" id="autil_8cpp_html_a879ab8ce035faf422b7aff068a732fcd"><div class="ttname"><a href="../../df/d2d/util_8cpp.html#a879ab8ce035faf422b7aff068a732fcd">get_volume</a></div><div class="ttdeci">static float get_volume(stl_file *stl)</div><div class="ttdef"><b>Definition</b> util.cpp:276</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01106">collect_garbage()</a>, <a class="el" href="../../#l00152">Slic3r::GLVolume::geometry_id</a>, <a class="el" href="../../#l00209">Slic3r::GUI::Selection::get_mode()</a>, <a class="el" href="../../#l00663">Slic3r::GUI::Selection::get_volume()</a>, <a class="el" href="../../#l00290">Slic3r::GUI::Selection::get_volume_idxs()</a>, <a class="el" href="../../#l00037">Slic3r::ObjectID::id</a>, <a class="el" href="../../#l00055">Slic3r::ObjectBase::id()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00689">m_current_time</a>, <a class="el" href="../../#l00679">m_objects</a>, <a class="el" href="../../#l00687">m_saved_snapshot_time</a>, <a class="el" href="../../#l00691">m_selection</a>, <a class="el" href="../../#l00682">m_snapshots</a>, <a class="el" href="../../#l00093">Slic3r::UndoRedo::Selection::mode</a>, <a class="el" href="../../#l01079">release_snapshots()</a>, <a class="el" href="../../#l00050">Slic3r::UndoRedo::topmost_snapshot_name</a>, <a class="el" href="../../#l00642">valid()</a>, and <a class="el" href="../../#l00094">Slic3r::UndoRedo::Selection::volumes_and_instances</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01006">undo()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a22555576b49aa009c051b48fddd51a6a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_a22555576b49aa009c051b48fddd51a6a_icgraph.svg" width="442" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af5c149593c5ae38ab078b704ab57eae6" name="af5c149593c5ae38ab078b704ab57eae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c149593c5ae38ab078b704ab57eae6">&#9670;&#160;</a></span>temp_snapshot_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::temp_snapshot_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  601</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> &amp;&amp; ! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost_captured(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, and <a class="el" href="../../#l00682">m_snapshots</a>.</p>

</div>
</div>
<a id="aec151dbd85323076dddb0587e788ae71" name="aec151dbd85323076dddb0587e788ae71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec151dbd85323076dddb0587e788ae71">&#9670;&#160;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d8d/class_slic3r_1_1_model.html">Slic3r::Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d6a/class_slic3r_1_1_g_u_i_1_1_selection.html">Slic3r::GUI::Selection</a> &amp;&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d0a/class_slic3r_1_1_g_u_i_1_1_g_l_gizmos_manager.html">Slic3r::GUI::GLGizmosManager</a> &amp;&#160;</td>
          <td class="paramname"><em>gizmos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d7c/struct_slic3r_1_1_undo_redo_1_1_snapshot_data.html">SnapshotData</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jump_to_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1007</span>{</div>
<div class="line"><span class="lineno"> 1008</span>  assert(this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#af1fa9b704c066accdca8c3a4b5859e6e">valid</a>());</div>
<div class="line"><span class="lineno"> 1009</span>  <span class="keywordflow">if</span> (time_to_load == <a class="code hl_define" href="../../d8/d33/lexer_8c.html#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keyword">auto</span> it_current = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">if</span> (-- it_current == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin())</div>
<div class="line"><span class="lineno"> 1012</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1013</span>    time_to_load = it_current-&gt;timestamp;</div>
<div class="line"><span class="lineno"> 1014</span>  }</div>
<div class="line"><span class="lineno"> 1015</span>  assert(time_to_load &lt; <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno"> 1016</span>  assert(std::binary_search(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(time_to_load)));</div>
<div class="line"><span class="lineno"> 1017</span>  <span class="keywordtype">bool</span> new_snapshot_taken = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1018</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp &amp;&amp; ! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost_captured()) {</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="comment">// The current state is temporary. The current state needs to be captured to be redoable.</span></div>
<div class="line"><span class="lineno"> 1020</span>    <span class="comment">//FIXME add new a &quot;topmost&quot; SnapshotType? </span></div>
<div class="line"><span class="lineno"> 1021</span>        this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a22555576b49aa009c051b48fddd51a6a">take_snapshot</a>(<a class="code hl_variable" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html#af8a926ada1110bda71efa2a447a28d69">topmost_snapshot_name</a>, model, selection, gizmos, snapshot_data);</div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment">// The line above entered another topmost_snapshot_name.</span></div>
<div class="line"><span class="lineno"> 1023</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost());</div>
<div class="line"><span class="lineno"> 1024</span>    assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost_captured());</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="comment">// Pop it back, it is not needed as there is now a captured topmost state.</span></div>
<div class="line"><span class="lineno"> 1026</span>    <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.pop_back();</div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">// current_time was extended, but it should not cause any harm. Resetting it back may complicate the logic unnecessarily.</span></div>
<div class="line"><span class="lineno"> 1028</span>    <span class="comment">//-- m_current_time;</span></div>
<div class="line"><span class="lineno"> 1029</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost());</div>
<div class="line"><span class="lineno"> 1030</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost_captured());</div>
<div class="line"><span class="lineno"> 1031</span>    new_snapshot_taken = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1032</span>  }</div>
<div class="line"><span class="lineno"> 1033</span>    this-&gt;<a class="code hl_function" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a7990a700b6a68eb51e68829899c1b712">load_snapshot</a>(time_to_load, model, gizmos);</div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordflow">if</span> (new_snapshot_taken) {</div>
<div class="line"><span class="lineno"> 1035</span>    <span class="comment">// Release old snapshots if the memory allocated due to capturing the top most state is excessive.</span></div>
<div class="line"><span class="lineno"> 1036</span>    <span class="comment">// Don&#39;t release the snapshots here, release them first after the scene and background processing gets updated, as this will release some references</span></div>
<div class="line"><span class="lineno"> 1037</span>    <span class="comment">// to the shared TriangleMeshes.</span></div>
<div class="line"><span class="lineno"> 1038</span>    <span class="comment">//this-&gt;release_least_recently_used();</span></div>
<div class="line"><span class="lineno"> 1039</span>  }</div>
<div class="line"><span class="lineno"> 1040</span><span class="preprocessor">#ifdef SLIC3R_UNDOREDO_DEBUG</span></div>
<div class="line"><span class="lineno"> 1041</span>  std::cout &lt;&lt; <span class="stringliteral">&quot;After undo&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1042</span>  this-&gt;print();</div>
<div class="line"><span class="lineno"> 1043</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_UNDOREDO_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1044</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1045</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_undo_redo_1_1_stack_impl_html_a22555576b49aa009c051b48fddd51a6a"><div class="ttname"><a href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a22555576b49aa009c051b48fddd51a6a">Slic3r::UndoRedo::StackImpl::take_snapshot</a></div><div class="ttdeci">void take_snapshot(const std::string &amp;snapshot_name, const Slic3r::Model &amp;model, const Slic3r::GUI::Selection &amp;selection, const Slic3r::GUI::GLGizmosManager &amp;gizmos, const SnapshotData &amp;snapshot_data)</div><div class="ttdef"><b>Definition</b> UndoRedo.cpp:899</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00682">m_snapshots</a>, <a class="el" href="../../#l00087">SIZE_MAX</a>, <a class="el" href="../../#l00899">take_snapshot()</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_aec151dbd85323076dddb0587e788ae71_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af1fa9b704c066accdca8c3a4b5859e6e" name="af1fa9b704c066accdca8c3a4b5859e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fa9b704c066accdca8c3a4b5859e6e">&#9670;&#160;</a></span>valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::UndoRedo::StackImpl::valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  642</span>                     {</div>
<div class="line"><span class="lineno">  643</span>    assert(! <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.empty());</div>
<div class="line"><span class="lineno">  644</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().is_topmost());</div>
<div class="line"><span class="lineno">  645</span>    <span class="keyword">auto</span> it = std::lower_bound(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin(), <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end(), Snapshot(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>));</div>
<div class="line"><span class="lineno">  646</span>    assert(it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.begin() &amp;&amp; it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.end() &amp;&amp; it-&gt;timestamp == <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a>);</div>
<div class="line"><span class="lineno">  647</span>    assert(<a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#ad1e046525014787bbf49fbf51fc5b998">m_active_snapshot_time</a> &lt;= <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#a46b2733dc59d512cb6836ae76c717dcc">m_snapshots</a>.back().timestamp);</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.begin(); it != <a class="code hl_variable" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html#abe83235c9e5c343a03f5245e3a38ac30">m_objects</a>.end(); ++ it)</div>
<div class="line"><span class="lineno">  649</span>      assert(it-&gt;second-&gt;valid());</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  651</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00684">m_active_snapshot_time</a>, <a class="el" href="../../#l00679">m_objects</a>, and <a class="el" href="../../#l00682">m_snapshots</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00999">has_redo_snapshot()</a>, <a class="el" href="../../#l00987">has_undo_snapshot()</a>, <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l01047">redo()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, <a class="el" href="../../#l00899">take_snapshot()</a>, and <a class="el" href="../../#l01006">undo()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl_af1fa9b704c066accdca8c3a4b5859e6e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad1e046525014787bbf49fbf51fc5b998" name="ad1e046525014787bbf49fbf51fc5b998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e046525014787bbf49fbf51fc5b998">&#9670;&#160;</a></span>m_active_snapshot_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::m_active_snapshot_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00600">active_snapshot_time()</a>, <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l00563">empty()</a>, <a class="el" href="../../#l00999">has_redo_snapshot()</a>, <a class="el" href="../../#l00987">has_undo_snapshot()</a>, <a class="el" href="../../#l00994">has_undo_snapshot()</a>, <a class="el" href="../../#l00872">load_immutable_object()</a>, <a class="el" href="../../#l00885">load_mutable_object()</a>, <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l00604">mark_current_as_saved()</a>, <a class="el" href="../../#l01204">project_modified()</a>, <a class="el" href="../../#l01047">redo()</a>, <a class="el" href="../../#l00939">reduce_noisy_snapshots()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, <a class="el" href="../../#l00850">save_immutable_object()</a>, <a class="el" href="../../#l00823">save_mutable_object()</a>, <a class="el" href="../../#l00899">take_snapshot()</a>, <a class="el" href="../../#l00601">temp_snapshot_active()</a>, <a class="el" href="../../#l01006">undo()</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>

</div>
</div>
<a id="aeb817283c1a129a4476e5f1c4b8896fe" name="aeb817283c1a129a4476e5f1c4b8896fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb817283c1a129a4476e5f1c4b8896fe">&#9670;&#160;</a></span>m_current_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::m_current_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l00563">empty()</a>, <a class="el" href="../../#l00850">save_immutable_object()</a>, <a class="el" href="../../#l00823">save_mutable_object()</a>, and <a class="el" href="../../#l00899">take_snapshot()</a>.</p>

</div>
</div>
<a id="a56c0e4a6bc44913050d18a46193bc67f" name="a56c0e4a6bc44913050d18a46193bc67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c0e4a6bc44913050d18a46193bc67f">&#9670;&#160;</a></span>m_memory_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::m_memory_limit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00570">get_memory_limit()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, and <a class="el" href="../../#l00569">set_memory_limit()</a>.</p>

</div>
</div>
<a id="abe83235c9e5c343a03f5245e3a38ac30" name="abe83235c9e5c343a03f5245e3a38ac30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe83235c9e5c343a03f5245e3a38ac30">&#9670;&#160;</a></span>m_objects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>, std::unique_ptr&lt;<a class="el" href="../../de/d3b/class_slic3r_1_1_undo_redo_1_1_object_history_base.html">ObjectHistoryBase</a>&gt; &gt; Slic3r::UndoRedo::StackImpl::m_objects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l01106">collect_garbage()</a>, <a class="el" href="../../#l00563">empty()</a>, <a class="el" href="../../#l00872">load_immutable_object()</a>, <a class="el" href="../../#l00885">load_mutable_object()</a>, <a class="el" href="../../#l00572">memsize()</a>, <a class="el" href="../../#l00939">reduce_noisy_snapshots()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, <a class="el" href="../../#l00850">save_immutable_object()</a>, <a class="el" href="../../#l00823">save_mutable_object()</a>, <a class="el" href="../../#l00899">take_snapshot()</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>

</div>
</div>
<a id="afd8f726ea44f9806612a8a860b85e133" name="afd8f726ea44f9806612a8a860b85e133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8f726ea44f9806612a8a860b85e133">&#9670;&#160;</a></span>m_saved_snapshot_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::UndoRedo::StackImpl::m_saved_snapshot_time { size_t(-1) }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l00604">mark_current_as_saved()</a>, <a class="el" href="../../#l01204">project_modified()</a>, <a class="el" href="../../#l01079">release_snapshots()</a>, and <a class="el" href="../../#l00899">take_snapshot()</a>.</p>

</div>
</div>
<a id="aa5e69d9fb94596ffd8172e7b7c2bdb4b" name="aa5e69d9fb94596ffd8172e7b7c2bdb4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e69d9fb94596ffd8172e7b7c2bdb4b">&#9670;&#160;</a></span>m_selection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1f/struct_slic3r_1_1_undo_redo_1_1_selection.html">Selection</a> Slic3r::UndoRedo::StackImpl::m_selection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l00607">selection_deserialized()</a>, and <a class="el" href="../../#l00899">take_snapshot()</a>.</p>

</div>
</div>
<a id="aa23549b76d77bbbf174a179646374ddf" name="aa23549b76d77bbbf174a179646374ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23549b76d77bbbf174a179646374ddf">&#9670;&#160;</a></span>m_shared_ptr_to_object_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>*, <a class="el" href="../../d5/dd3/class_slic3r_1_1_object_i_d.html">ObjectID</a>&gt; Slic3r::UndoRedo::StackImpl::m_shared_ptr_to_object_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l01106">collect_garbage()</a>, <a class="el" href="../../#l00658">immutable_object_id_impl()</a>, and <a class="el" href="../../#l01120">release_least_recently_used()</a>.</p>

</div>
</div>
<a id="a46b2733dc59d512cb6836ae76c717dcc" name="a46b2733dc59d512cb6836ae76c717dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b2733dc59d512cb6836ae76c717dcc">&#9670;&#160;</a></span>m_snapshots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d9/d48/struct_slic3r_1_1_undo_redo_1_1_snapshot.html">Snapshot</a>&gt; Slic3r::UndoRedo::StackImpl::m_snapshots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00553">clear()</a>, <a class="el" href="../../#l00563">empty()</a>, <a class="el" href="../../#l00999">has_redo_snapshot()</a>, <a class="el" href="../../#l00987">has_undo_snapshot()</a>, <a class="el" href="../../#l00994">has_undo_snapshot()</a>, <a class="el" href="../../#l00965">load_snapshot()</a>, <a class="el" href="../../#l01204">project_modified()</a>, <a class="el" href="../../#l01047">redo()</a>, <a class="el" href="../../#l00939">reduce_noisy_snapshots()</a>, <a class="el" href="../../#l01120">release_least_recently_used()</a>, <a class="el" href="../../#l01079">release_snapshots()</a>, <a class="el" href="../../#l00593">snapshot()</a>, <a class="el" href="../../#l00592">snapshots()</a>, <a class="el" href="../../#l00899">take_snapshot()</a>, <a class="el" href="../../#l00601">temp_snapshot_active()</a>, <a class="el" href="../../#l01006">undo()</a>, and <a class="el" href="../../#l00642">valid()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/slic3r/Utils/<a class="el" href="../../">UndoRedo.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../d9/d16/namespace_slic3r_1_1_undo_redo.html">UndoRedo</a></li><li class="navelem"><a class="el" href="../../d4/d2a/class_slic3r_1_1_undo_redo_1_1_stack_impl.html">StackImpl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
