<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::EdgeGrid::Grid Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/d8a/class_slic3r_1_1_edge_grid_1_1_grid-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::EdgeGrid::Grid Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/EdgeGrid.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::EdgeGrid::Grid:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../da/d8f/class_slic3r_1_1_edge_grid_1_1_grid__coll__graph.svg" width="100%" height="592"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dc2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_cell.html">Cell</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/de2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_closest_point_result.html">ClosestPointResult</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa2b9319fdd361854568b1ed4378fa913"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a> *, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa2b9319fdd361854568b1ed4378fa913">ContourPoint</a></td></tr>
<tr class="separator:aa2b9319fdd361854568b1ed4378fa913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b592453d67252402a42b032e742b363"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a> *, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">ContourEdge</a></td></tr>
<tr class="separator:a1b592453d67252402a42b032e742b363"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0fcf6539add0d9e7eadae4f59b7e350"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ad0fcf6539add0d9e7eadae4f59b7e350">Grid</a> ()=default</td></tr>
<tr class="separator:ad0fcf6539add0d9e7eadae4f59b7e350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8a38d67b91fc6f74beedaf159a9977"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1e8a38d67b91fc6f74beedaf159a9977">Grid</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;<a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>)</td></tr>
<tr class="separator:a1e8a38d67b91fc6f74beedaf159a9977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1355888e8fd8fba0c95074e7226369"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a4d1355888e8fd8fba0c95074e7226369">set_bbox</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;<a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>)</td></tr>
<tr class="separator:a4d1355888e8fd8fba0c95074e7226369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a51ccfba7ceba3729ab271beea1043f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a51ccfba7ceba3729ab271beea1043f">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &gt; &amp;polylines_or_polygons, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>, bool open)</td></tr>
<tr class="separator:a0a51ccfba7ceba3729ab271beea1043f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d09770585aca15da32a49f8ae175f66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a2d09770585aca15da32a49f8ae175f66">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;polygons, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;polylines, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a2d09770585aca15da32a49f8ae175f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130f6c9025387cba8bf094d5f2113638"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a130f6c9025387cba8bf094d5f2113638">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;polygons, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a130f6c9025387cba8bf094d5f2113638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1538ee0a76e4e2e36baccb5405aa2abd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1538ee0a76e4e2e36baccb5405aa2abd">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> * &gt; &amp;polygons, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a1538ee0a76e4e2e36baccb5405aa2abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507c836d19d3e42e65659415d912f8bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a507c836d19d3e42e65659415d912f8bd">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &gt; &amp;polygons, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a507c836d19d3e42e65659415d912f8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa881de61aa9e9d64dc1b85257bfb4e04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa881de61aa9e9d64dc1b85257bfb4e04">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/dc4/class_slic3r_1_1_ex_polygon.html">ExPolygon</a> &amp;expoly, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:aa881de61aa9e9d64dc1b85257bfb4e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d0fab99ce86afeff5e77d6642eb5a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a39d0fab99ce86afeff5e77d6642eb5a9">create</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a517930244d210021577457148f9a49e3">ExPolygons</a> &amp;expolygons, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a39d0fab99ce86afeff5e77d6642eb5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab439e984441bc7711efa81213740044f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab439e984441bc7711efa81213740044f">contours</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ab439e984441bc7711efa81213740044f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f9984974fa242c7f60b90b30a73307"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ad0f9984974fa242c7f60b90b30a73307">calculate_sdf</a> ()</td></tr>
<tr class="separator:ad0f9984974fa242c7f60b90b30a73307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab59fccb02b78572b88a11d47dba38d6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aab59fccb02b78572b88a11d47dba38d6">signed_distance_bilinear</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;pt) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:aab59fccb02b78572b88a11d47dba38d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401200603a8ee3ab3980b7dbf8d4d6e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_closest_point_result.html">ClosestPointResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a401200603a8ee3ab3980b7dbf8d4d6e9">closest_point_signed_distance</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;pt, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> search_radius) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a401200603a8ee3ab3980b7dbf8d4d6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1becfa2803527b240a868a55e160cc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ac1becfa2803527b240a868a55e160cc1">signed_distance_edges</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;pt, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> search_radius, <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> &amp;result_min_dist, bool *pon_segment=nullptr) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ac1becfa2803527b240a868a55e160cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95dd5202cd9940d97a182caf94311e74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a95dd5202cd9940d97a182caf94311e74">signed_distance</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;pt, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> search_radius, <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> &amp;result_min_dist) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a95dd5202cd9940d97a182caf94311e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651b7e150e11516477c628e52687c217"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a651b7e150e11516477c628e52687c217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895db0908aa79b4b312191576f4e0e3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a895db0908aa79b4b312191576f4e0e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25d00331d30ccf23e53cfaa83233239"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa25d00331d30ccf23e53cfaa83233239">rows</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:aa25d00331d30ccf23e53cfaa83233239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e232b24300dd25f1263f2daa2b08897"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a9e232b24300dd25f1263f2daa2b08897">cols</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a9e232b24300dd25f1263f2daa2b08897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b79fdc9151914b5318bb5f8d16af3e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0b79fdc9151914b5318bb5f8d16af3e4">contours_simplified</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>, bool fill_holes) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a0b79fdc9151914b5318bb5f8d16af3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5328eb2c8b7f8324a33c39ed4c7086"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">ContourEdge</a>, <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">ContourEdge</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a2d5328eb2c8b7f8324a33c39ed4c7086">intersecting_edges</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a2d5328eb2c8b7f8324a33c39ed4c7086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95eddce5cf85b14154a83832f88772f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a95eddce5cf85b14154a83832f88772f8">has_intersecting_edges</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a95eddce5cf85b14154a83832f88772f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424f19dd6565d5d1b562462fd9d457d5"><td class="memTemplParams" colspan="2">template&lt;typename VISITOR &gt; </td></tr>
<tr class="memitem:a424f19dd6565d5d1b562462fd9d457d5"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a424f19dd6565d5d1b562462fd9d457d5">visit_cells_intersecting_line</a> (<a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> p1, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> p2, VISITOR &amp;visitor) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a424f19dd6565d5d1b562462fd9d457d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae697a82e3fa588b5c84d600e048a76e6"><td class="memTemplParams" colspan="2">template&lt;typename VISITOR &gt; </td></tr>
<tr class="memitem:ae697a82e3fa588b5c84d600e048a76e6"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ae697a82e3fa588b5c84d600e048a76e6">visit_cells_intersecting_box</a> (<a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>, VISITOR &amp;visitor) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ae697a82e3fa588b5c84d600e048a76e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6677b4c8e235a9ee0bf5abeebbbf12c2"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;::const_iterator, std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;::const_iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6677b4c8e235a9ee0bf5abeebbbf12c2">cell_data_range</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d6/d4f/_block_methods_8h.html#a8dd30d04b6ce8a78abb064008deb8a9c">row</a>, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d6/d4f/_block_methods_8h.html#ac820575ee62de615224f350c02085469">col</a>) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a6677b4c8e235a9ee0bf5abeebbbf12c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c22769ba9922a1c4fb826f25e451bec"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0c22769ba9922a1c4fb826f25e451bec">segment</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::pair&lt; size_t, size_t &gt; &amp;contour_and_segment_idx) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a0c22769ba9922a1c4fb826f25e451bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae685ba61859f2b2812424589b9790e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d3b/class_slic3r_1_1_line.html">Line</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ae685ba61859f2b2812424589b9790e6d">line</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::pair&lt; size_t, size_t &gt; &amp;contour_and_segment_idx) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ae685ba61859f2b2812424589b9790e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3e95a5ceeb4539ea8822dd68d0171783"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>)</td></tr>
<tr class="separator:a3e95a5ceeb4539ea8822dd68d0171783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d46446dd8a9b0b7b646ab7f8c6ea135"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a5d46446dd8a9b0b7b646ab7f8c6ea135">cell_inside_or_crossing</a> (int r, int c) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a5d46446dd8a9b0b7b646ab7f8c6ea135"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa72e7373fac474814951c5390d97b20c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a></td></tr>
<tr class="separator:aa72e7373fac474814951c5390d97b20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6110e1ed60573fc05debbfb2c2278446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a></td></tr>
<tr class="separator:a6110e1ed60573fc05debbfb2c2278446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fb66f76043f26342305cd35c3b7d57"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> = 0</td></tr>
<tr class="separator:aa4fb66f76043f26342305cd35c3b7d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffc6c0744c4f780a1459e1e5362d2a9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> = 0</td></tr>
<tr class="separator:aeffc6c0744c4f780a1459e1e5362d2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949f1c36cb79d61e2dc1f00f830ccfd6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a></td></tr>
<tr class="separator:a949f1c36cb79d61e2dc1f00f830ccfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a43a45495b74f39365ae62a190c2e85"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a></td></tr>
<tr class="separator:a0a43a45495b74f39365ae62a190c2e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aaf533e0ca7f64803f64ac4d1fb8d50"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d1/dc2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_cell.html">Cell</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a></td></tr>
<tr class="separator:a3aaf533e0ca7f64803f64ac4d1fb8d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab163c40922c7acdf9e0bad45a3809e17"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a></td></tr>
<tr class="separator:ab163c40922c7acdf9e0bad45a3809e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a1b592453d67252402a42b032e742b363" name="a1b592453d67252402a42b032e742b363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b592453d67252402a42b032e742b363">&#9670;&#160;</a></span>ContourEdge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a>*, size_t&gt; <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">Slic3r::EdgeGrid::Grid::ContourEdge</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2b9319fdd361854568b1ed4378fa913" name="aa2b9319fdd361854568b1ed4378fa913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b9319fdd361854568b1ed4378fa913">&#9670;&#160;</a></span>ContourPoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a>*, size_t&gt; <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa2b9319fdd361854568b1ed4378fa913">Slic3r::EdgeGrid::Grid::ContourPoint</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad0fcf6539add0d9e7eadae4f59b7e350" name="ad0fcf6539add0d9e7eadae4f59b7e350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fcf6539add0d9e7eadae4f59b7e350">&#9670;&#160;</a></span>Grid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::EdgeGrid::Grid::Grid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e8a38d67b91fc6f74beedaf159a9977" name="a1e8a38d67b91fc6f74beedaf159a9977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8a38d67b91fc6f74beedaf159a9977">&#9670;&#160;</a></span>Grid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::EdgeGrid::Grid::Grid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;&#160;</td>
          <td class="paramname"><em>bbox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   95</span>: <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>) {}</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a651b7e150e11516477c628e52687c217"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">Slic3r::EdgeGrid::Grid::bbox</a></div><div class="ttdeci">const BoundingBox &amp; bbox() const</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:159</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_aa72e7373fac474814951c5390d97b20c"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">Slic3r::EdgeGrid::Grid::m_bbox</a></div><div class="ttdeci">BoundingBox m_bbox</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:383</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a651b7e150e11516477c628e52687c217" name="a651b7e150e11516477c628e52687c217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a651b7e150e11516477c628e52687c217">&#9670;&#160;</a></span>bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp; Slic3r::EdgeGrid::Grid::bbox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  159</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00383">m_bbox</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00681">Slic3r::any_expolygon_contains()</a>, <a class="el" href="../../#l00034">Slic3r::contour_distance()</a>, <a class="el" href="../../#l00086">Slic3r::FillLightning::Generator::generateTrees()</a>, <a class="el" href="../../#l00097">set_bbox()</a>, and <a class="el" href="../../#l00317">visit_cells_intersecting_box()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a651b7e150e11516477c628e52687c217_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad0f9984974fa242c7f60b90b30a73307" name="ad0f9984974fa242c7f60b90b30a73307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f9984974fa242c7f60b90b30a73307">&#9670;&#160;</a></span>calculate_sdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::calculate_sdf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  671</span>{</div>
<div class="line"><span class="lineno">  672</span><span class="preprocessor">#ifdef EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  673</span>  <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">  674</span>  ++ iRun;</div>
<div class="line"><span class="lineno">  675</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>  <span class="comment">// 1) Initialize a signum and an unsigned vector to a zero iso surface.</span></div>
<div class="line"><span class="lineno">  678</span>  <span class="keywordtype">size_t</span> nrows = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> + 1;</div>
<div class="line"><span class="lineno">  679</span>  <span class="keywordtype">size_t</span> ncols = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + 1;</div>
<div class="line"><span class="lineno">  680</span>  <span class="comment">// Unsigned vectors towards the closest point on the surface.</span></div>
<div class="line"><span class="lineno">  681</span>  std::vector&lt;float&gt; <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>(nrows * ncols * 2, FLT_MAX);</div>
<div class="line"><span class="lineno">  682</span>  <span class="comment">// Bit 0 set - negative.</span></div>
<div class="line"><span class="lineno">  683</span>  <span class="comment">// Bit 1 set - original value, the distance value shall not be changed by the Danielsson propagation.</span></div>
<div class="line"><span class="lineno">  684</span>  <span class="comment">// Bit 2 set - signum not propagated yet.</span></div>
<div class="line"><span class="lineno">  685</span>  std::vector&lt;unsigned char&gt; signs(nrows * ncols, 4);</div>
<div class="line"><span class="lineno">  686</span>  <span class="comment">// SDF will be initially filled with unsigned DF.</span></div>
<div class="line"><span class="lineno">  687</span><span class="comment">//  m_signed_distance_field.assign(nrows * ncols, FLT_MAX);</span></div>
<div class="line"><span class="lineno">  688</span>  <span class="keywordtype">float</span> search_radius = float(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>&lt;&lt;1);</div>
<div class="line"><span class="lineno">  689</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>.assign(nrows * ncols, search_radius);</div>
<div class="line"><span class="lineno">  690</span>  <span class="comment">// For each cell:</span></div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>; ++ r) {</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  693</span>      <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  694</span>      <span class="comment">// For each segment in the cell:</span></div>
<div class="line"><span class="lineno">  695</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = cell.begin; i != cell.end; ++ i) {</div>
<div class="line"><span class="lineno">  696</span>        <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].first];</div>
<div class="line"><span class="lineno">  697</span>        assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.closed());</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordtype">size_t</span> ipt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].second;</div>
<div class="line"><span class="lineno">  699</span>        <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno">  700</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p1 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(ipt);</div>
<div class="line"><span class="lineno">  701</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p2 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(ipt);</div>
<div class="line"><span class="lineno">  702</span>        <span class="comment">// Segment vector</span></div>
<div class="line"><span class="lineno">  703</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg = p2 - p1;</div>
<div class="line"><span class="lineno">  704</span>        <span class="comment">// l2 of v_seg</span></div>
<div class="line"><span class="lineno">  705</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> l2_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1));</div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">// For each corner of this cell and its 1 ring neighbours:</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> corner_y = -1; corner_y &lt; 3; ++ corner_y) {</div>
<div class="line"><span class="lineno">  708</span>          <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> corner_r = r + corner_y;</div>
<div class="line"><span class="lineno">  709</span>          <span class="keywordflow">if</span> (corner_r &lt; 0 || (<span class="keywordtype">size_t</span>)corner_r &gt;= nrows)</div>
<div class="line"><span class="lineno">  710</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  711</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> corner_x = -1; corner_x &lt; 3; ++ corner_x) {</div>
<div class="line"><span class="lineno">  712</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> corner_c = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> + corner_x;</div>
<div class="line"><span class="lineno">  713</span>            <span class="keywordflow">if</span> (corner_c &lt; 0 || (<span class="keywordtype">size_t</span>)corner_c &gt;= ncols)</div>
<div class="line"><span class="lineno">  714</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordtype">float</span>  &amp;d_min = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[corner_r * ncols + corner_c];</div>
<div class="line"><span class="lineno">  716</span>            <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> pt(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) + corner_c * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) + corner_r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  717</span>            <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_pt = pt - p1;</div>
<div class="line"><span class="lineno">  718</span>            <span class="comment">// dot(p2-p1, pt-p1)</span></div>
<div class="line"><span class="lineno">  719</span>            <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno">  720</span>            <span class="keywordflow">if</span> (t_pt &lt; 0) {</div>
<div class="line"><span class="lineno">  721</span>              <span class="comment">// Closest to p1.</span></div>
<div class="line"><span class="lineno">  722</span>              <span class="keywordtype">double</span> dabs = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)));</div>
<div class="line"><span class="lineno">  723</span>              <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno">  724</span>                <span class="comment">// Previous point.</span></div>
<div class="line"><span class="lineno">  725</span>                <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p0 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_prev(ipt);</div>
<div class="line"><span class="lineno">  726</span>                <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg_prev = p1 - p0;</div>
<div class="line"><span class="lineno">  727</span>                <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t2_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno">  728</span>                <span class="keywordflow">if</span> (t2_pt &gt; 0) {</div>
<div class="line"><span class="lineno">  729</span>                  <span class="comment">// Inside the wedge between the previous and the next segment.</span></div>
<div class="line"><span class="lineno">  730</span>                  <span class="comment">// Set the signum depending on whether the vertex is convex or reflex.</span></div>
<div class="line"><span class="lineno">  731</span>                  <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> det = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0));</div>
<div class="line"><span class="lineno">  732</span>                  assert(det != 0);</div>
<div class="line"><span class="lineno">  733</span>                  d_min = dabs;</div>
<div class="line"><span class="lineno">  734</span>                  <span class="comment">// Fill in an unsigned vector towards the zero iso surface.</span></div>
<div class="line"><span class="lineno">  735</span>                  <span class="keywordtype">float</span> *l = &amp;<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>[(corner_r * ncols + corner_c) &lt;&lt; 1];</div>
<div class="line"><span class="lineno">  736</span>                  l[0] = std::abs(v_pt(0));</div>
<div class="line"><span class="lineno">  737</span>                  l[1] = std::abs(v_pt(1));</div>
<div class="line"><span class="lineno">  738</span><span class="preprocessor">                #ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  739</span>                  <span class="keywordtype">double</span> dabs2 = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(l[0]*l[0]+l[1]*l[1]);</div>
<div class="line"><span class="lineno">  740</span>                  assert(std::abs(dabs-dabs2) &lt; 1e-4 * std::max(dabs, dabs2));</div>
<div class="line"><span class="lineno">  741</span><span class="preprocessor">                #endif </span><span class="comment">/* _DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  742</span>                  signs[corner_r * ncols + corner_c] = ((det &lt; 0) ? 1 : 0) | 2;</div>
<div class="line"><span class="lineno">  743</span>                }</div>
<div class="line"><span class="lineno">  744</span>              }</div>
<div class="line"><span class="lineno">  745</span>            }</div>
<div class="line"><span class="lineno">  746</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_pt &gt; l2_seg) {</div>
<div class="line"><span class="lineno">  747</span>              <span class="comment">// Closest to p2. Then p2 is the starting point of another segment, which shall be discovered in the same cell.</span></div>
<div class="line"><span class="lineno">  748</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  749</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  750</span>              <span class="comment">// Closest to the segment.</span></div>
<div class="line"><span class="lineno">  751</span>              assert(t_pt &gt;= 0 &amp;&amp; t_pt &lt;= l2_seg);</div>
<div class="line"><span class="lineno">  752</span>              <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> d_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno">  753</span>              <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = double(d_seg) / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<span class="keywordtype">double</span>(l2_seg));</div>
<div class="line"><span class="lineno">  754</span>              <span class="keywordtype">double</span> dabs = std::abs(d);</div>
<div class="line"><span class="lineno">  755</span>              <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno">  756</span>                d_min = dabs;</div>
<div class="line"><span class="lineno">  757</span>                <span class="comment">// Fill in an unsigned vector towards the zero iso surface.</span></div>
<div class="line"><span class="lineno">  758</span>                <span class="keywordtype">float</span> *l = &amp;<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>[(corner_r * ncols + corner_c) &lt;&lt; 1];</div>
<div class="line"><span class="lineno">  759</span>                <span class="keywordtype">float</span> linv = float(d_seg) / float(l2_seg);</div>
<div class="line"><span class="lineno">  760</span>                l[0] = std::abs(<span class="keywordtype">float</span>(v_seg(1)) * linv);</div>
<div class="line"><span class="lineno">  761</span>                l[1] = std::abs(<span class="keywordtype">float</span>(v_seg(0)) * linv);</div>
<div class="line"><span class="lineno">  762</span><span class="preprocessor">                #ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  763</span>                  <span class="keywordtype">double</span> dabs2 = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(l[0]*l[0]+l[1]*l[1]);</div>
<div class="line"><span class="lineno">  764</span>                  assert(std::abs(dabs-dabs2) &lt;= 1e-4 * std::max(dabs, dabs2));</div>
<div class="line"><span class="lineno">  765</span><span class="preprocessor">                #endif </span><span class="comment">/* _DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  766</span>                signs[corner_r * ncols + corner_c] = ((d_seg &lt; 0) ? 1 : 0) | 2;</div>
<div class="line"><span class="lineno">  767</span>              }</div>
<div class="line"><span class="lineno">  768</span>            }</div>
<div class="line"><span class="lineno">  769</span>          }</div>
<div class="line"><span class="lineno">  770</span>        }</div>
<div class="line"><span class="lineno">  771</span>      }</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span>  }</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span><span class="preprocessor">#ifdef EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  776</span>  { </div>
<div class="line"><span class="lineno">  777</span>    std::vector&lt;uint8_t&gt; pixels(ncols * nrows * 3, 0);</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = 0; r &lt; nrows; ++ r) {</div>
<div class="line"><span class="lineno">  779</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  780</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> *pxl = pixels.data() + (((nrows - r - 1) * ncols) + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) * 3;</div>
<div class="line"><span class="lineno">  781</span>        <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[r * ncols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">if</span> (d != search_radius) {</div>
<div class="line"><span class="lineno">  783</span>          <span class="keywordtype">float</span> s = 255 * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> / search_radius;</div>
<div class="line"><span class="lineno">  784</span>          <span class="keywordtype">int</span> is = std::max(0, std::min(255, <span class="keywordtype">int</span>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(s + 0.5f))));</div>
<div class="line"><span class="lineno">  785</span>          pxl[0] = 255;</div>
<div class="line"><span class="lineno">  786</span>          pxl[1] = 255 - is;</div>
<div class="line"><span class="lineno">  787</span>          pxl[2] = 255 - is;</div>
<div class="line"><span class="lineno">  788</span>        }</div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  790</span>          pxl[0] = 0;</div>
<div class="line"><span class="lineno">  791</span>          pxl[1] = 255;</div>
<div class="line"><span class="lineno">  792</span>          pxl[2] = 0;</div>
<div class="line"><span class="lineno">  793</span>        }</div>
<div class="line"><span class="lineno">  794</span>      }</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span>    <a class="code hl_function" href="../../de/d7c/namespace_slic3r_1_1png.html#a126732bf0e59fba59c26be1f3bb7bc6d">png::write_rgb_to_file_scaled</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;unsigned_df-%d.png&quot;</span>, iRun), ncols, nrows, pixels, 10);</div>
<div class="line"><span class="lineno">  797</span>  }</div>
<div class="line"><span class="lineno">  798</span>  {</div>
<div class="line"><span class="lineno">  799</span>    std::vector&lt;uint8_t&gt; pixels(ncols * nrows * 3, 0);</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = 0; r &lt; nrows; ++ r) {</div>
<div class="line"><span class="lineno">  801</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  802</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *pxl = pixels.data() + (((nrows - r - 1) * ncols) + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) * 3;</div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[r * ncols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">if</span> (d != search_radius) {</div>
<div class="line"><span class="lineno">  805</span>          <span class="keywordtype">float</span> s = 255 * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> / search_radius;</div>
<div class="line"><span class="lineno">  806</span>          <span class="keywordtype">int</span> is = std::max(0, std::min(255, <span class="keywordtype">int</span>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(s + 0.5f))));</div>
<div class="line"><span class="lineno">  807</span>          <span class="keywordflow">if</span> ((signs[r * ncols + c] &amp; 1) == 0) {</div>
<div class="line"><span class="lineno">  808</span>            <span class="comment">// Positive</span></div>
<div class="line"><span class="lineno">  809</span>            pxl[0] = 255;</div>
<div class="line"><span class="lineno">  810</span>            pxl[1] = 255 - is;</div>
<div class="line"><span class="lineno">  811</span>            pxl[2] = 255 - is;</div>
<div class="line"><span class="lineno">  812</span>          }</div>
<div class="line"><span class="lineno">  813</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  814</span>            <span class="comment">// Negative</span></div>
<div class="line"><span class="lineno">  815</span>            pxl[0] = 255 - is;</div>
<div class="line"><span class="lineno">  816</span>            pxl[1] = 255 - is;</div>
<div class="line"><span class="lineno">  817</span>            pxl[2] = 255;</div>
<div class="line"><span class="lineno">  818</span>          }</div>
<div class="line"><span class="lineno">  819</span>        }</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  821</span>          pxl[0] = 0;</div>
<div class="line"><span class="lineno">  822</span>          pxl[1] = 255;</div>
<div class="line"><span class="lineno">  823</span>          pxl[2] = 0;</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span>      }</div>
<div class="line"><span class="lineno">  826</span>    }</div>
<div class="line"><span class="lineno">  827</span>    <a class="code hl_function" href="../../de/d7c/namespace_slic3r_1_1png.html#a126732bf0e59fba59c26be1f3bb7bc6d">png::write_rgb_to_file_scaled</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;signed_df-%d.png&quot;</span>, iRun), ncols, nrows, pixels, 10);</div>
<div class="line"><span class="lineno">  828</span>  }</div>
<div class="line"><span class="lineno">  829</span><span class="preprocessor">#endif </span><span class="comment">// EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>  <span class="comment">// 2) Propagate the signum.</span></div>
<div class="line"><span class="lineno">  832</span><span class="preprocessor">  #define PROPAGATE_SIGNUM_SINGLE_STEP(DELTA) do { \</span></div>
<div class="line"><span class="lineno">  833</span><span class="preprocessor">    size_t       addr    = r * ncols + c;       \</span></div>
<div class="line"><span class="lineno">  834</span><span class="preprocessor">    unsigned char &amp;cur_val = signs[addr];         \</span></div>
<div class="line"><span class="lineno">  835</span><span class="preprocessor">    if (cur_val &amp; 4) {                  \</span></div>
<div class="line"><span class="lineno">  836</span><span class="preprocessor">      unsigned char old_val = signs[addr + (DELTA)];  \</span></div>
<div class="line"><span class="lineno">  837</span><span class="preprocessor">      if ((old_val &amp; 4) == 0)             \</span></div>
<div class="line"><span class="lineno">  838</span><span class="preprocessor">        cur_val = old_val &amp; 1;            \</span></div>
<div class="line"><span class="lineno">  839</span><span class="preprocessor">    }                           \</span></div>
<div class="line"><span class="lineno">  840</span><span class="preprocessor">  } while (0);</span></div>
<div class="line"><span class="lineno">  841</span>  <span class="comment">// Top to bottom propagation.</span></div>
<div class="line"><span class="lineno">  842</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; nrows; ++ r) {</div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">if</span> (r &gt; 0)</div>
<div class="line"><span class="lineno">  844</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  845</span>        <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(- <span class="keywordtype">int</span>(ncols));</div>
<div class="line"><span class="lineno">  846</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 1; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  847</span>      <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(- 1);</div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <span class="keywordtype">int</span>(ncols) - 2; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &gt;= 0; -- <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  849</span>      <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(+ 1);</div>
<div class="line"><span class="lineno">  850</span>  }</div>
<div class="line"><span class="lineno">  851</span>  <span class="comment">// Bottom to top propagation.</span></div>
<div class="line"><span class="lineno">  852</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = <span class="keywordtype">int</span>(nrows) - 2; r &gt;= 0; -- r) {</div>
<div class="line"><span class="lineno">  853</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  854</span>      <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(+ ncols);</div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 1; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  856</span>      <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(- 1);</div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <span class="keywordtype">int</span>(ncols) - 2; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &gt;= 0; -- <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  858</span>      <a class="code hl_define" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>(+ 1);</div>
<div class="line"><span class="lineno">  859</span>  }</div>
<div class="line"><span class="lineno">  860</span><span class="preprocessor">  #undef PROPAGATE_SIGNUM_SINGLE_STEP</span></div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  <span class="comment">// 3) Propagate the distance by the Danielsson chamfer metric.</span></div>
<div class="line"><span class="lineno">  863</span>  <span class="comment">// Top to bottom propagation.</span></div>
<div class="line"><span class="lineno">  864</span>  PropagateDanielssonSingleStep&lt;1, 0&gt; danielsson_hstep(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.data(), signs.data(), ncols, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  865</span>  PropagateDanielssonSingleStep&lt;0, 1&gt; danielsson_vstep(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.data(), signs.data(), ncols, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  866</span>  PropagateDanielssonSingleVStep3   danielsson_vstep3(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.data(), signs.data(), ncols, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  867</span>  <span class="comment">// Top to bottom propagation.</span></div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; nrows; ++ r) {</div>
<div class="line"><span class="lineno">  869</span>    <span class="keywordflow">if</span> (r &gt; 0)</div>
<div class="line"><span class="lineno">  870</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  871</span>        danielsson_vstep(r, c, -<span class="keywordtype">int</span>(ncols));</div>
<div class="line"><span class="lineno">  872</span><span class="comment">//        PROPAGATE_DANIELSSON_SINGLE_VSTEP3(-int(ncols), c != 0, c + 1 != ncols);</span></div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 1; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  874</span>      danielsson_hstep(r, c, -1);</div>
<div class="line"><span class="lineno">  875</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <span class="keywordtype">int</span>(ncols) - 2; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &gt;= 0; -- <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  876</span>      danielsson_hstep(r, c, +1);</div>
<div class="line"><span class="lineno">  877</span>  }</div>
<div class="line"><span class="lineno">  878</span>  <span class="comment">// Bottom to top propagation.</span></div>
<div class="line"><span class="lineno">  879</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = <span class="keywordtype">int</span>(nrows) - 2; r &gt;= 0; -- r) {</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  881</span>      danielsson_vstep(r, c, +ncols);</div>
<div class="line"><span class="lineno">  882</span><span class="comment">//      PROPAGATE_DANIELSSON_SINGLE_VSTEP3(+int(ncols), c != 0, c + 1 != ncols);</span></div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 1; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  884</span>      danielsson_hstep(r, c, -1);</div>
<div class="line"><span class="lineno">  885</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <span class="keywordtype">int</span>(ncols) - 2; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &gt;= 0; -- <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno">  886</span>      danielsson_hstep(r, c, +1);</div>
<div class="line"><span class="lineno">  887</span>  }</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>  <span class="comment">// Update signed distance field from absolte vectors to the iso-surface.</span></div>
<div class="line"><span class="lineno">  890</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; nrows; ++ r) {</div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  892</span>      <span class="keywordtype">size_t</span>  addr = r * ncols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">  893</span>      <span class="keywordtype">float</span>  *v    = &amp;<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>[addr&lt;&lt;1];</div>
<div class="line"><span class="lineno">  894</span>      <span class="keywordtype">float</span>   <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>    = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(v[0]*v[0]+v[1]*v[1]);</div>
<div class="line"><span class="lineno">  895</span>      <span class="keywordflow">if</span> (signs[addr] &amp; 1)</div>
<div class="line"><span class="lineno">  896</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = -<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>;</div>
<div class="line"><span class="lineno">  897</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[addr] = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>;</div>
<div class="line"><span class="lineno">  898</span>    }</div>
<div class="line"><span class="lineno">  899</span>  }</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span><span class="preprocessor">#ifdef EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  902</span>  {</div>
<div class="line"><span class="lineno">  903</span>    std::vector&lt;uint8_t&gt; pixels(ncols * nrows * 3, 0);</div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordtype">float</span> search_radius = float(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> * 5);</div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = 0; r &lt; nrows; ++r) {</div>
<div class="line"><span class="lineno">  906</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  907</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> *pxl = pixels.data() + (((nrows - r - 1) * ncols) + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) * 3;</div>
<div class="line"><span class="lineno">  908</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = signs[r * ncols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">switch</span> (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a>) {</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  911</span>          <span class="comment">// Positive, outside of a narrow band.</span></div>
<div class="line"><span class="lineno">  912</span>          pxl[0] = 0;</div>
<div class="line"><span class="lineno">  913</span>          pxl[1] = 0;</div>
<div class="line"><span class="lineno">  914</span>          pxl[2] = 255;</div>
<div class="line"><span class="lineno">  915</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  916</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  917</span>          <span class="comment">// Negative, outside of a narrow band.</span></div>
<div class="line"><span class="lineno">  918</span>          pxl[0] = 255;</div>
<div class="line"><span class="lineno">  919</span>          pxl[1] = 0;</div>
<div class="line"><span class="lineno">  920</span>          pxl[2] = 0;</div>
<div class="line"><span class="lineno">  921</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  923</span>          <span class="comment">// Positive, outside of a narrow band.</span></div>
<div class="line"><span class="lineno">  924</span>          pxl[0] = 100;</div>
<div class="line"><span class="lineno">  925</span>          pxl[1] = 100;</div>
<div class="line"><span class="lineno">  926</span>          pxl[2] = 255;</div>
<div class="line"><span class="lineno">  927</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  929</span>          <span class="comment">// Negative, outside of a narrow band.</span></div>
<div class="line"><span class="lineno">  930</span>          pxl[0] = 255;</div>
<div class="line"><span class="lineno">  931</span>          pxl[1] = 100; </div>
<div class="line"><span class="lineno">  932</span>          pxl[2] = 100;</div>
<div class="line"><span class="lineno">  933</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  935</span>          <span class="comment">// This shall not happen. Undefined signum.</span></div>
<div class="line"><span class="lineno">  936</span>          pxl[0] = 0;</div>
<div class="line"><span class="lineno">  937</span>          pxl[1] = 255;</div>
<div class="line"><span class="lineno">  938</span>          pxl[2] = 0;</div>
<div class="line"><span class="lineno">  939</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  941</span>          <span class="comment">// This shall not happen. Invalid signum value.</span></div>
<div class="line"><span class="lineno">  942</span>          pxl[0] = 255;</div>
<div class="line"><span class="lineno">  943</span>          pxl[1] = 255;</div>
<div class="line"><span class="lineno">  944</span>          pxl[2] = 255;</div>
<div class="line"><span class="lineno">  945</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  946</span>        }</div>
<div class="line"><span class="lineno">  947</span>      }</div>
<div class="line"><span class="lineno">  948</span>    }</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_function" href="../../de/d7c/namespace_slic3r_1_1png.html#a126732bf0e59fba59c26be1f3bb7bc6d">png::write_rgb_to_file_scaled</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;signed_df-signs-%d.png&quot;</span>, iRun), ncols, nrows, pixels, 10);</div>
<div class="line"><span class="lineno">  950</span>  }</div>
<div class="line"><span class="lineno">  951</span><span class="preprocessor">#endif </span><span class="comment">// EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span><span class="preprocessor">#ifdef EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  954</span>  {</div>
<div class="line"><span class="lineno">  955</span>    std::vector&lt;uint8_t&gt; pixels(ncols * nrows * 3, 0);</div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordtype">float</span> search_radius = float(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> * 5);</div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = 0; r &lt; nrows; ++r) {</div>
<div class="line"><span class="lineno">  958</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; ncols; ++<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno">  959</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a> *pxl = pixels.data() + (((nrows - r - 1) * ncols) + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) * 3;</div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[r * ncols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  961</span>        <span class="keywordtype">float</span> s = 255.f * fabs(d) / search_radius;</div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordtype">int</span> is = std::max(0, std::min(255, <span class="keywordtype">int</span>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(s + 0.5f))));</div>
<div class="line"><span class="lineno">  963</span>        <span class="keywordflow">if</span> (d &lt; 0.f) {</div>
<div class="line"><span class="lineno">  964</span>          pxl[0] = 255;</div>
<div class="line"><span class="lineno">  965</span>          pxl[1] = 255 - is;</div>
<div class="line"><span class="lineno">  966</span>          pxl[2] = 255 - is;</div>
<div class="line"><span class="lineno">  967</span>        }</div>
<div class="line"><span class="lineno">  968</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  969</span>          pxl[0] = 255 - is;</div>
<div class="line"><span class="lineno">  970</span>          pxl[1] = 255 - is;</div>
<div class="line"><span class="lineno">  971</span>          pxl[2] = 255;</div>
<div class="line"><span class="lineno">  972</span>        }</div>
<div class="line"><span class="lineno">  973</span>      }</div>
<div class="line"><span class="lineno">  974</span>    }</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_function" href="../../de/d7c/namespace_slic3r_1_1png.html#a126732bf0e59fba59c26be1f3bb7bc6d">png::write_rgb_to_file_scaled</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;signed_df2-%d.png&quot;</span>, iRun), ncols, nrows, pixels, 10);</div>
<div class="line"><span class="lineno">  976</span>  }</div>
<div class="line"><span class="lineno">  977</span><span class="preprocessor">#endif </span><span class="comment">// EDGE_GRID_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">  978</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a281eccb624a3ff6dacbe305828e43a82"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SignReturnType sign() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:184</div></div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a3230e10964844c34fb73eaccc84dc8a7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const FloorReturnType floor() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:388</div></div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
<div class="ttc" id="a_edge_grid_8cpp_html_a2fc36568cac4d3a30157cc4d30d3046f"><div class="ttname"><a href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a></div><div class="ttdeci">#define PROPAGATE_SIGNUM_SINGLE_STEP(DELTA)</div></div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_ac249c80f8bbfde86457794be35e12ea9"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">Slic3r::BoundingBoxBase::min</a></div><div class="ttdeci">PointType min</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:16</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a0a43a45495b74f39365ae62a190c2e85"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">Slic3r::EdgeGrid::Grid::m_cell_data</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; m_cell_data</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:395</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a3aaf533e0ca7f64803f64ac4d1fb8d50"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">Slic3r::EdgeGrid::Grid::m_cells</a></div><div class="ttdeci">std::vector&lt; Cell &gt; m_cells</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:398</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a6110e1ed60573fc05debbfb2c2278446"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">Slic3r::EdgeGrid::Grid::m_resolution</a></div><div class="ttdeci">coord_t m_resolution</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:385</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a949f1c36cb79d61e2dc1f00f830ccfd6"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">Slic3r::EdgeGrid::Grid::m_contours</a></div><div class="ttdeci">std::vector&lt; Contour &gt; m_contours</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:392</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_aa4fb66f76043f26342305cd35c3b7d57"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">Slic3r::EdgeGrid::Grid::m_rows</a></div><div class="ttdeci">size_t m_rows</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:386</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_ab163c40922c7acdf9e0bad45a3809e17"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">Slic3r::EdgeGrid::Grid::m_signed_distance_field</a></div><div class="ttdeci">std::vector&lt; float &gt; m_signed_distance_field</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:402</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_aeffc6c0744c4f780a1459e1e5362d2a9"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">Slic3r::EdgeGrid::Grid::m_cols</a></div><div class="ttdeci">size_t m_cols</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:387</div></div>
<div class="ttc" id="aclass_slic3r_1_1_point_html"><div class="ttname"><a href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a></div><div class="ttdef"><b>Definition</b> Point.hpp:158</div></div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:39</div></div>
<div class="ttc" id="anamespace_slic3r_1_1png_html_a126732bf0e59fba59c26be1f3bb7bc6d"><div class="ttname"><a href="../../de/d7c/namespace_slic3r_1_1png.html#a126732bf0e59fba59c26be1f3bb7bc6d">Slic3r::png::write_rgb_to_file_scaled</a></div><div class="ttdeci">bool write_rgb_to_file_scaled(const char *file_name_utf8, size_t width, size_t height, const uint8_t *data_rgb, size_t scale)</div><div class="ttdef"><b>Definition</b> PNGReadWrite.cpp:243</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespace_slic3r_html_af61cef4113ccd6c7b65581bcfb25e340"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">Slic3r::contour</a></div><div class="ttdeci">const Polygon &amp; contour(const ExPolygon &amp;p)</div><div class="ttdef"><b>Definition</b> AGGRaster.hpp:21</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
<div class="ttc" id="aslic3r_2_g_u_i_2_i18_n_8hpp_html_a3948ef94e164df6b50c4a9d12ba60eb5"><div class="ttname"><a href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a></div><div class="ttdeci">#define L(s)</div><div class="ttdef"><b>Definition</b> I18N.hpp:18</div></div>
<div class="ttc" id="aunistd_8h_html_a67a9885ef4908cb72ce26d75b694386c"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a></div><div class="ttdeci">__int64 int64_t</div><div class="ttdef"><b>Definition</b> unistd.h:76</div></div>
<div class="ttc" id="aunistd_8h_html_a9a941819355e6f658991890ff66b4b0e"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#a9a941819355e6f658991890ff66b4b0e">uint8_t</a></div><div class="ttdeci">unsigned __int8 uint8_t</div><div class="ttdef"><b>Definition</b> unistd.h:77</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00021">Slic3r::contour()</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00388">floor()</a>, <a class="el" href="../../#l00018">L</a>, <a class="el" href="../../d1/db1/_edge_grid_8cpp.html#a2fc36568cac4d3a30157cc4d30d3046f">PROPAGATE_SIGNUM_SINGLE_STEP</a>, <a class="el" href="../../#l00184">sign()</a>, <a class="el" href="../../#l00152">sqrt()</a>, and <a class="el" href="../../#l00243">Slic3r::png::write_rgb_to_file_scaled()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_ad0f9984974fa242c7f60b90b30a73307_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6677b4c8e235a9ee0bf5abeebbbf12c2" name="a6677b4c8e235a9ee0bf5abeebbbf12c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6677b4c8e235a9ee0bf5abeebbbf12c2">&#9670;&#160;</a></span>cell_data_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;::const_iterator, std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;::const_iterator &gt; Slic3r::EdgeGrid::Grid::cell_data_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  337</span>  {</div>
<div class="line"><span class="lineno">  338</span>        assert(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a8dd30d04b6ce8a78abb064008deb8a9c">row</a> &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a8dd30d04b6ce8a78abb064008deb8a9c">row</a>) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>);</div>
<div class="line"><span class="lineno">  339</span>        assert(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#ac820575ee62de615224f350c02085469">col</a> &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#ac820575ee62de615224f350c02085469">col</a>) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  340</span>    <span class="keyword">const</span> EdgeGrid::Grid::Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a8dd30d04b6ce8a78abb064008deb8a9c">row</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#ac820575ee62de615224f350c02085469">col</a>];</div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">return</span> std::make_pair(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>.begin() + cell.begin, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>.begin() + cell.end);</div>
<div class="line"><span class="lineno">  342</span>  }</div>
<div class="ttc" id="a_block_methods_8h_html_a8dd30d04b6ce8a78abb064008deb8a9c"><div class="ttname"><a href="../../d6/d4f/_block_methods_8h.html#a8dd30d04b6ce8a78abb064008deb8a9c">row</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC RowXpr row(Index i)</div><div class="ttdoc">This is the const version of row(). *‍/.</div><div class="ttdef"><b>Definition</b> BlockMethods.h:859</div></div>
<div class="ttc" id="a_block_methods_8h_html_ac820575ee62de615224f350c02085469"><div class="ttname"><a href="../../d6/d4f/_block_methods_8h.html#ac820575ee62de615224f350c02085469">col</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC ColXpr col(Index i)</div><div class="ttdoc">This is the const version of col().</div><div class="ttdef"><b>Definition</b> BlockMethods.h:838</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00838">col()</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00395">m_cell_data</a>, <a class="el" href="../../#l00398">m_cells</a>, <a class="el" href="../../#l00387">m_cols</a>, <a class="el" href="../../#l00386">m_rows</a>, and <a class="el" href="../../#l00859">row()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00034">Slic3r::contour_distance()</a>, <a class="el" href="../../#l00830">Slic3r::contour_distance()</a>, <a class="el" href="../../#l00233">Slic3r::contour_distance2()</a>, <a class="el" href="../../#l00849">Slic3r::mark_boundary_segments_touching_infill()</a>, <a class="el" href="../../#l00071">Slic3r::AllIntersectionsVisitor::operator()()</a>, <a class="el" href="../../#l00098">Slic3r::FirstIntersectionVisitor::operator()()</a>, <a class="el" href="../../#l00136">Slic3r::MinDistanceVisitor::operator()()</a>, and <a class="el" href="../../#l00093">Slic3r::PaintedLineVisitor::operator()()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a6677b4c8e235a9ee0bf5abeebbbf12c2_cgraph.svg" width="250" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a6677b4c8e235a9ee0bf5abeebbbf12c2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5d46446dd8a9b0b7b646ab7f8c6ea135" name="a5d46446dd8a9b0b7b646ab7f8c6ea135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d46446dd8a9b0b7b646ab7f8c6ea135">&#9670;&#160;</a></span>cell_inside_or_crossing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::EdgeGrid::Grid::cell_inside_or_crossing </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  370</span>  {</div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">if</span> (r &lt; 0 || (<span class="keywordtype">size_t</span>)r &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> ||</div>
<div class="line"><span class="lineno">  372</span>      c &lt; 0 || (<span class="keywordtype">size_t</span>)c &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>)</div>
<div class="line"><span class="lineno">  373</span>      <span class="comment">// The cell is outside the domain. Hoping that the contours were correctly oriented, so</span></div>
<div class="line"><span class="lineno">  374</span>      <span class="comment">// there is a CCW outmost contour so the out of domain cells are outside.</span></div>
<div class="line"><span class="lineno">  375</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  376</span>    <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">return</span> </div>
<div class="line"><span class="lineno">  378</span>      (cell.begin &lt; cell.end) || </div>
<div class="line"><span class="lineno">  379</span>      (! <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>.empty() &amp;&amp; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[r * (<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + 1) + c] &lt;= 0.f);</div>
<div class="line"><span class="lineno">  380</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00398">m_cells</a>, <a class="el" href="../../#l00387">m_cols</a>, <a class="el" href="../../#l00386">m_rows</a>, and <a class="el" href="../../#l00402">m_signed_distance_field</a>.</p>

</div>
</div>
<a id="a401200603a8ee3ab3980b7dbf8d4d6e9" name="a401200603a8ee3ab3980b7dbf8d4d6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401200603a8ee3ab3980b7dbf8d4d6e9">&#9670;&#160;</a></span>closest_point_signed_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_closest_point_result.html">EdgeGrid::Grid::ClosestPointResult</a> Slic3r::EdgeGrid::Grid::closest_point_signed_distance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>pt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>search_radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1046</span>{</div>
<div class="line"><span class="lineno"> 1047</span>  BoundingBox <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>;</div>
<div class="line"><span class="lineno"> 1048</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a> = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a> = <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(pt(0) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0), pt(1) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1));</div>
<div class="line"><span class="lineno"> 1049</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a6c0e2282e86366eea8b08e970c75ff9b">defined</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1050</span>  <span class="comment">// Upper boundary, round to grid and test validity.</span></div>
<div class="line"><span class="lineno"> 1051</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) += search_radius;</div>
<div class="line"><span class="lineno"> 1052</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) += search_radius;</div>
<div class="line"><span class="lineno"> 1053</span>  ClosestPointResult result;</div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) &lt; 0 || <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) &lt; 0)</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1056</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1057</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>)</div>
<div class="line"><span class="lineno"> 1059</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> - 1;</div>
<div class="line"><span class="lineno"> 1060</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>)</div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> - 1;</div>
<div class="line"><span class="lineno"> 1062</span>  <span class="comment">// Lower boundary, round to grid and test validity.</span></div>
<div class="line"><span class="lineno"> 1063</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) -= search_radius;</div>
<div class="line"><span class="lineno"> 1064</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) -= search_radius;</div>
<div class="line"><span class="lineno"> 1065</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) &lt; 0)</div>
<div class="line"><span class="lineno"> 1066</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) = 0;</div>
<div class="line"><span class="lineno"> 1067</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) &lt; 0)</div>
<div class="line"><span class="lineno"> 1068</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) = 0;</div>
<div class="line"><span class="lineno"> 1069</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1070</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1071</span>  <span class="comment">// Is the interval empty?</span></div>
<div class="line"><span class="lineno"> 1072</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) &gt; <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) ||</div>
<div class="line"><span class="lineno"> 1073</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) &gt; <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1))</div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1075</span>  <span class="comment">// Traverse all cells in the bounding box.</span></div>
<div class="line"><span class="lineno"> 1076</span>  <span class="keywordtype">double</span> d_min = double(search_radius);</div>
<div class="line"><span class="lineno"> 1077</span>  <span class="comment">// Signum of the distance field at pt.</span></div>
<div class="line"><span class="lineno"> 1078</span>  <span class="keywordtype">int</span> sign_min = 0;</div>
<div class="line"><span class="lineno"> 1079</span>  <span class="keywordtype">double</span> l2_seg_min = 1.;</div>
<div class="line"><span class="lineno"> 1080</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1); r &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1); ++ r) {</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0); <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0); ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1082</span>      <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno"> 1083</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = cell.begin; i &lt; cell.end; ++ i) {</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span>   contour_idx = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].first;</div>
<div class="line"><span class="lineno"> 1085</span>        <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>     = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[contour_idx];</div>
<div class="line"><span class="lineno"> 1086</span>        assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.closed());</div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordtype">size_t</span> ipt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].second;</div>
<div class="line"><span class="lineno"> 1088</span>        <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno"> 1089</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p1 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(ipt);</div>
<div class="line"><span class="lineno"> 1090</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p2 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(ipt);</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg = p2 - p1;</div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_pt  = pt - p1;</div>
<div class="line"><span class="lineno"> 1093</span>        <span class="comment">// dot(p2-p1, pt-p1)</span></div>
<div class="line"><span class="lineno"> 1094</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1095</span>        <span class="comment">// l2 of seg</span></div>
<div class="line"><span class="lineno"> 1096</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> l2_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1));</div>
<div class="line"><span class="lineno"> 1097</span>        <span class="keywordflow">if</span> (t_pt &lt; 0) {</div>
<div class="line"><span class="lineno"> 1098</span>          <span class="comment">// Closest to p1.</span></div>
<div class="line"><span class="lineno"> 1099</span>          <span class="keywordtype">double</span> dabs = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)));</div>
<div class="line"><span class="lineno"> 1100</span>          <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno"> 1101</span>            <span class="comment">// Previous point.</span></div>
<div class="line"><span class="lineno"> 1102</span>            <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p0 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_prev(ipt);</div>
<div class="line"><span class="lineno"> 1103</span>            <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg_prev = p1 - p0;</div>
<div class="line"><span class="lineno"> 1104</span>            <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t2_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1105</span>            <span class="keywordflow">if</span> (t2_pt &gt; 0) {</div>
<div class="line"><span class="lineno"> 1106</span>              <span class="comment">// Inside the wedge between the previous and the next segment.</span></div>
<div class="line"><span class="lineno"> 1107</span>              d_min = dabs;</div>
<div class="line"><span class="lineno"> 1108</span>              <span class="comment">// Set the signum depending on whether the vertex is convex or reflex.</span></div>
<div class="line"><span class="lineno"> 1109</span>              <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> det = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0));</div>
<div class="line"><span class="lineno"> 1110</span>              assert(det != 0);</div>
<div class="line"><span class="lineno"> 1111</span>              sign_min = (det &gt; 0) ? 1 : -1;</div>
<div class="line"><span class="lineno"> 1112</span>              result.contour_idx = contour_idx;</div>
<div class="line"><span class="lineno"> 1113</span>              result.start_point_idx = ipt;</div>
<div class="line"><span class="lineno"> 1114</span>              result.t = 0.;</div>
<div class="line"><span class="lineno"> 1115</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><span class="lineno"> 1116</span>              <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> vfoot = (p1 - pt).cast&lt;double&gt;();</div>
<div class="line"><span class="lineno"> 1117</span>              <span class="keywordtype">double</span> dist_foot = vfoot.norm();</div>
<div class="line"><span class="lineno"> 1118</span>              <span class="keywordtype">double</span> dist_foot_err = dist_foot - d_min;</div>
<div class="line"><span class="lineno"> 1119</span>              assert(std::abs(dist_foot_err) &lt; 1e-7 * d_min);</div>
<div class="line"><span class="lineno"> 1120</span><span class="preprocessor">#endif </span><span class="comment">/* NDEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1121</span>            }</div>
<div class="line"><span class="lineno"> 1122</span>          }</div>
<div class="line"><span class="lineno"> 1123</span>        }</div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_pt &gt; l2_seg) {</div>
<div class="line"><span class="lineno"> 1125</span>          <span class="comment">// Closest to p2. Then p2 is the starting point of another segment, which shall be discovered in the same cell.</span></div>
<div class="line"><span class="lineno"> 1126</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1127</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1128</span>          <span class="comment">// Closest to the segment.</span></div>
<div class="line"><span class="lineno"> 1129</span>          assert(t_pt &gt;= 0 &amp;&amp; t_pt &lt;= l2_seg);</div>
<div class="line"><span class="lineno"> 1130</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> d_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1131</span>          <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = double(d_seg) / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<span class="keywordtype">double</span>(l2_seg));</div>
<div class="line"><span class="lineno"> 1132</span>          <span class="keywordtype">double</span> dabs = std::abs(d);</div>
<div class="line"><span class="lineno"> 1133</span>          <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno"> 1134</span>            d_min = dabs;</div>
<div class="line"><span class="lineno"> 1135</span>            sign_min = (d_seg &lt; 0) ? -1 : ((d_seg == 0) ? 0 : 1);</div>
<div class="line"><span class="lineno"> 1136</span>            l2_seg_min = l2_seg;</div>
<div class="line"><span class="lineno"> 1137</span>            result.contour_idx = contour_idx;</div>
<div class="line"><span class="lineno"> 1138</span>            result.start_point_idx = ipt;</div>
<div class="line"><span class="lineno"> 1139</span>            result.t = t_pt;</div>
<div class="line"><span class="lineno"> 1140</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><span class="lineno"> 1141</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> foot = p1.cast&lt;<span class="keywordtype">double</span>&gt;() * (1. - result.t / l2_seg_min) + p2.cast&lt;<span class="keywordtype">double</span>&gt;() * (result.t / l2_seg_min);</div>
<div class="line"><span class="lineno"> 1142</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> vfoot = foot - pt.cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno"> 1143</span>            <span class="keywordtype">double</span> dist_foot = vfoot.norm();</div>
<div class="line"><span class="lineno"> 1144</span>            <span class="keywordtype">double</span> dist_foot_err = dist_foot - d_min;</div>
<div class="line"><span class="lineno"> 1145</span>            assert(std::abs(dist_foot_err) &lt; 1e-7 || std::abs(dist_foot_err) &lt; 1e-7 * d_min);</div>
<div class="line"><span class="lineno"> 1146</span><span class="preprocessor">#endif </span><span class="comment">/* NDEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1147</span>          }</div>
<div class="line"><span class="lineno"> 1148</span>        }</div>
<div class="line"><span class="lineno"> 1149</span>      }</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span>  }</div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keywordflow">if</span> (result.contour_idx != <span class="keywordtype">size_t</span>(-1) &amp;&amp; d_min &lt;= <span class="keywordtype">double</span>(search_radius)) {</div>
<div class="line"><span class="lineno"> 1153</span>    result.distance = d_min * sign_min;</div>
<div class="line"><span class="lineno"> 1154</span>    result.t /= l2_seg_min;</div>
<div class="line"><span class="lineno"> 1155</span>    assert(result.t &gt;= 0. &amp;&amp; result.t &lt;= 1.);</div>
<div class="line"><span class="lineno"> 1156</span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><span class="lineno"> 1157</span>    {</div>
<div class="line"><span class="lineno"> 1158</span>      <span class="keyword">const</span> Contour   &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[result.contour_idx];</div>
<div class="line"><span class="lineno"> 1159</span>      <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p1  = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(result.start_point_idx);</div>
<div class="line"><span class="lineno"> 1160</span>      <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p2  = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(result.start_point_idx);</div>
<div class="line"><span class="lineno"> 1161</span>      <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> vfoot;</div>
<div class="line"><span class="lineno"> 1162</span>      <span class="keywordflow">if</span> (result.t == 0)</div>
<div class="line"><span class="lineno"> 1163</span>        vfoot = p1.cast&lt;<span class="keywordtype">double</span>&gt;() - pt.cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno"> 1164</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1165</span>        vfoot = p1.cast&lt;<span class="keywordtype">double</span>&gt;() * (1. - result.t) + p2.cast&lt;<span class="keywordtype">double</span>&gt;() * result.t - pt.cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno"> 1166</span>      <span class="keywordtype">double</span> dist_foot = vfoot.norm();</div>
<div class="line"><span class="lineno"> 1167</span>      <span class="keywordtype">double</span> dist_foot_err = dist_foot - std::abs(result.distance);</div>
<div class="line"><span class="lineno"> 1168</span>      assert(std::abs(dist_foot_err) &lt; 1e-7 || std::abs(dist_foot_err) &lt; 1e-7 * std::abs(result.distance));</div>
<div class="line"><span class="lineno"> 1169</span>    }</div>
<div class="line"><span class="lineno"> 1170</span><span class="preprocessor">#endif </span><span class="comment">/* NDEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1171</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1172</span>    result = ClosestPointResult();</div>
<div class="line"><span class="lineno"> 1173</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1174</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_a1382e0a608cd3261f2506f7b48d60857"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">Slic3r::BoundingBoxBase::max</a></div><div class="ttdeci">PointType max</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:17</div></div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_a6c0e2282e86366eea8b08e970c75ff9b"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a6c0e2282e86366eea8b08e970c75ff9b">Slic3r::BoundingBoxBase::defined</a></div><div class="ttdeci">bool defined</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:18</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:51</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00021">Slic3r::contour()</a>, <a class="el" href="../../#l00140">Slic3r::EdgeGrid::Grid::ClosestPointResult::contour_idx</a>, <a class="el" href="../../#l00018">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::defined</a>, <a class="el" href="../../#l00143">Slic3r::EdgeGrid::Grid::ClosestPointResult::distance</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00017">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::max</a>, <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>, <a class="el" href="../../#l00152">sqrt()</a>, <a class="el" href="../../#l00141">Slic3r::EdgeGrid::Grid::ClosestPointResult::start_point_idx</a>, and <a class="el" href="../../#l00145">Slic3r::EdgeGrid::Grid::ClosestPointResult::t</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a401200603a8ee3ab3980b7dbf8d4d6e9_cgraph.svg" width="316" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9e232b24300dd25f1263f2daa2b08897" name="a9e232b24300dd25f1263f2daa2b08897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e232b24300dd25f1263f2daa2b08897">&#9670;&#160;</a></span>cols()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t Slic3r::EdgeGrid::Grid::cols </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  162</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00387">m_cols</a>.</p>

</div>
</div>
<a id="ab439e984441bc7711efa81213740044f" name="ab439e984441bc7711efa81213740044f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab439e984441bc7711efa81213740044f">&#9670;&#160;</a></span>contours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a> &gt; &amp; Slic3r::EdgeGrid::Grid::contours </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  115</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00392">m_contours</a>.</p>

</div>
</div>
<a id="a0b79fdc9151914b5318bb5f8d16af3e4" name="a0b79fdc9151914b5318bb5f8d16af3e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b79fdc9151914b5318bb5f8d16af3e4">&#9670;&#160;</a></span>contours_simplified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> Slic3r::EdgeGrid::Grid::contours_simplified </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fill_holes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1282</span>{</div>
<div class="line"><span class="lineno"> 1283</span>  assert(std::abs(2 * <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>  <span class="keyword">typedef</span> std::unordered_multimap&lt;Point, int, PointHash&gt; EndPointMapType;</div>
<div class="line"><span class="lineno"> 1286</span>  <span class="comment">// 0) Prepare a binary grid.</span></div>
<div class="line"><span class="lineno"> 1287</span>  <span class="keywordtype">size_t</span> cell_rows = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> + 2;</div>
<div class="line"><span class="lineno"> 1288</span>  <span class="keywordtype">size_t</span> cell_cols = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + 2;</div>
<div class="line"><span class="lineno"> 1289</span>  std::vector&lt;char&gt; cell_inside(cell_rows * cell_cols, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1290</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; int(cell_rows); ++ r)</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; int(cell_cols); ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>)</div>
<div class="line"><span class="lineno"> 1292</span>      cell_inside[r * cell_cols + c] = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a5d46446dd8a9b0b7b646ab7f8c6ea135">cell_inside_or_crossing</a>(r - 1, c - 1);</div>
<div class="line"><span class="lineno"> 1293</span>  <span class="comment">// Fill in empty cells, which have a left / right neighbor filled.</span></div>
<div class="line"><span class="lineno"> 1294</span>  <span class="comment">// Fill in empty cells, which have the top / bottom neighbor filled.</span></div>
<div class="line"><span class="lineno"> 1295</span>  <span class="keywordflow">if</span> (fill_holes) {</div>
<div class="line"><span class="lineno"> 1296</span>    std::vector&lt;char&gt; cell_inside2(cell_inside);</div>
<div class="line"><span class="lineno"> 1297</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 1; r + 1 &lt; int(cell_rows); ++ r) {</div>
<div class="line"><span class="lineno"> 1298</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 1; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> + 1 &lt; int(cell_cols); ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordtype">int</span> addr = r * cell_cols + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno"> 1300</span>        <span class="keywordflow">if</span> ((cell_inside2[addr - 1] &amp;&amp; cell_inside2[addr + 1]) ||</div>
<div class="line"><span class="lineno"> 1301</span>          (cell_inside2[addr - cell_cols] &amp;&amp; cell_inside2[addr + cell_cols]))</div>
<div class="line"><span class="lineno"> 1302</span>          cell_inside[addr] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1303</span>      }</div>
<div class="line"><span class="lineno"> 1304</span>    }</div>
<div class="line"><span class="lineno"> 1305</span>  }</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>  <span class="comment">// 1) Collect the lines.</span></div>
<div class="line"><span class="lineno"> 1308</span>  std::vector&lt;Line&gt; lines;</div>
<div class="line"><span class="lineno"> 1309</span>  EndPointMapType start_point_to_line_idx;</div>
<div class="line"><span class="lineno"> 1310</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt;= int(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>); ++ r) {</div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt;= int(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>); ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1312</span>      <span class="keywordtype">int</span>  addr    = (r + 1) * cell_cols + c + 1;</div>
<div class="line"><span class="lineno"> 1313</span>      <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>    = cell_inside[addr - 1];</div>
<div class="line"><span class="lineno"> 1314</span>      <span class="keywordtype">bool</span> top     = cell_inside[addr - cell_cols];</div>
<div class="line"><span class="lineno"> 1315</span>      <span class="keywordtype">bool</span> current = cell_inside[addr];</div>
<div class="line"><span class="lineno"> 1316</span>      <span class="keywordflow">if</span> (left != current) {</div>
<div class="line"><span class="lineno"> 1317</span>        lines.push_back(</div>
<div class="line"><span class="lineno"> 1318</span>          left ? </div>
<div class="line"><span class="lineno"> 1319</span>            Line(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(c, r+1), <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(c, r  )) : </div>
<div class="line"><span class="lineno"> 1320</span>            Line(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>, r  ), <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>, r+1)));</div>
<div class="line"><span class="lineno"> 1321</span>        start_point_to_line_idx.insert(std::pair&lt;Point, int&gt;(lines.back().a, <span class="keywordtype">int</span>(lines.size()) - 1));</div>
<div class="line"><span class="lineno"> 1322</span>      }</div>
<div class="line"><span class="lineno"> 1323</span>      <span class="keywordflow">if</span> (top != current) {</div>
<div class="line"><span class="lineno"> 1324</span>        lines.push_back(</div>
<div class="line"><span class="lineno"> 1325</span>          top ? </div>
<div class="line"><span class="lineno"> 1326</span>            Line(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(c  , r), <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(c+1, r)) :</div>
<div class="line"><span class="lineno"> 1327</span>            Line(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>+1, r), <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>  , r))); </div>
<div class="line"><span class="lineno"> 1328</span>        start_point_to_line_idx.insert(std::pair&lt;Point, int&gt;(lines.back().a, <span class="keywordtype">int</span>(lines.size()) - 1));</div>
<div class="line"><span class="lineno"> 1329</span>      }</div>
<div class="line"><span class="lineno"> 1330</span>    }</div>
<div class="line"><span class="lineno"> 1331</span>  }</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>  <span class="comment">// 2) Chain the lines.</span></div>
<div class="line"><span class="lineno"> 1334</span>  std::vector&lt;char&gt; line_processed(lines.size(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1335</span>  <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> out;</div>
<div class="line"><span class="lineno"> 1336</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_candidate = 0; i_candidate &lt; int(lines.size()); ++ i_candidate) {</div>
<div class="line"><span class="lineno"> 1337</span>    <span class="keywordflow">if</span> (line_processed[i_candidate])</div>
<div class="line"><span class="lineno"> 1338</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1339</span>    <a class="code hl_typedef" href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">Polygon</a> poly;</div>
<div class="line"><span class="lineno"> 1340</span>    line_processed[i_candidate] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1341</span>    poly.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>.push_back(lines[i_candidate].b);</div>
<div class="line"><span class="lineno"> 1342</span>    <span class="keywordtype">int</span> i_line_current = i_candidate;</div>
<div class="line"><span class="lineno"> 1343</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno"> 1344</span>      std::pair&lt;EndPointMapType::iterator,EndPointMapType::iterator&gt; line_range = </div>
<div class="line"><span class="lineno"> 1345</span>        start_point_to_line_idx.equal_range(lines[i_line_current].b);</div>
<div class="line"><span class="lineno"> 1346</span>      <span class="comment">// The interval has to be non empty, there shall be at least one line continuing the current one.</span></div>
<div class="line"><span class="lineno"> 1347</span>      assert(line_range.first != line_range.second);</div>
<div class="line"><span class="lineno"> 1348</span>      <span class="keywordtype">int</span> i_next = -1;</div>
<div class="line"><span class="lineno"> 1349</span>      <span class="keywordflow">for</span> (EndPointMapType::iterator it = line_range.first; it != line_range.second; ++ it) {</div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keywordflow">if</span> (it-&gt;second == i_candidate) {</div>
<div class="line"><span class="lineno"> 1351</span>          <span class="comment">// closing the loop.</span></div>
<div class="line"><span class="lineno"> 1352</span>          <span class="keywordflow">goto</span> end_of_poly;</div>
<div class="line"><span class="lineno"> 1353</span>        }</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="keywordflow">if</span> (line_processed[it-&gt;second])</div>
<div class="line"><span class="lineno"> 1355</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1356</span>        <span class="keywordflow">if</span> (i_next == -1) {</div>
<div class="line"><span class="lineno"> 1357</span>          i_next = it-&gt;second;</div>
<div class="line"><span class="lineno"> 1358</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1359</span>          <span class="comment">// This is a corner, where two lines meet exactly. Pick the line, which encloses a smallest angle with</span></div>
<div class="line"><span class="lineno"> 1360</span>          <span class="comment">// the current edge.</span></div>
<div class="line"><span class="lineno"> 1361</span>          <span class="keyword">const</span> Line &amp;line_current = lines[i_line_current];</div>
<div class="line"><span class="lineno"> 1362</span>          <span class="keyword">const</span> Line &amp;line_next = lines[it-&gt;second];</div>
<div class="line"><span class="lineno"> 1363</span>          <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a885e8a33a527bbf9e6ed748d180ea4bb">Vector</a> v1 = line_current.vector();</div>
<div class="line"><span class="lineno"> 1364</span>          <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a885e8a33a527bbf9e6ed748d180ea4bb">Vector</a> v2 = line_next.vector();</div>
<div class="line"><span class="lineno"> 1365</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7313a4003e3762315f96e309b5570e36">cross</a> = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v1(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v2(1)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v2(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v1(1));</div>
<div class="line"><span class="lineno"> 1366</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7313a4003e3762315f96e309b5570e36">cross</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1367</span>            <span class="comment">// This has to be a convex right angle. There is no better next line.</span></div>
<div class="line"><span class="lineno"> 1368</span>            i_next = it-&gt;second;</div>
<div class="line"><span class="lineno"> 1369</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1370</span>          }</div>
<div class="line"><span class="lineno"> 1371</span>        }</div>
<div class="line"><span class="lineno"> 1372</span>      }</div>
<div class="line"><span class="lineno"> 1373</span>      line_processed[i_next] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1374</span>      i_line_current = i_next;</div>
<div class="line"><span class="lineno"> 1375</span>      poly.points.push_back(lines[i_line_current].b);</div>
<div class="line"><span class="lineno"> 1376</span>    }</div>
<div class="line"><span class="lineno"> 1377</span>  end_of_poly:</div>
<div class="line"><span class="lineno"> 1378</span>    out.push_back(std::move(poly));</div>
<div class="line"><span class="lineno"> 1379</span>  }</div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>  <span class="comment">// 3) Scale the polygons back into world, shrink slightly and remove collinear points.</span></div>
<div class="line"><span class="lineno"> 1382</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; out.size(); ++ i) {</div>
<div class="line"><span class="lineno"> 1383</span>    <a class="code hl_typedef" href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">Polygon</a> &amp;poly = out[i];</div>
<div class="line"><span class="lineno"> 1384</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; poly.points.size(); ++ j) {</div>
<div class="line"><span class="lineno"> 1385</span>      <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;p = poly.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[j];</div>
<div class="line"><span class="lineno"> 1386</span>      p(0) *= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1387</span>      p(1) *= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1388</span>      p(0) += <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0);</div>
<div class="line"><span class="lineno"> 1389</span>      p(1) += <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1);</div>
<div class="line"><span class="lineno"> 1390</span>    }</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="comment">// Shrink the contour slightly, so if the same contour gets discretized and simplified again, one will get the same result.</span></div>
<div class="line"><span class="lineno"> 1392</span>    <span class="comment">// Remove collineaer points.</span></div>
<div class="line"><span class="lineno"> 1393</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> pts;</div>
<div class="line"><span class="lineno"> 1394</span>    pts.reserve(poly.points.size());</div>
<div class="line"><span class="lineno"> 1395</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; poly.points.size(); ++ j) {</div>
<div class="line"><span class="lineno"> 1396</span>      <span class="keywordtype">size_t</span> j0 = (j == 0) ? poly.points.size() - 1 : j - 1;</div>
<div class="line"><span class="lineno"> 1397</span>      <span class="keywordtype">size_t</span> j2 = (j + 1 == poly.points.size()) ? 0 : j + 1;</div>
<div class="line"><span class="lineno"> 1398</span>      <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>  v  = poly.points[j2] - poly.points[j0];</div>
<div class="line"><span class="lineno"> 1399</span>      <span class="keywordflow">if</span> (v(0) != 0 &amp;&amp; v(1) != 0) {</div>
<div class="line"><span class="lineno"> 1400</span>        <span class="comment">// This is a corner point. Copy it to the output contour.</span></div>
<div class="line"><span class="lineno"> 1401</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> p = poly.points[j];</div>
<div class="line"><span class="lineno"> 1402</span>        p(1) += (v(0) &lt; 0) ? - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>;</div>
<div class="line"><span class="lineno"> 1403</span>        p(0) += (v(1) &gt; 0) ? - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a> : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>;</div>
<div class="line"><span class="lineno"> 1404</span>        pts.push_back(p);</div>
<div class="line"><span class="lineno"> 1405</span>      } </div>
<div class="line"><span class="lineno"> 1406</span>    }</div>
<div class="line"><span class="lineno"> 1407</span>    poly.points = std::move(pts);</div>
<div class="line"><span class="lineno"> 1408</span>  }</div>
<div class="line"><span class="lineno"> 1409</span>  <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno"> 1410</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a5d46446dd8a9b0b7b646ab7f8c6ea135"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a5d46446dd8a9b0b7b646ab7f8c6ea135">Slic3r::EdgeGrid::Grid::cell_inside_or_crossing</a></div><div class="ttdeci">bool cell_inside_or_crossing(int r, int c) const</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:369</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a5f33254e616268f728969886c4ed5d85"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">Slic3r::MultiPoint::points</a></div><div class="ttdeci">Points points</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:18</div></div>
<div class="ttc" id="anamespace_slic3r_html_a00eaa65faeaecea2aec629f311ce5a1c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon, PointsAllocator&lt; Polygon &gt; &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5ec552d076296fd705739c608edc1580"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">Slic3r::offset</a></div><div class="ttdeci">Slic3r::Polygons offset(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType, double miterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:416</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7313a4003e3762315f96e309b5570e36"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7313a4003e3762315f96e309b5570e36">Slic3r::cross</a></div><div class="ttdeci">T cross(const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v1, const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:157</div></div>
<div class="ttc" id="anamespace_slic3r_html_a885e8a33a527bbf9e6ed748d180ea4bb"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a885e8a33a527bbf9e6ed748d180ea4bb">Slic3r::Vector</a></div><div class="ttdeci">Point Vector</div><div class="ttdef"><b>Definition</b> Point.hpp:24</div></div>
<div class="ttc" id="anamespace_slic3r_html_aee987cbd1647986a9ac92226daffa4d7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Slic3r::Points</a></div><div class="ttdeci">std::vector&lt; Point, PointsAllocator&lt; Point &gt; &gt; Points</div><div class="ttdef"><b>Definition</b> Point.hpp:58</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">marchsq::__impl::Dir::left</a></div><div class="ttdeci">@ left</div></div>
<div class="ttc" id="anamespacepriv_html_af88c142a935f18fc3794a6a8f2bebaf7"><div class="ttname"><a href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">priv::Polygon</a></div><div class="ttdeci">Slic3r::Polygon Polygon</div><div class="ttdef"><b>Definition</b> Emboss.cpp:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00157">Slic3r::cross()</a>, <a class="el" href="../../#l00416">Slic3r::offset()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, and <a class="el" href="../../#l00181">Slic3r::Line::vector()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a0b79fdc9151914b5318bb5f8d16af3e4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa881de61aa9e9d64dc1b85257bfb4e04" name="aa881de61aa9e9d64dc1b85257bfb4e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa881de61aa9e9d64dc1b85257bfb4e04">&#9670;&#160;</a></span>create() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/dc4/class_slic3r_1_1_ex_polygon.html">ExPolygon</a> &amp;&#160;</td>
          <td class="paramname"><em>expoly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  103</span>{</div>
<div class="line"><span class="lineno">  104</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">  105</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve((expoly.contour.empty() ? 0 : 1) + <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::count_if(expoly.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afb8c6d188cef5e372d935568fd9bc1ca">holes</a>.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a>(), expoly.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afb8c6d188cef5e372d935568fd9bc1ca">holes</a>.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>(), [](<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code hl_typedef" href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">Polygon</a> &amp;p) { <span class="keywordflow">return</span> ! p.empty(); }));</div>
<div class="line"><span class="lineno">  106</span>  <span class="keywordflow">if</span> (! expoly.contour.empty())</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(expoly.contour.points, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;hole : expoly.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afb8c6d188cef5e372d935568fd9bc1ca">holes</a>)</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (! <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#acb23a1d84cf6852c07fe080ec7513306">hole</a>.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>())</div>
<div class="line"><span class="lineno">  110</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#acb23a1d84cf6852c07fe080ec7513306">hole</a>.points, false);</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>);</div>
<div class="line"><span class="lineno">  113</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a3e95a5ceeb4539ea8822dd68d0171783"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">Slic3r::EdgeGrid::Grid::create_from_m_contours</a></div><div class="ttdeci">void create_from_m_contours(coord_t resolution)</div><div class="ttdef"><b>Definition</b> EdgeGrid.cpp:140</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a895db0908aa79b4b312191576f4e0e3d"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">Slic3r::EdgeGrid::Grid::resolution</a></div><div class="ttdeci">const coord_t resolution() const</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:160</div></div>
<div class="ttc" id="agetopt_8c_html_a2c212835823e3c54a8ab6d95c652660e"><div class="ttname"><a href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></div><div class="ttdeci">#define const</div><div class="ttdef"><b>Definition</b> getopt.c:38</div></div>
<div class="ttc" id="alexer_8c_html_ad4a65b873df5c05570846b5413b41dfd"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a></div><div class="ttdeci">if(!(yy_init))</div><div class="ttdef"><b>Definition</b> lexer.c:1190</div></div>
<div class="ttc" id="anamespace_slic3r_html_aecabe174ebbb0e9cc7be41dafc297ef7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">Slic3r::empty</a></div><div class="ttdeci">bool empty(const BoundingBoxBase&lt; PointType, PointsType &gt; &amp;bb)</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:229</div></div>
<div class="ttc" id="anamespace_slic3r_html_afb8c6d188cef5e372d935568fd9bc1ca"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#afb8c6d188cef5e372d935568fd9bc1ca">Slic3r::holes</a></div><div class="ttdeci">const Polygons &amp; holes(const ExPolygon &amp;p)</div><div class="ttdef"><b>Definition</b> AGGRaster.hpp:22</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a2aeb0374bbb83d0a6452bca14e1bbbda"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">libnest2d::shapelike::begin</a></div><div class="ttdeci">S::iterator begin(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:614</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ac9b51e95f63e38d00e5fc46bb96927c3"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">libnest2d::shapelike::end</a></div><div class="ttdeci">S::iterator end(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:620</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_acb23a1d84cf6852c07fe080ec7513306"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#acb23a1d84cf6852c07fe080ec7513306">libnest2d::shapelike::hole</a></div><div class="ttdeci">Slic3r::Polygon &amp; hole(Slic3r::ExPolygon &amp;sh, unsigned long idx)</div><div class="ttdef"><b>Definition</b> geometries.hpp:200</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00035">Slic3r::ExPolygon::contour</a>, <a class="el" href="../../#l00040">Slic3r::MultiPoint::empty()</a>, <a class="el" href="../../#l00036">Slic3r::ExPolygon::holes</a>, and <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_aa881de61aa9e9d64dc1b85257bfb4e04_cgraph.svg" width="328" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a39d0fab99ce86afeff5e77d6642eb5a9" name="a39d0fab99ce86afeff5e77d6642eb5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39d0fab99ce86afeff5e77d6642eb5a9">&#9670;&#160;</a></span>create() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a517930244d210021577457148f9a49e3">ExPolygons</a> &amp;&#160;</td>
          <td class="paramname"><em>expolygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  116</span>{</div>
<div class="line"><span class="lineno">  117</span>  <span class="comment">// Count the contours.</span></div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordtype">size_t</span> ncontours = 0;</div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> ExPolygon &amp;expoly : expolygons) {</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span> (! expoly.contour.empty())</div>
<div class="line"><span class="lineno">  121</span>      ++ ncontours;</div>
<div class="line"><span class="lineno">  122</span>    ncontours += std::count_if(expoly.holes.begin(), expoly.holes.end(), [](<span class="keyword">const</span> Polygon &amp;p) { return ! p.empty(); });</div>
<div class="line"><span class="lineno">  123</span>  }</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <span class="comment">// Collect the contours.</span></div>
<div class="line"><span class="lineno">  126</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">  127</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve(ncontours);</div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> ExPolygon &amp;expoly : expolygons) {</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">if</span> (! expoly.contour.empty())</div>
<div class="line"><span class="lineno">  130</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(expoly.contour.points, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;hole : expoly.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#afb8c6d188cef5e372d935568fd9bc1ca">holes</a>)</div>
<div class="line"><span class="lineno">  132</span>      <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (! <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#acb23a1d84cf6852c07fe080ec7513306">hole</a>.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>())</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#acb23a1d84cf6852c07fe080ec7513306">hole</a>.points, false);</div>
<div class="line"><span class="lineno">  134</span>  }</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>);</div>
<div class="line"><span class="lineno">  137</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">Slic3r::MultiPoint::empty()</a>, and <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a39d0fab99ce86afeff5e77d6642eb5a9_cgraph.svg" width="328" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2d09770585aca15da32a49f8ae175f66" name="a2d09770585aca15da32a49f8ae175f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d09770585aca15da32a49f8ae175f66">&#9670;&#160;</a></span>create() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a498065f79ccb865fc410d4afeacffc9c">Polylines</a> &amp;&#160;</td>
          <td class="paramname"><em>polylines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   76</span>{</div>
<div class="line"><span class="lineno">   77</span>  <span class="comment">// Collect the contours.</span></div>
<div class="line"><span class="lineno">   78</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">   79</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve(</div>
<div class="line"><span class="lineno">   80</span>    std::count_if(polygons.begin(), polygons.end(), [](<span class="keyword">const</span> Polygon &amp;p) { return p.size() &gt; 1; }) +</div>
<div class="line"><span class="lineno">   81</span>    std::count_if(polylines.begin(), polylines.end(), [](<span class="keyword">const</span> Polyline &amp;p) { return p.size() &gt; 1; }));</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Polyline &amp;polyline : polylines)</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (polyline.<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>() &gt; 1) {</div>
<div class="line"><span class="lineno">   85</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> *<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> = polyline.points.data();</div>
<div class="line"><span class="lineno">   86</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> *<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>   = polyline.points.data() + polyline.size();</div>
<div class="line"><span class="lineno">   87</span>      <span class="keywordtype">bool</span>     open  = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   88</span>      <span class="keywordflow">if</span> (*begin == end[-1]) {</div>
<div class="line"><span class="lineno">   89</span>        open = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   90</span>        -- <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>;</div>
<div class="line"><span class="lineno">   91</span>      }</div>
<div class="line"><span class="lineno">   92</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(begin, end, open);</div>
<div class="line"><span class="lineno">   93</span>    }</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;polygon : polygons)</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (polygon.<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>() &gt; 1)</div>
<div class="line"><span class="lineno">   97</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(polygon.points, false);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>);</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="anamespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail_html_a876af6f91231ae4e7e7316f5402682dc"><div class="ttname"><a href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">TCB_SPAN_NAMESPACE_NAME::detail::size</a></div><div class="ttdeci">constexpr auto size(const C &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition</b> span.hpp:183</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a130f6c9025387cba8bf094d5f2113638" name="a130f6c9025387cba8bf094d5f2113638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130f6c9025387cba8bf094d5f2113638">&#9670;&#160;</a></span>create() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   29</span>{</div>
<div class="line"><span class="lineno">   30</span>  <span class="comment">// Collect the contours.</span></div>
<div class="line"><span class="lineno">   31</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">   32</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve(std::count_if(polygons.begin(), polygons.end(), [](<span class="keyword">const</span> Polygon &amp;p) { return ! p.empty(); }));</div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;polygon : polygons)</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (! polygon.<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>())</div>
<div class="line"><span class="lineno">   35</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(polygon.points, false);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>);</div>
<div class="line"><span class="lineno">   38</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00140">create_from_m_contours()</a>, <a class="el" href="../../#l00392">m_contours</a>, and <a class="el" href="../../#l00160">resolution()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a130f6c9025387cba8bf094d5f2113638_cgraph.svg" width="578" height="175"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1538ee0a76e4e2e36baccb5405aa2abd" name="a1538ee0a76e4e2e36baccb5405aa2abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1538ee0a76e4e2e36baccb5405aa2abd">&#9670;&#160;</a></span>create() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>  <span class="comment">// Collect the contours.</span></div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">   44</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve(std::count_if(polygons.begin(), polygons.end(), [](<span class="keyword">const</span> Polygon *p) { return ! p-&gt;empty(); }));</div>
<div class="line"><span class="lineno">   45</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon *polygon : polygons)</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (! polygon-&gt;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>())</div>
<div class="line"><span class="lineno">   47</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(polygon-&gt;points, false);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>); </div>
<div class="line"><span class="lineno">   50</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a507c836d19d3e42e65659415d912f8bd" name="a507c836d19d3e42e65659415d912f8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507c836d19d3e42e65659415d912f8bd">&#9670;&#160;</a></span>create() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  111</span>{ this-&gt;<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a51ccfba7ceba3729ab271beea1043f">create</a>(polygons, <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>, <span class="keyword">false</span>); }</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a0a51ccfba7ceba3729ab271beea1043f"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a51ccfba7ceba3729ab271beea1043f">Slic3r::EdgeGrid::Grid::create</a></div><div class="ttdeci">void create(const std::vector&lt; Points &gt; &amp;polylines_or_polygons, coord_t resolution, bool open)</div><div class="ttdef"><b>Definition</b> EdgeGrid.cpp:52</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00111">create()</a>, and <a class="el" href="../../#l00160">resolution()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00111">create()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a507c836d19d3e42e65659415d912f8bd_cgraph.svg" width="356" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a507c836d19d3e42e65659415d912f8bd_icgraph.svg" width="159" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0a51ccfba7ceba3729ab271beea1043f" name="a0a51ccfba7ceba3729ab271beea1043f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a51ccfba7ceba3729ab271beea1043f">&#9670;&#160;</a></span>create() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>polylines_or_polygons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>open</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>  <span class="comment">// Collect the contours.</span></div>
<div class="line"><span class="lineno">   55</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.clear();</div>
<div class="line"><span class="lineno">   56</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.reserve(std::count_if(polygons.begin(), polygons.end(), [](<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &amp;p) { return p.size() &gt; 1; }));</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> &amp;points : polygons) </div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (points.<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>() &gt; 1) {</div>
<div class="line"><span class="lineno">   59</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> *<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a2aeb0374bbb83d0a6452bca14e1bbbda">begin</a> = points.data();</div>
<div class="line"><span class="lineno">   60</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> *<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>   = points.data() + points.size();</div>
<div class="line"><span class="lineno">   61</span>      <span class="keywordtype">bool</span>     open  = open_polylines;</div>
<div class="line"><span class="lineno">   62</span>      <span class="keywordflow">if</span> (open_polylines) {</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">if</span> (*begin == end[-1]) {</div>
<div class="line"><span class="lineno">   64</span>          open = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   65</span>          -- <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>;</div>
<div class="line"><span class="lineno">   66</span>        }</div>
<div class="line"><span class="lineno">   67</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   68</span>        assert(*begin != end[-1]);</div>
<div class="line"><span class="lineno">   69</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.emplace_back(begin, end, open);</div>
<div class="line"><span class="lineno">   70</span>    }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3e95a5ceeb4539ea8822dd68d0171783">create_from_m_contours</a>(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>);</div>
<div class="line"><span class="lineno">   73</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00086">Slic3r::FillLightning::Generator::generateTrees()</a>, and <a class="el" href="../../#l01155">Slic3r::init_boundary()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a0a51ccfba7ceba3729ab271beea1043f_icgraph.svg" width="643" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3e95a5ceeb4539ea8822dd68d0171783" name="a3e95a5ceeb4539ea8822dd68d0171783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e95a5ceeb4539ea8822dd68d0171783">&#9670;&#160;</a></span>create_from_m_contours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::create_from_m_contours </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>resolution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  141</span>{</div>
<div class="line"><span class="lineno">  142</span>  assert(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a> &gt; 0);</div>
<div class="line"><span class="lineno">  143</span>  <span class="comment">// 1) Measure the bounding box.</span></div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> : <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>) {</div>
<div class="line"><span class="lineno">  145</span>    assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.num_segments() &gt; 0);</div>
<div class="line"><span class="lineno">  146</span>    assert(*<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a2442c0df906df7af8ce6f7d8739b42b5">begin</a>() != <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#aee8a7d6894c6353cb9d1a28fca997ece">end</a>()[-1]);</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;pt : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>) </div>
<div class="line"><span class="lineno">  148</span>      <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_function" href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">merge</a>(pt);</div>
<div class="line"><span class="lineno">  149</span>  }</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> eps = 16;</div>
<div class="line"><span class="lineno">  152</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) -= eps;</div>
<div class="line"><span class="lineno">  153</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) -= eps;</div>
<div class="line"><span class="lineno">  154</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) += eps;</div>
<div class="line"><span class="lineno">  155</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) += eps;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  <span class="comment">// 2) Initialize the edge grid.</span></div>
<div class="line"><span class="lineno">  158</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a895db0908aa79b4b312191576f4e0e3d">resolution</a>;</div>
<div class="line"><span class="lineno">  159</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> = (<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) + <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - 1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  160</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> = (<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) + <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - 1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  161</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>.assign(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>, Cell());</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="comment">// 3) First round of contour rasterization, count the edges per grid cell.</span></div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.size(); ++ i) {</div>
<div class="line"><span class="lineno">  165</span>    <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[i];</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.num_segments(); ++ j) {</div>
<div class="line"><span class="lineno">  167</span>      <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno">  168</span>      <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> p1(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(j));</div>
<div class="line"><span class="lineno">  169</span>      <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> p2(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(j));</div>
<div class="line"><span class="lineno">  170</span>      p1(0) -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0);</div>
<div class="line"><span class="lineno">  171</span>      p1(1) -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1);</div>
<div class="line"><span class="lineno">  172</span>      p2(0) -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0);</div>
<div class="line"><span class="lineno">  173</span>      p2(1) -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1);</div>
<div class="line"><span class="lineno">  174</span>        <span class="comment">// Get the cells of the end points.</span></div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ix    = p1(0) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iy    = p1(1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  177</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ixb   = p2(0) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  178</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iyb   = p2(1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  179</span>      assert(ix &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(ix) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  180</span>      assert(iy &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(iy) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>);</div>
<div class="line"><span class="lineno">  181</span>      assert(ixb &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(ixb) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  182</span>      assert(iyb &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(iyb) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>);</div>
<div class="line"><span class="lineno">  183</span>      <span class="comment">// Account for the end points.</span></div>
<div class="line"><span class="lineno">  184</span>      ++ <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>+ix].end;</div>
<div class="line"><span class="lineno">  185</span>      <span class="keywordflow">if</span> (ix == ixb &amp;&amp; iy == iyb)</div>
<div class="line"><span class="lineno">  186</span>        <span class="comment">// Both ends fall into the same cell.</span></div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  188</span>        <span class="comment">// Raster the centeral part of the line.</span></div>
<div class="line"><span class="lineno">  189</span>      <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dx = std::abs(p2(0) - p1(0));</div>
<div class="line"><span class="lineno">  190</span>      <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dy = std::abs(p2(1) - p1(1));</div>
<div class="line"><span class="lineno">  191</span>      <span class="keywordflow">if</span> (p1(0) &lt; p2(0)) {</div>
<div class="line"><span class="lineno">  192</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((ix + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy);</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (p1(1) &lt; p2(1)) {</div>
<div class="line"><span class="lineno">  194</span>          <span class="comment">// x positive, y positive</span></div>
<div class="line"><span class="lineno">  195</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((iy + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  196</span>          <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  197</span>            assert(ix &lt;= ixb &amp;&amp; iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  199</span>              ey -= ex;</div>
<div class="line"><span class="lineno">  200</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  201</span>              ix += 1;</div>
<div class="line"><span class="lineno">  202</span>            }</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ex == ey) {</div>
<div class="line"><span class="lineno">  204</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  205</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  206</span>              ix += 1;</div>
<div class="line"><span class="lineno">  207</span>              iy += 1;</div>
<div class="line"><span class="lineno">  208</span>            }</div>
<div class="line"><span class="lineno">  209</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  210</span>              assert(ex &gt; ey);</div>
<div class="line"><span class="lineno">  211</span>              ex -= ey;</div>
<div class="line"><span class="lineno">  212</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  213</span>              iy += 1;</div>
<div class="line"><span class="lineno">  214</span>            }</div>
<div class="line"><span class="lineno">  215</span>            ++<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + ix].end;</div>
<div class="line"><span class="lineno">  216</span>          } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  217</span>        }</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  219</span>          <span class="comment">// x positive, y non positive</span></div>
<div class="line"><span class="lineno">  220</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(1) - iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  221</span>          <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  222</span>            assert(ix &lt;= ixb &amp;&amp; iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordflow">if</span> (ex &lt;= ey) {</div>
<div class="line"><span class="lineno">  224</span>              ey -= ex;</div>
<div class="line"><span class="lineno">  225</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  226</span>              ix += 1;</div>
<div class="line"><span class="lineno">  227</span>            }</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  229</span>              ex -= ey;</div>
<div class="line"><span class="lineno">  230</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  231</span>              iy -= 1;</div>
<div class="line"><span class="lineno">  232</span>            }</div>
<div class="line"><span class="lineno">  233</span>            ++<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + ix].end;</div>
<div class="line"><span class="lineno">  234</span>          } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  235</span>        }</div>
<div class="line"><span class="lineno">  236</span>      }</div>
<div class="line"><span class="lineno">  237</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  238</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(0) - ix*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy);</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">if</span> (p1(1) &lt; p2(1)) {</div>
<div class="line"><span class="lineno">  240</span>          <span class="comment">// x non positive, y positive</span></div>
<div class="line"><span class="lineno">  241</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((iy + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  242</span>          <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  243</span>            assert(ix &gt;= ixb &amp;&amp; iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  245</span>              ey -= ex;</div>
<div class="line"><span class="lineno">  246</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  247</span>              ix -= 1;</div>
<div class="line"><span class="lineno">  248</span>            }</div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  250</span>              assert(ex &gt;= ey);</div>
<div class="line"><span class="lineno">  251</span>              ex -= ey;</div>
<div class="line"><span class="lineno">  252</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  253</span>              iy += 1;</div>
<div class="line"><span class="lineno">  254</span>            }</div>
<div class="line"><span class="lineno">  255</span>            ++<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + ix].end;</div>
<div class="line"><span class="lineno">  256</span>          } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  257</span>        }</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  259</span>          <span class="comment">// x non positive, y non positive</span></div>
<div class="line"><span class="lineno">  260</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(1) - iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  261</span>          <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  262</span>            assert(ix &gt;= ixb &amp;&amp; iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  264</span>              ey -= ex;</div>
<div class="line"><span class="lineno">  265</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  266</span>              ix -= 1;</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ex == ey) {</div>
<div class="line"><span class="lineno">  269</span>              <span class="comment">// The lower edge of a grid cell belongs to the cell.</span></div>
<div class="line"><span class="lineno">  270</span>              <span class="comment">// Handle the case where the ray may cross the lower left corner of a cell in a general case,</span></div>
<div class="line"><span class="lineno">  271</span>              <span class="comment">// or a left or lower edge in a degenerate case (horizontal or vertical line).</span></div>
<div class="line"><span class="lineno">  272</span>              <span class="keywordflow">if</span> (dx &gt; 0) {</div>
<div class="line"><span class="lineno">  273</span>                ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  274</span>                ix -= 1;</div>
<div class="line"><span class="lineno">  275</span>              }</div>
<div class="line"><span class="lineno">  276</span>              <span class="keywordflow">if</span> (dy &gt; 0) {</div>
<div class="line"><span class="lineno">  277</span>                ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  278</span>                iy -= 1;</div>
<div class="line"><span class="lineno">  279</span>              }</div>
<div class="line"><span class="lineno">  280</span>            }</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  282</span>              assert(ex &gt; ey);</div>
<div class="line"><span class="lineno">  283</span>              ex -= ey;</div>
<div class="line"><span class="lineno">  284</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  285</span>              iy -= 1;</div>
<div class="line"><span class="lineno">  286</span>            }</div>
<div class="line"><span class="lineno">  287</span>            ++<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + ix].end;</div>
<div class="line"><span class="lineno">  288</span>          } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span>      }</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span>  }</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>  <span class="comment">// 4) Prefix sum the numbers of hits per cells to get an index into m_cell_data.</span></div>
<div class="line"><span class="lineno">  295</span>  <span class="keywordtype">size_t</span> cnt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>.front().end;</div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>.size(); ++ i) {</div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[i].begin = cnt;</div>
<div class="line"><span class="lineno">  298</span>    cnt += <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[i].end;</div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[i].end = cnt;</div>
<div class="line"><span class="lineno">  300</span>  }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>  <span class="comment">// 5) Allocate the cell data.</span></div>
<div class="line"><span class="lineno">  303</span>  <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>.assign(cnt, std::pair&lt;size_t, size_t&gt;(<span class="keywordtype">size_t</span>(-1), <span class="keywordtype">size_t</span>(-1)));</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>  <span class="comment">// 6) Finally fill in m_cell_data by rasterizing the lines once again.</span></div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>.size(); ++i)</div>
<div class="line"><span class="lineno">  307</span>    <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[i].end = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[i].begin;</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>  <span class="keyword">struct </span>Visitor {</div>
<div class="line"><span class="lineno">  310</span>    Visitor(std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; &amp;cell_data, std::vector&lt;Cell&gt; &amp;cells, <span class="keywordtype">size_t</span> cols) :</div>
<div class="line"><span class="lineno">  311</span>      cell_data(cell_data), cells(cells), <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#abab1fab959ea1f7dc0110ef7039a7a35">cols</a>(<a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#abab1fab959ea1f7dc0110ef7039a7a35">cols</a>), i(0), j(0) {}</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator()(<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iy, <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ix) {</div>
<div class="line"><span class="lineno">  314</span>      cell_data[cells[iy*<a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#abab1fab959ea1f7dc0110ef7039a7a35">cols</a> + ix].end++] = std::pair&lt;size_t, size_t&gt;(i, j);</div>
<div class="line"><span class="lineno">  315</span>      <span class="comment">// Continue traversing the grid along the edge.</span></div>
<div class="line"><span class="lineno">  316</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  317</span>    }</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; &amp;cell_data;</div>
<div class="line"><span class="lineno">  320</span>    std::vector&lt;Cell&gt;              &amp;cells;</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordtype">size_t</span>                  <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#abab1fab959ea1f7dc0110ef7039a7a35">cols</a>;</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordtype">size_t</span>                  i;</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordtype">size_t</span>                  j;</div>
<div class="line"><span class="lineno">  324</span>  } visitor(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>, <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>  assert(visitor.i == 0);</div>
<div class="line"><span class="lineno">  327</span>  <span class="keywordflow">for</span> (; visitor.i &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>.size(); ++ visitor.i) {</div>
<div class="line"><span class="lineno">  328</span>    <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[visitor.i];</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">for</span> (visitor.j = 0; visitor.j &lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.num_segments(); ++ visitor.j)</div>
<div class="line"><span class="lineno">  330</span>      this-&gt;<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a424f19dd6565d5d1b562462fd9d457d5">visit_cells_intersecting_line</a>(contour.segment_start(visitor.j), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(visitor.j), visitor);</div>
<div class="line"><span class="lineno">  331</span>  }</div>
<div class="line"><span class="lineno">  332</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_a424f19dd6565d5d1b562462fd9d457d5"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a424f19dd6565d5d1b562462fd9d457d5">Slic3r::EdgeGrid::Grid::visit_cells_intersecting_line</a></div><div class="ttdeci">void visit_cells_intersecting_line(Slic3r::Point p1, Slic3r::Point p2, VISITOR &amp;visitor) const</div><div class="ttdef"><b>Definition</b> EdgeGrid.hpp:172</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a2442c0df906df7af8ce6f7d8739b42b5"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a2442c0df906df7af8ce6f7d8739b42b5">Slic3r::MultiPoint::begin</a></div><div class="ttdeci">auto begin()</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:87</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_aee8a7d6894c6353cb9d1a28fca997ece"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#aee8a7d6894c6353cb9d1a28fca997ece">Slic3r::MultiPoint::end</a></div><div class="ttdeci">auto end()</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:89</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1nfp_html_a1557d47a1a466a42f34906efe9f4bc07"><div class="ttname"><a href="../../d0/d53/namespacelibnest2d_1_1nfp.html#a1557d47a1a466a42f34906efe9f4bc07">libnest2d::nfp::merge</a></div><div class="ttdeci">TMultiShape&lt; PolygonImpl &gt; merge(const TMultiShape&lt; PolygonImpl &gt; &amp;shapes)</div><div class="ttdef"><b>Definition</b> geometries.hpp:259</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_abab1fab959ea1f7dc0110ef7039a7a35"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#abab1fab959ea1f7dc0110ef7039a7a35">marchsq::__impl::cols</a></div><div class="ttdeci">size_t cols(const T &amp;raster)</div><div class="ttdef"><b>Definition</b> MarchingSquares.hpp:60</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00087">Slic3r::MultiPoint::begin()</a>, <a class="el" href="../../#l00021">Slic3r::contour()</a>, and <a class="el" href="../../#l00089">Slic3r::MultiPoint::end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">create()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a3e95a5ceeb4539ea8822dd68d0171783_cgraph.svg" width="382" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a3e95a5ceeb4539ea8822dd68d0171783_icgraph.svg" width="380" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a95eddce5cf85b14154a83832f88772f8" name="a95eddce5cf85b14154a83832f88772f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95eddce5cf85b14154a83832f88772f8">&#9670;&#160;</a></span>has_intersecting_edges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::EdgeGrid::Grid::has_intersecting_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1451</span>{</div>
<div class="line"><span class="lineno"> 1452</span>  <span class="comment">// For each cell:</span></div>
<div class="line"><span class="lineno"> 1453</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>; ++ r) {</div>
<div class="line"><span class="lineno"> 1454</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1455</span>      <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno"> 1456</span>      <span class="comment">// For each pair of segments in the cell:</span></div>
<div class="line"><span class="lineno"> 1457</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = cell.begin; i != cell.end; ++ i) {</div>
<div class="line"><span class="lineno"> 1458</span>        <span class="keyword">const</span> Contour &amp;icontour = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].first];</div>
<div class="line"><span class="lineno"> 1459</span>        <span class="keywordtype">size_t</span> ipt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].second;</div>
<div class="line"><span class="lineno"> 1460</span>        <span class="comment">// End points of the line segment and their vector.</span></div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;ip1 = icontour.segment_start(ipt);</div>
<div class="line"><span class="lineno"> 1462</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;ip2 = icontour.segment_end(ipt);</div>
<div class="line"><span class="lineno"> 1463</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = i + 1; j != cell.end; ++ j) {</div>
<div class="line"><span class="lineno"> 1464</span>          <span class="keyword">const</span> Contour    &amp;jcontour = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[j].first];</div>
<div class="line"><span class="lineno"> 1465</span>          <span class="keywordtype">size_t</span>          jpt  = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[j].second;</div>
<div class="line"><span class="lineno"> 1466</span>          <span class="comment">// End points of the line segment and their vector.</span></div>
<div class="line"><span class="lineno"> 1467</span>          <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>  &amp;jp1  = jcontour.segment_start(jpt);</div>
<div class="line"><span class="lineno"> 1468</span>          <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>  &amp;jp2  = jcontour.segment_end(jpt);</div>
<div class="line"><span class="lineno"> 1469</span>          <span class="keywordflow">if</span> (! (&amp;icontour == &amp;jcontour &amp;&amp; (&amp;ip1 == &amp;jp2 || &amp;jp1 == &amp;ip2)) &amp;&amp; </div>
<div class="line"><span class="lineno"> 1470</span>            <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a024e420f53c287192aaeb2137cf9495e">Geometry::segments_intersect</a>(ip1, ip2, jp1, jp2))</div>
<div class="line"><span class="lineno"> 1471</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1472</span>        }</div>
<div class="line"><span class="lineno"> 1473</span>      }</div>
<div class="line"><span class="lineno"> 1474</span>    }</div>
<div class="line"><span class="lineno"> 1475</span>  }</div>
<div class="line"><span class="lineno"> 1476</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1477</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a024e420f53c287192aaeb2137cf9495e"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a024e420f53c287192aaeb2137cf9495e">Slic3r::Geometry::segments_intersect</a></div><div class="ttdeci">bool segments_intersect(const Slic3r::Point &amp;ip1, const Slic3r::Point &amp;ip2, const Slic3r::Point &amp;jp1, const Slic3r::Point &amp;jp2)</div><div class="ttdef"><b>Definition</b> Geometry.hpp:112</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00037">Slic3r::EdgeGrid::Contour::segment_end()</a>, <a class="el" href="../../#l00031">Slic3r::EdgeGrid::Contour::segment_start()</a>, and <a class="el" href="../../#l00112">Slic3r::Geometry::segments_intersect()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a95eddce5cf85b14154a83832f88772f8_cgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2d5328eb2c8b7f8324a33c39ed4c7086" name="a2d5328eb2c8b7f8324a33c39ed4c7086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5328eb2c8b7f8324a33c39ed4c7086">&#9670;&#160;</a></span>intersecting_edges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">EdgeGrid::Grid::ContourEdge</a>, <a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a1b592453d67252402a42b032e742b363">EdgeGrid::Grid::ContourEdge</a> &gt; &gt; Slic3r::EdgeGrid::Grid::intersecting_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1413</span>{</div>
<div class="line"><span class="lineno"> 1414</span>  std::vector&lt;std::pair&lt;ContourEdge, ContourEdge&gt;&gt; out;</div>
<div class="line"><span class="lineno"> 1415</span>  <span class="comment">// For each cell:</span></div>
<div class="line"><span class="lineno"> 1416</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>; ++ r) {</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt; (int)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>; ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1418</span>      <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno"> 1419</span>      <span class="comment">// For each pair of segments in the cell:</span></div>
<div class="line"><span class="lineno"> 1420</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = cell.begin; i != cell.end; ++ i) {</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keyword">const</span> Contour &amp;icontour = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].first];</div>
<div class="line"><span class="lineno"> 1422</span>        <span class="keywordtype">size_t</span> ipt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].second;</div>
<div class="line"><span class="lineno"> 1423</span>        <span class="comment">// End points of the line segment and their vector.</span></div>
<div class="line"><span class="lineno"> 1424</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;ip1 = icontour.segment_start(ipt);</div>
<div class="line"><span class="lineno"> 1425</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;ip2 = icontour.segment_end(ipt);</div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = i + 1; j != cell.end; ++ j) {</div>
<div class="line"><span class="lineno"> 1427</span>          <span class="keyword">const</span> Contour   &amp;jcontour = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[j].first];</div>
<div class="line"><span class="lineno"> 1428</span>          <span class="keywordtype">size_t</span>          jpt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[j].second;</div>
<div class="line"><span class="lineno"> 1429</span>          <span class="comment">// End points of the line segment and their vector.</span></div>
<div class="line"><span class="lineno"> 1430</span>          <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>  &amp;jp1 = jcontour.segment_start(jpt);</div>
<div class="line"><span class="lineno"> 1431</span>          <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>  &amp;jp2 = jcontour.segment_end(jpt);</div>
<div class="line"><span class="lineno"> 1432</span>          <span class="keywordflow">if</span> (&amp;icontour == &amp;jcontour &amp;&amp; (&amp;ip1 == &amp;jp2 || &amp;jp1 == &amp;ip2))</div>
<div class="line"><span class="lineno"> 1433</span>            <span class="comment">// Segments of the same contour share a common vertex.</span></div>
<div class="line"><span class="lineno"> 1434</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1435</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a024e420f53c287192aaeb2137cf9495e">Geometry::segments_intersect</a>(ip1, ip2, jp1, jp2)) {</div>
<div class="line"><span class="lineno"> 1436</span>            <span class="comment">// The two segments intersect. Add them to the output.</span></div>
<div class="line"><span class="lineno"> 1437</span>            <span class="keywordtype">int</span> jfirst = (&amp;jcontour &lt; &amp;icontour) || (&amp;jcontour == &amp;icontour &amp;&amp; jpt &lt; ipt);</div>
<div class="line"><span class="lineno"> 1438</span>            out.emplace_back(jfirst ? </div>
<div class="line"><span class="lineno"> 1439</span>              std::make_pair(std::make_pair(&amp;icontour, ipt), std::make_pair(&amp;jcontour, jpt)) : </div>
<div class="line"><span class="lineno"> 1440</span>              <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::make_pair(<a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::make_pair(&amp;icontour, ipt), <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::make_pair(&amp;jcontour, jpt)));</div>
<div class="line"><span class="lineno"> 1441</span>          }</div>
<div class="line"><span class="lineno"> 1442</span>        }</div>
<div class="line"><span class="lineno"> 1443</span>      }</div>
<div class="line"><span class="lineno"> 1444</span>    }</div>
<div class="line"><span class="lineno"> 1445</span>  }</div>
<div class="line"><span class="lineno"> 1446</span>  <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa3af3ee03fdd2fbda072bbea6de1f8fc">Slic3r::sort_remove_duplicates</a>(out);</div>
<div class="line"><span class="lineno"> 1447</span>  <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno"> 1448</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_aa3af3ee03fdd2fbda072bbea6de1f8fc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa3af3ee03fdd2fbda072bbea6de1f8fc">Slic3r::sort_remove_duplicates</a></div><div class="ttdeci">void sort_remove_duplicates(std::vector&lt; T &gt; &amp;vec)</div><div class="ttdef"><b>Definition</b> libslic3r.h:188</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00037">Slic3r::EdgeGrid::Contour::segment_end()</a>, <a class="el" href="../../#l00031">Slic3r::EdgeGrid::Contour::segment_start()</a>, <a class="el" href="../../#l00112">Slic3r::Geometry::segments_intersect()</a>, and <a class="el" href="../../#l00188">Slic3r::sort_remove_duplicates()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a2d5328eb2c8b7f8324a33c39ed4c7086_cgraph.svg" width="100%" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae685ba61859f2b2812424589b9790e6d" name="ae685ba61859f2b2812424589b9790e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae685ba61859f2b2812424589b9790e6d">&#9670;&#160;</a></span>line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d3b/class_slic3r_1_1_line.html">Line</a> Slic3r::EdgeGrid::Grid::line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::pair&lt; size_t, size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>contour_and_segment_idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  352</span>  {</div>
<div class="line"><span class="lineno">  353</span>    <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[contour_and_segment_idx.first];</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordtype">size_t</span> iseg = contour_and_segment_idx.second;</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">return</span> Line(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(iseg), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(iseg));</div>
<div class="line"><span class="lineno">  356</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00021">Slic3r::contour()</a>, and <a class="el" href="../../#l00392">m_contours</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00071">Slic3r::AllIntersectionsVisitor::operator()()</a>, and <a class="el" href="../../#l00093">Slic3r::PaintedLineVisitor::operator()()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_ae685ba61859f2b2812424589b9790e6d_cgraph.svg" width="312" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_ae685ba61859f2b2812424589b9790e6d_icgraph.svg" width="375" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a895db0908aa79b4b312191576f4e0e3d" name="a895db0908aa79b4b312191576f4e0e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895db0908aa79b4b312191576f4e0e3d">&#9670;&#160;</a></span>resolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::EdgeGrid::Grid::resolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00385">m_resolution</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">create()</a>, <a class="el" href="../../#l00111">create()</a>, and <a class="el" href="../../#l00221">Slic3r::FillLightning::Layer::reconnectRoots()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a895db0908aa79b4b312191576f4e0e3d_icgraph.svg" width="100%" height="455"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa25d00331d30ccf23e53cfaa83233239" name="aa25d00331d30ccf23e53cfaa83233239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25d00331d30ccf23e53cfaa83233239">&#9670;&#160;</a></span>rows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t Slic3r::EdgeGrid::Grid::rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  161</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00386">m_rows</a>.</p>

</div>
</div>
<a id="a0c22769ba9922a1c4fb826f25e451bec" name="a0c22769ba9922a1c4fb826f25e451bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c22769ba9922a1c4fb826f25e451bec">&#9670;&#160;</a></span>segment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp; &gt; Slic3r::EdgeGrid::Grid::segment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::pair&lt; size_t, size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>contour_and_segment_idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  345</span>  {</div>
<div class="line"><span class="lineno">  346</span>    <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[contour_and_segment_idx.first];</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordtype">size_t</span> iseg = contour_and_segment_idx.second;</div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">return</span> std::pair&lt;const Slic3r::Point&amp;, const Slic3r::Point&amp;&gt;(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(iseg), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(iseg));</div>
<div class="line"><span class="lineno">  349</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00021">Slic3r::contour()</a>, and <a class="el" href="../../#l00392">m_contours</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00034">Slic3r::contour_distance()</a>, <a class="el" href="../../#l00830">Slic3r::contour_distance()</a>, <a class="el" href="../../#l00233">Slic3r::contour_distance2()</a>, <a class="el" href="../../#l00849">Slic3r::mark_boundary_segments_touching_infill()</a>, <a class="el" href="../../#l00098">Slic3r::FirstIntersectionVisitor::operator()()</a>, and <a class="el" href="../../#l00136">Slic3r::MinDistanceVisitor::operator()()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a0c22769ba9922a1c4fb826f25e451bec_cgraph.svg" width="312" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a0c22769ba9922a1c4fb826f25e451bec_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4d1355888e8fd8fba0c95074e7226369" name="a4d1355888e8fd8fba0c95074e7226369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1355888e8fd8fba0c95074e7226369">&#9670;&#160;</a></span>set_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::set_bbox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;&#160;</td>
          <td class="paramname"><em>bbox</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   97</span>{ <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a> = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00159">bbox()</a>, and <a class="el" href="../../#l00383">m_bbox</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00086">Slic3r::FillLightning::Generator::generateTrees()</a>, and <a class="el" href="../../#l01155">Slic3r::init_boundary()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a4d1355888e8fd8fba0c95074e7226369_cgraph.svg" width="356" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a4d1355888e8fd8fba0c95074e7226369_icgraph.svg" width="643" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a95dd5202cd9940d97a182caf94311e74" name="a95dd5202cd9940d97a182caf94311e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dd5202cd9940d97a182caf94311e74">&#9670;&#160;</a></span>signed_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::EdgeGrid::Grid::signed_distance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>pt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>search_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> &amp;&#160;</td>
          <td class="paramname"><em>result_min_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1272</span>{</div>
<div class="line"><span class="lineno"> 1273</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ac1becfa2803527b240a868a55e160cc1">signed_distance_edges</a>(pt, search_radius, result_min_dist))</div>
<div class="line"><span class="lineno"> 1274</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1275</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>.empty())</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1277</span>  result_min_dist = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aab59fccb02b78572b88a11d47dba38d6">signed_distance_bilinear</a>(pt);</div>
<div class="line"><span class="lineno"> 1278</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1279</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_aab59fccb02b78572b88a11d47dba38d6"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aab59fccb02b78572b88a11d47dba38d6">Slic3r::EdgeGrid::Grid::signed_distance_bilinear</a></div><div class="ttdeci">float signed_distance_bilinear(const Point &amp;pt) const</div><div class="ttdef"><b>Definition</b> EdgeGrid.cpp:980</div></div>
<div class="ttc" id="aclass_slic3r_1_1_edge_grid_1_1_grid_html_ac1becfa2803527b240a868a55e160cc1"><div class="ttname"><a href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ac1becfa2803527b240a868a55e160cc1">Slic3r::EdgeGrid::Grid::signed_distance_edges</a></div><div class="ttdeci">bool signed_distance_edges(const Point &amp;pt, coord_t search_radius, coordf_t &amp;result_min_dist, bool *pon_segment=nullptr) const</div><div class="ttdef"><b>Definition</b> EdgeGrid.cpp:1176</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab59fccb02b78572b88a11d47dba38d6" name="aab59fccb02b78572b88a11d47dba38d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab59fccb02b78572b88a11d47dba38d6">&#9670;&#160;</a></span>signed_distance_bilinear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::EdgeGrid::Grid::signed_distance_bilinear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>pt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  981</span>{</div>
<div class="line"><span class="lineno">  982</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> = pt(0) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0);</div>
<div class="line"><span class="lineno">  983</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> = pt(1) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1);</div>
<div class="line"><span class="lineno">  984</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> w = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>;</div>
<div class="line"><span class="lineno">  985</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> h = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>;</div>
<div class="line"><span class="lineno">  986</span>  <span class="keywordtype">bool</span>    clamped = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  987</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> xcl = <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno">  988</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ycl = <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>;</div>
<div class="line"><span class="lineno">  989</span>  <span class="keywordflow">if</span> (x &lt; 0) {</div>
<div class="line"><span class="lineno">  990</span>    xcl = 0;</div>
<div class="line"><span class="lineno">  991</span>    clamped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  992</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= w) {</div>
<div class="line"><span class="lineno">  993</span>    xcl = w - 1;</div>
<div class="line"><span class="lineno">  994</span>    clamped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  995</span>  }</div>
<div class="line"><span class="lineno">  996</span>  <span class="keywordflow">if</span> (y &lt; 0) {</div>
<div class="line"><span class="lineno">  997</span>    ycl = 0;</div>
<div class="line"><span class="lineno">  998</span>    clamped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  999</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &gt;= h) {</div>
<div class="line"><span class="lineno"> 1000</span>    ycl = h - 1;</div>
<div class="line"><span class="lineno"> 1001</span>    clamped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1002</span>  }</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> cell_c = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(xcl / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>));</div>
<div class="line"><span class="lineno"> 1005</span>  <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> cell_r = <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a3230e10964844c34fb73eaccc84dc8a7">floor</a>(ycl / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>));</div>
<div class="line"><span class="lineno"> 1006</span>  <span class="keywordtype">float</span>   tx = float(xcl - cell_c * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) / float(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno"> 1007</span>  assert(tx &gt;= -1e-5 &amp;&amp; tx &lt; 1.f + 1e-5);</div>
<div class="line"><span class="lineno"> 1008</span>  <span class="keywordtype">float</span>   ty = float(ycl - cell_r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) / float(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno"> 1009</span>  assert(ty &gt;= -1e-5 &amp;&amp; ty &lt; 1.f + 1e-5);</div>
<div class="line"><span class="lineno"> 1010</span>  <span class="keywordtype">size_t</span>  addr = cell_r * (<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + 1) + cell_c;</div>
<div class="line"><span class="lineno"> 1011</span>  <span class="keywordtype">float</span>   f00 = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[addr];</div>
<div class="line"><span class="lineno"> 1012</span>  <span class="keywordtype">float</span>   f01 = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[addr+1];</div>
<div class="line"><span class="lineno"> 1013</span>  addr += <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + 1;</div>
<div class="line"><span class="lineno"> 1014</span>  <span class="keywordtype">float</span>   f10 = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[addr];</div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordtype">float</span>   f11 = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#ab163c40922c7acdf9e0bad45a3809e17">m_signed_distance_field</a>[addr+1];</div>
<div class="line"><span class="lineno"> 1016</span>  <span class="keywordtype">float</span>   f0  = (1.f - tx) * f00 + tx * f01;</div>
<div class="line"><span class="lineno"> 1017</span>  <span class="keywordtype">float</span>   f1  = (1.f - tx) * f10 + tx * f11;</div>
<div class="line"><span class="lineno"> 1018</span>  <span class="keywordtype">float</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a>   = (1.f - ty) * f0 + ty * f1;</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>  <span class="keywordflow">if</span> (clamped) {</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1022</span>      <span class="keywordflow">if</span> (x &lt; 0)</div>
<div class="line"><span class="lineno"> 1023</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> += -<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno"> 1024</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= w)</div>
<div class="line"><span class="lineno"> 1025</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> += <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> - w + 1;</div>
<div class="line"><span class="lineno"> 1026</span>      <span class="keywordflow">if</span> (y &lt; 0)</div>
<div class="line"><span class="lineno"> 1027</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> += -<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>;</div>
<div class="line"><span class="lineno"> 1028</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &gt;= h)</div>
<div class="line"><span class="lineno"> 1029</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> += <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> - h + 1;</div>
<div class="line"><span class="lineno"> 1030</span>    } <span class="keywordflow">else</span> {      </div>
<div class="line"><span class="lineno"> 1031</span>      <span class="keywordflow">if</span> (x &lt; 0)</div>
<div class="line"><span class="lineno"> 1032</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> -= -<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno"> 1033</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt;= w)</div>
<div class="line"><span class="lineno"> 1034</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> -= <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> - w + 1;</div>
<div class="line"><span class="lineno"> 1035</span>      <span class="keywordflow">if</span> (y &lt; 0)</div>
<div class="line"><span class="lineno"> 1036</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> -= -<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>;</div>
<div class="line"><span class="lineno"> 1037</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &gt;= h)</div>
<div class="line"><span class="lineno"> 1038</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a> -= <a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a> - h + 1;</div>
<div class="line"><span class="lineno"> 1039</span>    }</div>
<div class="line"><span class="lineno"> 1040</span>  }</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a>;</div>
<div class="line"><span class="lineno"> 1043</span>}</div>
<div class="ttc" id="anamespace_eigen_1_1internal_html_a3cc80fc03610837da180f7e6d8e7b3ec"><div class="ttname"><a href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">Eigen::internal::y</a></div><div class="ttdeci">const Scalar &amp; y</div><div class="ttdef"><b>Definition</b> MathFunctions.h:552</div></div>
<div class="ttc" id="anamespace_slic3r_html_a92b2e5013291a55201abda7303b67baf"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">Slic3r::f</a></div><div class="ttdeci">static double f(double x, double z_sin, double z_cos, bool vertical, bool flip)</div><div class="ttdef"><b>Definition</b> FillGyroid.cpp:12</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:297</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00012">Slic3r::f()</a>, and <a class="el" href="../../#l00388">floor()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_aab59fccb02b78572b88a11d47dba38d6_cgraph.svg" width="426" height="234"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac1becfa2803527b240a868a55e160cc1" name="ac1becfa2803527b240a868a55e160cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1becfa2803527b240a868a55e160cc1">&#9670;&#160;</a></span>signed_distance_edges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::EdgeGrid::Grid::signed_distance_edges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>pt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>search_radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> &amp;&#160;</td>
          <td class="paramname"><em>result_min_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pon_segment</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1177</span>{</div>
<div class="line"><span class="lineno"> 1178</span>  BoundingBox <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>;</div>
<div class="line"><span class="lineno"> 1179</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a> = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a> = <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(pt(0) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0), pt(1) - <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1));</div>
<div class="line"><span class="lineno"> 1180</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a6c0e2282e86366eea8b08e970c75ff9b">defined</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1181</span>  <span class="comment">// Upper boundary, round to grid and test validity.</span></div>
<div class="line"><span class="lineno"> 1182</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) += search_radius;</div>
<div class="line"><span class="lineno"> 1183</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) += search_radius;</div>
<div class="line"><span class="lineno"> 1184</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) &lt; 0 || <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) &lt; 0)</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1186</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1187</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1188</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>)</div>
<div class="line"><span class="lineno"> 1189</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> - 1;</div>
<div class="line"><span class="lineno"> 1190</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">size_t</span>)<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) &gt;= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>)</div>
<div class="line"><span class="lineno"> 1191</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1) = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> - 1;</div>
<div class="line"><span class="lineno"> 1192</span>  <span class="comment">// Lower boundary, round to grid and test validity.</span></div>
<div class="line"><span class="lineno"> 1193</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) -= search_radius;</div>
<div class="line"><span class="lineno"> 1194</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) -= search_radius;</div>
<div class="line"><span class="lineno"> 1195</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) &lt; 0)</div>
<div class="line"><span class="lineno"> 1196</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) = 0;</div>
<div class="line"><span class="lineno"> 1197</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) &lt; 0)</div>
<div class="line"><span class="lineno"> 1198</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) = 0;</div>
<div class="line"><span class="lineno"> 1199</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1200</span>  <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno"> 1201</span>  <span class="comment">// Is the interval empty?</span></div>
<div class="line"><span class="lineno"> 1202</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0) &gt; <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0) ||</div>
<div class="line"><span class="lineno"> 1203</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1) &gt; <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1))</div>
<div class="line"><span class="lineno"> 1204</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1205</span>  <span class="comment">// Traverse all cells in the bounding box.</span></div>
<div class="line"><span class="lineno"> 1206</span>  <span class="keywordtype">double</span> d_min = double(search_radius);</div>
<div class="line"><span class="lineno"> 1207</span>  <span class="comment">// Signum of the distance field at pt.</span></div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordtype">int</span> sign_min = 0;</div>
<div class="line"><span class="lineno"> 1209</span>  <span class="keywordtype">bool</span> on_segment = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1210</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(1); r &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(1); ++ r) {</div>
<div class="line"><span class="lineno"> 1211</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>(0); <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>(0); ++ <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>) {</div>
<div class="line"><span class="lineno"> 1212</span>      <span class="keyword">const</span> Cell &amp;cell = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a3aaf533e0ca7f64803f64ac4d1fb8d50">m_cells</a>[r * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>];</div>
<div class="line"><span class="lineno"> 1213</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = cell.begin; i &lt; cell.end; ++ i) {</div>
<div class="line"><span class="lineno"> 1214</span>        <span class="keyword">const</span> Contour &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a> = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a949f1c36cb79d61e2dc1f00f830ccfd6">m_contours</a>[<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].first];</div>
<div class="line"><span class="lineno"> 1215</span>        assert(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.closed());</div>
<div class="line"><span class="lineno"> 1216</span>        <span class="keywordtype">size_t</span> ipt = <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a0a43a45495b74f39365ae62a190c2e85">m_cell_data</a>[i].second;</div>
<div class="line"><span class="lineno"> 1217</span>        <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p1 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_start(ipt);</div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p2 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_end(ipt);</div>
<div class="line"><span class="lineno"> 1220</span>        <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg = p2 - p1;</div>
<div class="line"><span class="lineno"> 1221</span>        <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_pt  = pt - p1;</div>
<div class="line"><span class="lineno"> 1222</span>        <span class="comment">// dot(p2-p1, pt-p1)</span></div>
<div class="line"><span class="lineno"> 1223</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1224</span>        <span class="comment">// l2 of seg</span></div>
<div class="line"><span class="lineno"> 1225</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> l2_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1));</div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> (t_pt &lt; 0) {</div>
<div class="line"><span class="lineno"> 1227</span>          <span class="comment">// Closest to p1.</span></div>
<div class="line"><span class="lineno"> 1228</span>          <span class="keywordtype">double</span> dabs = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1)));</div>
<div class="line"><span class="lineno"> 1229</span>          <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno"> 1230</span>            <span class="comment">// Previous point.</span></div>
<div class="line"><span class="lineno"> 1231</span>            <span class="keyword">const</span> <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> &amp;p0 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af61cef4113ccd6c7b65581bcfb25e340">contour</a>.segment_prev(ipt);</div>
<div class="line"><span class="lineno"> 1232</span>            <a class="code hl_class" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a> v_seg_prev = p1 - p0;</div>
<div class="line"><span class="lineno"> 1233</span>            <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> t2_pt = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) + <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1234</span>            <span class="keywordflow">if</span> (t2_pt &gt; 0) {</div>
<div class="line"><span class="lineno"> 1235</span>              <span class="comment">// Inside the wedge between the previous and the next segment.</span></div>
<div class="line"><span class="lineno"> 1236</span>              d_min = dabs;</div>
<div class="line"><span class="lineno"> 1237</span>              <span class="comment">// Set the signum depending on whether the vertex is convex or reflex.</span></div>
<div class="line"><span class="lineno"> 1238</span>              <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> det = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg_prev(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0));</div>
<div class="line"><span class="lineno"> 1239</span>              assert(det != 0);</div>
<div class="line"><span class="lineno"> 1240</span>              sign_min = (det &gt; 0) ? 1 : -1;</div>
<div class="line"><span class="lineno"> 1241</span>              on_segment = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1242</span>            }</div>
<div class="line"><span class="lineno"> 1243</span>          }</div>
<div class="line"><span class="lineno"> 1244</span>        }</div>
<div class="line"><span class="lineno"> 1245</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_pt &gt; l2_seg) {</div>
<div class="line"><span class="lineno"> 1246</span>          <span class="comment">// Closest to p2. Then p2 is the starting point of another segment, which shall be discovered in the same cell.</span></div>
<div class="line"><span class="lineno"> 1247</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1248</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1249</span>          <span class="comment">// Closest to the segment.</span></div>
<div class="line"><span class="lineno"> 1250</span>          assert(t_pt &gt;= 0 &amp;&amp; t_pt &lt;= l2_seg);</div>
<div class="line"><span class="lineno"> 1251</span>          <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> d_seg = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(0)) - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_seg(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(v_pt(1));</div>
<div class="line"><span class="lineno"> 1252</span>          <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = double(d_seg) / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<span class="keywordtype">double</span>(l2_seg));</div>
<div class="line"><span class="lineno"> 1253</span>          <span class="keywordtype">double</span> dabs = std::abs(d);</div>
<div class="line"><span class="lineno"> 1254</span>          <span class="keywordflow">if</span> (dabs &lt; d_min) {</div>
<div class="line"><span class="lineno"> 1255</span>            d_min = dabs;</div>
<div class="line"><span class="lineno"> 1256</span>            sign_min = (d_seg &lt; 0) ? -1 : ((d_seg == 0) ? 0 : 1);</div>
<div class="line"><span class="lineno"> 1257</span>            on_segment = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1258</span>          }</div>
<div class="line"><span class="lineno"> 1259</span>        }</div>
<div class="line"><span class="lineno"> 1260</span>      }</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="line"><span class="lineno"> 1262</span>  }</div>
<div class="line"><span class="lineno"> 1263</span>  <span class="keywordflow">if</span> (d_min &gt;= search_radius)</div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1265</span>  result_min_dist = d_min * sign_min;</div>
<div class="line"><span class="lineno"> 1266</span>  <span class="keywordflow">if</span> (pon_segment != NULL)</div>
<div class="line"><span class="lineno"> 1267</span>    *pon_segment = on_segment;</div>
<div class="line"><span class="lineno"> 1268</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1269</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00361">Slic3r::EdgeGrid::Grid::Cell::begin</a>, <a class="el" href="../../#l00021">Slic3r::contour()</a>, <a class="el" href="../../#l00018">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::defined</a>, <a class="el" href="../../#l00362">Slic3r::EdgeGrid::Grid::Cell::end</a>, <a class="el" href="../../#l00017">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::max</a>, <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_ac1becfa2803527b240a868a55e160cc1_cgraph.svg" width="330" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae697a82e3fa588b5c84d600e048a76e6" name="ae697a82e3fa588b5c84d600e048a76e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae697a82e3fa588b5c84d600e048a76e6">&#9670;&#160;</a></span>visit_cells_intersecting_box()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VISITOR &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::visit_cells_intersecting_box </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VISITOR &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  318</span>  {</div>
<div class="line"><span class="lineno">  319</span>    <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno">  320</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a> -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>;</div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a> -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a> + <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(1, 1);</div>
<div class="line"><span class="lineno">  322</span>    <span class="comment">// Get the cells of the end points.</span></div>
<div class="line"><span class="lineno">  323</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a> /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  324</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a> /= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  325</span>    <span class="comment">// Trim with the cells.</span></div>
<div class="line"><span class="lineno">  326</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.x() = std::max&lt;coord_t&gt;(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.x(), 0);</div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.y() = std::max&lt;coord_t&gt;(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.y(), 0);</div>
<div class="line"><span class="lineno">  328</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.x() = std::min&lt;coord_t&gt;(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.x(), (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> - 1);</div>
<div class="line"><span class="lineno">  329</span>    <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.y() = std::min&lt;coord_t&gt;(<a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.y(), (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>)<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> - 1);</div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iy = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.y(); iy &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.y(); ++ iy)</div>
<div class="line"><span class="lineno">  331</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ix = <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.x(); ix &lt;= <a class="code hl_function" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a651b7e150e11516477c628e52687c217">bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.x(); ++ ix)</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">if</span> (! visitor(iy, ix))</div>
<div class="line"><span class="lineno">  333</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  334</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00159">bbox()</a>, <a class="el" href="../../#l00383">m_bbox</a>, <a class="el" href="../../#l00387">m_cols</a>, <a class="el" href="../../#l00385">m_resolution</a>, <a class="el" href="../../#l00386">m_rows</a>, <a class="el" href="../../#l00017">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::max</a>, and <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_ae697a82e3fa588b5c84d600e048a76e6_cgraph.svg" width="396" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a424f19dd6565d5d1b562462fd9d457d5" name="a424f19dd6565d5d1b562462fd9d457d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424f19dd6565d5d1b562462fd9d457d5">&#9670;&#160;</a></span>visit_cells_intersecting_line()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VISITOR &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::EdgeGrid::Grid::visit_cells_intersecting_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Slic3r::Point</a>&#160;</td>
          <td class="paramname"><em>p2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VISITOR &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  173</span>  {</div>
<div class="line"><span class="lineno">  174</span>    <span class="comment">// End points of the line segment.</span></div>
<div class="line"><span class="lineno">  175</span>    assert(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_function" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a95f665e7b8a5036c835f1bdb55d5bc59">contains</a>(p1));</div>
<div class="line"><span class="lineno">  176</span>    assert(<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_function" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a95f665e7b8a5036c835f1bdb55d5bc59">contains</a>(p2));</div>
<div class="line"><span class="lineno">  177</span>    p1 -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>;</div>
<div class="line"><span class="lineno">  178</span>    p2 -= <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa72e7373fac474814951c5390d97b20c">m_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>;</div>
<div class="line"><span class="lineno">  179</span>        assert(p1.x() &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(p1.x()) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  180</span>        assert(p1.y() &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(p1.y()) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  181</span>        assert(p2.x() &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(p2.x()) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  182</span>        assert(p2.y() &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(p2.y()) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a> * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>);</div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// Get the cells of the end points.</span></div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ix = p1(0) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iy = p1(1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ixb = p2(0) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> iyb = p2(1) / <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  188</span>    assert(ix &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(ix) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  189</span>    assert(iy &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(iy) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>);</div>
<div class="line"><span class="lineno">  190</span>    assert(ixb &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(ixb) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aeffc6c0744c4f780a1459e1e5362d2a9">m_cols</a>);</div>
<div class="line"><span class="lineno">  191</span>    assert(iyb &gt;= 0 &amp;&amp; <span class="keywordtype">size_t</span>(iyb) &lt; <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#aa4fb66f76043f26342305cd35c3b7d57">m_rows</a>);</div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">// Account for the end points.</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> (! visitor(iy, ix) || (ix == ixb &amp;&amp; iy == iyb))</div>
<div class="line"><span class="lineno">  194</span>      <span class="comment">// Both ends fall into the same cell.</span></div>
<div class="line"><span class="lineno">  195</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  196</span>    <span class="comment">// Raster the centeral part of the line.</span></div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dx = std::abs(p2(0) - p1(0));</div>
<div class="line"><span class="lineno">  198</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dy = std::abs(p2(1) - p1(1));</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (p1(0) &lt; p2(0)) {</div>
<div class="line"><span class="lineno">  200</span>      <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((ix + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(0)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy);</div>
<div class="line"><span class="lineno">  201</span>      <span class="keywordflow">if</span> (p1(1) &lt; p2(1)) {</div>
<div class="line"><span class="lineno">  202</span>        <span class="comment">// x positive, y positive</span></div>
<div class="line"><span class="lineno">  203</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((iy + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  205</span>          assert(ix &lt;= ixb &amp;&amp; iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  206</span>          <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  207</span>            ey -= ex;</div>
<div class="line"><span class="lineno">  208</span>            ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  209</span>            ix += 1;</div>
<div class="line"><span class="lineno">  210</span>            assert(ix &lt;= ixb);</div>
<div class="line"><span class="lineno">  211</span>          }</div>
<div class="line"><span class="lineno">  212</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ex == ey) {</div>
<div class="line"><span class="lineno">  213</span>            ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  214</span>            ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  215</span>            ix += 1;</div>
<div class="line"><span class="lineno">  216</span>            iy += 1;</div>
<div class="line"><span class="lineno">  217</span>            assert(ix &lt;= ixb);</div>
<div class="line"><span class="lineno">  218</span>            assert(iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  219</span>          }</div>
<div class="line"><span class="lineno">  220</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  221</span>            assert(ex &gt; ey);</div>
<div class="line"><span class="lineno">  222</span>            ex -= ey;</div>
<div class="line"><span class="lineno">  223</span>            ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  224</span>            iy += 1;</div>
<div class="line"><span class="lineno">  225</span>            assert(iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  226</span>          }</div>
<div class="line"><span class="lineno">  227</span>          <span class="keywordflow">if</span> (! visitor(iy, ix))</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  229</span>        } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  230</span>      }</div>
<div class="line"><span class="lineno">  231</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  232</span>        <span class="comment">// x positive, y non positive</span></div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(1) - iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  235</span>          assert(ix &lt;= ixb &amp;&amp; iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  236</span>          <span class="keywordflow">if</span> (ex &lt;= ey) {</div>
<div class="line"><span class="lineno">  237</span>            ey -= ex;</div>
<div class="line"><span class="lineno">  238</span>            ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  239</span>            ix += 1;</div>
<div class="line"><span class="lineno">  240</span>            assert(ix &lt;= ixb);</div>
<div class="line"><span class="lineno">  241</span>          }</div>
<div class="line"><span class="lineno">  242</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  243</span>            ex -= ey;</div>
<div class="line"><span class="lineno">  244</span>            ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  245</span>            iy -= 1;</div>
<div class="line"><span class="lineno">  246</span>            assert(iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  247</span>          }</div>
<div class="line"><span class="lineno">  248</span>          <span class="keywordflow">if</span> (! visitor(iy, ix))</div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  250</span>        } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  251</span>      }</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  254</span>      <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(0) - ix*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy);</div>
<div class="line"><span class="lineno">  255</span>      <span class="keywordflow">if</span> (p1(1) &lt; p2(1)) {</div>
<div class="line"><span class="lineno">  256</span>        <span class="comment">// x non positive, y positive</span></div>
<div class="line"><span class="lineno">  257</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>((iy + 1)*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a> - p1(1)) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  259</span>          assert(ix &gt;= ixb &amp;&amp; iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  260</span>          <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  261</span>            ey -= ex;</div>
<div class="line"><span class="lineno">  262</span>            ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  263</span>            ix -= 1;</div>
<div class="line"><span class="lineno">  264</span>            assert(ix &gt;= ixb);</div>
<div class="line"><span class="lineno">  265</span>          }</div>
<div class="line"><span class="lineno">  266</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  267</span>            assert(ex &gt;= ey);</div>
<div class="line"><span class="lineno">  268</span>            ex -= ey;</div>
<div class="line"><span class="lineno">  269</span>            ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  270</span>            iy += 1;</div>
<div class="line"><span class="lineno">  271</span>            assert(iy &lt;= iyb);</div>
<div class="line"><span class="lineno">  272</span>          }</div>
<div class="line"><span class="lineno">  273</span>          <span class="keywordflow">if</span> (! visitor(iy, ix))</div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  275</span>        } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  276</span>      }</div>
<div class="line"><span class="lineno">  277</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  278</span>        <span class="comment">// x non positive, y non positive</span></div>
<div class="line"><span class="lineno">  279</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(p1(1) - iy*<a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx);</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  281</span>          assert(ix &gt;= ixb &amp;&amp; iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  282</span>          <span class="keywordflow">if</span> (ex &lt; ey) {</div>
<div class="line"><span class="lineno">  283</span>            ey -= ex;</div>
<div class="line"><span class="lineno">  284</span>            ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  285</span>            ix -= 1;</div>
<div class="line"><span class="lineno">  286</span>            assert(ix &gt;= ixb);</div>
<div class="line"><span class="lineno">  287</span>          }</div>
<div class="line"><span class="lineno">  288</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ex == ey) {</div>
<div class="line"><span class="lineno">  289</span>            <span class="comment">// The lower edge of a grid cell belongs to the cell.</span></div>
<div class="line"><span class="lineno">  290</span>            <span class="comment">// Handle the case where the ray may cross the lower left corner of a cell in a general case,</span></div>
<div class="line"><span class="lineno">  291</span>            <span class="comment">// or a left or lower edge in a degenerate case (horizontal or vertical line).</span></div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">if</span> (dx &gt; 0) {</div>
<div class="line"><span class="lineno">  293</span>              ex = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dy) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  294</span>              ix -= 1;</div>
<div class="line"><span class="lineno">  295</span>              assert(ix &gt;= ixb);</div>
<div class="line"><span class="lineno">  296</span>            }</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">if</span> (dy &gt; 0) {</div>
<div class="line"><span class="lineno">  298</span>              ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  299</span>              iy -= 1;</div>
<div class="line"><span class="lineno">  300</span>              assert(iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  301</span>            }</div>
<div class="line"><span class="lineno">  302</span>          }</div>
<div class="line"><span class="lineno">  303</span>          <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  304</span>            assert(ex &gt; ey);</div>
<div class="line"><span class="lineno">  305</span>            ex -= ey;</div>
<div class="line"><span class="lineno">  306</span>            ey = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(dx) * <a class="code hl_variable" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html#a6110e1ed60573fc05debbfb2c2278446">m_resolution</a>;</div>
<div class="line"><span class="lineno">  307</span>            iy -= 1;</div>
<div class="line"><span class="lineno">  308</span>            assert(iy &gt;= iyb);</div>
<div class="line"><span class="lineno">  309</span>          }</div>
<div class="line"><span class="lineno">  310</span>          <span class="keywordflow">if</span> (! visitor(iy, ix))</div>
<div class="line"><span class="lineno">  311</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  312</span>        } <span class="keywordflow">while</span> (ix != ixb || iy != iyb);</div>
<div class="line"><span class="lineno">  313</span>      }</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span>  }</div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_a95f665e7b8a5036c835f1bdb55d5bc59"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a95f665e7b8a5036c835f1bdb55d5bc59">Slic3r::BoundingBoxBase::contains</a></div><div class="ttdeci">bool contains(const PointType &amp;point) const</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:46</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00046">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::contains()</a>, <a class="el" href="../../#l00383">m_bbox</a>, <a class="el" href="../../#l00387">m_cols</a>, <a class="el" href="../../#l00385">m_resolution</a>, <a class="el" href="../../#l00386">m_rows</a>, and <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00706">Slic3r::any_expolygon_contains()</a>, <a class="el" href="../../#l00681">Slic3r::any_expolygon_contains()</a>, <a class="el" href="../../#l00544">Slic3r::avoid_perimeters_inner()</a>, <a class="el" href="../../#l00144">Slic3r::FillLightning::lineSegmentPolygonsIntersection()</a>, <a class="el" href="../../#l00088">Slic3r::FillLightning::polygonCollidesWithLineSegment()</a>, and <a class="el" href="../../#l00425">Slic3r::simplify_travel()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a424f19dd6565d5d1b562462fd9d457d5_cgraph.svg" width="416" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid_a424f19dd6565d5d1b562462fd9d457d5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa72e7373fac474814951c5390d97b20c" name="aa72e7373fac474814951c5390d97b20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72e7373fac474814951c5390d97b20c">&#9670;&#160;</a></span>m_bbox</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> Slic3r::EdgeGrid::Grid::m_bbox</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00159">bbox()</a>, <a class="el" href="../../#l00097">set_bbox()</a>, <a class="el" href="../../#l00317">visit_cells_intersecting_box()</a>, and <a class="el" href="../../#l00172">visit_cells_intersecting_line()</a>.</p>

</div>
</div>
<a id="a0a43a45495b74f39365ae62a190c2e85" name="a0a43a45495b74f39365ae62a190c2e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a43a45495b74f39365ae62a190c2e85">&#9670;&#160;</a></span>m_cell_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;size_t, size_t&gt; &gt; Slic3r::EdgeGrid::Grid::m_cell_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00336">cell_data_range()</a>.</p>

</div>
</div>
<a id="a3aaf533e0ca7f64803f64ac4d1fb8d50" name="a3aaf533e0ca7f64803f64ac4d1fb8d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aaf533e0ca7f64803f64ac4d1fb8d50">&#9670;&#160;</a></span>m_cells</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d1/dc2/struct_slic3r_1_1_edge_grid_1_1_grid_1_1_cell.html">Cell</a>&gt; Slic3r::EdgeGrid::Grid::m_cells</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00336">cell_data_range()</a>, and <a class="el" href="../../#l00369">cell_inside_or_crossing()</a>.</p>

</div>
</div>
<a id="aeffc6c0744c4f780a1459e1e5362d2a9" name="aeffc6c0744c4f780a1459e1e5362d2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffc6c0744c4f780a1459e1e5362d2a9">&#9670;&#160;</a></span>m_cols</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::EdgeGrid::Grid::m_cols = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00336">cell_data_range()</a>, <a class="el" href="../../#l00369">cell_inside_or_crossing()</a>, <a class="el" href="../../#l00162">cols()</a>, <a class="el" href="../../#l00317">visit_cells_intersecting_box()</a>, and <a class="el" href="../../#l00172">visit_cells_intersecting_line()</a>.</p>

</div>
</div>
<a id="a949f1c36cb79d61e2dc1f00f830ccfd6" name="a949f1c36cb79d61e2dc1f00f830ccfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949f1c36cb79d61e2dc1f00f830ccfd6">&#9670;&#160;</a></span>m_contours</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d5/dc4/class_slic3r_1_1_edge_grid_1_1_contour.html">Contour</a>&gt; Slic3r::EdgeGrid::Grid::m_contours</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00115">contours()</a>, <a class="el" href="../../#l00028">create()</a>, <a class="el" href="../../#l00351">line()</a>, and <a class="el" href="../../#l00344">segment()</a>.</p>

</div>
</div>
<a id="a6110e1ed60573fc05debbfb2c2278446" name="a6110e1ed60573fc05debbfb2c2278446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6110e1ed60573fc05debbfb2c2278446">&#9670;&#160;</a></span>m_resolution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::EdgeGrid::Grid::m_resolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00160">resolution()</a>, <a class="el" href="../../#l00317">visit_cells_intersecting_box()</a>, and <a class="el" href="../../#l00172">visit_cells_intersecting_line()</a>.</p>

</div>
</div>
<a id="aa4fb66f76043f26342305cd35c3b7d57" name="aa4fb66f76043f26342305cd35c3b7d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fb66f76043f26342305cd35c3b7d57">&#9670;&#160;</a></span>m_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::EdgeGrid::Grid::m_rows = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00336">cell_data_range()</a>, <a class="el" href="../../#l00369">cell_inside_or_crossing()</a>, <a class="el" href="../../#l00161">rows()</a>, <a class="el" href="../../#l00317">visit_cells_intersecting_box()</a>, and <a class="el" href="../../#l00172">visit_cells_intersecting_line()</a>.</p>

</div>
</div>
<a id="ab163c40922c7acdf9e0bad45a3809e17" name="ab163c40922c7acdf9e0bad45a3809e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab163c40922c7acdf9e0bad45a3809e17">&#9670;&#160;</a></span>m_signed_distance_field</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; Slic3r::EdgeGrid::Grid::m_signed_distance_field</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00369">cell_inside_or_crossing()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/<a class="el" href="../../">EdgeGrid.hpp</a></li>
<li>src/libslic3r/<a class="el" href="../../">EdgeGrid.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../df/d77/namespace_slic3r_1_1_edge_grid.html">EdgeGrid</a></li><li class="navelem"><a class="el" href="../../d2/da7/class_slic3r_1_1_edge_grid_1_1_grid.html">Grid</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
