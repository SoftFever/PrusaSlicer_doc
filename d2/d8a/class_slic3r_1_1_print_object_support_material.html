<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::PrintObjectSupportMaterial Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/d8a/class_slic3r_1_1_print_object_support_material.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/d1c/class_slic3r_1_1_print_object_support_material-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::PrintObjectSupportMaterial Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/Support/SupportMaterial.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::PrintObjectSupportMaterial:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/d26/class_slic3r_1_1_print_object_support_material__coll__graph.svg" width="458" height="319"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aad85786ced3b000a83b39d91ddb8218e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aad85786ced3b000a83b39d91ddb8218e">PrintObjectSupportMaterial</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html">SlicingParameters</a> &amp;slicing_params)</td></tr>
<tr class="separator:aad85786ced3b000a83b39d91ddb8218e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0106d9d58b8f72d32794b42cc76b0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3c0106d9d58b8f72d32794b42cc76b0f">has_raft</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a3c0106d9d58b8f72d32794b42cc76b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c1f7fa0e8ffece7c916dcb3716a4ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a63c1f7fa0e8ffece7c916dcb3716a4ef">has_support</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a63c1f7fa0e8ffece7c916dcb3716a4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d22ac405c9441718736cfca8f799484"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1d22ac405c9441718736cfca8f799484">build_plate_only</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a1d22ac405c9441718736cfca8f799484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad404e6eecb194f163f453cbc583f81eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad404e6eecb194f163f453cbc583f81eb">synchronize_layers</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad404e6eecb194f163f453cbc583f81eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e1f5dc3048c374c660c48629bcdb57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a03e1f5dc3048c374c660c48629bcdb57">has_contact_loops</a> () <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a03e1f5dc3048c374c660c48629bcdb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91db86d2d6af50dc0cb0c8b3b5ffda3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa91db86d2d6af50dc0cb0c8b3b5ffda3">generate</a> (<a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object)</td></tr>
<tr class="separator:aa91db86d2d6af50dc0cb0c8b3b5ffda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aa380e5f0b093e49c3b1df7da590d54a6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> = <a class="el" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">FFFSupport::SupportGeneratorLayersPtr</a></td></tr>
<tr class="separator:aa380e5f0b093e49c3b1df7da590d54a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9261af07f0113dc82312b4d20e90e3a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> = <a class="el" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html">FFFSupport::SupportGeneratorLayerStorage</a></td></tr>
<tr class="separator:af9261af07f0113dc82312b4d20e90e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e4379bca66f5ba1d22b8a63de9e2e1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ae7e4379bca66f5ba1d22b8a63de9e2e1">SupportParameters</a> = <a class="el" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html">FFFSupport::SupportParameters</a></td></tr>
<tr class="separator:ae7e4379bca66f5ba1d22b8a63de9e2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3abfb433ae14805f6bcb7d41b5cc1840"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a3abfb433ae14805f6bcb7d41b5cc1840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fccb369feffc935791c53edcc68a785"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3fccb369feffc935791c53edcc68a785">top_contact_layers</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;<a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;layer_storage) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a3fccb369feffc935791c53edcc68a785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f980068df45841787a9acb4fc611a6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a2f980068df45841787a9acb4fc611a6c">bottom_contact_layers_and_layer_support_areas</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;top_contacts, std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;<a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;layer_storage, std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;layer_support_areas) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a2f980068df45841787a9acb4fc611a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66c8b33882cbab77e7106f13ccb5e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af66c8b33882cbab77e7106f13ccb5e86">trim_top_contacts_by_bottom_contacts</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;bottom_contacts, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;top_contacts) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:af66c8b33882cbab77e7106f13ccb5e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3f1ac0d5b1abb534dea8847c5e43d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a6f3f1ac0d5b1abb534dea8847c5e43d8">raft_and_intermediate_support_layers</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;bottom_contacts, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;top_contacts, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;layer_storage) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a6f3f1ac0d5b1abb534dea8847c5e43d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad974705c8ba58c4c3d072e684128893b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad974705c8ba58c4c3d072e684128893b">generate_base_layers</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;bottom_contacts, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;top_contacts, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;intermediate_layers, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;layer_support_areas) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad974705c8ba58c4c3d072e684128893b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc64dd344135d767c15df857f1f3bec2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#abc64dd344135d767c15df857f1f3bec2">trim_support_layers_by_object</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;object, <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;support_layers, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> gap_extra_above, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> gap_extra_below, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a> gap_xy) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:abc64dd344135d767c15df857f1f3bec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0b59238962f758fd90553b0fca5ca1a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> PrintConfig *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a0b59238962f758fd90553b0fca5ca1a7">m_print_config</a></td></tr>
<tr class="separator:a0b59238962f758fd90553b0fca5ca1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f5a649e3f3bfc65624d776dd55fb1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a341d40f47c645aae18d24a020fd3c01c">PrintObjectConfig</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a></td></tr>
<tr class="separator:a66f5a649e3f3bfc65624d776dd55fb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf6e843045184c2a71e988868e29952"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html">SlicingParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a></td></tr>
<tr class="separator:a1cf6e843045184c2a71e988868e29952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad575fc4e535f65accbc7711e21384264"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ae7e4379bca66f5ba1d22b8a63de9e2e1">SupportParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a></td></tr>
<tr class="separator:ad575fc4e535f65accbc7711e21384264"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aa380e5f0b093e49c3b1df7da590d54a6" name="aa380e5f0b093e49c3b1df7da590d54a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa380e5f0b093e49c3b1df7da590d54a6">&#9670;&#160;</a></span>SupportGeneratorLayersPtr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">Slic3r::PrintObjectSupportMaterial::SupportGeneratorLayersPtr</a> =  <a class="el" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">FFFSupport::SupportGeneratorLayersPtr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af9261af07f0113dc82312b4d20e90e3a" name="af9261af07f0113dc82312b4d20e90e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9261af07f0113dc82312b4d20e90e3a">&#9670;&#160;</a></span>SupportGeneratorLayerStorage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">Slic3r::PrintObjectSupportMaterial::SupportGeneratorLayerStorage</a> =  <a class="el" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html">FFFSupport::SupportGeneratorLayerStorage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae7e4379bca66f5ba1d22b8a63de9e2e1" name="ae7e4379bca66f5ba1d22b8a63de9e2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e4379bca66f5ba1d22b8a63de9e2e1">&#9670;&#160;</a></span>SupportParameters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ae7e4379bca66f5ba1d22b8a63de9e2e1">Slic3r::PrintObjectSupportMaterial::SupportParameters</a> =  <a class="el" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html">FFFSupport::SupportParameters</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aad85786ced3b000a83b39d91ddb8218e" name="aad85786ced3b000a83b39d91ddb8218e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad85786ced3b000a83b39d91ddb8218e">&#9670;&#160;</a></span>PrintObjectSupportMaterial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::PrintObjectSupportMaterial::PrintObjectSupportMaterial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html">SlicingParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>slicing_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  231</span>                                                                                                                         :</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a0b59238962f758fd90553b0fca5ca1a7">m_print_config</a>          (&amp;object-&gt;print()-&gt;config()),</div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>         (&amp;object-&gt;config()),</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>        (slicing_params),</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>        (*<span class="keywordtype">object</span>)</div>
<div class="line"><span class="lineno">  236</span>{</div>
<div class="line"><span class="lineno">  237</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a0b59238962f758fd90553b0fca5ca1a7"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a0b59238962f758fd90553b0fca5ca1a7">Slic3r::PrintObjectSupportMaterial::m_print_config</a></div><div class="ttdeci">const PrintConfig * m_print_config</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:90</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a1cf6e843045184c2a71e988868e29952"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">Slic3r::PrintObjectSupportMaterial::m_slicing_params</a></div><div class="ttdeci">SlicingParameters m_slicing_params</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:94</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a66f5a649e3f3bfc65624d776dd55fb1e"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">Slic3r::PrintObjectSupportMaterial::m_object_config</a></div><div class="ttdeci">const PrintObjectConfig * m_object_config</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:91</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_ad575fc4e535f65accbc7711e21384264"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">Slic3r::PrintObjectSupportMaterial::m_support_params</a></div><div class="ttdeci">SupportParameters m_support_params</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:96</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2f980068df45841787a9acb4fc611a6c" name="a2f980068df45841787a9acb4fc611a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f980068df45841787a9acb4fc611a6c">&#9670;&#160;</a></span>bottom_contact_layers_and_layer_support_areas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> Slic3r::PrintObjectSupportMaterial::bottom_contact_layers_and_layer_support_areas </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>top_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buildplate_covered</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>layer_storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layer_support_areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1937</span>{</div>
<div class="line"><span class="lineno"> 1938</span>    <span class="keywordflow">if</span> (top_contacts.empty())</div>
<div class="line"><span class="lineno"> 1939</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a>();</div>
<div class="line"><span class="lineno"> 1940</span> </div>
<div class="line"><span class="lineno"> 1941</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1942</span>    <span class="keyword">static</span> <span class="keywordtype">size_t</span> s_iRun = 0;</div>
<div class="line"><span class="lineno"> 1943</span>    <span class="keywordtype">size_t</span> iRun = s_iRun ++;</div>
<div class="line"><span class="lineno"> 1944</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1945</span> </div>
<div class="line"><span class="lineno"> 1946</span>    <span class="comment">//FIXME higher expansion_to_slice here? why?</span></div>
<div class="line"><span class="lineno"> 1947</span>    <span class="comment">//const auto   expansion_to_slice = m_support_material_flow.scaled_spacing() / 2 + 25;</span></div>
<div class="line"><span class="lineno"> 1948</span>    <span class="keyword">const</span> SupportGridParams grid_params(*<a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a70d63e9aa6e04b89189016bc73ce974e">support_material_flow</a>);</div>
<div class="line"><span class="lineno"> 1949</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> buildplate_only = ! <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>.empty();</div>
<div class="line"><span class="lineno"> 1950</span> </div>
<div class="line"><span class="lineno"> 1951</span>    <span class="comment">// Allocate empty surface areas, one per object layer.</span></div>
<div class="line"><span class="lineno"> 1952</span>    layer_support_areas.assign(<span class="keywordtype">object</span>.total_layer_count(), <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>());</div>
<div class="line"><span class="lineno"> 1953</span> </div>
<div class="line"><span class="lineno"> 1954</span>    <span class="comment">// find object top surfaces</span></div>
<div class="line"><span class="lineno"> 1955</span>    <span class="comment">// we&#39;ll use them to clip our support and detect where does it stick</span></div>
<div class="line"><span class="lineno"> 1956</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> bottom_contacts;</div>
<div class="line"><span class="lineno"> 1957</span> </div>
<div class="line"><span class="lineno"> 1958</span>    <span class="comment">// There is some support to be built, if there are non-empty top surfaces detected.</span></div>
<div class="line"><span class="lineno"> 1959</span>    <span class="comment">// Sum of unsupported contact areas above the current layer.print_z.</span></div>
<div class="line"><span class="lineno"> 1960</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>  overhangs_projection;</div>
<div class="line"><span class="lineno"> 1961</span>    <span class="comment">// Sum of unsupported enforcer contact areas above the current layer.print_z.</span></div>
<div class="line"><span class="lineno"> 1962</span>    <span class="comment">// Only used if &quot;supports on build plate only&quot; is enabled and both automatic and support enforcers are enabled.</span></div>
<div class="line"><span class="lineno"> 1963</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>  enforcers_projection;</div>
<div class="line"><span class="lineno"> 1964</span>    <span class="comment">// Last top contact layer visited when collecting the projection of contact areas.</span></div>
<div class="line"><span class="lineno"> 1965</span>    <span class="keywordtype">int</span>       contact_idx = int(top_contacts.size()) - 1;</div>
<div class="line"><span class="lineno"> 1966</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_id = <span class="keywordtype">int</span>(<span class="keywordtype">object</span>.total_layer_count()) - 2; layer_id &gt;= 0; -- layer_id) {</div>
<div class="line"><span class="lineno"> 1967</span>        BOOST_LOG_TRIVIAL(trace) &lt;&lt; <span class="stringliteral">&quot;Support generator - bottom_contact_layers - layer &quot;</span> &lt;&lt; layer_id;</div>
<div class="line"><span class="lineno"> 1968</span>        <span class="keyword">const</span> Layer &amp;layer = *<span class="keywordtype">object</span>.get_layer(layer_id);</div>
<div class="line"><span class="lineno"> 1969</span>        <span class="comment">// Collect projections of all contact areas above or at the same level as this top surface.</span></div>
<div class="line"><span class="lineno"> 1970</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1971</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> polygons_new;</div>
<div class="line"><span class="lineno"> 1972</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> enforcers_new;</div>
<div class="line"><span class="lineno"> 1973</span><span class="preprocessor">#endif </span><span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1974</span>        <span class="keywordflow">for</span> (; contact_idx &gt;= 0 &amp;&amp; top_contacts[contact_idx]-&gt;print_z &gt; layer.print_z - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>; -- contact_idx) {</div>
<div class="line"><span class="lineno"> 1975</span>            <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;top_contact = *top_contacts[contact_idx];</div>
<div class="line"><span class="lineno"> 1976</span><span class="preprocessor">#ifndef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1977</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> polygons_new;</div>
<div class="line"><span class="lineno"> 1978</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> enforcers_new;</div>
<div class="line"><span class="lineno"> 1979</span><span class="preprocessor">#endif </span><span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1980</span>            <span class="comment">// Contact surfaces are expanded away from the object, trimmed by the object.</span></div>
<div class="line"><span class="lineno"> 1981</span>            <span class="comment">// Use a slight positive offset to overlap the touching regions.</span></div>
<div class="line"><span class="lineno"> 1982</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1983</span>            <span class="comment">// Merge and collect the contact polygons. The contact polygons are inflated, but not extended into a grid form.</span></div>
<div class="line"><span class="lineno"> 1984</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(polygons_new,  <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>(*top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a8e4783839835b25b4c54f0cf8fc03595">contact_polygons</a>,  <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno"> 1985</span>            <span class="keywordflow">if</span> (top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a5c615cd666f4788c143bd55899e59cdc">enforcer_polygons</a>)</div>
<div class="line"><span class="lineno"> 1986</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(enforcers_new, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>(*top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a5c615cd666f4788c143bd55899e59cdc">enforcer_polygons</a>, <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>));</div>
<div class="line"><span class="lineno"> 1987</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1988</span>            <span class="comment">// Consume the contact_polygons. The contact polygons are already expanded into a grid form, and they are a tiny bit smaller</span></div>
<div class="line"><span class="lineno"> 1989</span>            <span class="comment">// than the grid cells.</span></div>
<div class="line"><span class="lineno"> 1990</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(polygons_new,  std::move(*top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a8e4783839835b25b4c54f0cf8fc03595">contact_polygons</a>));</div>
<div class="line"><span class="lineno"> 1991</span>            <span class="keywordflow">if</span> (top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a5c615cd666f4788c143bd55899e59cdc">enforcer_polygons</a>)</div>
<div class="line"><span class="lineno"> 1992</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(enforcers_new, std::move(*top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a5c615cd666f4788c143bd55899e59cdc">enforcer_polygons</a>));</div>
<div class="line"><span class="lineno"> 1993</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1994</span>            <span class="comment">// These are the overhang surfaces. They are touching the object and they are not expanded away from the object.</span></div>
<div class="line"><span class="lineno"> 1995</span>            <span class="comment">// Use a slight positive offset to overlap the touching regions.</span></div>
<div class="line"><span class="lineno"> 1996</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(polygons_new, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3139b5c30f46b41a991edc50308554f6">expand</a>(*top_contact.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a994a81dd080b37a05ebf7b6459ca0de5">overhang_polygons</a>, <span class="keywordtype">float</span>(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a>)));</div>
<div class="line"><span class="lineno"> 1997</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(overhangs_projection, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">union_</a>(polygons_new));</div>
<div class="line"><span class="lineno"> 1998</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(enforcers_projection, enforcers_new);</div>
<div class="line"><span class="lineno"> 1999</span>        }</div>
<div class="line"><span class="lineno"> 2000</span>        <span class="keywordflow">if</span> (overhangs_projection.empty() &amp;&amp; enforcers_projection.empty())</div>
<div class="line"><span class="lineno"> 2001</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>        <span class="comment">// Overhangs_projection will be filled in asynchronously, move it away.</span></div>
<div class="line"><span class="lineno"> 2004</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> overhangs_projection_raw = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">union_</a>(std::move(overhangs_projection));</div>
<div class="line"><span class="lineno"> 2005</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> enforcers_projection_raw = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">union_</a>(std::move(enforcers_projection));</div>
<div class="line"><span class="lineno"> 2006</span> </div>
<div class="line"><span class="lineno"> 2007</span>        tbb::task_group task_group;</div>
<div class="line"><span class="lineno"> 2008</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;overhangs_for_bottom_contacts = buildplate_only ? enforcers_projection_raw : overhangs_projection_raw;</div>
<div class="line"><span class="lineno"> 2009</span>        <span class="keywordflow">if</span> (! overhangs_for_bottom_contacts.empty())</div>
<div class="line"><span class="lineno"> 2010</span>            <span class="comment">// Find the bottom contact layers above the top surfaces of this layer.</span></div>
<div class="line"><span class="lineno"> 2011</span>            task_group.run([<span class="keyword">this</span>, &amp;<span class="keywordtype">object</span>, &amp;layer, &amp;top_contacts, contact_idx, &amp;layer_storage, &amp;layer_support_areas, &amp;bottom_contacts, &amp;overhangs_for_bottom_contacts</div>
<div class="line"><span class="lineno"> 2012</span>    #ifdef SLIC3R_DEBUG</div>
<div class="line"><span class="lineno"> 2013</span>                , iRun, &amp;polygons_new</div>
<div class="line"><span class="lineno"> 2014</span>    #endif <span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 2015</span>                ] {</div>
<div class="line"><span class="lineno"> 2016</span>                    <span class="comment">// Find the bottom contact layers above the top surfaces of this layer.</span></div>
<div class="line"><span class="lineno"> 2017</span>                    <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *layer_new = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ae9396b9e18a3d64624d81586b77b3a04">detect_bottom_contacts</a>(</div>
<div class="line"><span class="lineno"> 2018</span>                        <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>, <span class="keywordtype">object</span>, layer, top_contacts, contact_idx, layer_storage, layer_support_areas, overhangs_for_bottom_contacts</div>
<div class="line"><span class="lineno"> 2019</span>#ifdef SLIC3R_DEBUG</div>
<div class="line"><span class="lineno"> 2020</span>                        , iRun, polygons_new</div>
<div class="line"><span class="lineno"> 2021</span>#endif <span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 2022</span>                    );</div>
<div class="line"><span class="lineno"> 2023</span>                    <span class="keywordflow">if</span> (layer_new)</div>
<div class="line"><span class="lineno"> 2024</span>                        bottom_contacts.push_back(layer_new);</div>
<div class="line"><span class="lineno"> 2025</span>                });</div>
<div class="line"><span class="lineno"> 2026</span> </div>
<div class="line"><span class="lineno"> 2027</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;layer_support_area = layer_support_areas[layer_id];</div>
<div class="line"><span class="lineno"> 2028</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> *layer_buildplate_covered = <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>.empty() ? nullptr : &amp;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>[layer_id];</div>
<div class="line"><span class="lineno"> 2029</span>        <span class="comment">// Filtering the propagated support columns to two extrusions, overlapping by maximum 20%.</span></div>
<div class="line"><span class="lineno"> 2030</span><span class="comment">//        float column_propagation_filtering_radius = scaled&lt;float&gt;(0.8 * 0.5 * (m_support_params.support_material_flow.spacing() + m_support_params.support_material_flow.width()));</span></div>
<div class="line"><span class="lineno"> 2031</span>        task_group.run([&amp;grid_params, &amp;overhangs_projection, &amp;overhangs_projection_raw, &amp;layer, &amp;layer_support_area, layer_buildplate_covered <span class="comment">/* , column_propagation_filtering_radius */</span></div>
<div class="line"><span class="lineno"> 2032</span>#ifdef SLIC3R_DEBUG </div>
<div class="line"><span class="lineno"> 2033</span>            , iRun, layer_id</div>
<div class="line"><span class="lineno"> 2034</span>#endif <span class="comment">/* SLIC3R_DEBUG */</span></div>
<div class="line"><span class="lineno"> 2035</span>            ] {</div>
<div class="line"><span class="lineno"> 2036</span>                <span class="comment">// buildplate_covered[layer_id] will be consumed here.</span></div>
<div class="line"><span class="lineno"> 2037</span>                std::tie(layer_support_area, overhangs_projection) = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1ba473d17b1ff2f352228b1053c52eba">project_support_to_grid</a>(layer, grid_params, overhangs_projection_raw, layer_buildplate_covered</div>
<div class="line"><span class="lineno"> 2038</span>#ifdef SLIC3R_DEBUG </div>
<div class="line"><span class="lineno"> 2039</span>                    , iRun, layer_id, <span class="stringliteral">&quot;general&quot;</span></div>
<div class="line"><span class="lineno"> 2040</span>#endif <span class="comment">/* SLIC3R_DEBUG */</span></div>
<div class="line"><span class="lineno"> 2041</span>                );</div>
<div class="line"><span class="lineno"> 2042</span>                <span class="comment">// When propagating support areas downwards, stop propagating the support column if it becomes too thin to be printable.</span></div>
<div class="line"><span class="lineno"> 2043</span>                <span class="comment">//overhangs_projection = opening(overhangs_projection, column_propagation_filtering_radius);</span></div>
<div class="line"><span class="lineno"> 2044</span>            });</div>
<div class="line"><span class="lineno"> 2045</span> </div>
<div class="line"><span class="lineno"> 2046</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> layer_support_area_enforcers;</div>
<div class="line"><span class="lineno"> 2047</span>        <span class="keywordflow">if</span> (! enforcers_projection.empty())</div>
<div class="line"><span class="lineno"> 2048</span>            <span class="comment">// Project the enforcers polygons downwards, don&#39;t trim them with the &quot;buildplate only&quot; polygons.</span></div>
<div class="line"><span class="lineno"> 2049</span>            task_group.run([&amp;grid_params, &amp;enforcers_projection, &amp;enforcers_projection_raw, &amp;layer, &amp;layer_support_area_enforcers</div>
<div class="line"><span class="lineno"> 2050</span>#ifdef SLIC3R_DEBUG </div>
<div class="line"><span class="lineno"> 2051</span>                , iRun, layer_id</div>
<div class="line"><span class="lineno"> 2052</span>#endif <span class="comment">/* SLIC3R_DEBUG */</span></div>
<div class="line"><span class="lineno"> 2053</span>            ]{</div>
<div class="line"><span class="lineno"> 2054</span>                std::tie(layer_support_area_enforcers, enforcers_projection) = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1ba473d17b1ff2f352228b1053c52eba">project_support_to_grid</a>(layer, grid_params, enforcers_projection_raw, <span class="keyword">nullptr</span></div>
<div class="line"><span class="lineno"> 2055</span>#ifdef SLIC3R_DEBUG </div>
<div class="line"><span class="lineno"> 2056</span>                    , iRun, layer_id, <span class="stringliteral">&quot;enforcers&quot;</span></div>
<div class="line"><span class="lineno"> 2057</span>#endif <span class="comment">/* SLIC3R_DEBUG */</span></div>
<div class="line"><span class="lineno"> 2058</span>                );</div>
<div class="line"><span class="lineno"> 2059</span>            });</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>        task_group.wait();</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>        <span class="keywordflow">if</span> (! layer_support_area_enforcers.empty()) {</div>
<div class="line"><span class="lineno"> 2064</span>            <span class="keywordflow">if</span> (layer_support_area.empty())</div>
<div class="line"><span class="lineno"> 2065</span>                layer_support_area = std::move(layer_support_area_enforcers);</div>
<div class="line"><span class="lineno"> 2066</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2067</span>                layer_support_area = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">union_</a>(layer_support_area, layer_support_area_enforcers);</div>
<div class="line"><span class="lineno"> 2068</span>        }</div>
<div class="line"><span class="lineno"> 2069</span>    } <span class="comment">// over all layers downwards</span></div>
<div class="line"><span class="lineno"> 2070</span> </div>
<div class="line"><span class="lineno"> 2071</span>    std::reverse(bottom_contacts.begin(), bottom_contacts.end());</div>
<div class="line"><span class="lineno"> 2072</span>    <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#abc64dd344135d767c15df857f1f3bec2">trim_support_layers_by_object</a>(<span class="keywordtype">object</span>, bottom_contacts, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae75919394f64528204ca434684c06d1b">gap_support_object</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6127b2a51f4a1e1a7aefc70d6677f7e7">gap_object_support</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a9304932d0b5eb6aa276ff38202e92238">gap_xy</a>);</div>
<div class="line"><span class="lineno"> 2073</span>    <span class="keywordflow">return</span> bottom_contacts;</div>
<div class="line"><span class="lineno"> 2074</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">Slic3r::FFFSupport::SupportGeneratorLayer</a></div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:41</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a5c615cd666f4788c143bd55899e59cdc"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a5c615cd666f4788c143bd55899e59cdc">Slic3r::FFFSupport::SupportGeneratorLayer::enforcer_polygons</a></div><div class="ttdeci">std::unique_ptr&lt; Polygons &gt; enforcer_polygons</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:112</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a8e4783839835b25b4c54f0cf8fc03595"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a8e4783839835b25b4c54f0cf8fc03595">Slic3r::FFFSupport::SupportGeneratorLayer::contact_polygons</a></div><div class="ttdeci">std::unique_ptr&lt; Polygons &gt; contact_polygons</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:109</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a994a81dd080b37a05ebf7b6459ca0de5"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a994a81dd080b37a05ebf7b6459ca0de5">Slic3r::FFFSupport::SupportGeneratorLayer::overhang_polygons</a></div><div class="ttdeci">std::unique_ptr&lt; Polygons &gt; overhang_polygons</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:110</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a3abfb433ae14805f6bcb7d41b5cc1840"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">Slic3r::PrintObjectSupportMaterial::buildplate_covered</a></div><div class="ttdeci">std::vector&lt; Polygons &gt; buildplate_covered(const PrintObject &amp;object) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1062</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_aa380e5f0b093e49c3b1df7da590d54a6"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">Slic3r::PrintObjectSupportMaterial::SupportGeneratorLayersPtr</a></div><div class="ttdeci">FFFSupport::SupportGeneratorLayersPtr SupportGeneratorLayersPtr</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:39</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_abc64dd344135d767c15df857f1f3bec2"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#abc64dd344135d767c15df857f1f3bec2">Slic3r::PrintObjectSupportMaterial::trim_support_layers_by_object</a></div><div class="ttdeci">void trim_support_layers_by_object(const PrintObject &amp;object, SupportGeneratorLayersPtr &amp;support_layers, const coordf_t gap_extra_above, const coordf_t gap_extra_below, const coordf_t gap_xy) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:2445</div></div>
<div class="ttc" id="alibslic3r_8h_html_a57f3510310e75de35abd65c9650b49f7"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a57f3510310e75de35abd65c9650b49f7">SCALED_EPSILON</a></div><div class="ttdeci">#define SCALED_EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:71</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:51</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_a9f779e7589bece4b83a5376a95769db3"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">Slic3r::FFFSupport::SupportGeneratorLayersPtr</a></div><div class="ttdeci">std::vector&lt; SupportGeneratorLayer * &gt; SupportGeneratorLayersPtr</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:142</div></div>
<div class="ttc" id="anamespace_slic3r_html_a00eaa65faeaecea2aec629f311ce5a1c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon, PointsAllocator&lt; Polygon &gt; &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_html_a015388ff0752a25649a975078f7a5431"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">Slic3r::union_</a></div><div class="ttdeci">Slic3r::Polygons union_(const Slic3r::Polygons &amp;subject)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:704</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1ba473d17b1ff2f352228b1053c52eba"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1ba473d17b1ff2f352228b1053c52eba">Slic3r::project_support_to_grid</a></div><div class="ttdeci">static std::pair&lt; Polygons, Polygons &gt; project_support_to_grid(const Layer &amp;layer, const SupportGridParams &amp;grid_params, const Polygons &amp;overhangs, Polygons *layer_buildplate_covered)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1853</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3139b5c30f46b41a991edc50308554f6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3139b5c30f46b41a991edc50308554f6">Slic3r::expand</a></div><div class="ttdeci">Slic3r::Polygons expand(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType=DefaultJoinType, double miterLimit=DefaultMiterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.hpp:363</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5ec552d076296fd705739c608edc1580"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">Slic3r::offset</a></div><div class="ttdeci">Slic3r::Polygons offset(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType, double miterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:416</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab4a593838c4a67f7ca75a318a9f707b2"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">Slic3r::polygons_append</a></div><div class="ttdeci">void polygons_append(Polygons &amp;dst, const ExPolygon &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:375</div></div>
<div class="ttc" id="anamespace_slic3r_html_ae9396b9e18a3d64624d81586b77b3a04"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ae9396b9e18a3d64624d81586b77b3a04">Slic3r::detect_bottom_contacts</a></div><div class="ttdeci">static SupportGeneratorLayer * detect_bottom_contacts(const SlicingParameters &amp;slicing_params, const SupportParameters &amp;support_params, const PrintObject &amp;object, const Layer &amp;layer, const SupportGeneratorLayersPtr &amp;top_contacts, size_t contact_idx, SupportGeneratorLayerStorage &amp;layer_storage, std::vector&lt; Polygons &gt; &amp;layer_support_areas, const Polygons &amp;supports_projected)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1727</div></div>
<div class="ttc" id="astruct_slic3r_1_1_f_f_f_support_1_1_support_parameters_html_a70d63e9aa6e04b89189016bc73ce974e"><div class="ttname"><a href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a70d63e9aa6e04b89189016bc73ce974e">Slic3r::FFFSupport::SupportParameters::support_material_flow</a></div><div class="ttdeci">Flow support_material_flow</div><div class="ttdef"><b>Definition</b> SupportParameters.hpp:45</div></div>
<div class="ttc" id="astruct_slic3r_1_1_f_f_f_support_1_1_support_parameters_html_a9304932d0b5eb6aa276ff38202e92238"><div class="ttname"><a href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a9304932d0b5eb6aa276ff38202e92238">Slic3r::FFFSupport::SupportParameters::gap_xy</a></div><div class="ttdeci">coordf_t gap_xy</div><div class="ttdef"><b>Definition</b> SupportParameters.hpp:58</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_a6127b2a51f4a1e1a7aefc70d6677f7e7"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6127b2a51f4a1e1a7aefc70d6677f7e7">Slic3r::SlicingParameters::gap_object_support</a></div><div class="ttdeci">coordf_t gap_object_support</div><div class="ttdef"><b>Definition</b> Slicing.hpp:86</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_ae75919394f64528204ca434684c06d1b"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae75919394f64528204ca434684c06d1b">Slic3r::SlicingParameters::gap_support_object</a></div><div class="ttdeci">coordf_t gap_support_object</div><div class="ttdef"><b>Definition</b> Slicing.hpp:88</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00109">Slic3r::FFFSupport::SupportGeneratorLayer::contact_polygons</a>, <a class="el" href="../../#l01727">Slic3r::detect_bottom_contacts()</a>, <a class="el" href="../../#l00112">Slic3r::FFFSupport::SupportGeneratorLayer::enforcer_polygons</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00363">Slic3r::expand()</a>, <a class="el" href="../../#l00110">Slic3r::FFFSupport::SupportGeneratorLayer::overhang_polygons</a>, <a class="el" href="../../#l00375">Slic3r::polygons_append()</a>, <a class="el" href="../../#l00324">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l01853">Slic3r::project_support_to_grid()</a>, <a class="el" href="../../#l00071">SCALED_EPSILON</a>, and <a class="el" href="../../#l00704">Slic3r::union_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a2f980068df45841787a9acb4fc611a6c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a2f980068df45841787a9acb4fc611a6c_icgraph.svg" width="631" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1d22ac405c9441718736cfca8f799484" name="a1d22ac405c9441718736cfca8f799484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d22ac405c9441718736cfca8f799484">&#9670;&#160;</a></span>build_plate_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PrintObjectSupportMaterial::build_plate_only </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   28</span>{ <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a63c1f7fa0e8ffece7c916dcb3716a4ef">has_support</a>() &amp;&amp; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>-&gt;support_material_buildplate_only.value; }</div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a63c1f7fa0e8ffece7c916dcb3716a4ef"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a63c1f7fa0e8ffece7c916dcb3716a4ef">Slic3r::PrintObjectSupportMaterial::has_support</a></div><div class="ttdeci">bool has_support() const</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:27</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00027">has_support()</a>, and <a class="el" href="../../#l00091">m_object_config</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01062">buildplate_covered()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a1d22ac405c9441718736cfca8f799484_cgraph.svg" width="404" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a1d22ac405c9441718736cfca8f799484_icgraph.svg" width="100%" height="362"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3abfb433ae14805f6bcb7d41b5cc1840" name="a3abfb433ae14805f6bcb7d41b5cc1840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abfb433ae14805f6bcb7d41b5cc1840">&#9670;&#160;</a></span>buildplate_covered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; Slic3r::PrintObjectSupportMaterial::buildplate_covered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1063</span>{</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="comment">// Build support on a build plate only? If so, then collect and union all the surfaces below the current layer.</span></div>
<div class="line"><span class="lineno"> 1065</span>    <span class="comment">// Unfortunately this is an inherently serial process.</span></div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span>            buildplate_only = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1d22ac405c9441718736cfca8f799484">build_plate_only</a>();</div>
<div class="line"><span class="lineno"> 1067</span>    std::vector&lt;Polygons&gt; <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>;</div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordflow">if</span> (buildplate_only) {</div>
<div class="line"><span class="lineno"> 1069</span>        BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::buildplate_covered() - start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1070</span>        <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>.assign(<span class="keywordtype">object</span>.layers().<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>(), <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>());</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="comment">//FIXME prefix sum algorithm, parallelize it! Parallelization will also likely be more numerically stable.</span></div>
<div class="line"><span class="lineno"> 1072</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> layer_id = 1; layer_id &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>(); ++ layer_id) {</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keyword">const</span> Layer &amp;lower_layer = *<span class="keywordtype">object</span>.layers()[layer_id-1];</div>
<div class="line"><span class="lineno"> 1074</span>            <span class="comment">// Merge the new slices with the preceding slices.</span></div>
<div class="line"><span class="lineno"> 1075</span>            <span class="comment">// Apply the safety offset to the newly added polygons, so they will connect</span></div>
<div class="line"><span class="lineno"> 1076</span>            <span class="comment">// with the polygons collected before,</span></div>
<div class="line"><span class="lineno"> 1077</span>            <span class="comment">// but don&#39;t apply the safety offset during the union operation as it would</span></div>
<div class="line"><span class="lineno"> 1078</span>            <span class="comment">// inflate the polygons over and over.</span></div>
<div class="line"><span class="lineno"> 1079</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;covered = <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>[layer_id];</div>
<div class="line"><span class="lineno"> 1080</span>            covered = <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>[layer_id - 1];</div>
<div class="line"><span class="lineno"> 1081</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab4a593838c4a67f7ca75a318a9f707b2">polygons_append</a>(covered, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a5ec552d076296fd705739c608edc1580">offset</a>(lower_layer.lslices, <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(0.01)));</div>
<div class="line"><span class="lineno"> 1082</span>            covered = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a015388ff0752a25649a975078f7a5431">union_</a>(covered);</div>
<div class="line"><span class="lineno"> 1083</span>        }</div>
<div class="line"><span class="lineno"> 1084</span>        BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::buildplate_covered() - end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1085</span>    }</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>;</div>
<div class="line"><span class="lineno"> 1087</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a1d22ac405c9441718736cfca8f799484"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1d22ac405c9441718736cfca8f799484">Slic3r::PrintObjectSupportMaterial::build_plate_only</a></div><div class="ttdeci">bool build_plate_only() const</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:28</div></div>
<div class="ttc" id="alibslic3r_8h_html_a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a></div><div class="ttdeci">#define scale_(val)</div><div class="ttdef"><b>Definition</b> libslic3r.h:69</div></div>
<div class="ttc" id="anamespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail_html_a876af6f91231ae4e7e7316f5402682dc"><div class="ttname"><a href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">TCB_SPAN_NAMESPACE_NAME::detail::size</a></div><div class="ttdeci">constexpr auto size(const C &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition</b> span.hpp:183</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00028">build_plate_only()</a>, <a class="el" href="../../#l01062">buildplate_covered()</a>, <a class="el" href="../../#l00339">Slic3r::Layer::lslices</a>, <a class="el" href="../../#l00416">Slic3r::offset()</a>, <a class="el" href="../../#l00375">Slic3r::polygons_append()</a>, <a class="el" href="../../#l00069">scale_</a>, and <a class="el" href="../../#l00704">Slic3r::union_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01062">buildplate_covered()</a>, and <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a3abfb433ae14805f6bcb7d41b5cc1840_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a3abfb433ae14805f6bcb7d41b5cc1840_icgraph.svg" width="599" height="83"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa91db86d2d6af50dc0cb0c8b3b5ffda3" name="aa91db86d2d6af50dc0cb0c8b3b5ffda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91db86d2d6af50dc0cb0c8b3b5ffda3">&#9670;&#160;</a></span>generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PrintObjectSupportMaterial::generate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  240</span>{</div>
<div class="line"><span class="lineno">  241</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Start&quot;</span>;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> max_object_layer_height = 0.;</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <span class="keywordtype">object</span>.layer_count(); ++ i)</div>
<div class="line"><span class="lineno">  245</span>        max_object_layer_height = std::max(max_object_layer_height, <span class="keywordtype">object</span>.layers()[i]-&gt;height);</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">// Layer instances will be allocated by std::deque and they will be kept until the end of this function call.</span></div>
<div class="line"><span class="lineno">  248</span>    <span class="comment">// The layers will be referenced by various LayersPtr (of type std::vector&lt;Layer*&gt;)</span></div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_class" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html">SupportGeneratorLayerStorage</a> layer_storage;</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating top contacts&quot;</span>;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    <span class="comment">// Per object layer projection of the object below the layer into print bed.</span></div>
<div class="line"><span class="lineno">  254</span>    std::vector&lt;Polygons&gt; <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a> = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment">// Determine the top contact surfaces of the support, defined as:</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// contact = overhangs - clearance + margin</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">// This method is responsible for identifying what contact surfaces</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">// should the support material expose to the object in order to guarantee</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="comment">// that it will be effective, regardless of how it&#39;s built below.</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="comment">// If raft is to be generated, the 1st top_contact layer will contain the 1st object layer silhouette without holes.</span></div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> top_contacts = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3fccb369feffc935791c53edcc68a785">top_contact_layers</a>(<span class="keywordtype">object</span>, buildplate_covered, layer_storage);</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> (top_contacts.empty())</div>
<div class="line"><span class="lineno">  264</span>        <span class="comment">// Nothing is supported, no supports are generated.</span></div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  268</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">  269</span>    iRun ++;</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *layer : top_contacts)</div>
<div class="line"><span class="lineno">  271</span>        <a class="code hl_namespace" href="../../de/db8/namespace_slic3r.html">Slic3r</a>::<a class="code hl_enumvalue" href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">SVG</a>::export_expolygons(</div>
<div class="line"><span class="lineno">  272</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-top-contacts-%d-%lf.svg&quot;</span>, iRun, layer-&gt;print_z), </div>
<div class="line"><span class="lineno">  273</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(layer-&gt;polygons));</div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating bottom contacts&quot;</span>;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// Determine the bottom contact surfaces of the supports over the top surfaces of the object.</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="comment">// Depending on whether the support is soluble or not, the contact layer thickness is decided.</span></div>
<div class="line"><span class="lineno">  280</span>    <span class="comment">// layer_support_areas contains the per object layer support areas. These per object layer support areas</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="comment">// may get merged and trimmed by this-&gt;generate_base_layers() if the support layers are not synchronized with object layers.</span></div>
<div class="line"><span class="lineno">  282</span>    std::vector&lt;Polygons&gt; layer_support_areas;</div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> bottom_contacts = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a2f980068df45841787a9acb4fc611a6c">bottom_contact_layers_and_layer_support_areas</a>(</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordtype">object</span>, top_contacts, <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>,</div>
<div class="line"><span class="lineno">  285</span>        layer_storage, layer_support_areas);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> layer_id = 0; layer_id &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>(); ++ layer_id)</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_function" href="../../db/dcf/class_slic3r_1_1_s_v_g.html#a2fbe0063ae23696aefaf04bda21dd044">Slic3r::SVG::export_expolygons</a>(</div>
<div class="line"><span class="lineno">  290</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-areas-%d-%lf.svg&quot;</span>, iRun, <span class="keywordtype">object</span>.layers()[layer_id]-&gt;print_z), </div>
<div class="line"><span class="lineno">  291</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(layer_support_areas[layer_id]));</div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating intermediate layers - indices&quot;</span>;</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">// Allocate empty layers between the top / bottom support contact layers</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="comment">// as placeholders for the base and intermediate support layers.</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// The layers may or may not be synchronized with the object layers, depending on the configuration.</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">// For example, a single nozzle multi material printing will need to generate a waste tower, which in turn</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="comment">// wastes less material, if there are as little tool changes as possible.</span></div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> intermediate_layers = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a6f3f1ac0d5b1abb534dea8847c5e43d8">raft_and_intermediate_support_layers</a>(</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordtype">object</span>, bottom_contacts, top_contacts, layer_storage);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#abc64dd344135d767c15df857f1f3bec2">trim_support_layers_by_object</a>(<span class="keywordtype">object</span>, top_contacts, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae75919394f64528204ca434684c06d1b">gap_support_object</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6127b2a51f4a1e1a7aefc70d6677f7e7">gap_object_support</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a9304932d0b5eb6aa276ff38202e92238">gap_xy</a>);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *layer : top_contacts)</div>
<div class="line"><span class="lineno">  308</span>        <a class="code hl_namespace" href="../../de/db8/namespace_slic3r.html">Slic3r</a>::<a class="code hl_enumvalue" href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">SVG</a>::export_expolygons(</div>
<div class="line"><span class="lineno">  309</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-top-contacts-trimmed-by-object-%d-%lf.svg&quot;</span>, iRun, layer-&gt;print_z), </div>
<div class="line"><span class="lineno">  310</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(layer-&gt;polygons));</div>
<div class="line"><span class="lineno">  311</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating base layers&quot;</span>;</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    <span class="comment">// Fill in intermediate layers between the top / bottom support contact layers, trim them by the object.</span></div>
<div class="line"><span class="lineno">  316</span>    this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad974705c8ba58c4c3d072e684128893b">generate_base_layers</a>(<span class="keywordtype">object</span>, bottom_contacts, top_contacts, intermediate_layers, layer_support_areas);</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">for</span> (SupportGeneratorLayersPtr::const_iterator it = intermediate_layers.begin(); it != intermediate_layers.end(); ++ it)</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_function" href="../../db/dcf/class_slic3r_1_1_s_v_g.html#a2fbe0063ae23696aefaf04bda21dd044">Slic3r::SVG::export_expolygons</a>(</div>
<div class="line"><span class="lineno">  321</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-base-layers-%d-%lf.svg&quot;</span>, iRun, (*it)-&gt;print_z), </div>
<div class="line"><span class="lineno">  322</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>((*it)-&gt;polygons));</div>
<div class="line"><span class="lineno">  323</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Trimming top contacts by bottom contacts&quot;</span>;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="comment">// Because the top and bottom contacts are thick slabs, they may overlap causing over extrusion </span></div>
<div class="line"><span class="lineno">  328</span>    <span class="comment">// and unwanted strong bonds to the object.</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">// Rather trim the top contacts by their overlapping bottom contacts to leave a gap instead of over extruding</span></div>
<div class="line"><span class="lineno">  330</span>    <span class="comment">// top contacts over the bottom contacts.</span></div>
<div class="line"><span class="lineno">  331</span>    this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af66c8b33882cbab77e7106f13ccb5e86">trim_top_contacts_by_bottom_contacts</a>(<span class="keywordtype">object</span>, bottom_contacts, top_contacts);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating interfaces&quot;</span>;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <span class="comment">// Propagate top / bottom contact layers to generate interface layers </span></div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// and base interface layers (for soluble interface / non souble base only)</span></div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> empty_layers;</div>
<div class="line"><span class="lineno">  339</span>    <span class="keyword">auto</span> [interface_layers, base_interface_layers] = <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#af3adc36c8306333cabb6c5ffe3ac937b">FFFSupport::generate_interface_layers</a>(</div>
<div class="line"><span class="lineno">  340</span>        *<a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>, bottom_contacts, top_contacts, empty_layers, empty_layers, intermediate_layers, layer_storage);</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating raft&quot;</span>;</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment">// If raft is to be generated, the 1st top_contact layer will contain the 1st object layer silhouette with holes filled.</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">// There is also a 1st intermediate layer containing bases of support columns.</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="comment">// Inflate the bases of the support columns and create the raft base under the object.</span></div>
<div class="line"><span class="lineno">  347</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> raft_layers = <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aabb429f039204c9918fee484047a03d8">FFFSupport::generate_raft_base</a>(<span class="keywordtype">object</span>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>, top_contacts, interface_layers, base_interface_layers, intermediate_layers, layer_storage);</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *l : interface_layers)</div>
<div class="line"><span class="lineno">  351</span>        <a class="code hl_namespace" href="../../de/db8/namespace_slic3r.html">Slic3r</a>::<a class="code hl_enumvalue" href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">SVG</a>::export_expolygons(</div>
<div class="line"><span class="lineno">  352</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-interface-layers-%d-%lf.svg&quot;</span>, iRun, l-&gt;print_z), </div>
<div class="line"><span class="lineno">  353</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(l-&gt;polygons));</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *l : base_interface_layers)</div>
<div class="line"><span class="lineno">  355</span>        <a class="code hl_namespace" href="../../de/db8/namespace_slic3r.html">Slic3r</a>::<a class="code hl_enumvalue" href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">SVG</a>::export_expolygons(</div>
<div class="line"><span class="lineno">  356</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-base-interface-layers-%d-%lf.svg&quot;</span>, iRun, l-&gt;print_z), </div>
<div class="line"><span class="lineno">  357</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(l-&gt;polygons));</div>
<div class="line"><span class="lineno">  358</span><span class="preprocessor">#endif </span><span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  361</span><span class="comment">    // Clip with the pillars.</span></div>
<div class="line"><span class="lineno">  362</span><span class="comment">    if (! shape.empty()) {</span></div>
<div class="line"><span class="lineno">  363</span><span class="comment">        this-&gt;clip_with_shape(interface, shape);</span></div>
<div class="line"><span class="lineno">  364</span><span class="comment">        this-&gt;clip_with_shape(base, shape);</span></div>
<div class="line"><span class="lineno">  365</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">  366</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Creating layers&quot;</span>;</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span><span class="comment">// For debugging purposes, one may want to show only some of the support extrusions.</span></div>
<div class="line"><span class="lineno">  371</span><span class="comment">//    raft_layers.clear();</span></div>
<div class="line"><span class="lineno">  372</span><span class="comment">//    bottom_contacts.clear();</span></div>
<div class="line"><span class="lineno">  373</span><span class="comment">//    top_contacts.clear();</span></div>
<div class="line"><span class="lineno">  374</span><span class="comment">//    intermediate_layers.clear();</span></div>
<div class="line"><span class="lineno">  375</span><span class="comment">//    interface_layers.clear();</span></div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> layers_sorted =</div>
<div class="line"><span class="lineno">  379</span><span class="preprocessor">#endif </span><span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aaa01245b5f63f83e500ce50b9a39d7ca">generate_support_layers</a>(<span class="keywordtype">object</span>, raft_layers, bottom_contacts, top_contacts, intermediate_layers, interface_layers, base_interface_layers);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - Generating tool paths&quot;</span>;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span><span class="preprocessor">#if 0 </span><span class="comment">// #ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  385</span>    {</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordtype">size_t</span> layer_id = 0;</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; int(layers_sorted.size());) {</div>
<div class="line"><span class="lineno">  388</span>            <span class="comment">// Find the last layer with roughly the same print_z, find the minimum layer height of all.</span></div>
<div class="line"><span class="lineno">  389</span>            <span class="comment">// Due to the floating point inaccuracies, the print_z may not be the same even if in theory they should.</span></div>
<div class="line"><span class="lineno">  390</span>            <span class="keywordtype">int</span> j = i + 1;</div>
<div class="line"><span class="lineno">  391</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> zmax = layers_sorted[i]-&gt;print_z + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>;</div>
<div class="line"><span class="lineno">  392</span>            <span class="keywordtype">bool</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a> = layers_sorted[i]-&gt;polygons.empty();</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">for</span> (; j &lt; layers_sorted.size() &amp;&amp; layers_sorted[j]-&gt;print_z &lt;= zmax; ++j)</div>
<div class="line"><span class="lineno">  394</span>                <span class="keywordflow">if</span> (!layers_sorted[j]-&gt;polygons.empty())</div>
<div class="line"><span class="lineno">  395</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>) {</div>
<div class="line"><span class="lineno">  397</span>                <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aef7cb47d3bf651f519cda18941b06ae9">export_print_z_polygons_to_svg</a>(</div>
<div class="line"><span class="lineno">  398</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-%d-%lf-before.svg&quot;</span>, iRun, layers_sorted[i]-&gt;print_z).c_str(),</div>
<div class="line"><span class="lineno">  399</span>                    layers_sorted.data() + i, j - i);</div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#ac9ac7ce60cd3371e88217c6b4cd9d0de">export_print_z_polygons_and_extrusions_to_svg</a>(</div>
<div class="line"><span class="lineno">  401</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-w-fills-%d-%lf-before.svg&quot;</span>, iRun, layers_sorted[i]-&gt;print_z).c_str(),</div>
<div class="line"><span class="lineno">  402</span>                    layers_sorted.data() + i, j - i,</div>
<div class="line"><span class="lineno">  403</span>                    *<span class="keywordtype">object</span>.support_layers()[layer_id]);</div>
<div class="line"><span class="lineno">  404</span>                ++layer_id;</div>
<div class="line"><span class="lineno">  405</span>            }</div>
<div class="line"><span class="lineno">  406</span>            i = j;</div>
<div class="line"><span class="lineno">  407</span>        }</div>
<div class="line"><span class="lineno">  408</span>    }</div>
<div class="line"><span class="lineno">  409</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    <span class="comment">// Generate the actual toolpaths and save them into each layer.</span></div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a0f530121ad8d1d3ab8a89b2b5b33f57b">generate_support_toolpaths</a>(<span class="keywordtype">object</span>.support_layers(), *<a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>, raft_layers, bottom_contacts, top_contacts, intermediate_layers, interface_layers, base_interface_layers);</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno">  415</span>    {</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordtype">size_t</span> layer_id = 0;</div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; int(layers_sorted.size());) {</div>
<div class="line"><span class="lineno">  418</span>            <span class="comment">// Find the last layer with roughly the same print_z, find the minimum layer height of all.</span></div>
<div class="line"><span class="lineno">  419</span>            <span class="comment">// Due to the floating point inaccuracies, the print_z may not be the same even if in theory they should.</span></div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordtype">int</span> j = i + 1;</div>
<div class="line"><span class="lineno">  421</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> zmax = layers_sorted[i]-&gt;print_z + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>;</div>
<div class="line"><span class="lineno">  422</span>            <span class="keywordtype">bool</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a> = layers_sorted[i]-&gt;polygons.empty();</div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordflow">for</span> (; j &lt; layers_sorted.size() &amp;&amp; layers_sorted[j]-&gt;print_z &lt;= zmax; ++j)</div>
<div class="line"><span class="lineno">  424</span>                <span class="keywordflow">if</span> (! layers_sorted[j]-&gt;polygons.empty())</div>
<div class="line"><span class="lineno">  425</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>) {</div>
<div class="line"><span class="lineno">  427</span>                <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aef7cb47d3bf651f519cda18941b06ae9">export_print_z_polygons_to_svg</a>(</div>
<div class="line"><span class="lineno">  428</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-%d-%lf.svg&quot;</span>, iRun, layers_sorted[i]-&gt;print_z).c_str(),</div>
<div class="line"><span class="lineno">  429</span>                    layers_sorted.data() + i, j - i);</div>
<div class="line"><span class="lineno">  430</span>                <a class="code hl_function" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#ac9ac7ce60cd3371e88217c6b4cd9d0de">export_print_z_polygons_and_extrusions_to_svg</a>(</div>
<div class="line"><span class="lineno">  431</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-w-fills-%d-%lf.svg&quot;</span>, iRun, layers_sorted[i]-&gt;print_z).c_str(),</div>
<div class="line"><span class="lineno">  432</span>                    layers_sorted.data() + i, j - i,</div>
<div class="line"><span class="lineno">  433</span>                    *<span class="keywordtype">object</span>.support_layers()[layer_id]);</div>
<div class="line"><span class="lineno">  434</span>                ++layer_id;</div>
<div class="line"><span class="lineno">  435</span>            }</div>
<div class="line"><span class="lineno">  436</span>            i = j;</div>
<div class="line"><span class="lineno">  437</span>        }</div>
<div class="line"><span class="lineno">  438</span>    }</div>
<div class="line"><span class="lineno">  439</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    BOOST_LOG_TRIVIAL(info) &lt;&lt; <span class="stringliteral">&quot;Support generator - End&quot;</span>;</div>
<div class="line"><span class="lineno">  442</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage_html"><div class="ttname"><a href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html">Slic3r::FFFSupport::SupportGeneratorLayerStorage</a></div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:118</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a2f980068df45841787a9acb4fc611a6c"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a2f980068df45841787a9acb4fc611a6c">Slic3r::PrintObjectSupportMaterial::bottom_contact_layers_and_layer_support_areas</a></div><div class="ttdeci">SupportGeneratorLayersPtr bottom_contact_layers_and_layer_support_areas(const PrintObject &amp;object, const SupportGeneratorLayersPtr &amp;top_contacts, std::vector&lt; Polygons &gt; &amp;buildplate_covered, SupportGeneratorLayerStorage &amp;layer_storage, std::vector&lt; Polygons &gt; &amp;layer_support_areas) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1934</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a3fccb369feffc935791c53edcc68a785"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3fccb369feffc935791c53edcc68a785">Slic3r::PrintObjectSupportMaterial::top_contact_layers</a></div><div class="ttdeci">SupportGeneratorLayersPtr top_contact_layers(const PrintObject &amp;object, const std::vector&lt; Polygons &gt; &amp;buildplate_covered, SupportGeneratorLayerStorage &amp;layer_storage) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1643</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a6f3f1ac0d5b1abb534dea8847c5e43d8"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a6f3f1ac0d5b1abb534dea8847c5e43d8">Slic3r::PrintObjectSupportMaterial::raft_and_intermediate_support_layers</a></div><div class="ttdeci">SupportGeneratorLayersPtr raft_and_intermediate_support_layers(const PrintObject &amp;object, const SupportGeneratorLayersPtr &amp;bottom_contacts, const SupportGeneratorLayersPtr &amp;top_contacts, SupportGeneratorLayerStorage &amp;layer_storage) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:2102</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_ad974705c8ba58c4c3d072e684128893b"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad974705c8ba58c4c3d072e684128893b">Slic3r::PrintObjectSupportMaterial::generate_base_layers</a></div><div class="ttdeci">void generate_base_layers(const PrintObject &amp;object, const SupportGeneratorLayersPtr &amp;bottom_contacts, const SupportGeneratorLayersPtr &amp;top_contacts, SupportGeneratorLayersPtr &amp;intermediate_layers, const std::vector&lt; Polygons &gt; &amp;layer_support_areas) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:2292</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_af66c8b33882cbab77e7106f13ccb5e86"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af66c8b33882cbab77e7106f13ccb5e86">Slic3r::PrintObjectSupportMaterial::trim_top_contacts_by_bottom_contacts</a></div><div class="ttdeci">void trim_top_contacts_by_bottom_contacts(const PrintObject &amp;object, const SupportGeneratorLayersPtr &amp;bottom_contacts, SupportGeneratorLayersPtr &amp;top_contacts) const</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:2077</div></div>
<div class="ttc" id="aclass_slic3r_1_1_s_v_g_html_a2fbe0063ae23696aefaf04bda21dd044"><div class="ttname"><a href="../../db/dcf/class_slic3r_1_1_s_v_g.html#a2fbe0063ae23696aefaf04bda21dd044">Slic3r::SVG::export_expolygons</a></div><div class="ttdeci">static void export_expolygons(const char *path, const BoundingBox &amp;bbox, const Slic3r::ExPolygons &amp;expolygons, std::string stroke_outer=&quot;black&quot;, std::string stroke_holes=&quot;blue&quot;, coordf_t stroke_width=0)</div><div class="ttdef"><b>Definition</b> SVG.cpp:309</div></div>
<div class="ttc" id="alibslic3r_8h_html_a95c875c81df33d788132374e2b57c6c1"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a></div><div class="ttdeci">double coordf_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:45</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_a0f530121ad8d1d3ab8a89b2b5b33f57b"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a0f530121ad8d1d3ab8a89b2b5b33f57b">Slic3r::FFFSupport::generate_support_toolpaths</a></div><div class="ttdeci">void generate_support_toolpaths(SupportLayerPtrs &amp;support_layers, const PrintObjectConfig &amp;config, const SupportParameters &amp;support_params, const SlicingParameters &amp;slicing_params, const SupportGeneratorLayersPtr &amp;raft_layers, const SupportGeneratorLayersPtr &amp;bottom_contacts, const SupportGeneratorLayersPtr &amp;top_contacts, const SupportGeneratorLayersPtr &amp;intermediate_layers, const SupportGeneratorLayersPtr &amp;interface_layers, const SupportGeneratorLayersPtr &amp;base_interface_layers)</div><div class="ttdef"><b>Definition</b> SupportCommon.cpp:1458</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_aaa01245b5f63f83e500ce50b9a39d7ca"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aaa01245b5f63f83e500ce50b9a39d7ca">Slic3r::FFFSupport::generate_support_layers</a></div><div class="ttdeci">SupportGeneratorLayersPtr generate_support_layers(PrintObject &amp;object, const SupportGeneratorLayersPtr &amp;raft_layers, const SupportGeneratorLayersPtr &amp;bottom_contacts, const SupportGeneratorLayersPtr &amp;top_contacts, const SupportGeneratorLayersPtr &amp;intermediate_layers, const SupportGeneratorLayersPtr &amp;interface_layers, const SupportGeneratorLayersPtr &amp;base_interface_layers)</div><div class="ttdef"><b>Definition</b> SupportCommon.cpp:1381</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_aabb429f039204c9918fee484047a03d8"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aabb429f039204c9918fee484047a03d8">Slic3r::FFFSupport::generate_raft_base</a></div><div class="ttdeci">SupportGeneratorLayersPtr generate_raft_base(const PrintObject &amp;object, const SupportParameters &amp;support_params, const SlicingParameters &amp;slicing_params, const SupportGeneratorLayersPtr &amp;top_contacts, const SupportGeneratorLayersPtr &amp;interface_layers, const SupportGeneratorLayersPtr &amp;base_interface_layers, const SupportGeneratorLayersPtr &amp;base_layers, SupportGeneratorLayerStorage &amp;layer_storage)</div><div class="ttdef"><b>Definition</b> SupportCommon.cpp:312</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_ac9ac7ce60cd3371e88217c6b4cd9d0de"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#ac9ac7ce60cd3371e88217c6b4cd9d0de">Slic3r::FFFSupport::export_print_z_polygons_and_extrusions_to_svg</a></div><div class="ttdeci">void export_print_z_polygons_and_extrusions_to_svg(const char *path, SupportGeneratorLayer **const layers, int n_layers, SupportLayer &amp;support_layer)</div><div class="ttdef"><b>Definition</b> SupportDebug.cpp:77</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_aef7cb47d3bf651f519cda18941b06ae9"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#aef7cb47d3bf651f519cda18941b06ae9">Slic3r::FFFSupport::export_print_z_polygons_to_svg</a></div><div class="ttdeci">void export_print_z_polygons_to_svg(const char *path, SupportGeneratorLayer **const layers, int n_layers)</div><div class="ttdef"><b>Definition</b> SupportDebug.cpp:59</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_f_f_f_support_html_af3adc36c8306333cabb6c5ffe3ac937b"><div class="ttname"><a href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#af3adc36c8306333cabb6c5ffe3ac937b">Slic3r::FFFSupport::generate_interface_layers</a></div><div class="ttdeci">std::pair&lt; SupportGeneratorLayersPtr, SupportGeneratorLayersPtr &gt; generate_interface_layers(const PrintObjectConfig &amp;config, const SupportParameters &amp;support_params, const SupportGeneratorLayersPtr &amp;bottom_contacts, const SupportGeneratorLayersPtr &amp;top_contacts, SupportGeneratorLayersPtr &amp;top_interface_layers, SupportGeneratorLayersPtr &amp;top_base_interface_layers, SupportGeneratorLayersPtr &amp;intermediate_layers, SupportGeneratorLayerStorage &amp;layer_storage)</div><div class="ttdef"><b>Definition</b> SupportCommon.cpp:124</div></div>
<div class="ttc" id="anamespace_slic3r_html"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html">Slic3r</a></div><div class="ttdef"><b>Definition</b> avrdude-slic3r.cpp:16</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespace_slic3r_html_a37166e144522fceee41e6d8ed8245315"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">Slic3r::union_ex</a></div><div class="ttdeci">Slic3r::ExPolygons union_ex(const Slic3r::Polygons &amp;subject, ClipperLib::PolyFillType fill_type)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:774</div></div>
<div class="ttc" id="anamespace_slic3r_html_aecabe174ebbb0e9cc7be41dafc297ef7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">Slic3r::empty</a></div><div class="ttdeci">bool empty(const BoundingBoxBase&lt; PointType, PointsType &gt; &amp;bb)</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:229</div></div>
<div class="ttc" id="anamespacelibnest2d_html_af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3"><div class="ttname"><a href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">libnest2d::Formats::SVG</a></div><div class="ttdeci">@ SVG</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01934">bottom_contact_layers_and_layer_support_areas()</a>, <a class="el" href="../../#l01062">buildplate_covered()</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00229">Slic3r::empty()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00309">Slic3r::SVG::export_expolygons()</a>, <a class="el" href="../../#l00077">Slic3r::FFFSupport::export_print_z_polygons_and_extrusions_to_svg()</a>, <a class="el" href="../../#l00059">Slic3r::FFFSupport::export_print_z_polygons_to_svg()</a>, <a class="el" href="../../#l00086">Slic3r::SlicingParameters::gap_object_support</a>, <a class="el" href="../../#l00088">Slic3r::SlicingParameters::gap_support_object</a>, <a class="el" href="../../#l00058">Slic3r::FFFSupport::SupportParameters::gap_xy</a>, <a class="el" href="../../#l02292">generate_base_layers()</a>, <a class="el" href="../../#l00124">Slic3r::FFFSupport::generate_interface_layers()</a>, <a class="el" href="../../#l00312">Slic3r::FFFSupport::generate_raft_base()</a>, <a class="el" href="../../#l01381">Slic3r::FFFSupport::generate_support_layers()</a>, <a class="el" href="../../#l01458">Slic3r::FFFSupport::generate_support_toolpaths()</a>, <a class="el" href="../../#l00091">m_object_config</a>, <a class="el" href="../../#l00094">m_slicing_params</a>, <a class="el" href="../../#l00096">m_support_params</a>, <a class="el" href="../../#l02102">raft_and_intermediate_support_layers()</a>, <a class="el" href="../../#l01643">top_contact_layers()</a>, <a class="el" href="../../#l02445">trim_support_layers_by_object()</a>, <a class="el" href="../../#l02077">trim_top_contacts_by_bottom_contacts()</a>, and <a class="el" href="../../#l00774">Slic3r::union_ex()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02867">Slic3r::PrintObject::_generate_support_material()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_aa91db86d2d6af50dc0cb0c8b3b5ffda3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_aa91db86d2d6af50dc0cb0c8b3b5ffda3_icgraph.svg" width="368" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad974705c8ba58c4c3d072e684128893b" name="ad974705c8ba58c4c3d072e684128893b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad974705c8ba58c4c3d072e684128893b">&#9670;&#160;</a></span>generate_base_layers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PrintObjectSupportMaterial::generate_base_layers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>bottom_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>top_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>intermediate_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layer_support_areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2298</span>{</div>
<div class="line"><span class="lineno"> 2299</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 2300</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno"> 2301</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2302</span> </div>
<div class="line"><span class="lineno"> 2303</span>    <span class="keywordflow">if</span> (top_contacts.empty())</div>
<div class="line"><span class="lineno"> 2304</span>        <span class="comment">// No top contacts -&gt; no intermediate layers will be produced.</span></div>
<div class="line"><span class="lineno"> 2305</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2306</span> </div>
<div class="line"><span class="lineno"> 2307</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::generate_base_layers() in parallel - start&quot;</span>;</div>
<div class="line"><span class="lineno"> 2308</span>    tbb::parallel_for(</div>
<div class="line"><span class="lineno"> 2309</span>        tbb::blocked_range&lt;size_t&gt;(0, intermediate_layers.size()),</div>
<div class="line"><span class="lineno"> 2310</span>        [&amp;<span class="keywordtype">object</span>, &amp;bottom_contacts, &amp;top_contacts, &amp;intermediate_layers, &amp;layer_support_areas](<span class="keyword">const</span> tbb::blocked_range&lt;size_t&gt;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>) {</div>
<div class="line"><span class="lineno"> 2311</span>            <span class="comment">// index -2 means not initialized yet, -1 means intialized and decremented to 0 and then -1.</span></div>
<div class="line"><span class="lineno"> 2312</span>            int idx_top_contact_above           = -2;</div>
<div class="line"><span class="lineno"> 2313</span>            int idx_bottom_contact_overlapping  = -2;</div>
<div class="line"><span class="lineno"> 2314</span>            int idx_object_layer_above          = -2;</div>
<div class="line"><span class="lineno"> 2315</span>            <span class="comment">// Counting down due to the way idx_lower_or_equal caches indices to avoid repeated binary search over the complete sequence.</span></div>
<div class="line"><span class="lineno"> 2316</span>            for (int idx_intermediate = int(range.end()) - 1; idx_intermediate &gt;= int(range.begin()); -- idx_intermediate)</div>
<div class="line"><span class="lineno"> 2317</span>            {</div>
<div class="line"><span class="lineno"> 2318</span>                BOOST_LOG_TRIVIAL(trace) &lt;&lt; <span class="stringliteral">&quot;Support generator - generate_base_layers - creating layer &quot;</span> &lt;&lt; </div>
<div class="line"><span class="lineno"> 2319</span>                    idx_intermediate &lt;&lt; <span class="stringliteral">&quot; of &quot;</span> &lt;&lt; intermediate_layers.size();</div>
<div class="line"><span class="lineno"> 2320</span>                SupportGeneratorLayer &amp;layer_intermediate = *intermediate_layers[idx_intermediate];</div>
<div class="line"><span class="lineno"> 2321</span>                <span class="comment">// Layers must be sorted by print_z. </span></div>
<div class="line"><span class="lineno"> 2322</span>                assert(idx_intermediate == 0 || layer_intermediate.print_z &gt;= intermediate_layers[idx_intermediate - 1]-&gt;print_z);</div>
<div class="line"><span class="lineno"> 2323</span> </div>
<div class="line"><span class="lineno"> 2324</span>                <span class="comment">// Find a top_contact layer touching the layer_intermediate from above, if any, and collect its polygons into polygons_new.</span></div>
<div class="line"><span class="lineno"> 2325</span>                <span class="comment">// New polygons for layer_intermediate.</span></div>
<div class="line"><span class="lineno"> 2326</span>                Polygons polygons_new;</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>                <span class="comment">// Use the precomputed layer_support_areas. &quot;idx_object_layer_above&quot;: above means above since the last iteration, not above after this call.</span></div>
<div class="line"><span class="lineno"> 2329</span>                idx_object_layer_above = idx_lower_or_equal(object.layers().begin(), object.layers().end(), idx_object_layer_above,</div>
<div class="line"><span class="lineno"> 2330</span>                    [&amp;layer_intermediate](const Layer* layer) { return layer-&gt;print_z &lt;= layer_intermediate.print_z + EPSILON; });</div>
<div class="line"><span class="lineno"> 2331</span> </div>
<div class="line"><span class="lineno"> 2332</span>                <span class="comment">// Polygons to trim polygons_new.</span></div>
<div class="line"><span class="lineno"> 2333</span>                Polygons polygons_trimming; </div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>                <span class="comment">// Trimming the base layer with any overlapping top layer.</span></div>
<div class="line"><span class="lineno"> 2336</span>                <span class="comment">// Following cases are recognized:</span></div>
<div class="line"><span class="lineno"> 2337</span>                <span class="comment">// 1) top.bottom_z &gt;= base.top_z -&gt; No overlap, no trimming needed.</span></div>
<div class="line"><span class="lineno"> 2338</span>                <span class="comment">// 2) base.bottom_z &gt;= top.print_z -&gt; No overlap, no trimming needed.</span></div>
<div class="line"><span class="lineno"> 2339</span>                <span class="comment">// 3) base.print_z &gt; top.print_z  &amp;&amp; base.bottom_z &gt;= top.bottom_z -&gt; Overlap, which will be solved inside generate_toolpaths() by reducing the base layer height where it overlaps the top layer. No trimming needed here.</span></div>
<div class="line"><span class="lineno"> 2340</span>                <span class="comment">// 4) base.print_z &gt; top.bottom_z &amp;&amp; base.bottom_z &lt; top.bottom_z -&gt; Base overlaps with top.bottom_z. This must not happen.</span></div>
<div class="line"><span class="lineno"> 2341</span>                <span class="comment">// 5) base.print_z &lt;= top.print_z  &amp;&amp; base.bottom_z &gt;= top.bottom_z -&gt; Base is fully inside top. Trim base by top.</span></div>
<div class="line"><span class="lineno"> 2342</span>                idx_top_contact_above = idx_lower_or_equal(top_contacts, idx_top_contact_above, </div>
<div class="line"><span class="lineno"> 2343</span>                    [&amp;layer_intermediate](const SupportGeneratorLayer *layer){ return layer-&gt;bottom_z &lt;= layer_intermediate.print_z - EPSILON; });</div>
<div class="line"><span class="lineno"> 2344</span>                <span class="comment">// Collect all the top_contact layer intersecting with this layer.</span></div>
<div class="line"><span class="lineno"> 2345</span>                for (int idx_top_contact_overlapping = idx_top_contact_above; idx_top_contact_overlapping &gt;= 0; -- idx_top_contact_overlapping) {</div>
<div class="line"><span class="lineno"> 2346</span>                    SupportGeneratorLayer &amp;layer_top_overlapping = *top_contacts[idx_top_contact_overlapping];</div>
<div class="line"><span class="lineno"> 2347</span>                    if (layer_top_overlapping.print_z &lt; layer_intermediate.bottom_z + EPSILON)</div>
<div class="line"><span class="lineno"> 2348</span>                        break;</div>
<div class="line"><span class="lineno"> 2349</span>                    <span class="comment">// Base must not overlap with top.bottom_z.</span></div>
<div class="line"><span class="lineno"> 2350</span>                    assert(! (layer_intermediate.print_z &gt; layer_top_overlapping.bottom_z + EPSILON &amp;&amp; layer_intermediate.bottom_z &lt; layer_top_overlapping.bottom_z - EPSILON));</div>
<div class="line"><span class="lineno"> 2351</span>                    if (layer_intermediate.print_z &lt;= layer_top_overlapping.print_z + EPSILON &amp;&amp; layer_intermediate.bottom_z &gt;= layer_top_overlapping.bottom_z - EPSILON)</div>
<div class="line"><span class="lineno"> 2352</span>                        <span class="comment">// Base is fully inside top. Trim base by top.</span></div>
<div class="line"><span class="lineno"> 2353</span>                        polygons_append(polygons_trimming, layer_top_overlapping.polygons);</div>
<div class="line"><span class="lineno"> 2354</span>                }</div>
<div class="line"><span class="lineno"> 2355</span> </div>
<div class="line"><span class="lineno"> 2356</span>                if (idx_object_layer_above &lt; 0) {</div>
<div class="line"><span class="lineno"> 2357</span>                    <span class="comment">// layer_support_areas are synchronized with object layers and they contain projections of the contact layers above them.</span></div>
<div class="line"><span class="lineno"> 2358</span>                    <span class="comment">// This intermediate layer is not above any object layer, thus there is no information in layer_support_areas about</span></div>
<div class="line"><span class="lineno"> 2359</span>                    <span class="comment">// towers supporting contact layers intersecting the first object layer. Project these contact layers now.</span></div>
<div class="line"><span class="lineno"> 2360</span>                    polygons_new = layer_support_areas.front();</div>
<div class="line"><span class="lineno"> 2361</span>                    double first_layer_z = object.layers().front()-&gt;print_z;</div>
<div class="line"><span class="lineno"> 2362</span>                    for (int i = idx_top_contact_above + 1; i &lt; int(top_contacts.size()); ++ i) {</div>
<div class="line"><span class="lineno"> 2363</span>                        SupportGeneratorLayer &amp;contacts = *top_contacts[i];</div>
<div class="line"><span class="lineno"> 2364</span>                        if (contacts.print_z &gt; first_layer_z + EPSILON)</div>
<div class="line"><span class="lineno"> 2365</span>                            break;</div>
<div class="line"><span class="lineno"> 2366</span>                        assert(contacts.bottom_z &gt; layer_intermediate.print_z - EPSILON);</div>
<div class="line"><span class="lineno"> 2367</span>                        polygons_append(polygons_new, contacts.polygons);</div>
<div class="line"><span class="lineno"> 2368</span>                    }</div>
<div class="line"><span class="lineno"> 2369</span>                } else</div>
<div class="line"><span class="lineno"> 2370</span>                    polygons_new = layer_support_areas[idx_object_layer_above];</div>
<div class="line"><span class="lineno"> 2371</span> </div>
<div class="line"><span class="lineno"> 2372</span>                <span class="comment">// Trimming the base layer with any overlapping bottom layer.</span></div>
<div class="line"><span class="lineno"> 2373</span>                <span class="comment">// Following cases are recognized:</span></div>
<div class="line"><span class="lineno"> 2374</span>                <span class="comment">// 1) bottom.bottom_z &gt;= base.top_z -&gt; No overlap, no trimming needed.</span></div>
<div class="line"><span class="lineno"> 2375</span>                <span class="comment">// 2) base.bottom_z &gt;= bottom.print_z -&gt; No overlap, no trimming needed.</span></div>
<div class="line"><span class="lineno"> 2376</span>                <span class="comment">// 3) base.print_z &gt; bottom.bottom_z &amp;&amp; base.bottom_z &lt; bottom.bottom_z -&gt; Overlap, which will be solved inside generate_toolpaths() by reducing the bottom layer height where it overlaps the base layer. No trimming needed here.</span></div>
<div class="line"><span class="lineno"> 2377</span>                <span class="comment">// 4) base.print_z &gt; bottom.print_z  &amp;&amp; base.bottom_z &gt;= bottom.print_z -&gt; Base overlaps with bottom.print_z. This must not happen.</span></div>
<div class="line"><span class="lineno"> 2378</span>                <span class="comment">// 5) base.print_z &lt;= bottom.print_z &amp;&amp; base.bottom_z &gt;= bottom.bottom_z -&gt; Base is fully inside top. Trim base by top.</span></div>
<div class="line"><span class="lineno"> 2379</span>                idx_bottom_contact_overlapping = idx_lower_or_equal(bottom_contacts, idx_bottom_contact_overlapping, </div>
<div class="line"><span class="lineno"> 2380</span>                    [&amp;layer_intermediate](const SupportGeneratorLayer *layer){ return layer-&gt;bottom_print_z() &lt;= layer_intermediate.print_z - EPSILON; });</div>
<div class="line"><span class="lineno"> 2381</span>                <span class="comment">// Collect all the bottom_contacts layer intersecting with this layer.</span></div>
<div class="line"><span class="lineno"> 2382</span>                for (int i = idx_bottom_contact_overlapping; i &gt;= 0; -- i) {</div>
<div class="line"><span class="lineno"> 2383</span>                    SupportGeneratorLayer &amp;layer_bottom_overlapping = *bottom_contacts[i];</div>
<div class="line"><span class="lineno"> 2384</span>                    if (layer_bottom_overlapping.print_z &lt; layer_intermediate.bottom_print_z() + EPSILON)</div>
<div class="line"><span class="lineno"> 2385</span>                        break; </div>
<div class="line"><span class="lineno"> 2386</span>                    <span class="comment">// Base must not overlap with bottom.top_z.</span></div>
<div class="line"><span class="lineno"> 2387</span>                    assert(! (layer_intermediate.print_z &gt; layer_bottom_overlapping.print_z + EPSILON &amp;&amp; layer_intermediate.bottom_z &lt; layer_bottom_overlapping.print_z - EPSILON));</div>
<div class="line"><span class="lineno"> 2388</span>                    if (layer_intermediate.print_z &lt;= layer_bottom_overlapping.print_z + EPSILON &amp;&amp; layer_intermediate.bottom_z &gt;= layer_bottom_overlapping.bottom_print_z() - EPSILON)</div>
<div class="line"><span class="lineno"> 2389</span>                        <span class="comment">// Base is fully inside bottom. Trim base by bottom.</span></div>
<div class="line"><span class="lineno"> 2390</span>                        polygons_append(polygons_trimming, layer_bottom_overlapping.polygons);</div>
<div class="line"><span class="lineno"> 2391</span>                }</div>
<div class="line"><span class="lineno"> 2392</span> </div>
<div class="line"><span class="lineno"> 2393</span>        #ifdef SLIC3R_DEBUG</div>
<div class="line"><span class="lineno"> 2394</span>                {</div>
<div class="line"><span class="lineno"> 2395</span>                    BoundingBox bbox = get_extents(polygons_new);</div>
<div class="line"><span class="lineno"> 2396</span>                    bbox.merge(get_extents(polygons_trimming));</div>
<div class="line"><span class="lineno"> 2397</span>                    ::Slic3r::SVG svg(debug_out_path(<span class="stringliteral">&quot;support-intermediate-layers-raw-%d-%lf.svg&quot;</span>, iRun, layer_intermediate.print_z), bbox);</div>
<div class="line"><span class="lineno"> 2398</span>                    svg.draw(union_ex(polygons_new),                    <span class="stringliteral">&quot;blue&quot;</span>, 0.5f);</div>
<div class="line"><span class="lineno"> 2399</span>                    svg.draw(to_polylines(polygons_new),                <span class="stringliteral">&quot;blue&quot;</span>);</div>
<div class="line"><span class="lineno"> 2400</span>                    svg.draw(union_safety_offset_ex(polygons_trimming), <span class="stringliteral">&quot;red&quot;</span>, 0.5f);</div>
<div class="line"><span class="lineno"> 2401</span>                    svg.draw(to_polylines(polygons_trimming),           <span class="stringliteral">&quot;red&quot;</span>);</div>
<div class="line"><span class="lineno"> 2402</span>                }</div>
<div class="line"><span class="lineno"> 2403</span>        #endif <span class="comment">/* SLIC3R_DEBUG */</span></div>
<div class="line"><span class="lineno"> 2404</span> </div>
<div class="line"><span class="lineno"> 2405</span>                <span class="comment">// Trim the polygons, store them.</span></div>
<div class="line"><span class="lineno"> 2406</span>                if (polygons_trimming.empty())</div>
<div class="line"><span class="lineno"> 2407</span>                    layer_intermediate.polygons = std::move(polygons_new);</div>
<div class="line"><span class="lineno"> 2408</span>                else</div>
<div class="line"><span class="lineno"> 2409</span>                    layer_intermediate.polygons = diff(</div>
<div class="line"><span class="lineno"> 2410</span>                        polygons_new,</div>
<div class="line"><span class="lineno"> 2411</span>                        polygons_trimming,</div>
<div class="line"><span class="lineno"> 2412</span>                        ApplySafetyOffset::Yes); <span class="comment">// safety offset to merge the touching source polygons</span></div>
<div class="line"><span class="lineno"> 2413</span>                layer_intermediate.layer_type = SupporLayerType::Base;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>        #if 0</div>
<div class="line"><span class="lineno"> 2416</span>                    <span class="comment">// coordf_t fillet_radius_scaled = scale_(m_object_config-&gt;support_material_spacing);</span></div>
<div class="line"><span class="lineno"> 2417</span>                    <span class="comment">// Fillet the base polygons and trim them again with the top, interface and contact layers.</span></div>
<div class="line"><span class="lineno"> 2418</span>                    $base-&gt;{$i} = diff(</div>
<div class="line"><span class="lineno"> 2419</span>                        offset2(</div>
<div class="line"><span class="lineno"> 2420</span>                            $base-&gt;{$i}, </div>
<div class="line"><span class="lineno"> 2421</span>                            $fillet_radius_scaled, </div>
<div class="line"><span class="lineno"> 2422</span>                            -$fillet_radius_scaled,</div>
<div class="line"><span class="lineno"> 2423</span>                            # Use a geometric offsetting for filleting.</div>
<div class="line"><span class="lineno"> 2424</span>                            JT_ROUND,</div>
<div class="line"><span class="lineno"> 2425</span>                            0.2*$fillet_radius_scaled),</div>
<div class="line"><span class="lineno"> 2426</span>                        $trim_polygons,</div>
<div class="line"><span class="lineno"> 2427</span>                        false); <span class="comment">// don&#39;t apply the safety offset.</span></div>
<div class="line"><span class="lineno"> 2428</span>                }</div>
<div class="line"><span class="lineno"> 2429</span>        #endif</div>
<div class="line"><span class="lineno"> 2430</span>            }</div>
<div class="line"><span class="lineno"> 2431</span>        });</div>
<div class="line"><span class="lineno"> 2432</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::generate_base_layers() in parallel - end&quot;</span>;</div>
<div class="line"><span class="lineno"> 2433</span> </div>
<div class="line"><span class="lineno"> 2434</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 2435</span>    <span class="keywordflow">for</span> (SupportGeneratorLayersPtr::const_iterator it = intermediate_layers.begin(); it != intermediate_layers.end(); ++it)</div>
<div class="line"><span class="lineno"> 2436</span>        <a class="code hl_function" href="../../db/dcf/class_slic3r_1_1_s_v_g.html#a2fbe0063ae23696aefaf04bda21dd044">::Slic3r::SVG::export_expolygons</a>(</div>
<div class="line"><span class="lineno"> 2437</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;support-intermediate-layers-untrimmed-%d-%lf.svg&quot;</span>, iRun, (*it)-&gt;print_z),</div>
<div class="line"><span class="lineno"> 2438</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>((*it)-&gt;polygons));</div>
<div class="line"><span class="lineno"> 2439</span>    ++ iRun;</div>
<div class="line"><span class="lineno"> 2440</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2441</span> </div>
<div class="line"><span class="lineno"> 2442</span>    this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#abc64dd344135d767c15df857f1f3bec2">trim_support_layers_by_object</a>(<span class="keywordtype">object</span>, intermediate_layers, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae75919394f64528204ca434684c06d1b">gap_support_object</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6127b2a51f4a1e1a7aefc70d6677f7e7">gap_object_support</a>, <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a9304932d0b5eb6aa276ff38202e92238">gap_xy</a>);</div>
<div class="line"><span class="lineno"> 2443</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a51e1ea9708d6434aae1e8394bef8acdc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">Slic3r::range</a></div><div class="ttdeci">auto range(Cont &amp;&amp;cont)</div><div class="ttdef"><b>Definition</b> libslic3r.h:356</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00356">Slic3r::range()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_ad974705c8ba58c4c3d072e684128893b_cgraph.svg" width="356" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_ad974705c8ba58c4c3d072e684128893b_icgraph.svg" width="618" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a03e1f5dc3048c374c660c48629bcdb57" name="a03e1f5dc3048c374c660c48629bcdb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e1f5dc3048c374c660c48629bcdb57">&#9670;&#160;</a></span>has_contact_loops()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PrintObjectSupportMaterial::has_contact_loops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   31</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>-&gt;support_material_interface_contact_loops.value; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00091">m_object_config</a>.</p>

</div>
</div>
<a id="a3c0106d9d58b8f72d32794b42cc76b0f" name="a3c0106d9d58b8f72d32794b42cc76b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0106d9d58b8f72d32794b42cc76b0f">&#9670;&#160;</a></span>has_raft()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PrintObjectSupportMaterial::has_raft </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   25</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_function" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ab139624a0f2e0d89e3d200c372154c4c">has_raft</a>(); }</div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_ab139624a0f2e0d89e3d200c372154c4c"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ab139624a0f2e0d89e3d200c372154c4c">Slic3r::SlicingParameters::has_raft</a></div><div class="ttdeci">bool has_raft() const</div><div class="ttdef"><b>Definition</b> Slicing.hpp:38</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00038">Slic3r::SlicingParameters::has_raft()</a>, and <a class="el" href="../../#l00094">m_slicing_params</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a3c0106d9d58b8f72d32794b42cc76b0f_cgraph.svg" width="616" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a63c1f7fa0e8ffece7c916dcb3716a4ef" name="a63c1f7fa0e8ffece7c916dcb3716a4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c1f7fa0e8ffece7c916dcb3716a4ef">&#9670;&#160;</a></span>has_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PrintObjectSupportMaterial::has_support </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   27</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>-&gt;support_material.value || <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>-&gt;support_material_enforce_layers; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00091">m_object_config</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">build_plate_only()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a63c1f7fa0e8ffece7c916dcb3716a4ef_icgraph.svg" width="100%" height="362"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6f3f1ac0d5b1abb534dea8847c5e43d8" name="a6f3f1ac0d5b1abb534dea8847c5e43d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3f1ac0d5b1abb534dea8847c5e43d8">&#9670;&#160;</a></span>raft_and_intermediate_support_layers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> Slic3r::PrintObjectSupportMaterial::raft_and_intermediate_support_layers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>bottom_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>top_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>layer_storage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2107</span>{</div>
<div class="line"><span class="lineno"> 2108</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> intermediate_layers;</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>    <span class="comment">// Collect and sort the extremes (bottoms of the top contacts and tops of the bottom contacts).</span></div>
<div class="line"><span class="lineno"> 2111</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> extremes;</div>
<div class="line"><span class="lineno"> 2112</span>    extremes.reserve(top_contacts.size() + bottom_contacts.size());</div>
<div class="line"><span class="lineno"> 2113</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; top_contacts.size(); ++ i)</div>
<div class="line"><span class="lineno"> 2114</span>        <span class="comment">// Bottoms of the top contact layers. In case of non-soluble supports,</span></div>
<div class="line"><span class="lineno"> 2115</span>        <span class="comment">// the top contact layer thickness is not known yet.</span></div>
<div class="line"><span class="lineno"> 2116</span>        extremes.push_back(top_contacts[i]);</div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; bottom_contacts.size(); ++ i)</div>
<div class="line"><span class="lineno"> 2118</span>        <span class="comment">// Tops of the bottom contact layers.</span></div>
<div class="line"><span class="lineno"> 2119</span>        extremes.push_back(bottom_contacts[i]);</div>
<div class="line"><span class="lineno"> 2120</span>    <span class="keywordflow">if</span> (extremes.empty())</div>
<div class="line"><span class="lineno"> 2121</span>        <span class="keywordflow">return</span> intermediate_layers;</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>    <span class="keyword">auto</span> layer_extreme_lower = [](<span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *l1, <span class="keyword">const</span> <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>) {</div>
<div class="line"><span class="lineno"> 2124</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> z1 = l1-&gt;<a class="code hl_function" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a87e9076db9504dbc73be27419d3815f6">extreme_z</a>();</div>
<div class="line"><span class="lineno"> 2125</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> z2 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>-&gt;extreme_z();</div>
<div class="line"><span class="lineno"> 2126</span>        <span class="comment">// If the layers are aligned, return the top contact surface first.</span></div>
<div class="line"><span class="lineno"> 2127</span>        <span class="keywordflow">return</span> z1 &lt; z2 || (z1 == z2 &amp;&amp; l1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">layer_type</a> == SupporLayerType::TopContact &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>-&gt;layer_type == SupporLayerType::BottomContact);</div>
<div class="line"><span class="lineno"> 2128</span>    };</div>
<div class="line"><span class="lineno"> 2129</span>    std::sort(extremes.begin(), extremes.end(), layer_extreme_lower);</div>
<div class="line"><span class="lineno"> 2130</span> </div>
<div class="line"><span class="lineno"> 2131</span>    assert(extremes.empty() || </div>
<div class="line"><span class="lineno"> 2132</span>        (extremes.front()-&gt;extreme_z() &gt; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a> &amp;&amp; </div>
<div class="line"><span class="lineno"> 2133</span>          (<a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_function" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#acea524a90dabe50ccbd21e34e9547928">raft_layers</a>() == 1 || <span class="comment">// only raft contact layer</span></div>
<div class="line"><span class="lineno"> 2134</span>           extremes.front()-&gt;layer_type == SupporLayerType::TopContact || <span class="comment">// first extreme is a top contact layer</span></div>
<div class="line"><span class="lineno"> 2135</span>           extremes.front()-&gt;extreme_z() &gt; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)));</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>    <span class="keywordtype">bool</span> synchronize = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad404e6eecb194f163f453cbc583f81eb">synchronize_layers</a>();</div>
<div class="line"><span class="lineno"> 2138</span> </div>
<div class="line"><span class="lineno"> 2139</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno"> 2140</span>    <span class="comment">// Verify that the extremes are separated by m_support_layer_height_min.</span></div>
<div class="line"><span class="lineno"> 2141</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; extremes.size(); ++ i) {</div>
<div class="line"><span class="lineno"> 2142</span>        assert(extremes[i]-&gt;extreme_z() - extremes[i-1]-&gt;extreme_z() == 0. ||</div>
<div class="line"><span class="lineno"> 2143</span>               extremes[i]-&gt;extreme_z() - extremes[i-1]-&gt;extreme_z() &gt; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">support_layer_height_min</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2144</span>        assert(extremes[i]-&gt;extreme_z() - extremes[i-1]-&gt;extreme_z() &gt; 0. ||</div>
<div class="line"><span class="lineno"> 2145</span>               extremes[i]-&gt;layer_type == extremes[i-1]-&gt;layer_type ||</div>
<div class="line"><span class="lineno"> 2146</span>               (extremes[i]-&gt;layer_type == SupporLayerType::BottomContact &amp;&amp; extremes[i - 1]-&gt;layer_type == SupporLayerType::TopContact));</div>
<div class="line"><span class="lineno"> 2147</span>    }</div>
<div class="line"><span class="lineno"> 2148</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2149</span> </div>
<div class="line"><span class="lineno"> 2150</span>    <span class="comment">// Generate intermediate layers.</span></div>
<div class="line"><span class="lineno"> 2151</span>    <span class="comment">// The first intermediate layer is the same as the 1st layer if there is no raft,</span></div>
<div class="line"><span class="lineno"> 2152</span>    <span class="comment">// or the bottom of the first intermediate layer is aligned with the bottom of the raft contact layer.</span></div>
<div class="line"><span class="lineno"> 2153</span>    <span class="comment">// Intermediate layers are always printed with a normal etrusion flow (non-bridging).</span></div>
<div class="line"><span class="lineno"> 2154</span>    <span class="keywordtype">size_t</span> idx_layer_object = 0;</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordtype">size_t</span> idx_extreme_first = 0;</div>
<div class="line"><span class="lineno"> 2156</span>    <span class="keywordflow">if</span> (! extremes.empty() &amp;&amp; std::abs(extremes.front()-&gt;extreme_z() - <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a>) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 2157</span>        <span class="comment">// This is a raft contact layer, its height has been decided in this-&gt;top_contact_layers().</span></div>
<div class="line"><span class="lineno"> 2158</span>        <span class="comment">// Ignore this layer when calculating the intermediate support layers.</span></div>
<div class="line"><span class="lineno"> 2159</span>        assert(extremes.front()-&gt;layer_type == SupporLayerType::TopContact);</div>
<div class="line"><span class="lineno"> 2160</span>        ++ idx_extreme_first;</div>
<div class="line"><span class="lineno"> 2161</span>    }</div>
<div class="line"><span class="lineno"> 2162</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx_extreme = idx_extreme_first; idx_extreme &lt; extremes.size(); ++ idx_extreme) {</div>
<div class="line"><span class="lineno"> 2163</span>        <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a>      *extr2  = extremes[idx_extreme];</div>
<div class="line"><span class="lineno"> 2164</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>      extr2z = extr2-&gt;<a class="code hl_function" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a87e9076db9504dbc73be27419d3815f6">extreme_z</a>();</div>
<div class="line"><span class="lineno"> 2165</span>        <span class="keywordflow">if</span> (std::abs(extr2z - <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 2166</span>            <span class="comment">// This is a bottom of a synchronized (or soluble) top contact layer, its height has been decided in this-&gt;top_contact_layers().</span></div>
<div class="line"><span class="lineno"> 2167</span>            assert(extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">layer_type</a> == SupporLayerType::TopContact);</div>
<div class="line"><span class="lineno"> 2168</span>            assert(extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> == <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>);</div>
<div class="line"><span class="lineno"> 2169</span>            assert(extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a> + <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">support_layer_height_min</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2170</span>            <span class="keywordflow">if</span> (intermediate_layers.empty() || intermediate_layers.back()-&gt;print_z &lt; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>) {</div>
<div class="line"><span class="lineno"> 2171</span>                <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2172</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = 0.;</div>
<div class="line"><span class="lineno"> 2173</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>  = <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>;</div>
<div class="line"><span class="lineno"> 2174</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>   = <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>;</div>
<div class="line"><span class="lineno"> 2175</span>                intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2176</span>            }</div>
<div class="line"><span class="lineno"> 2177</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2178</span>        }</div>
<div class="line"><span class="lineno"> 2179</span>        assert(extr2z &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2180</span>        assert(extr2z &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2181</span>        <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a>      *extr1  = (idx_extreme == idx_extreme_first) ? <span class="keyword">nullptr</span> : extremes[idx_extreme - 1];</div>
<div class="line"><span class="lineno"> 2182</span>        <span class="comment">// Fuse a support layer firmly to the raft top interface (not to the raft contacts).</span></div>
<div class="line"><span class="lineno"> 2183</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>      extr1z = (extr1 == <span class="keyword">nullptr</span>) ? <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a> : extr1-&gt;extreme_z();</div>
<div class="line"><span class="lineno"> 2184</span>        assert(extr2z &gt;= extr1z);</div>
<div class="line"><span class="lineno"> 2185</span>        assert(extr2z &gt; extr1z || (extr1 != <span class="keyword">nullptr</span> &amp;&amp; extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">layer_type</a> == SupporLayerType::BottomContact));</div>
<div class="line"><span class="lineno"> 2186</span>        <span class="keywordflow">if</span> (std::abs(extr1z) &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 2187</span>            <span class="comment">// This layer interval starts with the 1st layer. Print the 1st layer using the prescribed 1st layer thickness.</span></div>
<div class="line"><span class="lineno"> 2188</span>            <span class="comment">// assert(! m_slicing_params.has_raft()); RaftingEdition: unclear where the issue is: assert fails with 1-layer raft &amp; base supports</span></div>
<div class="line"><span class="lineno"> 2189</span>            assert(intermediate_layers.empty() || intermediate_layers.back()-&gt;print_z &lt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>);</div>
<div class="line"><span class="lineno"> 2190</span>            <span class="comment">// At this point only layers above first_print_layer_heigth + EPSILON are expected as the other cases were captured earlier.</span></div>
<div class="line"><span class="lineno"> 2191</span>            assert(extr2z &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2192</span>            <span class="comment">// Generate a new intermediate layer.</span></div>
<div class="line"><span class="lineno"> 2193</span>            <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2194</span>            layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = 0.;</div>
<div class="line"><span class="lineno"> 2195</span>            layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>  = extr1z = <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a>;</div>
<div class="line"><span class="lineno"> 2196</span>            layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>   = extr1z;</div>
<div class="line"><span class="lineno"> 2197</span>            intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2198</span>            <span class="comment">// Continue printing the other layers up to extr2z.</span></div>
<div class="line"><span class="lineno"> 2199</span>        }</div>
<div class="line"><span class="lineno"> 2200</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>      <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>   = extr2z - extr1z;</div>
<div class="line"><span class="lineno"> 2201</span>        assert(dist &gt;= 0.);</div>
<div class="line"><span class="lineno"> 2202</span>        <span class="keywordflow">if</span> (dist == 0.)</div>
<div class="line"><span class="lineno"> 2203</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2204</span>        <span class="comment">// The new layers shall be at least m_support_layer_height_min thick.</span></div>
<div class="line"><span class="lineno"> 2205</span>        assert(dist &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">support_layer_height_min</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2206</span>        <span class="keywordflow">if</span> (synchronize) {</div>
<div class="line"><span class="lineno"> 2207</span>            <span class="comment">// Emit support layers synchronized with the object layers.</span></div>
<div class="line"><span class="lineno"> 2208</span>            <span class="comment">// Find the first object layer, which has its print_z in this support Z range.</span></div>
<div class="line"><span class="lineno"> 2209</span>            <span class="keywordflow">while</span> (idx_layer_object &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>() &amp;&amp; <span class="keywordtype">object</span>.layers()[idx_layer_object]-&gt;print_z &lt; extr1z + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 2210</span>                ++ idx_layer_object;</div>
<div class="line"><span class="lineno"> 2211</span>            <span class="keywordflow">if</span> (idx_layer_object == 0 &amp;&amp; extr1z == <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a>) {</div>
<div class="line"><span class="lineno"> 2212</span>                <span class="comment">// Insert one base support layer below the object.</span></div>
<div class="line"><span class="lineno"> 2213</span>                <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2214</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>  = <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6339c74eff90432e3b7ea380898a6c75">object_print_z_min</a>;</div>
<div class="line"><span class="lineno"> 2215</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">raft_interface_top_z</a>;</div>
<div class="line"><span class="lineno"> 2216</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>   = layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> - layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a>;</div>
<div class="line"><span class="lineno"> 2217</span>                intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2218</span>            }</div>
<div class="line"><span class="lineno"> 2219</span>            <span class="comment">// Emit all intermediate support layers synchronized with object layers up to extr2z.</span></div>
<div class="line"><span class="lineno"> 2220</span>            <span class="keywordflow">for</span> (; idx_layer_object &lt; <span class="keywordtype">object</span>.layers().<a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>() &amp;&amp; <span class="keywordtype">object</span>.layers()[idx_layer_object]-&gt;print_z &lt; extr2z + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>; ++ idx_layer_object) {</div>
<div class="line"><span class="lineno"> 2221</span>                <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2222</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>  = <span class="keywordtype">object</span>.layers()[idx_layer_object]-&gt;print_z;</div>
<div class="line"><span class="lineno"> 2223</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>   = <span class="keywordtype">object</span>.layers()[idx_layer_object]-&gt;height;</div>
<div class="line"><span class="lineno"> 2224</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = (idx_layer_object &gt; 0) ? <span class="keywordtype">object</span>.layers()[idx_layer_object - 1]-&gt;print_z : (layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> - layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>);</div>
<div class="line"><span class="lineno"> 2225</span>                assert(intermediate_layers.empty() || intermediate_layers.back()-&gt;print_z &lt; layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2226</span>                intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2227</span>            }</div>
<div class="line"><span class="lineno"> 2228</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2229</span>            <span class="comment">// Insert intermediate layers.</span></div>
<div class="line"><span class="lineno"> 2230</span>            <span class="keywordtype">size_t</span>        n_layers_extra = size_t(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a>(dist / <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#adcacd33d748550926fbff35daa13d8eb">max_suport_layer_height</a>)); </div>
<div class="line"><span class="lineno"> 2231</span>            assert(n_layers_extra &gt; 0);</div>
<div class="line"><span class="lineno"> 2232</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a>      <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>   = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> / <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>(n_layers_extra);</div>
<div class="line"><span class="lineno"> 2233</span>            <span class="keywordflow">if</span> (extr1 != <span class="keyword">nullptr</span> &amp;&amp; extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">layer_type</a> == SupporLayerType::TopContact &amp;&amp;</div>
<div class="line"><span class="lineno"> 2234</span>                extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> + <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">support_layer_height_min</a> &gt; extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> + step) {</div>
<div class="line"><span class="lineno"> 2235</span>                <span class="comment">// The bottom extreme is a bottom of a top surface. Ensure that the gap </span></div>
<div class="line"><span class="lineno"> 2236</span>                <span class="comment">// between the 1st intermediate layer print_z and extr1-&gt;print_z is not too small.</span></div>
<div class="line"><span class="lineno"> 2237</span>                assert(extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> + <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad575fc4e535f65accbc7711e21384264">m_support_params</a>.<a class="code hl_variable" href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">support_layer_height_min</a> &lt; extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2238</span>                <span class="comment">// Generate the first intermediate layer.</span></div>
<div class="line"><span class="lineno"> 2239</span>                <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2240</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a>;</div>
<div class="line"><span class="lineno"> 2241</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>  = extr1z = extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>;</div>
<div class="line"><span class="lineno"> 2242</span>                layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>   = extr1-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a>;</div>
<div class="line"><span class="lineno"> 2243</span>                intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2244</span>                <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = extr2z - extr1z;</div>
<div class="line"><span class="lineno"> 2245</span>                n_layers_extra = size_t(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a>(dist / <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#adcacd33d748550926fbff35daa13d8eb">max_suport_layer_height</a>));</div>
<div class="line"><span class="lineno"> 2246</span>                <span class="keywordflow">if</span> (n_layers_extra == 0)</div>
<div class="line"><span class="lineno"> 2247</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2248</span>                <span class="comment">// Continue printing the other layers up to extr2z.</span></div>
<div class="line"><span class="lineno"> 2249</span>                <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> / <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>(n_layers_extra);</div>
<div class="line"><span class="lineno"> 2250</span>            }</div>
<div class="line"><span class="lineno"> 2251</span>            <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ac8f1765efb10ac97c597982a0b4847f5">soluble_interface</a> &amp;&amp; extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">layer_type</a> == SupporLayerType::TopContact) {</div>
<div class="line"><span class="lineno"> 2252</span>                <span class="comment">// This is a top interface layer, which does not have a height assigned yet. Do it now.</span></div>
<div class="line"><span class="lineno"> 2253</span>                assert(extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a> == 0.);</div>
<div class="line"><span class="lineno"> 2254</span>                assert(extr1z &gt; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">first_print_layer_height</a> - <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>);</div>
<div class="line"><span class="lineno"> 2255</span>                extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a> = <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 2256</span>                extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = extr2z = extr2-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> - <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 2257</span>                <span class="keywordflow">if</span> (-- n_layers_extra == 0)</div>
<div class="line"><span class="lineno"> 2258</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2259</span>            }</div>
<div class="line"><span class="lineno"> 2260</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a95c875c81df33d788132374e2b57c6c1">coordf_t</a> extr2z_large_steps = extr2z;</div>
<div class="line"><span class="lineno"> 2261</span>            <span class="comment">// Take the largest allowed step in the Z axis until extr2z_large_steps is reached.</span></div>
<div class="line"><span class="lineno"> 2262</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_layers_extra; ++ i) {</div>
<div class="line"><span class="lineno"> 2263</span>                <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> &amp;layer_new = layer_storage.<a class="code hl_function" href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">allocate_unguarded</a>(SupporLayerType::Intermediate);</div>
<div class="line"><span class="lineno"> 2264</span>                <span class="keywordflow">if</span> (i + 1 == n_layers_extra) {</div>
<div class="line"><span class="lineno"> 2265</span>                    <span class="comment">// Last intermediate layer added. Align the last entered layer with extr2z_large_steps exactly.</span></div>
<div class="line"><span class="lineno"> 2266</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = (i == 0) ? extr1z : intermediate_layers.<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>()-&gt;print_z;</div>
<div class="line"><span class="lineno"> 2267</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> = extr2z_large_steps;</div>
<div class="line"><span class="lineno"> 2268</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a> = layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> - layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a>;</div>
<div class="line"><span class="lineno"> 2269</span>                }</div>
<div class="line"><span class="lineno"> 2270</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2271</span>                    <span class="comment">// Intermediate layer, not the last added.</span></div>
<div class="line"><span class="lineno"> 2272</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">height</a> = <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 2273</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> = extr1z + i * <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 2274</span>                    layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> = layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">bottom_z</a> + <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 2275</span>                }</div>
<div class="line"><span class="lineno"> 2276</span>                assert(intermediate_layers.empty() || intermediate_layers.back()-&gt;print_z &lt;= layer_new.<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a>);</div>
<div class="line"><span class="lineno"> 2277</span>                intermediate_layers.push_back(&amp;layer_new);</div>
<div class="line"><span class="lineno"> 2278</span>            }</div>
<div class="line"><span class="lineno"> 2279</span>        }</div>
<div class="line"><span class="lineno"> 2280</span>    }</div>
<div class="line"><span class="lineno"> 2281</span> </div>
<div class="line"><span class="lineno"> 2282</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno"> 2283</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; top_contacts.size(); ++i)</div>
<div class="line"><span class="lineno"> 2284</span>        assert(top_contacts[i]-&gt;height &gt; 0.);</div>
<div class="line"><span class="lineno"> 2285</span><span class="preprocessor">#endif </span><span class="comment">/* _DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 2286</span> </div>
<div class="line"><span class="lineno"> 2287</span>    <span class="keywordflow">return</span> intermediate_layers;</div>
<div class="line"><span class="lineno"> 2288</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a63043b6807e8e10fb1adf4667e3664d2"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const CeilReturnType ceil() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:402</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a0a8d091b49c5c92eec7c7a09251192e9"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a0a8d091b49c5c92eec7c7a09251192e9">Slic3r::FFFSupport::SupportGeneratorLayer::height</a></div><div class="ttdeci">coordf_t height</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:96</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a158ebc9656636e9822507d275da0dc18"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a158ebc9656636e9822507d275da0dc18">Slic3r::FFFSupport::SupportGeneratorLayer::layer_type</a></div><div class="ttdeci">SupporLayerType layer_type</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:89</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a75401d86c73cac62381d7ed037f8887c"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a75401d86c73cac62381d7ed037f8887c">Slic3r::FFFSupport::SupportGeneratorLayer::bottom_z</a></div><div class="ttdeci">coordf_t bottom_z</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:94</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a81425a80008a6abab8e4796be7c002b3"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">Slic3r::FFFSupport::SupportGeneratorLayer::print_z</a></div><div class="ttdeci">coordf_t print_z</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:91</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a87e9076db9504dbc73be27419d3815f6"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a87e9076db9504dbc73be27419d3815f6">Slic3r::FFFSupport::SupportGeneratorLayer::extreme_z</a></div><div class="ttdeci">coordf_t extreme_z() const</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:87</div></div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage_html_a056abec18197eb1197b712545574cad5"><div class="ttname"><a href="../../d8/dc2/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_storage.html#a056abec18197eb1197b712545574cad5">Slic3r::FFFSupport::SupportGeneratorLayerStorage::allocate_unguarded</a></div><div class="ttdeci">SupportGeneratorLayer &amp; allocate_unguarded(SupporLayerType layer_type)</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:120</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_ad404e6eecb194f163f453cbc583f81eb"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ad404e6eecb194f163f453cbc583f81eb">Slic3r::PrintObjectSupportMaterial::synchronize_layers</a></div><div class="ttdeci">bool synchronize_layers() const</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:30</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1e045f56a994b8cd4a5b203626cd8272"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">Slic3r::l2</a></div><div class="ttdeci">T l2(const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:166</div></div>
<div class="ttc" id="anamespace_slic3r_html_a2ac5c755948c74f5f5f975acd5057fe9"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">Slic3r::coordf_t</a></div><div class="ttdeci">double coordf_t</div><div class="ttdef"><b>Definition</b> GUI_ObjectList.hpp:36</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a46b7df127ea55a76bc6f42c30a06d0da"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">libnest2d::shapelike::back</a></div><div class="ttdeci">TPoint&lt; P &gt; back(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:873</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a6ceea497872e0323516dbb68ef605a21"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">marchsq::__impl::step</a></div><div class="ttdeci">Coord step(const Coord &amp;crd, Dir d)</div><div class="ttdef"><b>Definition</b> MarchingSquares.hpp:137</div></div>
<div class="ttc" id="astruct_slic3r_1_1_f_f_f_support_1_1_support_parameters_html_a82794a29d67abd598d5d6c37c5e1c880"><div class="ttname"><a href="../../d7/df4/struct_slic3r_1_1_f_f_f_support_1_1_support_parameters.html#a82794a29d67abd598d5d6c37c5e1c880">Slic3r::FFFSupport::SupportParameters::support_layer_height_min</a></div><div class="ttdeci">coordf_t support_layer_height_min</div><div class="ttdef"><b>Definition</b> SupportParameters.hpp:55</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_a6339c74eff90432e3b7ea380898a6c75"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a6339c74eff90432e3b7ea380898a6c75">Slic3r::SlicingParameters::object_print_z_min</a></div><div class="ttdeci">coordf_t object_print_z_min</div><div class="ttdef"><b>Definition</b> Slicing.hpp:97</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_a97b70b5bd60c1d5a90b636aacd447e4e"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#a97b70b5bd60c1d5a90b636aacd447e4e">Slic3r::SlicingParameters::first_print_layer_height</a></div><div class="ttdeci">coordf_t first_print_layer_height</div><div class="ttdef"><b>Definition</b> Slicing.hpp:70</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_aba85290292e48feb130b844963f96d62"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#aba85290292e48feb130b844963f96d62">Slic3r::SlicingParameters::raft_interface_top_z</a></div><div class="ttdeci">coordf_t raft_interface_top_z</div><div class="ttdef"><b>Definition</b> Slicing.hpp:94</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_ac8f1765efb10ac97c597982a0b4847f5"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ac8f1765efb10ac97c597982a0b4847f5">Slic3r::SlicingParameters::soluble_interface</a></div><div class="ttdeci">bool soluble_interface</div><div class="ttdef"><b>Definition</b> Slicing.hpp:82</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_acea524a90dabe50ccbd21e34e9547928"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#acea524a90dabe50ccbd21e34e9547928">Slic3r::SlicingParameters::raft_layers</a></div><div class="ttdeci">size_t raft_layers() const</div><div class="ttdef"><b>Definition</b> Slicing.hpp:39</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_adcacd33d748550926fbff35daa13d8eb"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#adcacd33d748550926fbff35daa13d8eb">Slic3r::SlicingParameters::max_suport_layer_height</a></div><div class="ttdeci">coordf_t max_suport_layer_height</div><div class="ttdef"><b>Definition</b> Slicing.hpp:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00120">Slic3r::FFFSupport::SupportGeneratorLayerStorage::allocate_unguarded()</a>, <a class="el" href="../../#l00094">Slic3r::FFFSupport::SupportGeneratorLayer::bottom_z</a>, <a class="el" href="../../#l00402">ceil()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00087">Slic3r::FFFSupport::SupportGeneratorLayer::extreme_z()</a>, <a class="el" href="../../#l00096">Slic3r::FFFSupport::SupportGeneratorLayer::height</a>, <a class="el" href="../../#l00166">Slic3r::l2()</a>, <a class="el" href="../../#l00089">Slic3r::FFFSupport::SupportGeneratorLayer::layer_type</a>, and <a class="el" href="../../#l00091">Slic3r::FFFSupport::SupportGeneratorLayer::print_z</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a6f3f1ac0d5b1abb534dea8847c5e43d8_cgraph.svg" width="596" height="248"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a6f3f1ac0d5b1abb534dea8847c5e43d8_icgraph.svg" width="616" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad404e6eecb194f163f453cbc583f81eb" name="ad404e6eecb194f163f453cbc583f81eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad404e6eecb194f163f453cbc583f81eb">&#9670;&#160;</a></span>synchronize_layers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::PrintObjectSupportMaterial::synchronize_layers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   30</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ac8f1765efb10ac97c597982a0b4847f5">soluble_interface</a> &amp;&amp; <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a66f5a649e3f3bfc65624d776dd55fb1e">m_object_config</a>-&gt;support_material_synchronize_layers.value; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00091">m_object_config</a>, <a class="el" href="../../#l00094">m_slicing_params</a>, and <a class="el" href="../../#l00082">Slic3r::SlicingParameters::soluble_interface</a>.</p>

</div>
</div>
<a id="a3fccb369feffc935791c53edcc68a785" name="a3fccb369feffc935791c53edcc68a785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fccb369feffc935791c53edcc68a785">&#9670;&#160;</a></span>top_contact_layers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> Slic3r::PrintObjectSupportMaterial::top_contact_layers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buildplate_covered</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#af9261af07f0113dc82312b4d20e90e3a">SupportGeneratorLayerStorage</a> &amp;&#160;</td>
          <td class="paramname"><em>layer_storage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1645</span>{</div>
<div class="line"><span class="lineno"> 1646</span><span class="preprocessor">#ifdef SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1647</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno"> 1648</span>    ++ iRun; </div>
<div class="line"><span class="lineno"> 1649</span><span class="preprocessor">    #define SLIC3R_IRUN , iRun</span></div>
<div class="line"><span class="lineno"> 1650</span><span class="preprocessor">#endif </span><span class="comment">/* SLIC3R_DEBUG */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno"> 1651</span> </div>
<div class="line"><span class="lineno"> 1652</span>    <span class="comment">// Slice support enforcers / support blockers.</span></div>
<div class="line"><span class="lineno"> 1653</span>    SupportAnnotations annotations(<span class="keywordtype">object</span>, <a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3abfb433ae14805f6bcb7d41b5cc1840">buildplate_covered</a>);</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>    <span class="comment">// Output layers, sorted by top Z.</span></div>
<div class="line"><span class="lineno"> 1656</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> contact_out;</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::top_contact_layers() in parallel - start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1659</span>    <span class="comment">// Determine top contact areas.</span></div>
<div class="line"><span class="lineno"> 1660</span>    <span class="comment">// If generating raft only (no support), only calculate top contact areas for the 0th layer.</span></div>
<div class="line"><span class="lineno"> 1661</span>    <span class="comment">// If having a raft, start with 0th layer, otherwise with 1st layer.</span></div>
<div class="line"><span class="lineno"> 1662</span>    <span class="comment">// Note that layer_id &lt; layer-&gt;id when raft_layers &gt; 0 as the layer-&gt;id incorporates the raft layers.</span></div>
<div class="line"><span class="lineno"> 1663</span>    <span class="comment">// So layer_id == 0 means first object layer and layer-&gt;id == 0 means first print layer if there are no explicit raft layers.</span></div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordtype">size_t</span> num_layers = this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a63c1f7fa0e8ffece7c916dcb3716a4ef">has_support</a>() ? <span class="keywordtype">object</span>.layer_count() : 1;</div>
<div class="line"><span class="lineno"> 1665</span>    <span class="comment">// For each overhang layer, two supporting layers may be generated: One for the overhangs extruded with a bridging flow, </span></div>
<div class="line"><span class="lineno"> 1666</span>    <span class="comment">// and the other for the overhangs extruded with a normal flow.</span></div>
<div class="line"><span class="lineno"> 1667</span>    contact_out.assign(num_layers * 2, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1668</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(this-&gt;<a class="code hl_function" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3c0106d9d58b8f72d32794b42cc76b0f">has_raft</a>() ? 0 : 1, num_layers),</div>
<div class="line"><span class="lineno"> 1669</span>        [this, &amp;object, &amp;annotations, &amp;layer_storage, &amp;contact_out]</div>
<div class="line"><span class="lineno"> 1670</span>        (<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> tbb::blocked_range&lt;size_t&gt;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>) {</div>
<div class="line"><span class="lineno"> 1671</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> layer_id = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>.begin(); layer_id &lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>.end(); ++ layer_id) </div>
<div class="line"><span class="lineno"> 1672</span>            {</div>
<div class="line"><span class="lineno"> 1673</span>                <span class="keyword">const</span> Layer        &amp;layer                = *<span class="keywordtype">object</span>.layers()[layer_id];</div>
<div class="line"><span class="lineno"> 1674</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>            lower_layer_polygons = (layer_id == 0) ? <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>() : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">to_polygons</a>(<span class="keywordtype">object</span>.layers()[layer_id - 1]-&gt;lslices);</div>
<div class="line"><span class="lineno"> 1675</span>                SlicesMarginCache   slices_margin;</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span>                <span class="keyword">auto</span> [overhang_polygons, contact_polygons, enforcer_polygons, no_interface_offset] =</div>
<div class="line"><span class="lineno"> 1678</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a39c7790294ad69a9b2e17f45f711463f">detect_overhangs</a>(layer, layer_id, lower_layer_polygons, *m_print_config, *m_object_config, annotations, slices_margin, m_support_params.gap_xy</div>
<div class="line"><span class="lineno"> 1679</span>                #ifdef SLIC3R_DEBUG</div>
<div class="line"><span class="lineno"> 1680</span>                                    , iRun</div>
<div class="line"><span class="lineno"> 1681</span>                #endif <span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1682</span>                        );</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>                <span class="comment">// Now apply the contact areas to the layer where they need to be made.</span></div>
<div class="line"><span class="lineno"> 1685</span>                <span class="keywordflow">if</span> (! contact_polygons.empty() || ! overhang_polygons.empty()) {</div>
<div class="line"><span class="lineno"> 1686</span>                    <span class="comment">// Allocate the two empty layers.</span></div>
<div class="line"><span class="lineno"> 1687</span>                    <span class="keyword">auto</span> [new_layer, bridging_layer] = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af44aa08ac7494411caff4018b8922121">new_contact_layer</a>(*m_print_config, *m_object_config, m_slicing_params, m_support_params.support_layer_height_min, layer, layer_storage);</div>
<div class="line"><span class="lineno"> 1688</span>                    <span class="keywordflow">if</span> (new_layer) {</div>
<div class="line"><span class="lineno"> 1689</span>                        <span class="comment">// Fill the non-bridging layer with polygons.</span></div>
<div class="line"><span class="lineno"> 1690</span>                        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a739c808318e457ee17e40b8408d344fa">fill_contact_layer</a>(*new_layer, layer_id, m_slicing_params,</div>
<div class="line"><span class="lineno"> 1691</span>                            *m_object_config, slices_margin, overhang_polygons, contact_polygons, enforcer_polygons, lower_layer_polygons,</div>
<div class="line"><span class="lineno"> 1692</span>                            m_support_params.support_material_flow, no_interface_offset</div>
<div class="line"><span class="lineno"> 1693</span>                    #ifdef SLIC3R_DEBUG</div>
<div class="line"><span class="lineno"> 1694</span>                            , iRun, layer</div>
<div class="line"><span class="lineno"> 1695</span>                    #endif <span class="comment">// SLIC3R_DEBUG</span></div>
<div class="line"><span class="lineno"> 1696</span>                            );</div>
<div class="line"><span class="lineno"> 1697</span>                        <span class="comment">// Insert new layer even if there is no interface generated: Likely the support angle is not steep enough to require dense interface,</span></div>
<div class="line"><span class="lineno"> 1698</span>                        <span class="comment">// however generating a sparse support will be useful for the object stability.</span></div>
<div class="line"><span class="lineno"> 1699</span>                        <span class="comment">// if (! new_layer-&gt;polygons.empty())</span></div>
<div class="line"><span class="lineno"> 1700</span>                        contact_out[layer_id * 2] = new_layer;</div>
<div class="line"><span class="lineno"> 1701</span>                        <span class="keywordflow">if</span> (bridging_layer != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1702</span>                            bridging_layer-&gt;polygons          = new_layer-&gt;polygons;</div>
<div class="line"><span class="lineno"> 1703</span>                            bridging_layer-&gt;contact_polygons  = std::make_unique&lt;Polygons&gt;(*new_layer-&gt;contact_polygons);</div>
<div class="line"><span class="lineno"> 1704</span>                            bridging_layer-&gt;overhang_polygons = std::make_unique&lt;Polygons&gt;(*new_layer-&gt;overhang_polygons);</div>
<div class="line"><span class="lineno"> 1705</span>                            <span class="keywordflow">if</span> (new_layer-&gt;enforcer_polygons)</div>
<div class="line"><span class="lineno"> 1706</span>                                bridging_layer-&gt;enforcer_polygons = std::make_unique&lt;Polygons&gt;(*new_layer-&gt;enforcer_polygons);</div>
<div class="line"><span class="lineno"> 1707</span>                            contact_out[layer_id * 2 + 1] = bridging_layer;</div>
<div class="line"><span class="lineno"> 1708</span>                        }</div>
<div class="line"><span class="lineno"> 1709</span>                    }</div>
<div class="line"><span class="lineno"> 1710</span>                }</div>
<div class="line"><span class="lineno"> 1711</span>            }</div>
<div class="line"><span class="lineno"> 1712</span>        });</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>    <span class="comment">// Compress contact_out, remove the nullptr items.</span></div>
<div class="line"><span class="lineno"> 1715</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aaea096e5f48dc58b390aa7b72f2a02bc">remove_nulls</a>(contact_out);</div>
<div class="line"><span class="lineno"> 1716</span> </div>
<div class="line"><span class="lineno"> 1717</span>    <span class="comment">// Merge close contact layers conservatively: If two layers are closer than the minimum allowed print layer height (the min_layer_height parameter),</span></div>
<div class="line"><span class="lineno"> 1718</span>    <span class="comment">// the top contact layer is merged into the bottom contact layer.</span></div>
<div class="line"><span class="lineno"> 1719</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6955582851bf520ecd5a963182002c3c">merge_contact_layers</a>(m_slicing_params, m_support_params.support_layer_height_min, contact_out);</div>
<div class="line"><span class="lineno"> 1720</span> </div>
<div class="line"><span class="lineno"> 1721</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::top_contact_layers() in parallel - end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1722</span> </div>
<div class="line"><span class="lineno"> 1723</span>    <span class="keywordflow">return</span> contact_out;</div>
<div class="line"><span class="lineno"> 1724</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_support_material_html_a3c0106d9d58b8f72d32794b42cc76b0f"><div class="ttname"><a href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a3c0106d9d58b8f72d32794b42cc76b0f">Slic3r::PrintObjectSupportMaterial::has_raft</a></div><div class="ttdeci">bool has_raft() const</div><div class="ttdef"><b>Definition</b> SupportMaterial.hpp:25</div></div>
<div class="ttc" id="agetopt_8c_html_a2c212835823e3c54a8ab6d95c652660e"><div class="ttname"><a href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></div><div class="ttdeci">#define const</div><div class="ttdef"><b>Definition</b> getopt.c:38</div></div>
<div class="ttc" id="anamespace_slic3r_html_a39c7790294ad69a9b2e17f45f711463f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a39c7790294ad69a9b2e17f45f711463f">Slic3r::detect_overhangs</a></div><div class="ttdeci">static std::tuple&lt; Polygons, Polygons, Polygons, float &gt; detect_overhangs(const Layer &amp;layer, const size_t layer_id, const Polygons &amp;lower_layer_polygons, const PrintConfig &amp;print_config, const PrintObjectConfig &amp;object_config, SupportAnnotations &amp;annotations, SlicesMarginCache &amp;slices_margin, const double gap_xy)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1117</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6955582851bf520ecd5a963182002c3c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6955582851bf520ecd5a963182002c3c">Slic3r::merge_contact_layers</a></div><div class="ttdeci">static void merge_contact_layers(const SlicingParameters &amp;slicing_params, double support_layer_height_min, SupportGeneratorLayersPtr &amp;layers)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1597</div></div>
<div class="ttc" id="anamespace_slic3r_html_a739c808318e457ee17e40b8408d344fa"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a739c808318e457ee17e40b8408d344fa">Slic3r::fill_contact_layer</a></div><div class="ttdeci">static void fill_contact_layer(SupportGeneratorLayer &amp;new_layer, size_t layer_id, const SlicingParameters &amp;slicing_params, const PrintObjectConfig &amp;object_config, const SlicesMarginCache &amp;slices_margin, const Polygons &amp;overhang_polygons, const Polygons &amp;contact_polygons, const Polygons &amp;enforcer_polygons, const Polygons &amp;lower_layer_polygons, const Flow &amp;support_material_flow, float no_interface_offset)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1444</div></div>
<div class="ttc" id="anamespace_slic3r_html_a843ba2fe16b213f550fb3d55c55a716e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">Slic3r::to_polygons</a></div><div class="ttdeci">Polygons to_polygons(const ExPolygon &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:281</div></div>
<div class="ttc" id="anamespace_slic3r_html_aaea096e5f48dc58b390aa7b72f2a02bc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aaea096e5f48dc58b390aa7b72f2a02bc">Slic3r::remove_nulls</a></div><div class="ttdeci">void remove_nulls(std::vector&lt; T * &gt; &amp;vec)</div><div class="ttdef"><b>Definition</b> libslic3r.h:180</div></div>
<div class="ttc" id="anamespace_slic3r_html_af44aa08ac7494411caff4018b8922121"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#af44aa08ac7494411caff4018b8922121">Slic3r::new_contact_layer</a></div><div class="ttdeci">static std::pair&lt; SupportGeneratorLayer *, SupportGeneratorLayer * &gt; new_contact_layer(const PrintConfig &amp;print_config, const PrintObjectConfig &amp;object_config, const SlicingParameters &amp;slicing_params, const coordf_t support_layer_height_min, const Layer &amp;layer, SupportGeneratorLayerStorage &amp;layer_storage)</div><div class="ttdef"><b>Definition</b> SupportMaterial.cpp:1354</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01117">Slic3r::detect_overhangs()</a>, <a class="el" href="../../#l01444">Slic3r::fill_contact_layer()</a>, <a class="el" href="../../#l01597">Slic3r::merge_contact_layers()</a>, <a class="el" href="../../#l01354">Slic3r::new_contact_layer()</a>, <a class="el" href="../../#l00356">Slic3r::range()</a>, <a class="el" href="../../#l00180">Slic3r::remove_nulls()</a>, and <a class="el" href="../../#l00281">Slic3r::to_polygons()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a3fccb369feffc935791c53edcc68a785_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_a3fccb369feffc935791c53edcc68a785_icgraph.svg" width="602" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abc64dd344135d767c15df857f1f3bec2" name="abc64dd344135d767c15df857f1f3bec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc64dd344135d767c15df857f1f3bec2">&#9670;&#160;</a></span>trim_support_layers_by_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PrintObjectSupportMaterial::trim_support_layers_by_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>support_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>gap_extra_above</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>gap_extra_below</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a2ac5c755948c74f5f5f975acd5057fe9">coordf_t</a>&#160;</td>
          <td class="paramname"><em>gap_xy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2451</span>{</div>
<div class="line"><span class="lineno"> 2452</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> gap_xy_scaled = float(<a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(gap_xy));</div>
<div class="line"><span class="lineno"> 2453</span> </div>
<div class="line"><span class="lineno"> 2454</span>    <span class="comment">// Collect non-empty layers to be processed in parallel.</span></div>
<div class="line"><span class="lineno"> 2455</span>    <span class="comment">// This is a good idea as pulling a thread from a thread pool for an empty task is expensive.</span></div>
<div class="line"><span class="lineno"> 2456</span>    <a class="code hl_typedef" href="../../d1/dd8/namespace_slic3r_1_1_f_f_f_support.html#a9f779e7589bece4b83a5376a95769db3">SupportGeneratorLayersPtr</a> nonempty_layers;</div>
<div class="line"><span class="lineno"> 2457</span>    nonempty_layers.reserve(support_layers.size());</div>
<div class="line"><span class="lineno"> 2458</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx_layer = 0; idx_layer &lt; support_layers.size(); ++ idx_layer) {</div>
<div class="line"><span class="lineno"> 2459</span>        <a class="code hl_class" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html">SupportGeneratorLayer</a> *support_layer = support_layers[idx_layer];</div>
<div class="line"><span class="lineno"> 2460</span>        <span class="keywordflow">if</span> (! support_layer-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a64dbe7e0b43bf07bd7caaadc1ad6d4a5">polygons</a>.empty() &amp;&amp; support_layer-&gt;<a class="code hl_variable" href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a81425a80008a6abab8e4796be7c002b3">print_z</a> &gt;= <a class="code hl_variable" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#a1cf6e843045184c2a71e988868e29952">m_slicing_params</a>.<a class="code hl_variable" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae716f6f022aa86c9be6a7f05717c5287">raft_contact_top_z</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>)</div>
<div class="line"><span class="lineno"> 2461</span>            <span class="comment">// Non-empty support layer and not a raft layer.</span></div>
<div class="line"><span class="lineno"> 2462</span>            nonempty_layers.push_back(support_layer);</div>
<div class="line"><span class="lineno"> 2463</span>    }</div>
<div class="line"><span class="lineno"> 2464</span> </div>
<div class="line"><span class="lineno"> 2465</span>    <span class="comment">// For all intermediate support layers:</span></div>
<div class="line"><span class="lineno"> 2466</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::trim_support_layers_by_object() in parallel - start&quot;</span>;</div>
<div class="line"><span class="lineno"> 2467</span>    tbb::parallel_for(</div>
<div class="line"><span class="lineno"> 2468</span>        tbb::blocked_range&lt;size_t&gt;(0, nonempty_layers.size()),</div>
<div class="line"><span class="lineno"> 2469</span>        [<span class="keyword">this</span>, &amp;<span class="keywordtype">object</span>, &amp;nonempty_layers, gap_extra_above, gap_extra_below, gap_xy_scaled](<span class="keyword">const</span> tbb::blocked_range&lt;size_t&gt;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>) {</div>
<div class="line"><span class="lineno"> 2470</span>            size_t idx_object_layer_overlapping = size_t(-1);</div>
<div class="line"><span class="lineno"> 2471</span>            for (size_t idx_layer = range.begin(); idx_layer &lt; range.end(); ++ idx_layer) {</div>
<div class="line"><span class="lineno"> 2472</span>                SupportGeneratorLayer &amp;support_layer = *nonempty_layers[idx_layer];</div>
<div class="line"><span class="lineno"> 2473</span>                <span class="comment">// BOOST_LOG_TRIVIAL(trace) &lt;&lt; &quot;Support generator - trim_support_layers_by_object - trimmming non-empty layer &quot; &lt;&lt; idx_layer &lt;&lt; &quot; of &quot; &lt;&lt; nonempty_layers.size();</span></div>
<div class="line"><span class="lineno"> 2474</span>                assert(! support_layer.polygons.empty() &amp;&amp; support_layer.print_z &gt;= m_slicing_params.raft_contact_top_z + EPSILON);</div>
<div class="line"><span class="lineno"> 2475</span>                <span class="comment">// Find the overlapping object layers including the extra above / below gap.</span></div>
<div class="line"><span class="lineno"> 2476</span>                coordf_t z_threshold = support_layer.bottom_print_z() - gap_extra_below + EPSILON;</div>
<div class="line"><span class="lineno"> 2477</span>                idx_object_layer_overlapping = idx_higher_or_equal(</div>
<div class="line"><span class="lineno"> 2478</span>                    object.layers().begin(), object.layers().end(), idx_object_layer_overlapping,</div>
<div class="line"><span class="lineno"> 2479</span>                    [z_threshold](const Layer *layer){ return layer-&gt;print_z &gt;= z_threshold; });</div>
<div class="line"><span class="lineno"> 2480</span>                <span class="comment">// Collect all the object layers intersecting with this layer.</span></div>
<div class="line"><span class="lineno"> 2481</span>                Polygons polygons_trimming;</div>
<div class="line"><span class="lineno"> 2482</span>                size_t i = idx_object_layer_overlapping;</div>
<div class="line"><span class="lineno"> 2483</span>                for (; i &lt; object.layers().size(); ++ i) {</div>
<div class="line"><span class="lineno"> 2484</span>                    const Layer &amp;object_layer = *object.layers()[i];</div>
<div class="line"><span class="lineno"> 2485</span>                    if (object_layer.bottom_z() &gt; support_layer.print_z + gap_extra_above - EPSILON)</div>
<div class="line"><span class="lineno"> 2486</span>                        break;</div>
<div class="line"><span class="lineno"> 2487</span>                    polygons_append(polygons_trimming, offset(object_layer.lslices, gap_xy_scaled, SUPPORT_SURFACES_OFFSET_PARAMETERS));</div>
<div class="line"><span class="lineno"> 2488</span>                }</div>
<div class="line"><span class="lineno"> 2489</span>                if (! m_slicing_params.soluble_interface &amp;&amp; m_object_config-&gt;thick_bridges) {</div>
<div class="line"><span class="lineno"> 2490</span>                    <span class="comment">// Collect all bottom surfaces, which will be extruded with a bridging flow.</span></div>
<div class="line"><span class="lineno"> 2491</span>                    for (; i &lt; object.layers().size(); ++ i) {</div>
<div class="line"><span class="lineno"> 2492</span>                        const Layer &amp;object_layer = *object.layers()[i];</div>
<div class="line"><span class="lineno"> 2493</span>                        bool some_region_overlaps = false;</div>
<div class="line"><span class="lineno"> 2494</span>                        for (LayerRegion *region : object_layer.regions()) {</div>
<div class="line"><span class="lineno"> 2495</span>                            coordf_t bridging_height = region-&gt;region().bridging_height_avg(*m_print_config);</div>
<div class="line"><span class="lineno"> 2496</span>                            if (object_layer.print_z - bridging_height &gt; support_layer.print_z + gap_extra_above - EPSILON)</div>
<div class="line"><span class="lineno"> 2497</span>                                break;</div>
<div class="line"><span class="lineno"> 2498</span>                            some_region_overlaps = true;</div>
<div class="line"><span class="lineno"> 2499</span>                            polygons_append(polygons_trimming, </div>
<div class="line"><span class="lineno"> 2500</span>                                offset(region-&gt;fill_surfaces().filter_by_type(stBottomBridge), gap_xy_scaled, SUPPORT_SURFACES_OFFSET_PARAMETERS));</div>
<div class="line"><span class="lineno"> 2501</span>                            if (region-&gt;region().config().overhangs.value)</div>
<div class="line"><span class="lineno"> 2502</span>                                <span class="comment">// Add bridging perimeters.</span></div>
<div class="line"><span class="lineno"> 2503</span>                                SupportMaterialInternal::collect_bridging_perimeter_areas(region-&gt;perimeters(), gap_xy_scaled, polygons_trimming);</div>
<div class="line"><span class="lineno"> 2504</span>                        }</div>
<div class="line"><span class="lineno"> 2505</span>                        if (! some_region_overlaps)</div>
<div class="line"><span class="lineno"> 2506</span>                            break;</div>
<div class="line"><span class="lineno"> 2507</span>                    }</div>
<div class="line"><span class="lineno"> 2508</span>                }</div>
<div class="line"><span class="lineno"> 2509</span>                <span class="comment">// $layer-&gt;slices contains the full shape of layer, thus including</span></div>
<div class="line"><span class="lineno"> 2510</span>                <span class="comment">// perimeter&#39;s width. $support contains the full shape of support</span></div>
<div class="line"><span class="lineno"> 2511</span>                <span class="comment">// material, thus including the width of its foremost extrusion.</span></div>
<div class="line"><span class="lineno"> 2512</span>                <span class="comment">// We leave a gap equal to a full extrusion width.</span></div>
<div class="line"><span class="lineno"> 2513</span>                support_layer.polygons = diff(support_layer.polygons, polygons_trimming);</div>
<div class="line"><span class="lineno"> 2514</span>            }</div>
<div class="line"><span class="lineno"> 2515</span>        });</div>
<div class="line"><span class="lineno"> 2516</span>    BOOST_LOG_TRIVIAL(debug) &lt;&lt; <span class="stringliteral">&quot;PrintObjectSupportMaterial::trim_support_layers_by_object() in parallel - end&quot;</span>;</div>
<div class="line"><span class="lineno"> 2517</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_f_f_f_support_1_1_support_generator_layer_html_a64dbe7e0b43bf07bd7caaadc1ad6d4a5"><div class="ttname"><a href="../../df/dd3/class_slic3r_1_1_f_f_f_support_1_1_support_generator_layer.html#a64dbe7e0b43bf07bd7caaadc1ad6d4a5">Slic3r::FFFSupport::SupportGeneratorLayer::polygons</a></div><div class="ttdeci">Polygons polygons</div><div class="ttdef"><b>Definition</b> SupportLayer.hpp:107</div></div>
<div class="ttc" id="astruct_slic3r_1_1_slicing_parameters_html_ae716f6f022aa86c9be6a7f05717c5287"><div class="ttname"><a href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html#ae716f6f022aa86c9be6a7f05717c5287">Slic3r::SlicingParameters::raft_contact_top_z</a></div><div class="ttdeci">coordf_t raft_contact_top_z</div><div class="ttdef"><b>Definition</b> Slicing.hpp:95</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00107">Slic3r::FFFSupport::SupportGeneratorLayer::polygons</a>, <a class="el" href="../../#l00091">Slic3r::FFFSupport::SupportGeneratorLayer::print_z</a>, <a class="el" href="../../#l00356">Slic3r::range()</a>, and <a class="el" href="../../#l00069">scale_</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_abc64dd344135d767c15df857f1f3bec2_cgraph.svg" width="326" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_abc64dd344135d767c15df857f1f3bec2_icgraph.svg" width="588" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af66c8b33882cbab77e7106f13ccb5e86" name="af66c8b33882cbab77e7106f13ccb5e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66c8b33882cbab77e7106f13ccb5e86">&#9670;&#160;</a></span>trim_top_contacts_by_bottom_contacts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::PrintObjectSupportMaterial::trim_top_contacts_by_bottom_contacts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>bottom_contacts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#aa380e5f0b093e49c3b1df7da590d54a6">SupportGeneratorLayersPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>top_contacts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2079</span>{</div>
<div class="line"><span class="lineno"> 2080</span>    tbb::parallel_for(tbb::blocked_range&lt;int&gt;(0, <span class="keywordtype">int</span>(top_contacts.size())),</div>
<div class="line"><span class="lineno"> 2081</span>        [&amp;bottom_contacts, &amp;top_contacts](<span class="keyword">const</span> tbb::blocked_range&lt;int&gt;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>) {</div>
<div class="line"><span class="lineno"> 2082</span>            int idx_bottom_overlapping_first = -2;</div>
<div class="line"><span class="lineno"> 2083</span>            <span class="comment">// For all top contact layers, counting downwards due to the way idx_higher_or_equal caches the last index to avoid repeated binary search.</span></div>
<div class="line"><span class="lineno"> 2084</span>            for (int idx_top = range.end() - 1; idx_top &gt;= range.begin(); -- idx_top) {</div>
<div class="line"><span class="lineno"> 2085</span>                SupportGeneratorLayer &amp;layer_top = *top_contacts[idx_top];</div>
<div class="line"><span class="lineno"> 2086</span>                <span class="comment">// Find the first bottom layer overlapping with layer_top.</span></div>
<div class="line"><span class="lineno"> 2087</span>                idx_bottom_overlapping_first = idx_lower_or_equal(bottom_contacts, idx_bottom_overlapping_first, [&amp;layer_top](const SupportGeneratorLayer *layer_bottom){ return layer_bottom-&gt;bottom_print_z() - EPSILON &lt;= layer_top.bottom_z; });</div>
<div class="line"><span class="lineno"> 2088</span>                <span class="comment">// For all top contact layers overlapping with the thick bottom contact layer:</span></div>
<div class="line"><span class="lineno"> 2089</span>                for (int idx_bottom_overlapping = idx_bottom_overlapping_first; idx_bottom_overlapping &gt;= 0; -- idx_bottom_overlapping) {</div>
<div class="line"><span class="lineno"> 2090</span>                    const SupportGeneratorLayer &amp;layer_bottom = *bottom_contacts[idx_bottom_overlapping];</div>
<div class="line"><span class="lineno"> 2091</span>                    assert(layer_bottom.bottom_print_z() - EPSILON &lt;= layer_top.bottom_z);</div>
<div class="line"><span class="lineno"> 2092</span>                    if (layer_top.print_z &lt; layer_bottom.print_z + EPSILON) {</div>
<div class="line"><span class="lineno"> 2093</span>                        <span class="comment">// Layers overlap. Trim layer_top with layer_bottom.</span></div>
<div class="line"><span class="lineno"> 2094</span>                        layer_top.polygons = diff(layer_top.polygons, layer_bottom.polygons);</div>
<div class="line"><span class="lineno"> 2095</span>                    } else</div>
<div class="line"><span class="lineno"> 2096</span>                        break;</div>
<div class="line"><span class="lineno"> 2097</span>                }</div>
<div class="line"><span class="lineno"> 2098</span>            }</div>
<div class="line"><span class="lineno"> 2099</span>        });</div>
<div class="line"><span class="lineno"> 2100</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00356">Slic3r::range()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_af66c8b33882cbab77e7106f13ccb5e86_cgraph.svg" width="332" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d2/d8a/class_slic3r_1_1_print_object_support_material_af66c8b33882cbab77e7106f13ccb5e86_icgraph.svg" width="595" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a66f5a649e3f3bfc65624d776dd55fb1e" name="a66f5a649e3f3bfc65624d776dd55fb1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f5a649e3f3bfc65624d776dd55fb1e">&#9670;&#160;</a></span>m_object_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a341d40f47c645aae18d24a020fd3c01c">PrintObjectConfig</a>* Slic3r::PrintObjectSupportMaterial::m_object_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00028">build_plate_only()</a>, <a class="el" href="../../#l00239">generate()</a>, <a class="el" href="../../#l00031">has_contact_loops()</a>, <a class="el" href="../../#l00027">has_support()</a>, and <a class="el" href="../../#l00030">synchronize_layers()</a>.</p>

</div>
</div>
<a id="a0b59238962f758fd90553b0fca5ca1a7" name="a0b59238962f758fd90553b0fca5ca1a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b59238962f758fd90553b0fca5ca1a7">&#9670;&#160;</a></span>m_print_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> PrintConfig* Slic3r::PrintObjectSupportMaterial::m_print_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1cf6e843045184c2a71e988868e29952" name="a1cf6e843045184c2a71e988868e29952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf6e843045184c2a71e988868e29952">&#9670;&#160;</a></span>m_slicing_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d2b/struct_slic3r_1_1_slicing_parameters.html">SlicingParameters</a> Slic3r::PrintObjectSupportMaterial::m_slicing_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>, <a class="el" href="../../#l00025">has_raft()</a>, and <a class="el" href="../../#l00030">synchronize_layers()</a>.</p>

</div>
</div>
<a id="ad575fc4e535f65accbc7711e21384264" name="ad575fc4e535f65accbc7711e21384264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad575fc4e535f65accbc7711e21384264">&#9670;&#160;</a></span>m_support_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html#ae7e4379bca66f5ba1d22b8a63de9e2e1">SupportParameters</a> Slic3r::PrintObjectSupportMaterial::m_support_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00239">generate()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/Support/<a class="el" href="../../">SupportMaterial.hpp</a></li>
<li>src/libslic3r/Support/<a class="el" href="../../">SupportMaterial.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../d2/d8a/class_slic3r_1_1_print_object_support_material.html">PrintObjectSupportMaterial</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
