<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: src/avrdude/stk500v2.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d12/stk500v2_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">stk500v2.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../">ac_cfg.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../">unistd.h</a>&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../">avrdude.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">libavrdude.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">stk500_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">stk500v2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">stk500v2_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">usbdevs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">jtagmkII.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">jtagmkII_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">jtag3.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">jtag3_private.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for stk500v2.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../da/d34/stk500v2_8c__incl.svg" width="100%" height="493"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d8/da6/structcarddata"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a></td></tr>
<tr class="separator:d8/da6/structcarddata"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:db/dfc/structjtagispentry"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#db/dfc/structjtagispentry">jtagispentry</a></td></tr>
<tr class="separator:db/dfc/structjtagispentry"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9d0b821094ee4d7e49677712f85e3700"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a9d0b821094ee4d7e49677712f85e3700">JTAGMKII_PRIVATE_EXPORTED</a></td></tr>
<tr class="separator:a9d0b821094ee4d7e49677712f85e3700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab619cec77e16bfb3673967074b8baa80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ab619cec77e16bfb3673967074b8baa80">JTAG3_PRIVATE_EXPORTED</a></td></tr>
<tr class="separator:ab619cec77e16bfb3673967074b8baa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6ddcd79c5159629da1638da7d21d20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a>&#160;&#160;&#160;7372800U</td></tr>
<tr class="separator:add6ddcd79c5159629da1638da7d21d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d7a9868042677db691b7dd12a38b8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#af8d7a9868042677db691b7dd12a38b8e">SERIAL_TIMEOUT</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:af8d7a9868042677db691b7dd12a38b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7200ac983292fc63d6ccbbad26397a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac7200ac983292fc63d6ccbbad26397a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dd473db0b3d10bd43390cdacb00120"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(...)</td></tr>
<tr class="separator:a96dd473db0b3d10bd43390cdacb00120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb00d13e44a1d6d92d0c1d22166710df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(...)</td></tr>
<tr class="separator:afb00d13e44a1d6d92d0c1d22166710df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee902f4e72c2cd5b500d8f578f301ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)&#160;&#160;&#160;((struct <a class="el" href="../../d0/d63/structpdata.html">pdata</a> *)(<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;cookie))</td></tr>
<tr class="separator:a3ee902f4e72c2cd5b500d8f578f301ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0648f40b1a80eb49856524a630697d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aff0648f40b1a80eb49856524a630697d">SZ_READ_FLASH_EE</a>&#160;&#160;&#160;USHRT_MAX</td></tr>
<tr class="separator:aff0648f40b1a80eb49856524a630697d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefb0628870b4af94a36529b0bcf4ec1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#abefb0628870b4af94a36529b0bcf4ec1">SZ_SPI_MULTI</a>&#160;&#160;&#160;(USHRT_MAX - 1)</td></tr>
<tr class="separator:abefb0628870b4af94a36529b0bcf4ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adac7845226fb7811dd3b3a03259d2361"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> { <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>
, <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>
 }</td></tr>
<tr class="separator:adac7845226fb7811dd3b3a03259d2361"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a94ee9de93b67ac9ac41dc6217dd62627"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char parm, unsigned char *value)</td></tr>
<tr class="separator:a94ee9de93b67ac9ac41dc6217dd62627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac857a1e8d4dae82adf860fe224fa426d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char parm, unsigned char value)</td></tr>
<tr class="separator:ac857a1e8d4dae82adf860fe224fa426d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2350c80031806d161f1159bc08ab6dfa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char parm, unsigned int *value)</td></tr>
<tr class="separator:a2350c80031806d161f1159bc08ab6dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673a23545d48a3e48d54e6d249fc926b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char parm, unsigned int value)</td></tr>
<tr class="separator:a673a23545d48a3e48d54e6d249fc926b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2192c55d93eb96256f6077e5320544b3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a2192c55d93eb96256f6077e5320544b3">stk500v2_setparm_real</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char parm, unsigned char value)</td></tr>
<tr class="separator:a2192c55d93eb96256f6077e5320544b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac787ec4dd5f41d469b55cc85aa383abd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ac787ec4dd5f41d469b55cc85aa383abd">stk500v2_print_parms1</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *p)</td></tr>
<tr class="separator:ac787ec4dd5f41d469b55cc85aa383abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d939c7598902be8862c7ab886e80b38"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:a5d939c7598902be8862c7ab886e80b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1f9e8bbecf73ff68ddc8ab3788a7ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:add1f9e8bbecf73ff68ddc8ab3788a7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39116cb98b0706f3f92a4a6faf89226c"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a39116cb98b0706f3f92a4a6faf89226c">stk500v2_mode_for_pagesize</a> (unsigned int pagesize)</td></tr>
<tr class="separator:a39116cb98b0706f3f92a4a6faf89226c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2918280ef3fd7842c678ba309ad2e57c"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a2918280ef3fd7842c678ba309ad2e57c">stk500v2_sck_to_us</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char dur)</td></tr>
<tr class="separator:a2918280ef3fd7842c678ba309ad2e57c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0a1a7ecbfcda9c66e197b030af30f3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a6a0a1a7ecbfcda9c66e197b030af30f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ffd7c3f0c88a91bb674e661c3ab14f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:ad6ffd7c3f0c88a91bb674e661c3ab14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1eb402e5598f00bc9705009d350904"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a4f1eb402e5598f00bc9705009d350904">stk600_setup_xprog</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a4f1eb402e5598f00bc9705009d350904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957316884e0ac5cbef8f1dd190518dd8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a957316884e0ac5cbef8f1dd190518dd8">stk600_setup_isp</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a957316884e0ac5cbef8f1dd190518dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295e099fb0a86c37136cf410a6e58f1a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a295e099fb0a86c37136cf410a6e58f1a">stk600_xprog_program_enable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a295e099fb0a86c37136cf410a6e58f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c79486fe233e30d482e7dc145a21c4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a6c79486fe233e30d482e7dc145a21c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae552fcdd1160d33954858fd5c255657c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ae552fcdd1160d33954858fd5c255657c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bb5b14325928f507f9c96f5a55033a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a10bb5b14325928f507f9c96f5a55033a">stk500v2_jtag3_setup</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a10bb5b14325928f507f9c96f5a55033a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d6d4a065ab2901f068aae763d3a3f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ae5d6d4a065ab2901f068aae763d3a3f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4a60d93e361634b5b5474e1d154103"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:afa4a60d93e361634b5b5474e1d154103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773ea7451e3e940c9d8afb6b9f931f4d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a773ea7451e3e940c9d8afb6b9f931f4d">stk500v2_jtag3_teardown</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a773ea7451e3e940c9d8afb6b9f931f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b320aa0f79cfb3e70b9174063c7fc2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a25b320aa0f79cfb3e70b9174063c7fc2">stk500v2_send_mk2</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *data, size_t len)</td></tr>
<tr class="separator:a25b320aa0f79cfb3e70b9174063c7fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6798e90b37755b38064757fd02063c5c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a6798e90b37755b38064757fd02063c5c">stk500v2_jtagmkII_send</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *data, size_t len)</td></tr>
<tr class="separator:a6798e90b37755b38064757fd02063c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfeca4e918f67c510bb1cf54184ab55e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#adfeca4e918f67c510bb1cf54184ab55e">stk500v2_jtag3_send</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *data, size_t len)</td></tr>
<tr class="separator:adfeca4e918f67c510bb1cf54184ab55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8266ad2201e09606ed54b65f6db872"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a1f8266ad2201e09606ed54b65f6db872">stk500v2_send</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *data, size_t len)</td></tr>
<tr class="separator:a1f8266ad2201e09606ed54b65f6db872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211093bc7f76b415d984f6d2b9f3884f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, int display)</td></tr>
<tr class="separator:a211093bc7f76b415d984f6d2b9f3884f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846d441ffc8df4a8d08d17c5f842962f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a846d441ffc8df4a8d08d17c5f842962f">stk500v2_recv_mk2</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *msg, size_t maxsize)</td></tr>
<tr class="separator:a846d441ffc8df4a8d08d17c5f842962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5a89e17e6d6be91df10596a0ee64fb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#abb5a89e17e6d6be91df10596a0ee64fb">stk500v2_jtagmkII_recv</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *msg, size_t maxsize)</td></tr>
<tr class="separator:abb5a89e17e6d6be91df10596a0ee64fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae344676760f23d49cb0d086a4e3c5e89"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae344676760f23d49cb0d086a4e3c5e89">stk500v2_jtag3_recv</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *msg, size_t maxsize)</td></tr>
<tr class="separator:ae344676760f23d49cb0d086a4e3c5e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde730659f26cf880986235970003b2e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afde730659f26cf880986235970003b2e">stk500v2_recv</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *msg, size_t maxsize)</td></tr>
<tr class="separator:afde730659f26cf880986235970003b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c65811e2b906244f8278205f6567191"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a0c65811e2b906244f8278205f6567191">stk500v2_getsync</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a0c65811e2b906244f8278205f6567191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb7c2e6a6df9a5f5bcc5575dffb0c93"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *buf, size_t len, size_t maxlen)</td></tr>
<tr class="separator:a8bb7c2e6a6df9a5f5bcc5575dffb0c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50215d5d75e0dad23582c3bed748cdc6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *<a class="el" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>, unsigned char *res)</td></tr>
<tr class="separator:a50215d5d75e0dad23582c3bed748cdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f392417b44451c4c32a162fac0fe50"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a94f392417b44451c4c32a162fac0fe50">stk500v2_jtag3_cmd</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *<a class="el" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>, unsigned char *res)</td></tr>
<tr class="separator:a94f392417b44451c4c32a162fac0fe50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace36659adc57139c6922be5cd3f73250"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:ace36659adc57139c6922be5cd3f73250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf7c0ab77d04527d8f283aaf6fdb8c8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#addf7c0ab77d04527d8f283aaf6fdb8c8">stk500hv_chip_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:addf7c0ab77d04527d8f283aaf6fdb8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e18a8adf7cd4d8193a78a8a47e33cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae8e18a8adf7cd4d8193a78a8a47e33cf">stk500pp_chip_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:ae8e18a8adf7cd4d8193a78a8a47e33cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4adf76d10a8645357344c4df090128e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#af4adf76d10a8645357344c4df090128e">stk500hvsp_chip_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:af4adf76d10a8645357344c4df090128e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8780699df04085107d7069c8f50e82d1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a8780699df04085107d7069c8f50e82d1">stk500v2_translate_conn_status</a> (unsigned char status, char *msg)</td></tr>
<tr class="separator:a8780699df04085107d7069c8f50e82d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad7af644d38e218af2474541f7b0239"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:afad7af644d38e218af2474541f7b0239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e3168fe42269f38b153b83284ac0d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a94e3168fe42269f38b153b83284ac0d1">stk500pp_program_enable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a94e3168fe42269f38b153b83284ac0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3334252dbcd73fd10b3bca365dba7164"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3334252dbcd73fd10b3bca365dba7164">stk500hvsp_program_enable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a3334252dbcd73fd10b3bca365dba7164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54506ae507321252bad19bed9a9416a3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a54506ae507321252bad19bed9a9416a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b906b8530460637adefbfd6a72b96f0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a0b906b8530460637adefbfd6a72b96f0">stk500v2_jtag3_initialize</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a0b906b8530460637adefbfd6a72b96f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01fa3510bb6ffe95e2ec362040beb65"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ad01fa3510bb6ffe95e2ec362040beb65">stk500hv_initialize</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:ad01fa3510bb6ffe95e2ec362040beb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc3bbbd71b7574021b1fc3aef2a746b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a4dc3bbbd71b7574021b1fc3aef2a746b">stk500pp_initialize</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a4dc3bbbd71b7574021b1fc3aef2a746b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0abec32479b44383e065453bac2fc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afa0abec32479b44383e065453bac2fc8">stk500hvsp_initialize</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:afa0abec32479b44383e065453bac2fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab199443d462649449802f0cc3cb4c7f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ab199443d462649449802f0cc3cb4c7f5">stk500v2_jtag3_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ab199443d462649449802f0cc3cb4c7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e878cf1728bc746fee4165b33aeed33"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a3e878cf1728bc746fee4165b33aeed33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105fc857838e681626a415ec6df663dc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a105fc857838e681626a415ec6df663dc">stk500hv_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:a105fc857838e681626a415ec6df663dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab794cfa0f83797393455ab017b8b8e0a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ab794cfa0f83797393455ab017b8b8e0a">stk500pp_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ab794cfa0f83797393455ab017b8b8e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8021345ebff90ad52b757ed9dd306775"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a8021345ebff90ad52b757ed9dd306775">stk500hvsp_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a8021345ebff90ad52b757ed9dd306775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b95e118ea7b94e35892427c5017019c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a7b95e118ea7b94e35892427c5017019c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243d065860071d9f70f7140caf9c93c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a243d065860071d9f70f7140caf9c93c9">stk500v2_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:a243d065860071d9f70f7140caf9c93c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8d7cb2ab91d7c5e739f94218bbaee5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#abc8d7cb2ab91d7c5e739f94218bbaee5">stk600_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:abc8d7cb2ab91d7c5e739f94218bbaee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d3188b2eddd4acdb67cd6f11ea8ae5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a03d3188b2eddd4acdb67cd6f11ea8ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b208b49d476cfe95ca899a98f4400f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned int addr)</td></tr>
<tr class="separator:a81b208b49d476cfe95ca899a98f4400f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae540fe448dc835113053b4e557ceb02c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae540fe448dc835113053b4e557ceb02c">stk500hv_read_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char *value, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:ae540fe448dc835113053b4e557ceb02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024bcdd99e70c9ea38546b6bcb03bd2c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a024bcdd99e70c9ea38546b6bcb03bd2c">stk500pp_read_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char *value)</td></tr>
<tr class="separator:a024bcdd99e70c9ea38546b6bcb03bd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372b1145433b6eca34aae30931ea51de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a372b1145433b6eca34aae30931ea51de">stk500hvsp_read_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char *value)</td></tr>
<tr class="separator:a372b1145433b6eca34aae30931ea51de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3eee9d9400e08067da3754f2fcf9f2e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char *value)</td></tr>
<tr class="separator:aa3eee9d9400e08067da3754f2fcf9f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb560ef255d6e647623e64bbce92b369"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#abb560ef255d6e647623e64bbce92b369">stk500hv_write_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char data, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:abb560ef255d6e647623e64bbce92b369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accce3d8363d2f16d16cee92de1f82f3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#accce3d8363d2f16d16cee92de1f82f3b">stk500pp_write_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char data)</td></tr>
<tr class="separator:accce3d8363d2f16d16cee92de1f82f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4424032eca15d81331cb9d56b505ff81"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a4424032eca15d81331cb9d56b505ff81">stk500hvsp_write_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char data)</td></tr>
<tr class="separator:a4424032eca15d81331cb9d56b505ff81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635e1cc6cb2679b3eb01c50b9fe635c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char data)</td></tr>
<tr class="separator:a635e1cc6cb2679b3eb01c50b9fe635c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c7933b5868c4be23063b03cc483ee4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a66c7933b5868c4be23063b03cc483ee4">stk500hv_paged_write</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:a66c7933b5868c4be23063b03cc483ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28125f5423762e176817c11e014e1898"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a28125f5423762e176817c11e014e1898">stk500pp_paged_write</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:a28125f5423762e176817c11e014e1898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa988b090ca3c21e80e5ee9840a202270"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa988b090ca3c21e80e5ee9840a202270">stk500hvsp_paged_write</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:aa988b090ca3c21e80e5ee9840a202270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a56734bbbc3dd473b96f15b6c97e25"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa6a56734bbbc3dd473b96f15b6c97e25">stk500hv_paged_load</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes, enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a> mode)</td></tr>
<tr class="separator:aa6a56734bbbc3dd473b96f15b6c97e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4b3bb68138a747696a78e4585f424f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a0a4b3bb68138a747696a78e4585f424f">stk500pp_paged_load</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:a0a4b3bb68138a747696a78e4585f424f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ed412645f5aa937520725fd16b69fc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a96ed412645f5aa937520725fd16b69fc">stk500hvsp_paged_load</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:a96ed412645f5aa937520725fd16b69fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28a54649377f2d02df8245ccd23e0498"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int addr)</td></tr>
<tr class="separator:a28a54649377f2d02df8245ccd23e0498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa968e166a3556d3ab3fc0c7bd8ef96e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:aa968e166a3556d3ab3fc0c7bd8ef96e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4ef5c83cc64542af42cd4ffa1d1062"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned int chan, double v)</td></tr>
<tr class="separator:a5e4ef5c83cc64542af42cd4ffa1d1062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471fbd95924ed56417a08dc8375bf4df"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a471fbd95924ed56417a08dc8375bf4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520221b86d058c8694efa7c34cf902ee"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a520221b86d058c8694efa7c34cf902ee">stk500v2_set_sck_period</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a520221b86d058c8694efa7c34cf902ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4aaeb6ed0c785ed06322bb48cdbdf9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a9a4aaeb6ed0c785ed06322bb48cdbdf9">stk600_set_vtarget</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a9a4aaeb6ed0c785ed06322bb48cdbdf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1210deb4294dcb8cc2eae2141af688"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a9d1210deb4294dcb8cc2eae2141af688">stk600_set_varef</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned int chan, double v)</td></tr>
<tr class="separator:a9d1210deb4294dcb8cc2eae2141af688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8935c7ba5d2a1e5b6fc08bd4c071cc77"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a8935c7ba5d2a1e5b6fc08bd4c071cc77">stk600_set_fosc</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a8935c7ba5d2a1e5b6fc08bd4c071cc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b45f69d699bcbaefc8e1c6537334c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a57b45f69d699bcbaefc8e1c6537334c5">stk500v2_jtag3_set_sck_period</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, double v)</td></tr>
<tr class="separator:a57b45f69d699bcbaefc8e1c6537334c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb94ad4aec74711dfe7335e0f5839d9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a7cb94ad4aec74711dfe7335e0f5839d9">stk600_get_cardname</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a> *table, size_t nele, int id)</td></tr>
<tr class="separator:a7cb94ad4aec74711dfe7335e0f5839d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547b9897987fa0e5eb79c9dad233f340"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *p)</td></tr>
<tr class="separator:a547b9897987fa0e5eb79c9dad233f340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e61b53b0496861a6b9953483ed20a8f"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a0e61b53b0496861a6b9953483ed20a8f">f_to_kHz_MHz</a> (double f, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char **unit)</td></tr>
<tr class="separator:a0e61b53b0496861a6b9953483ed20a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107c0c6cc1f91d5b09cd2c5589f1de0c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a107c0c6cc1f91d5b09cd2c5589f1de0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7713258e55c7d7b429e8d12cf1b5b4b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ab7713258e55c7d7b429e8d12cf1b5b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66486f978ab92ecad8952091d897222"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa66486f978ab92ecad8952091d897222">stk500v2_jtagmkII_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:aa66486f978ab92ecad8952091d897222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa55b65df6f581202d3226a5e4130ab7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:afa55b65df6f581202d3226a5e4130ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af914f22b4281bada5915a7417a9cddb7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#af914f22b4281bada5915a7417a9cddb7">stk500v2_jtag3_close</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:af914f22b4281bada5915a7417a9cddb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd95cb28abd22bf5a4f2c2ad26d587b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a1cd95cb28abd22bf5a4f2c2ad26d587b">stk500v2_dragon_isp_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:a1cd95cb28abd22bf5a4f2c2ad26d587b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa637142418b61dc0b7642d190068e79c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa637142418b61dc0b7642d190068e79c">stk500v2_dragon_hv_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:aa637142418b61dc0b7642d190068e79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a535b54121bd6a0105b78620eeb2eb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a02a535b54121bd6a0105b78620eeb2eb">stk500v2_jtag3_open</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, char *port)</td></tr>
<tr class="separator:a02a535b54121bd6a0105b78620eeb2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b664e34b74d32e4bb62e37cd796687a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned char *b, unsigned int cmdsize, unsigned int responsesize)</td></tr>
<tr class="separator:a6b664e34b74d32e4bb62e37cd796687a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee0819d6989e4c4691c6f3ef7d4524f"><td class="memItemLeft" align="right" valign="top">static unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr)</td></tr>
<tr class="separator:a8ee0819d6989e4c4691c6f3ef7d4524f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb858a557228dc767c206acd00b53f56"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#afb858a557228dc767c206acd00b53f56">stk600_xprog_disable</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:afb858a557228dc767c206acd00b53f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeffbd12d03580b37f3ff06e46424b17"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aaeffbd12d03580b37f3ff06e46424b17">stk600_xprog_write_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char data)</td></tr>
<tr class="separator:aaeffbd12d03580b37f3ff06e46424b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af133090e6d3faa39e9fb6670362f5c02"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#af133090e6d3faa39e9fb6670362f5c02">stk600_xprog_read_byte</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> addr, unsigned char *value)</td></tr>
<tr class="separator:af133090e6d3faa39e9fb6670362f5c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0cd8346f44e9d24de5b11c0f0bdef2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#acb0cd8346f44e9d24de5b11c0f0bdef2">stk600_xprog_paged_load</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:acb0cd8346f44e9d24de5b11c0f0bdef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1bb7f82de8ba0e94898146dc96bc97"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a5f1bb7f82de8ba0e94898146dc96bc97">stk600_xprog_paged_write</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *mem, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</td></tr>
<tr class="separator:a5f1bb7f82de8ba0e94898146dc96bc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6cf17f53b6db1041d5bc891c5156e4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a4e6cf17f53b6db1041d5bc891c5156e4">stk600_xprog_chip_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p)</td></tr>
<tr class="separator:a4e6cf17f53b6db1041d5bc891c5156e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6812afec9a4b4ca82d2b05d38e49da79"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a6812afec9a4b4ca82d2b05d38e49da79">stk600_xprog_page_erase</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *m, unsigned int addr)</td></tr>
<tr class="separator:a6812afec9a4b4ca82d2b05d38e49da79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3788fd25277b0e56feeba93ddf0345"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aea3788fd25277b0e56feeba93ddf0345">stk500v2_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:aea3788fd25277b0e56feeba93ddf0345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6576ef9cca39d65013e08ac1bd9b7f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ac6576ef9cca39d65013e08ac1bd9b7f4">stk500pp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:ac6576ef9cca39d65013e08ac1bd9b7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1692183dbdb01f25b8324283f2a765"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#acc1692183dbdb01f25b8324283f2a765">stk500hvsp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:acc1692183dbdb01f25b8324283f2a765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3392eb552280bd2b97dd30c10898f59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa3392eb552280bd2b97dd30c10898f59">stk500v2_jtagmkII_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:aa3392eb552280bd2b97dd30c10898f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d4cc736e7bc9ff34dc82e7dc6b66bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a30d4cc736e7bc9ff34dc82e7dc6b66bb">stk500v2_dragon_isp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a30d4cc736e7bc9ff34dc82e7dc6b66bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecbe056017fb61ae4264d14b9c2b9ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a9ecbe056017fb61ae4264d14b9c2b9ce">stk500v2_dragon_pp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a9ecbe056017fb61ae4264d14b9c2b9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a91e314fe3f1e4dd753cff5119343f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a2a91e314fe3f1e4dd753cff5119343f6">stk500v2_dragon_hvsp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a2a91e314fe3f1e4dd753cff5119343f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f862d88ff9db1cdd95f2ae21755836"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa8f862d88ff9db1cdd95f2ae21755836">stk600_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:aa8f862d88ff9db1cdd95f2ae21755836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc295844729bb0372d425493ae5b816c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#abc295844729bb0372d425493ae5b816c">stk600pp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:abc295844729bb0372d425493ae5b816c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57cc55a9be2a544f863f1fd4a77257d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a57cc55a9be2a544f863f1fd4a77257d6">stk600hvsp_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a57cc55a9be2a544f863f1fd4a77257d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0696c6baf7d552322e6bc0b98dd880"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3b0696c6baf7d552322e6bc0b98dd880">stk500v2_jtag3_initpgm</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)</td></tr>
<tr class="separator:a3b0696c6baf7d552322e6bc0b98dd880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3869e99ad992b03099cb85f1ed57dc96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3869e99ad992b03099cb85f1ed57dc96">stk500v2_set_upload_size</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, int size)</td></tr>
<tr class="separator:a3869e99ad992b03099cb85f1ed57dc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a31d7c91af713b41cee3be4540ef85b1d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> []</td></tr>
<tr class="separator:a31d7c91af713b41cee3be4540ef85b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa937951d55b1d7caf2c2e4adac4c8cd9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aa937951d55b1d7caf2c2e4adac4c8cd9">routing_cards</a> []</td></tr>
<tr class="separator:aa937951d55b1d7caf2c2e4adac4c8cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd5aa865c45fb85f54d94bc63428a30"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aedd5aa865c45fb85f54d94bc63428a30">socket_cards</a> []</td></tr>
<tr class="separator:aedd5aa865c45fb85f54d94bc63428a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac9e2f22c0c0e8c51082f0734d844cd"><td class="memItemLeft" >struct {&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e842fb7313ddd8378e754a287ac000"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ad1e842fb7313ddd8378e754a287ac000">state</a></td></tr>
<tr class="separator:ad1e842fb7313ddd8378e754a287ac000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b2a615b0b044c67be827b3a53f9ab8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae5b2a615b0b044c67be827b3a53f9ab8">description</a></td></tr>
<tr class="separator:ae5b2a615b0b044c67be827b3a53f9ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac9e2f22c0c0e8c51082f0734d844cd"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a> []&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a0ac9e2f22c0c0e8c51082f0734d844cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33ec7275812a654bab49b26305d1576"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a> []</td></tr>
<tr class="separator:ac33ec7275812a654bab49b26305d1576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3028f4e65af504c1a03da84a564829da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a3028f4e65af504c1a03da84a564829da">stk500v2_desc</a> [] = &quot;Atmel STK500 Version 2.x firmware&quot;</td></tr>
<tr class="separator:a3028f4e65af504c1a03da84a564829da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896b25bac709f33139a130eebaae3627"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a896b25bac709f33139a130eebaae3627">stk500pp_desc</a> [] = &quot;Atmel STK500 V2 in parallel programming mode&quot;</td></tr>
<tr class="separator:a896b25bac709f33139a130eebaae3627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338abf3518f4b41beecffca8c2738c9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a338abf3518f4b41beecffca8c2738c9a">stk500hvsp_desc</a> [] = &quot;Atmel STK500 V2 in high-voltage serial programming mode&quot;</td></tr>
<tr class="separator:a338abf3518f4b41beecffca8c2738c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c7d3a9ac74bb23f08c88f98099bc3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ad4c7d3a9ac74bb23f08c88f98099bc3d">stk500v2_jtagmkII_desc</a> [] = &quot;Atmel JTAG ICE mkII in ISP mode&quot;</td></tr>
<tr class="separator:ad4c7d3a9ac74bb23f08c88f98099bc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a47788c9f9c7fe633e7677ede3dc42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a91a47788c9f9c7fe633e7677ede3dc42">stk500v2_dragon_isp_desc</a> [] = &quot;Atmel AVR Dragon in ISP mode&quot;</td></tr>
<tr class="separator:a91a47788c9f9c7fe633e7677ede3dc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb38eabe93ac870aff6d5180458f77fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#acb38eabe93ac870aff6d5180458f77fb">stk500v2_dragon_pp_desc</a> [] = &quot;Atmel AVR Dragon in PP mode&quot;</td></tr>
<tr class="separator:acb38eabe93ac870aff6d5180458f77fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682b898b6c545a1faf6184ec7ad8d78f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a682b898b6c545a1faf6184ec7ad8d78f">stk500v2_dragon_hvsp_desc</a> [] = &quot;Atmel AVR Dragon in HVSP mode&quot;</td></tr>
<tr class="separator:a682b898b6c545a1faf6184ec7ad8d78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb5480c576ef2820684428d9af6fdb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#aecb5480c576ef2820684428d9af6fdb3">stk600_desc</a> [] = &quot;Atmel STK600&quot;</td></tr>
<tr class="separator:aecb5480c576ef2820684428d9af6fdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030e92ce03027841228de19603669002"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#a030e92ce03027841228de19603669002">stk600pp_desc</a> [] = &quot;Atmel STK600 in parallel programming mode&quot;</td></tr>
<tr class="separator:a030e92ce03027841228de19603669002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae206ba117c42354055727003b062f42f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ae206ba117c42354055727003b062f42f">stk600hvsp_desc</a> [] = &quot;Atmel STK600 in high-voltage serial programming mode&quot;</td></tr>
<tr class="separator:ae206ba117c42354055727003b062f42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e0815cbb621704ad5842da3b3617d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d12/stk500v2_8c.html#ad8e0815cbb621704ad5842da3b3617d2">stk500v2_jtag3_desc</a> [] = &quot;Atmel JTAGICE3 in ISP mode&quot;</td></tr>
<tr class="separator:ad8e0815cbb621704ad5842da3b3617d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d8/da6/structcarddata" id="d8/da6/structcarddata"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d8/da6/structcarddata">&#9670;&#160;</a></span>carddata</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct carddata</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a4e5d9040eb04ee53ea2dcb319043e0da" name="a4e5d9040eb04ee53ea2dcb319043e0da"></a>int</td>
<td class="fieldname">
id</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a1e759806d68e68cc6066f2a9f5bc724b" name="a1e759806d68e68cc6066f2a9f5bc724b"></a><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *</td>
<td class="fieldname">
name</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="db/dfc/structjtagispentry" id="db/dfc/structjtagispentry"></a>
<h2 class="memtitle"><span class="permalink"><a href="#db/dfc/structjtagispentry">&#9670;&#160;</a></span>jtagispentry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct jtagispentry</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a9653913ec07368d7ed0c8e1e0af4e565" name="a9653913ec07368d7ed0c8e1e0af4e565"></a>unsigned char</td>
<td class="fieldname">
cmd</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab0bf156c1b07dff6882bdcb676a06dec" name="ab0bf156c1b07dff6882bdcb676a06dec"></a>unsigned short</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a96dd473db0b3d10bd43390cdacb00120" name="a96dd473db0b3d10bd43390cdacb00120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96dd473db0b3d10bd43390cdacb00120">&#9670;&#160;</a></span>DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afb00d13e44a1d6d92d0c1d22166710df" name="afb00d13e44a1d6d92d0c1d22166710df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb00d13e44a1d6d92d0c1d22166710df">&#9670;&#160;</a></span>DEBUGRECV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUGRECV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab619cec77e16bfb3673967074b8baa80" name="ab619cec77e16bfb3673967074b8baa80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab619cec77e16bfb3673967074b8baa80">&#9670;&#160;</a></span>JTAG3_PRIVATE_EXPORTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JTAG3_PRIVATE_EXPORTED</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d0b821094ee4d7e49677712f85e3700" name="a9d0b821094ee4d7e49677712f85e3700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d0b821094ee4d7e49677712f85e3700">&#9670;&#160;</a></span>JTAGMKII_PRIVATE_EXPORTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JTAGMKII_PRIVATE_EXPORTED</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ee902f4e72c2cd5b500d8f578f301ef" name="a3ee902f4e72c2cd5b500d8f578f301ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ee902f4e72c2cd5b500d8f578f301ef">&#9670;&#160;</a></span>PDATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PDATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a></td><td>)</td>
          <td>&#160;&#160;&#160;((struct <a class="el" href="../../d0/d63/structpdata.html">pdata</a> *)(<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;cookie))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac7200ac983292fc63d6ccbbad26397a6" name="ac7200ac983292fc63d6ccbbad26397a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7200ac983292fc63d6ccbbad26397a6">&#9670;&#160;</a></span>RETRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETRIES&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8d7a9868042677db691b7dd12a38b8e" name="af8d7a9868042677db691b7dd12a38b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d7a9868042677db691b7dd12a38b8e">&#9670;&#160;</a></span>SERIAL_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERIAL_TIMEOUT&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add6ddcd79c5159629da1638da7d21d20" name="add6ddcd79c5159629da1638da7d21d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6ddcd79c5159629da1638da7d21d20">&#9670;&#160;</a></span>STK500V2_XTAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STK500V2_XTAL&#160;&#160;&#160;7372800U</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff0648f40b1a80eb49856524a630697d" name="aff0648f40b1a80eb49856524a630697d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0648f40b1a80eb49856524a630697d">&#9670;&#160;</a></span>SZ_READ_FLASH_EE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SZ_READ_FLASH_EE&#160;&#160;&#160;USHRT_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abefb0628870b4af94a36529b0bcf4ec1" name="abefb0628870b4af94a36529b0bcf4ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefb0628870b4af94a36529b0bcf4ec1">&#9670;&#160;</a></span>SZ_SPI_MULTI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SZ_SPI_MULTI&#160;&#160;&#160;(USHRT_MAX - 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="adac7845226fb7811dd3b3a03259d2361" name="adac7845226fb7811dd3b3a03259d2361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac7845226fb7811dd3b3a03259d2361">&#9670;&#160;</a></span>hvmode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f" name="adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f"></a>PPMODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad" name="adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad"></a>HVSPMODE&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a></div>
<div class="line"><span class="lineno">   99</span>};</div>
<div class="ttc" id="astk500v2_8c_html_adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a></div><div class="ttdeci">@ HVSPMODE</div><div class="ttdef"><b>Definition</b> stk500v2.c:98</div></div>
<div class="ttc" id="astk500v2_8c_html_adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a></div><div class="ttdeci">@ PPMODE</div><div class="ttdef"><b>Definition</b> stk500v2.c:98</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0e61b53b0496861a6b9953483ed20a8f" name="a0e61b53b0496861a6b9953483ed20a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e61b53b0496861a6b9953483ed20a8f">&#9670;&#160;</a></span>f_to_kHz_MHz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double f_to_kHz_MHz </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char **&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3290</span>{</div>
<div class="line"><span class="lineno"> 3291</span>  <span class="keywordflow">if</span> (f &gt; 1e6) {</div>
<div class="line"><span class="lineno"> 3292</span>    f /= 1e6;</div>
<div class="line"><span class="lineno"> 3293</span>    *unit = <span class="stringliteral">&quot;MHz&quot;</span>;</div>
<div class="line"><span class="lineno"> 3294</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &gt; 1e3) {</div>
<div class="line"><span class="lineno"> 3295</span>    f /= 1000;</div>
<div class="line"><span class="lineno"> 3296</span>    *unit = <span class="stringliteral">&quot;kHz&quot;</span>;</div>
<div class="line"><span class="lineno"> 3297</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3298</span>    *unit = <span class="stringliteral">&quot;Hz&quot;</span>;</div>
<div class="line"><span class="lineno"> 3299</span> </div>
<div class="line"><span class="lineno"> 3300</span>  <span class="keywordflow">return</span> f;</div>
<div class="line"><span class="lineno"> 3301</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0e61b53b0496861a6b9953483ed20a8f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="addf7c0ab77d04527d8f283aaf6fdb8c8" name="addf7c0ab77d04527d8f283aaf6fdb8c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf7c0ab77d04527d8f283aaf6fdb8c8">&#9670;&#160;</a></span>stk500hv_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_chip_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1040</span>{</div>
<div class="line"><span class="lineno"> 1041</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1042</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[3];</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7f8baedcf19adf5588cd42b8040d1a9e">pgm_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>  <span class="keywordflow">if</span> (mode == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>) {</div>
<div class="line"><span class="lineno"> 1047</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae47a9673cf98ff6835e3e183f1a927d2">CMD_CHIP_ERASE_PP</a>;</div>
<div class="line"><span class="lineno"> 1048</span>    buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a15806e11e35030a69c7e063720187c72">chiperasepulsewidth</a>;</div>
<div class="line"><span class="lineno"> 1049</span>    buf[2] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5a348b4562f0b09d539ba2f5bcc4eec6">chiperasepolltimeout</a>;</div>
<div class="line"><span class="lineno"> 1050</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1051</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac969ef204af57f32454f02367b52fa51">CMD_CHIP_ERASE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1052</span>    buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5a348b4562f0b09d539ba2f5bcc4eec6">chiperasepolltimeout</a>;</div>
<div class="line"><span class="lineno"> 1053</span>    buf[2] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ab7f3c0b7580eebd18278790be55c6d92">chiperasetime</a>;</div>
<div class="line"><span class="lineno"> 1054</span>  }</div>
<div class="line"><span class="lineno"> 1055</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1056</span>  <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#a430a82cab7dcae73945a46a247815dc9">usleep</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a89083b0bf6d1140667d34e19ee5fba71">chip_erase_delay</a>);</div>
<div class="line"><span class="lineno"> 1057</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p);</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7f8baedcf19adf5588cd42b8040d1a9e">pgm_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a>);</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">return</span> result &gt;= 0? 0: -1;</div>
<div class="line"><span class="lineno"> 1062</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a15806e11e35030a69c7e063720187c72"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a15806e11e35030a69c7e063720187c72">avrpart::chiperasepulsewidth</a></div><div class="ttdeci">int chiperasepulsewidth</div><div class="ttdef"><b>Definition</b> libavrdude.h:257</div></div>
<div class="ttc" id="alibavrdude_8h_html_a29e413f6725b2ba32d165ffaa35b01e5"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a></div><div class="ttdeci">#define OFF</div><div class="ttdef"><b>Definition</b> libavrdude.h:585</div></div>
<div class="ttc" id="alibavrdude_8h_html_a5a348b4562f0b09d539ba2f5bcc4eec6"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a5a348b4562f0b09d539ba2f5bcc4eec6">avrpart::chiperasepolltimeout</a></div><div class="ttdeci">int chiperasepolltimeout</div><div class="ttdef"><b>Definition</b> libavrdude.h:258</div></div>
<div class="ttc" id="alibavrdude_8h_html_a89083b0bf6d1140667d34e19ee5fba71"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a89083b0bf6d1140667d34e19ee5fba71">avrpart::chip_erase_delay</a></div><div class="ttdeci">int chip_erase_delay</div><div class="ttdef"><b>Definition</b> libavrdude.h:222</div></div>
<div class="ttc" id="alibavrdude_8h_html_ab7f3c0b7580eebd18278790be55c6d92"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ab7f3c0b7580eebd18278790be55c6d92">avrpart::chiperasetime</a></div><div class="ttdeci">int chiperasetime</div><div class="ttdef"><b>Definition</b> libavrdude.h:259</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad76d1750a6cdeebd506bfcd6752554d2"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a></div><div class="ttdeci">#define ON</div><div class="ttdef"><b>Definition</b> libavrdude.h:584</div></div>
<div class="ttc" id="amain_8c_html_a5dce38ae4dc703c88d229316a6a00dee"><div class="ttname"><a href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a></div><div class="ttdeci">static PROGRAMMER * pgm</div><div class="ttdef"><b>Definition</b> main.c:192</div></div>
<div class="ttc" id="astk500v2_8c_html_a8bb7c2e6a6df9a5f5bcc5575dffb0c93"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a></div><div class="ttdeci">static int stk500v2_command(PROGRAMMER *pgm, unsigned char *buf, size_t len, size_t maxlen)</div><div class="ttdef"><b>Definition</b> stk500v2.c:837</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac969ef204af57f32454f02367b52fa51"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac969ef204af57f32454f02367b52fa51">CMD_CHIP_ERASE_HVSP</a></div><div class="ttdeci">#define CMD_CHIP_ERASE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:71</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae47a9673cf98ff6835e3e183f1a927d2"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae47a9673cf98ff6835e3e183f1a927d2">CMD_CHIP_ERASE_PP</a></div><div class="ttdeci">#define CMD_CHIP_ERASE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:53</div></div>
<div class="ttc" id="astructprogrammer__t_html_a7f8baedcf19adf5588cd42b8040d1a9e"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a7f8baedcf19adf5588cd42b8040d1a9e">programmer_t::pgm_led</a></div><div class="ttdeci">int(* pgm_led)(struct programmer_t *pgm, int value)</div><div class="ttdef"><b>Definition</b> libavrdude.h:641</div></div>
<div class="ttc" id="astructprogrammer__t_html_ae1605ff194688941e8667dbb2832b01a"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">programmer_t::initialize</a></div><div class="ttdeci">int(* initialize)(struct programmer_t *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> libavrdude.h:643</div></div>
<div class="ttc" id="aunistd_8cpp_html_a430a82cab7dcae73945a46a247815dc9"><div class="ttname"><a href="../../d7/d8a/unistd_8cpp.html#a430a82cab7dcae73945a46a247815dc9">usleep</a></div><div class="ttdeci">int usleep(unsigned usec)</div><div class="ttdef"><b>Definition</b> unistd.cpp:13</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00222">avrpart::chip_erase_delay</a>, <a class="el" href="../../#l00258">avrpart::chiperasepolltimeout</a>, <a class="el" href="../../#l00257">avrpart::chiperasepulsewidth</a>, <a class="el" href="../../#l00259">avrpart::chiperasetime</a>, <a class="el" href="../../#l00071">CMD_CHIP_ERASE_HVSP</a>, <a class="el" href="../../#l00053">CMD_CHIP_ERASE_PP</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00585">OFF</a>, <a class="el" href="../../#l00584">ON</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00641">programmer_t::pgm_led</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l00013">usleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01075">stk500hvsp_chip_erase()</a>, and <a class="el" href="../../#l01067">stk500pp_chip_erase()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_addf7c0ab77d04527d8f283aaf6fdb8c8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_addf7c0ab77d04527d8f283aaf6fdb8c8_icgraph.svg" width="566" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a105fc857838e681626a415ec6df663dc" name="a105fc857838e681626a415ec6df663dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105fc857838e681626a415ec6df663dc">&#9670;&#160;</a></span>stk500hv_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500hv_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1590</span>{</div>
<div class="line"><span class="lineno"> 1591</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1592</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1595</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache = NULL;</div>
<div class="line"><span class="lineno"> 1596</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache);</div>
<div class="line"><span class="lineno"> 1597</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache = NULL;</div>
<div class="line"><span class="lineno"> 1598</span> </div>
<div class="line"><span class="lineno"> 1599</span>  buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aaa5baa79f41920bf60c990f1c19b5e6f">CMD_LEAVE_PROGMODE_PP</a>:</div>
<div class="line"><span class="lineno"> 1600</span>  (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600?</div>
<div class="line"><span class="lineno"> 1601</span>   <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a9d69991144984860a022958f4ba35c11">CMD_LEAVE_PROGMODE_HVSP_STK600</a>:</div>
<div class="line"><span class="lineno"> 1602</span>   <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a9ffd20fd39c526a8c2eb40f336f6212c">CMD_LEAVE_PROGMODE_HVSP</a>);</div>
<div class="line"><span class="lineno"> 1603</span>  buf[1] = 15;  <span class="comment">// p-&gt;hvleavestabdelay;</span></div>
<div class="line"><span class="lineno"> 1604</span>  buf[2] = 15;  <span class="comment">// p-&gt;resetdelay;</span></div>
<div class="line"><span class="lineno"> 1605</span> </div>
<div class="line"><span class="lineno"> 1606</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1607</span> </div>
<div class="line"><span class="lineno"> 1608</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1609</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_disable(): &quot;</span></div>
<div class="line"><span class="lineno"> 1610</span>                    <span class="stringliteral">&quot;failed to leave programming mode\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1611</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1612</span>  }</div>
<div class="line"><span class="lineno"> 1613</span> </div>
<div class="line"><span class="lineno"> 1614</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1615</span>}</div>
<div class="ttc" id="aavrdude_8h_html_a1ddcc97224a95cec04b38b0ac866fa19"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a></div><div class="ttdeci">#define MSG_INFO</div><div class="ttdef"><b>Definition</b> avrdude.h:51</div></div>
<div class="ttc" id="aavrdude_8h_html_ab9e1449fd00c98428516f0b41eddcb10"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></div><div class="ttdeci">char * progname</div><div class="ttdef"><b>Definition</b> main.c:61</div></div>
<div class="ttc" id="aavrdude_8h_html_ae3011b9c6440c863e64eed3fed5106e3"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a></div><div class="ttdeci">int avrdude_message(const int msglvl, const char *format,...)</div><div class="ttdef"><b>Definition</b> main.c:93</div></div>
<div class="ttc" id="aconfig__gram_8c_html_af07d89f5ceaea0c7c8252cc41fd75f37"><div class="ttname"><a href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a></div><div class="ttdeci">void free(void *)</div></div>
<div class="ttc" id="anamespaceigl_html_a6dfcf6612e49885a4d27301f66465788"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">igl::mode</a></div><div class="ttdeci">IGL_INLINE void mode(const Eigen::Matrix&lt; T, Eigen::Dynamic, Eigen::Dynamic &gt; &amp;X, const int d, Eigen::Matrix&lt; T, Eigen::Dynamic, 1 &gt; &amp;M)</div><div class="ttdef"><b>Definition</b> mode.cpp:14</div></div>
<div class="ttc" id="astk500v2_8c_html_a3ee902f4e72c2cd5b500d8f578f301ef"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a></div><div class="ttdeci">#define PDATA(pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:102</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a9d69991144984860a022958f4ba35c11"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a9d69991144984860a022958f4ba35c11">CMD_LEAVE_PROGMODE_HVSP_STK600</a></div><div class="ttdeci">#define CMD_LEAVE_PROGMODE_HVSP_STK600</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:85</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a9ffd20fd39c526a8c2eb40f336f6212c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a9ffd20fd39c526a8c2eb40f336f6212c">CMD_LEAVE_PROGMODE_HVSP</a></div><div class="ttdeci">#define CMD_LEAVE_PROGMODE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:70</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aaa5baa79f41920bf60c990f1c19b5e6f"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aaa5baa79f41920bf60c990f1c19b5e6f">CMD_LEAVE_PROGMODE_PP</a></div><div class="ttdeci">#define CMD_LEAVE_PROGMODE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:52</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00070">CMD_LEAVE_PROGMODE_HVSP</a>, <a class="el" href="../../#l00085">CMD_LEAVE_PROGMODE_HVSP_STK600</a>, <a class="el" href="../../#l00052">CMD_LEAVE_PROGMODE_PP</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01628">stk500hvsp_disable()</a>, and <a class="el" href="../../#l01620">stk500pp_disable()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a105fc857838e681626a415ec6df663dc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a105fc857838e681626a415ec6df663dc_icgraph.svg" width="522" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad01fa3510bb6ffe95e2ec362040beb65" name="ad01fa3510bb6ffe95e2ec362040beb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01fa3510bb6ffe95e2ec362040beb65">&#9670;&#160;</a></span>stk500hv_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1461</span>{</div>
<div class="line"><span class="lineno"> 1462</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a4d1e5ba91b73c6db2b804c6b44dbdfbc">CTL_STACK_SIZE</a> + 1];</div>
<div class="line"><span class="lineno"> 1463</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1464</span>  <a class="code hl_typedef" href="../../d2/d68/libavrdude_8h.html#a87436b0710da6d55294151aa1301dc5d">LNODEID</a> ln;</div>
<div class="line"><span class="lineno"> 1465</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> * m;</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>  <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a088fb827c7ca43592f9676a8602e08a3">ctl_stack_type</a> != (mode == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a4c722eca725a5f7c84a06efe1aa38012ade578b45211a6fdd091d063b87e3fe99">CTL_STACK_PP</a>: <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a4c722eca725a5f7c84a06efe1aa38012a048b685fc90b2769eb96287a28e8e69a">CTL_STACK_HVSP</a>)) {</div>
<div class="line"><span class="lineno"> 1468</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_initialize(): &quot;</span></div>
<div class="line"><span class="lineno"> 1469</span>                    <span class="stringliteral">&quot;%s programming control stack not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1470</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,</div>
<div class="line"><span class="lineno"> 1471</span>                    (mode == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <span class="stringliteral">&quot;parallel&quot;</span>: <span class="stringliteral">&quot;high-voltage serial&quot;</span>),</div>
<div class="line"><span class="lineno"> 1472</span>                    p-&gt;desc);</div>
<div class="line"><span class="lineno"> 1473</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1474</span>  }</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a80b8875075b898106adfd301ae6a3b9b">CMD_SET_CONTROL_STACK</a>;</div>
<div class="line"><span class="lineno"> 1477</span>  memcpy(buf + 1, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a78aa1d336c563cf8a3d25bbe32f592">controlstack</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a4d1e5ba91b73c6db2b804c6b44dbdfbc">CTL_STACK_SIZE</a>);</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a4d1e5ba91b73c6db2b804c6b44dbdfbc">CTL_STACK_SIZE</a> + 1, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1482</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_initalize(): &quot;</span></div>
<div class="line"><span class="lineno"> 1483</span>                    <span class="stringliteral">&quot;failed to set control stack\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1484</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1485</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1486</span>  }</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1489</span><span class="comment">   * Examine the avrpart&#39;s memory definitions, and initialize the page</span></div>
<div class="line"><span class="lineno"> 1490</span><span class="comment">   * caches.  For devices/memory that are not page oriented, treat</span></div>
<div class="line"><span class="lineno"> 1491</span><span class="comment">   * them as page size 1 for EEPROM, and 2 for flash.</span></div>
<div class="line"><span class="lineno"> 1492</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1493</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = 2;</div>
<div class="line"><span class="lineno"> 1494</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize = 1;</div>
<div class="line"><span class="lineno"> 1495</span>  <span class="keywordflow">for</span> (ln = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#aa4e89f2cb024b90526cc6d7c5cc282ba">lfirst</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>); ln; ln = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#a92aee0845d4a840ea39c44ba4c441cf1">lnext</a>(ln)) {</div>
<div class="line"><span class="lineno"> 1496</span>    m = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#a59bcd8f586373668a1dbbf64b47fda5d">ldata</a>(ln);</div>
<div class="line"><span class="lineno"> 1497</span>    <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1498</span>      <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 256)</div>
<div class="line"><span class="lineno"> 1500</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = 256;</div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1502</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1503</span>      }</div>
<div class="line"><span class="lineno"> 1504</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1505</span>      <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1506</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1507</span>    }</div>
<div class="line"><span class="lineno"> 1508</span>  }</div>
<div class="line"><span class="lineno"> 1509</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1510</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache);</div>
<div class="line"><span class="lineno"> 1511</span>  <span class="keywordflow">if</span> ((<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize)) == NULL) {</div>
<div class="line"><span class="lineno"> 1512</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_initialize(): Out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1513</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1515</span>  }</div>
<div class="line"><span class="lineno"> 1516</span>  <span class="keywordflow">if</span> ((<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize)) == NULL) {</div>
<div class="line"><span class="lineno"> 1517</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_initialize(): Out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1518</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1519</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1520</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1521</span>  }</div>
<div class="line"><span class="lineno"> 1522</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>)-1L;</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p);</div>
<div class="line"><span class="lineno"> 1525</span>}</div>
<div class="ttc" id="aconfig__gram_8c_html_a8d12df60024a0ab3de3a276240433890"><div class="ttname"><a href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a></div><div class="ttdeci">void * malloc(YYSIZE_T)</div></div>
<div class="ttc" id="alibavrdude_8h_html_a088fb827c7ca43592f9676a8602e08a3"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a088fb827c7ca43592f9676a8602e08a3">avrpart::ctl_stack_type</a></div><div class="ttdeci">enum ctl_stack_t ctl_stack_type</div><div class="ttdef"><b>Definition</b> libavrdude.h:243</div></div>
<div class="ttc" id="alibavrdude_8h_html_a4c722eca725a5f7c84a06efe1aa38012a048b685fc90b2769eb96287a28e8e69a"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a4c722eca725a5f7c84a06efe1aa38012a048b685fc90b2769eb96287a28e8e69a">CTL_STACK_HVSP</a></div><div class="ttdeci">@ CTL_STACK_HVSP</div><div class="ttdef"><b>Definition</b> libavrdude.h:178</div></div>
<div class="ttc" id="alibavrdude_8h_html_a4c722eca725a5f7c84a06efe1aa38012ade578b45211a6fdd091d063b87e3fe99"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a4c722eca725a5f7c84a06efe1aa38012ade578b45211a6fdd091d063b87e3fe99">CTL_STACK_PP</a></div><div class="ttdeci">@ CTL_STACK_PP</div><div class="ttdef"><b>Definition</b> libavrdude.h:177</div></div>
<div class="ttc" id="alibavrdude_8h_html_a4d1e5ba91b73c6db2b804c6b44dbdfbc"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a4d1e5ba91b73c6db2b804c6b44dbdfbc">CTL_STACK_SIZE</a></div><div class="ttdeci">#define CTL_STACK_SIZE</div><div class="ttdef"><b>Definition</b> libavrdude.h:211</div></div>
<div class="ttc" id="alibavrdude_8h_html_a59bcd8f586373668a1dbbf64b47fda5d"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a59bcd8f586373668a1dbbf64b47fda5d">ldata</a></div><div class="ttdeci">void * ldata(LNODEID)</div><div class="ttdef"><b>Definition</b> lists.c:720</div></div>
<div class="ttc" id="alibavrdude_8h_html_a7a78aa1d336c563cf8a3d25bbe32f592"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a7a78aa1d336c563cf8a3d25bbe32f592">avrpart::controlstack</a></div><div class="ttdeci">unsigned char controlstack[CTL_STACK_SIZE]</div><div class="ttdef"><b>Definition</b> libavrdude.h:244</div></div>
<div class="ttc" id="alibavrdude_8h_html_a87436b0710da6d55294151aa1301dc5d"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a87436b0710da6d55294151aa1301dc5d">LNODEID</a></div><div class="ttdeci">void * LNODEID</div><div class="ttdef"><b>Definition</b> libavrdude.h:64</div></div>
<div class="ttc" id="alibavrdude_8h_html_a92aee0845d4a840ea39c44ba4c441cf1"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a92aee0845d4a840ea39c44ba4c441cf1">lnext</a></div><div class="ttdeci">LNODEID lnext(LNODEID)</div><div class="ttdef"><b>Definition</b> lists.c:704</div></div>
<div class="ttc" id="alibavrdude_8h_html_a9d797017271ffa71a1e3e5729ba56711"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">avrmem::page_size</a></div><div class="ttdeci">int page_size</div><div class="ttdef"><b>Definition</b> libavrdude.h:287</div></div>
<div class="ttc" id="alibavrdude_8h_html_aa4e89f2cb024b90526cc6d7c5cc282ba"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aa4e89f2cb024b90526cc6d7c5cc282ba">lfirst</a></div><div class="ttdeci">LNODEID lfirst(LISTID)</div><div class="ttdef"><b>Definition</b> lists.c:688</div></div>
<div class="ttc" id="alibavrdude_8h_html_af2f1a258ab710d32c8dad8ca1e471ebf"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">avrmem::desc</a></div><div class="ttdeci">char desc[AVR_MEMDESCLEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:284</div></div>
<div class="ttc" id="alibavrdude_8h_html_afc9d7b525f50db392368eb7fa6f53336"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">avrpart::mem</a></div><div class="ttdeci">LISTID mem</div><div class="ttdef"><b>Definition</b> libavrdude.h:277</div></div>
<div class="ttc" id="alibavrdude_8h_html_d5/dbe/structavrmem"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">avrmem</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:283</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a80b8875075b898106adfd301ae6a3b9b"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a80b8875075b898106adfd301ae6a3b9b">CMD_SET_CONTROL_STACK</a></div><div class="ttdeci">#define CMD_SET_CONTROL_STACK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:65</div></div>
<div class="ttc" id="astructprogrammer__t_html_aa11416566c4cdc0673f1cece7ad53cdc"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">programmer_t::program_enable</a></div><div class="ttdeci">int(* program_enable)(struct programmer_t *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> libavrdude.h:649</div></div>
<div class="ttc" id="awindows_8hpp_html_abc8f9f29715ddba51ee7f197feb6fd26"><div class="ttname"><a href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a></div><div class="ttdeci">wchar_t const wchar_t unsigned long</div><div class="ttdef"><b>Definition</b> windows.hpp:29</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00065">CMD_SET_CONTROL_STACK</a>, <a class="el" href="../../#l00244">avrpart::controlstack</a>, <a class="el" href="../../#l00178">CTL_STACK_HVSP</a>, <a class="el" href="../../#l00177">CTL_STACK_PP</a>, <a class="el" href="../../#l00211">CTL_STACK_SIZE</a>, <a class="el" href="../../#l00243">avrpart::ctl_stack_type</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../#l00720">ldata()</a>, <a class="el" href="../../#l00688">lfirst()</a>, <a class="el" href="../../#l00704">lnext()</a>, <a class="el" href="../../#l00029">long</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00277">avrpart::mem</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01538">stk500hvsp_initialize()</a>, and <a class="el" href="../../#l01530">stk500pp_initialize()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ad01fa3510bb6ffe95e2ec362040beb65_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ad01fa3510bb6ffe95e2ec362040beb65_icgraph.svg" width="534" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa6a56734bbbc3dd473b96f15b6c97e25" name="aa6a56734bbbc3dd473b96f15b6c97e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a56734bbbc3dd473b96f15b6c97e25">&#9670;&#160;</a></span>stk500hv_paged_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_paged_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2665</span>{</div>
<div class="line"><span class="lineno"> 2666</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size, hiaddr, addrshift, use_ext_addr;</div>
<div class="line"><span class="lineno"> 2667</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxaddr = addr + n_bytes;</div>
<div class="line"><span class="lineno"> 2668</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> commandbuf[3], buf[266];</div>
<div class="line"><span class="lineno"> 2669</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 2670</span> </div>
<div class="line"><span class="lineno"> 2671</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500hv_paged_load(..,%s,%u,%u,%u)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2672</span>        m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, page_size, addr, n_bytes);</div>
<div class="line"><span class="lineno"> 2673</span> </div>
<div class="line"><span class="lineno"> 2674</span>  page_size = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#abf782bf9e656e60f0c36aa9247141d5b">readsize</a>;</div>
<div class="line"><span class="lineno"> 2675</span> </div>
<div class="line"><span class="lineno"> 2676</span>  hiaddr = UINT_MAX;</div>
<div class="line"><span class="lineno"> 2677</span>  addrshift = 0;</div>
<div class="line"><span class="lineno"> 2678</span>  use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 2679</span> </div>
<div class="line"><span class="lineno"> 2680</span>  <span class="comment">// determine which command is to be used</span></div>
<div class="line"><span class="lineno"> 2681</span>  <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2682</span>    commandbuf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a085ffe4e65dec44d12b8f23109691e0d">CMD_READ_FLASH_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac37589d3cc10c0f4e2ecb350dc7de3e4">CMD_READ_FLASH_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2683</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 2684</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2685</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 2686</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 2687</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 2688</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 2689</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2690</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 2691</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 2692</span>    }</div>
<div class="line"><span class="lineno"> 2693</span>  }</div>
<div class="line"><span class="lineno"> 2694</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2695</span>    commandbuf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a06f869e38274d1da1c92ddeaebedb239">CMD_READ_EEPROM_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a365b5eb78910232384e427400ec7e55e">CMD_READ_EEPROM_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2696</span>  }</div>
<div class="line"><span class="lineno"> 2697</span> </div>
<div class="line"><span class="lineno"> 2698</span>  <span class="keywordflow">for</span> (; addr &lt; maxaddr; addr += page_size) {</div>
<div class="line"><span class="lineno"> 2699</span>    <span class="keywordflow">if</span> ((maxaddr - addr) &lt; page_size)</div>
<div class="line"><span class="lineno"> 2700</span>      block_size = maxaddr - addr;</div>
<div class="line"><span class="lineno"> 2701</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2702</span>      block_size = page_size;</div>
<div class="line"><span class="lineno"> 2703</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;block_size at addr %d is %d\n&quot;</span>,addr,block_size);</div>
<div class="line"><span class="lineno"> 2704</span> </div>
<div class="line"><span class="lineno"> 2705</span>    memcpy(buf, commandbuf, <span class="keyword">sizeof</span>(commandbuf));</div>
<div class="line"><span class="lineno"> 2706</span> </div>
<div class="line"><span class="lineno"> 2707</span>    buf[1] = block_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 2708</span>    buf[2] = block_size &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2709</span> </div>
<div class="line"><span class="lineno"> 2710</span>    <span class="comment">// Ensure a new &quot;load extended address&quot; will be issued</span></div>
<div class="line"><span class="lineno"> 2711</span>    <span class="comment">// when crossing a 64 KB boundary in flash.</span></div>
<div class="line"><span class="lineno"> 2712</span>    <span class="keywordflow">if</span> (hiaddr != (addr &amp; ~0xFFFF)) {</div>
<div class="line"><span class="lineno"> 2713</span>      hiaddr = addr &amp; ~0xFFFF;</div>
<div class="line"><span class="lineno"> 2714</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (addr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2715</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2716</span>    }</div>
<div class="line"><span class="lineno"> 2717</span> </div>
<div class="line"><span class="lineno"> 2718</span>    result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2719</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2720</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_paged_load: read command failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2721</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2722</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2723</span>    }</div>
<div class="line"><span class="lineno"> 2724</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 2725</span>    <span class="keywordflow">for</span> (i = 0; i &lt; page_size; i++) {</div>
<div class="line"><span class="lineno"> 2726</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%02X&quot;</span>, buf[2 + i]);</div>
<div class="line"><span class="lineno"> 2727</span>      <span class="keywordflow">if</span> (i % 16 == 15) <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2728</span>    }</div>
<div class="line"><span class="lineno"> 2729</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2730</span> </div>
<div class="line"><span class="lineno"> 2731</span>    memcpy(&amp;m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a>[addr], &amp;buf[2], block_size);</div>
<div class="line"><span class="lineno"> 2732</span>  }</div>
<div class="line"><span class="lineno"> 2733</span> </div>
<div class="line"><span class="lineno"> 2734</span>  <span class="keywordflow">return</span> n_bytes;</div>
<div class="line"><span class="lineno"> 2735</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a></div><div class="ttdeci">@ AVR_OP_LOAD_EXT_ADDR</div><div class="ttdef"><b>Definition</b> libavrdude.h:154</div></div>
<div class="ttc" id="alibavrdude_8h_html_a982cb446f63a0bc5d6c04fbadb5b498a"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">avrmem::buf</a></div><div class="ttdeci">unsigned char * buf</div><div class="ttdef"><b>Definition</b> libavrdude.h:304</div></div>
<div class="ttc" id="alibavrdude_8h_html_abf782bf9e656e60f0c36aa9247141d5b"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#abf782bf9e656e60f0c36aa9247141d5b">avrmem::readsize</a></div><div class="ttdeci">int readsize</div><div class="ttdef"><b>Definition</b> libavrdude.h:301</div></div>
<div class="ttc" id="alibavrdude_8h_html_aec868e58c97ab6ca8b83b2449321461f"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">avrmem::op</a></div><div class="ttdeci">OPCODE * op[AVR_OP_MAX]</div><div class="ttdef"><b>Definition</b> libavrdude.h:306</div></div>
<div class="ttc" id="astk500v2_8c_html_a81b208b49d476cfe95ca899a98f4400f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a></div><div class="ttdeci">static int stk500v2_loadaddr(PROGRAMMER *pgm, unsigned int addr)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1778</div></div>
<div class="ttc" id="astk500v2_8c_html_a96dd473db0b3d10bd43390cdacb00120"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a></div><div class="ttdeci">#define DEBUG(...)</div><div class="ttdef"><b>Definition</b> stk500v2.c:87</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a06f869e38274d1da1c92ddeaebedb239"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a06f869e38274d1da1c92ddeaebedb239">CMD_READ_EEPROM_PP</a></div><div class="ttdeci">#define CMD_READ_EEPROM_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:57</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a085ffe4e65dec44d12b8f23109691e0d"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a085ffe4e65dec44d12b8f23109691e0d">CMD_READ_FLASH_PP</a></div><div class="ttdeci">#define CMD_READ_FLASH_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:55</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a365b5eb78910232384e427400ec7e55e"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a365b5eb78910232384e427400ec7e55e">CMD_READ_EEPROM_HVSP</a></div><div class="ttdeci">#define CMD_READ_EEPROM_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:75</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac37589d3cc10c0f4e2ecb350dc7de3e4"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac37589d3cc10c0f4e2ecb350dc7de3e4">CMD_READ_FLASH_HVSP</a></div><div class="ttdeci">#define CMD_READ_FLASH_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:73</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00075">CMD_READ_EEPROM_HVSP</a>, <a class="el" href="../../#l00057">CMD_READ_EEPROM_PP</a>, <a class="el" href="../../#l00073">CMD_READ_FLASH_HVSP</a>, <a class="el" href="../../#l00055">CMD_READ_FLASH_PP</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00301">avrmem::readsize</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02750">stk500hvsp_paged_load()</a>, and <a class="el" href="../../#l02740">stk500pp_paged_load()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa6a56734bbbc3dd473b96f15b6c97e25_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa6a56734bbbc3dd473b96f15b6c97e25_icgraph.svg" width="571" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a66c7933b5868c4be23063b03cc483ee4" name="a66c7933b5868c4be23063b03cc483ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c7933b5868c4be23063b03cc483ee4">&#9670;&#160;</a></span>stk500hv_paged_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_paged_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2459</span>{</div>
<div class="line"><span class="lineno"> 2460</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size, last_addr, addrshift, use_ext_addr;</div>
<div class="line"><span class="lineno"> 2461</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxaddr = addr + n_bytes;</div>
<div class="line"><span class="lineno"> 2462</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> commandbuf[5], buf[266];</div>
<div class="line"><span class="lineno"> 2463</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 2464</span> </div>
<div class="line"><span class="lineno"> 2465</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500hv_paged_write(..,%s,%u,%u)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2466</span>        m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, page_size, addr, n_bytes);</div>
<div class="line"><span class="lineno"> 2467</span> </div>
<div class="line"><span class="lineno"> 2468</span>  addrshift = 0;</div>
<div class="line"><span class="lineno"> 2469</span>  use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 2470</span> </div>
<div class="line"><span class="lineno"> 2471</span>  <span class="comment">// determine which command is to be used</span></div>
<div class="line"><span class="lineno"> 2472</span>  <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2473</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 2474</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>)-1L;</div>
<div class="line"><span class="lineno"> 2475</span>    commandbuf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac20cd5a02eda07bfbc52a6860736029f">CMD_PROGRAM_FLASH_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4cff3b7a238719b56364892ed173633d">CMD_PROGRAM_FLASH_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2476</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2477</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 2478</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 2479</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 2480</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 2481</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2482</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 2483</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 2484</span>    }</div>
<div class="line"><span class="lineno"> 2485</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2486</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>)-1L;</div>
<div class="line"><span class="lineno"> 2487</span>    commandbuf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2dc1159b3a01a6320e133d0a9d73cfee">CMD_PROGRAM_EEPROM_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#adf2d8077ca9c7369f0143f9cac7f3b32">CMD_PROGRAM_EEPROM_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2488</span>  }</div>
<div class="line"><span class="lineno"> 2489</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2490</span><span class="comment">   * Synthesize the mode byte.  This is simpler than adding yet</span></div>
<div class="line"><span class="lineno"> 2491</span><span class="comment">   * another parameter to the avrdude.conf file.  We calculate the</span></div>
<div class="line"><span class="lineno"> 2492</span><span class="comment">   * bits corresponding to the page size, as explained in AVR068.  We</span></div>
<div class="line"><span class="lineno"> 2493</span><span class="comment">   * set bit 7, to indicate this is to actually write the page to the</span></div>
<div class="line"><span class="lineno"> 2494</span><span class="comment">   * target device.  We set bit 6 to indicate this is the very last</span></div>
<div class="line"><span class="lineno"> 2495</span><span class="comment">   * page to be programmed, whatever this means -- we just pretend we</span></div>
<div class="line"><span class="lineno"> 2496</span><span class="comment">   * don&#39;t know any better. ;-)  Finally, we set bit 0 to say this is</span></div>
<div class="line"><span class="lineno"> 2497</span><span class="comment">   * a paged memory, after all, that&#39;s why we got here at all.</span></div>
<div class="line"><span class="lineno"> 2498</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 2499</span>  commandbuf[3] = 0x80 | 0x40;</div>
<div class="line"><span class="lineno"> 2500</span>  <span class="keywordflow">if</span> (page_size &gt; 2) {</div>
<div class="line"><span class="lineno"> 2501</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a39116cb98b0706f3f92a4a6faf89226c">stk500v2_mode_for_pagesize</a>(page_size);</div>
<div class="line"><span class="lineno"> 2502</span>    <span class="keywordflow">if</span> (rv == 0)</div>
<div class="line"><span class="lineno"> 2503</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2504</span>    commandbuf[3] |= rv;</div>
<div class="line"><span class="lineno"> 2505</span>    commandbuf[3] |= 0x01;</div>
<div class="line"><span class="lineno"> 2506</span>  }</div>
<div class="line"><span class="lineno"> 2507</span>  commandbuf[4] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ab230cd82326131a6ba7fb6d9ba851c8e">delay</a>;</div>
<div class="line"><span class="lineno"> 2508</span> </div>
<div class="line"><span class="lineno"> 2509</span>  <span class="keywordflow">if</span> (page_size == 0) page_size = 256;</div>
<div class="line"><span class="lineno"> 2510</span> </div>
<div class="line"><span class="lineno"> 2511</span>  last_addr = UINT_MAX;   <span class="comment">/* impossible address */</span></div>
<div class="line"><span class="lineno"> 2512</span> </div>
<div class="line"><span class="lineno"> 2513</span>  <span class="keywordflow">for</span> (; addr &lt; maxaddr; addr += page_size) {</div>
<div class="line"><span class="lineno"> 2514</span>    <span class="keywordflow">if</span> ((maxaddr - addr) &lt; page_size)</div>
<div class="line"><span class="lineno"> 2515</span>      block_size = maxaddr - addr;</div>
<div class="line"><span class="lineno"> 2516</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2517</span>      block_size = page_size;</div>
<div class="line"><span class="lineno"> 2518</span> </div>
<div class="line"><span class="lineno"> 2519</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;block_size at addr %d is %d\n&quot;</span>,addr,block_size);</div>
<div class="line"><span class="lineno"> 2520</span> </div>
<div class="line"><span class="lineno"> 2521</span>    memcpy(buf, commandbuf, <span class="keyword">sizeof</span>(commandbuf));</div>
<div class="line"><span class="lineno"> 2522</span> </div>
<div class="line"><span class="lineno"> 2523</span>    buf[1] = page_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 2524</span>    buf[2] = page_size &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2525</span> </div>
<div class="line"><span class="lineno"> 2526</span>    <span class="keywordflow">if</span> ((last_addr == UINT_MAX) || (last_addr + block_size != addr)) {</div>
<div class="line"><span class="lineno"> 2527</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (addr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2528</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2529</span>    }</div>
<div class="line"><span class="lineno"> 2530</span>    last_addr=addr;</div>
<div class="line"><span class="lineno"> 2531</span> </div>
<div class="line"><span class="lineno"> 2532</span>    memcpy(buf + 5, m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + addr, block_size);</div>
<div class="line"><span class="lineno"> 2533</span>    <span class="keywordflow">if</span> (block_size != page_size)</div>
<div class="line"><span class="lineno"> 2534</span>      memset(buf + 5 + block_size, 0xff, page_size - block_size);</div>
<div class="line"><span class="lineno"> 2535</span> </div>
<div class="line"><span class="lineno"> 2536</span>    result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, page_size + 5, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2537</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2538</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_paged_write: write command failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2539</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2540</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2541</span>    }</div>
<div class="line"><span class="lineno"> 2542</span>  }</div>
<div class="line"><span class="lineno"> 2543</span> </div>
<div class="line"><span class="lineno"> 2544</span>  <span class="keywordflow">return</span> n_bytes;</div>
<div class="line"><span class="lineno"> 2545</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_ab230cd82326131a6ba7fb6d9ba851c8e"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ab230cd82326131a6ba7fb6d9ba851c8e">avrmem::delay</a></div><div class="ttdeci">int delay</div><div class="ttdef"><b>Definition</b> libavrdude.h:299</div></div>
<div class="ttc" id="astk500v2_8c_html_a39116cb98b0706f3f92a4a6faf89226c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a39116cb98b0706f3f92a4a6faf89226c">stk500v2_mode_for_pagesize</a></div><div class="ttdeci">static unsigned int stk500v2_mode_for_pagesize(unsigned int pagesize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2904</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2dc1159b3a01a6320e133d0a9d73cfee"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2dc1159b3a01a6320e133d0a9d73cfee">CMD_PROGRAM_EEPROM_PP</a></div><div class="ttdeci">#define CMD_PROGRAM_EEPROM_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:56</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a4cff3b7a238719b56364892ed173633d"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a4cff3b7a238719b56364892ed173633d">CMD_PROGRAM_FLASH_HVSP</a></div><div class="ttdeci">#define CMD_PROGRAM_FLASH_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:72</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac20cd5a02eda07bfbc52a6860736029f"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac20cd5a02eda07bfbc52a6860736029f">CMD_PROGRAM_FLASH_PP</a></div><div class="ttdeci">#define CMD_PROGRAM_FLASH_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:54</div></div>
<div class="ttc" id="astk500v2__private_8h_html_adf2d8077ca9c7369f0143f9cac7f3b32"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#adf2d8077ca9c7369f0143f9cac7f3b32">CMD_PROGRAM_EEPROM_HVSP</a></div><div class="ttdeci">#define CMD_PROGRAM_EEPROM_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:74</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00074">CMD_PROGRAM_EEPROM_HVSP</a>, <a class="el" href="../../#l00056">CMD_PROGRAM_EEPROM_PP</a>, <a class="el" href="../../#l00072">CMD_PROGRAM_FLASH_HVSP</a>, <a class="el" href="../../#l00054">CMD_PROGRAM_FLASH_PP</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00299">avrmem::delay</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00029">long</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>, and <a class="el" href="../../#l02904">stk500v2_mode_for_pagesize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02560">stk500hvsp_paged_write()</a>, and <a class="el" href="../../#l02550">stk500pp_paged_write()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a66c7933b5868c4be23063b03cc483ee4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a66c7933b5868c4be23063b03cc483ee4_icgraph.svg" width="579" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae540fe448dc835113053b4e557ceb02c" name="ae540fe448dc835113053b4e557ceb02c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae540fe448dc835113053b4e557ceb02c">&#9670;&#160;</a></span>stk500hv_read_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_read_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1809</span>{</div>
<div class="line"><span class="lineno"> 1810</span>  <span class="keywordtype">int</span> result, cmdlen = 2;</div>
<div class="line"><span class="lineno"> 1811</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[266];</div>
<div class="line"><span class="lineno"> 1812</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> paddr = 0UL, *paddr_ptr = NULL;</div>
<div class="line"><span class="lineno"> 1813</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pagesize = 0, use_ext_addr = 0, addrshift = 0;</div>
<div class="line"><span class="lineno"> 1814</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *cache_ptr = NULL;</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500hv_read_byte(.., %s, 0x%lx, ...)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1817</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, addr);</div>
<div class="line"><span class="lineno"> 1818</span> </div>
<div class="line"><span class="lineno"> 1819</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1820</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a085ffe4e65dec44d12b8f23109691e0d">CMD_READ_FLASH_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac37589d3cc10c0f4e2ecb350dc7de3e4">CMD_READ_FLASH_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1821</span>    cmdlen = 3;</div>
<div class="line"><span class="lineno"> 1822</span>    pagesize = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize;</div>
<div class="line"><span class="lineno"> 1823</span>    paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 1824</span>    paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr;</div>
<div class="line"><span class="lineno"> 1825</span>    cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache;</div>
<div class="line"><span class="lineno"> 1826</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 1827</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1828</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 1829</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 1830</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 1831</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 1832</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1833</span>    <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 1834</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 1835</span>    }</div>
<div class="line"><span class="lineno"> 1836</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1837</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a06f869e38274d1da1c92ddeaebedb239">CMD_READ_EEPROM_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a365b5eb78910232384e427400ec7e55e">CMD_READ_EEPROM_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1838</span>    cmdlen = 3;</div>
<div class="line"><span class="lineno"> 1839</span>    pagesize = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1840</span>    <span class="keywordflow">if</span> (pagesize == 0)</div>
<div class="line"><span class="lineno"> 1841</span>      pagesize = 1;</div>
<div class="line"><span class="lineno"> 1842</span>    paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 1843</span>    paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr;</div>
<div class="line"><span class="lineno"> 1844</span>    cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache;</div>
<div class="line"><span class="lineno"> 1845</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lfuse&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 1846</span>       strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1847</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab3ae6876fe92b47e641d228e1cbe2911">CMD_READ_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a53812c67c2aec422a70260df0e02168b">CMD_READ_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1848</span>    addr = 0;</div>
<div class="line"><span class="lineno"> 1849</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;hfuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1850</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab3ae6876fe92b47e641d228e1cbe2911">CMD_READ_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a53812c67c2aec422a70260df0e02168b">CMD_READ_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1851</span>    addr = 1;</div>
<div class="line"><span class="lineno"> 1852</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;efuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1853</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab3ae6876fe92b47e641d228e1cbe2911">CMD_READ_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a53812c67c2aec422a70260df0e02168b">CMD_READ_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1854</span>    addr = 2;</div>
<div class="line"><span class="lineno"> 1855</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1856</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac11d6e35a22597f8c8ef57b29627a29c">CMD_READ_LOCK_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a054f30d440d025f667f0138f89c88775">CMD_READ_LOCK_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1857</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;calibration&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1858</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5796821053db70b3614d399be122ef8e">CMD_READ_OSCCAL_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a962ecffca6989cccde634cfaffd418fb">CMD_READ_OSCCAL_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1859</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;signature&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1860</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a16bd74e3f8b7676e676d8cb2f4fd8056">CMD_READ_SIGNATURE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a05821d5cc2276bd0a46a80524e44a587">CMD_READ_SIGNATURE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1861</span>  }</div>
<div class="line"><span class="lineno"> 1862</span> </div>
<div class="line"><span class="lineno"> 1863</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1864</span><span class="comment">   * In HV mode, we have to use paged reads for flash and</span></div>
<div class="line"><span class="lineno"> 1865</span><span class="comment">   * EEPROM, and cache the results in a page cache.</span></div>
<div class="line"><span class="lineno"> 1866</span><span class="comment">   *</span></div>
<div class="line"><span class="lineno"> 1867</span><span class="comment">   * Page cache validation is based on &quot;{flash,eeprom}_pageaddr&quot;</span></div>
<div class="line"><span class="lineno"> 1868</span><span class="comment">   * (holding the base address of the most recent cache fill</span></div>
<div class="line"><span class="lineno"> 1869</span><span class="comment">   * operation).  This variable is set to (unsigned long)-1L when the</span></div>
<div class="line"><span class="lineno"> 1870</span><span class="comment">   * cache needs to be invalidated.</span></div>
<div class="line"><span class="lineno"> 1871</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1872</span>  <span class="keywordflow">if</span> (pagesize &amp;&amp; paddr == *paddr_ptr) {</div>
<div class="line"><span class="lineno"> 1873</span>    *value = cache_ptr[addr &amp; (pagesize - 1)];</div>
<div class="line"><span class="lineno"> 1874</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1875</span>  }</div>
<div class="line"><span class="lineno"> 1876</span> </div>
<div class="line"><span class="lineno"> 1877</span>  <span class="keywordflow">if</span> (cmdlen == 3) {</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="comment">/* long command, fill in # of bytes */</span></div>
<div class="line"><span class="lineno"> 1879</span>    buf[1] = (pagesize &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1880</span>    buf[2] = pagesize &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1881</span> </div>
<div class="line"><span class="lineno"> 1882</span>    <span class="comment">/* flash and EEPROM reads require the load address command */</span></div>
<div class="line"><span class="lineno"> 1883</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (paddr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1884</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1885</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1886</span>    buf[1] = (char)addr;</div>
<div class="line"><span class="lineno"> 1887</span>  }</div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500hv_read_byte(): Sending read memory command: &quot;</span>,</div>
<div class="line"><span class="lineno"> 1890</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1891</span> </div>
<div class="line"><span class="lineno"> 1892</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, cmdlen, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1893</span> </div>
<div class="line"><span class="lineno"> 1894</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1895</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_read_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 1896</span>                    <span class="stringliteral">&quot;timeout/error communicating with programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1897</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1898</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1899</span>  }</div>
<div class="line"><span class="lineno"> 1900</span> </div>
<div class="line"><span class="lineno"> 1901</span>  <span class="keywordflow">if</span> (pagesize) {</div>
<div class="line"><span class="lineno"> 1902</span>    *paddr_ptr = paddr;</div>
<div class="line"><span class="lineno"> 1903</span>    memcpy(cache_ptr, buf + 2, pagesize);</div>
<div class="line"><span class="lineno"> 1904</span>    *value = cache_ptr[addr &amp; (pagesize - 1)];</div>
<div class="line"><span class="lineno"> 1905</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1906</span>    *value = buf[2];</div>
<div class="line"><span class="lineno"> 1907</span>  }</div>
<div class="line"><span class="lineno"> 1908</span> </div>
<div class="line"><span class="lineno"> 1909</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1910</span>}</div>
<div class="ttc" id="aavrdude_8h_html_ae5a11e7738886ec5eb0ddecdf4b358ec"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a></div><div class="ttdeci">#define MSG_NOTICE2</div><div class="ttdef"><b>Definition</b> avrdude.h:53</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a054f30d440d025f667f0138f89c88775"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a054f30d440d025f667f0138f89c88775">CMD_READ_LOCK_HVSP</a></div><div class="ttdeci">#define CMD_READ_LOCK_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:79</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a05821d5cc2276bd0a46a80524e44a587"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a05821d5cc2276bd0a46a80524e44a587">CMD_READ_SIGNATURE_HVSP</a></div><div class="ttdeci">#define CMD_READ_SIGNATURE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:80</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a16bd74e3f8b7676e676d8cb2f4fd8056"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a16bd74e3f8b7676e676d8cb2f4fd8056">CMD_READ_SIGNATURE_PP</a></div><div class="ttdeci">#define CMD_READ_SIGNATURE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:62</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a53812c67c2aec422a70260df0e02168b"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a53812c67c2aec422a70260df0e02168b">CMD_READ_FUSE_HVSP</a></div><div class="ttdeci">#define CMD_READ_FUSE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:77</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a5796821053db70b3614d399be122ef8e"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a5796821053db70b3614d399be122ef8e">CMD_READ_OSCCAL_PP</a></div><div class="ttdeci">#define CMD_READ_OSCCAL_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:63</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a962ecffca6989cccde634cfaffd418fb"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a962ecffca6989cccde634cfaffd418fb">CMD_READ_OSCCAL_HVSP</a></div><div class="ttdeci">#define CMD_READ_OSCCAL_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:81</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ab3ae6876fe92b47e641d228e1cbe2911"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ab3ae6876fe92b47e641d228e1cbe2911">CMD_READ_FUSE_PP</a></div><div class="ttdeci">#define CMD_READ_FUSE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:59</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac11d6e35a22597f8c8ef57b29627a29c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac11d6e35a22597f8c8ef57b29627a29c">CMD_READ_LOCK_PP</a></div><div class="ttdeci">#define CMD_READ_LOCK_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00075">CMD_READ_EEPROM_HVSP</a>, <a class="el" href="../../#l00057">CMD_READ_EEPROM_PP</a>, <a class="el" href="../../#l00073">CMD_READ_FLASH_HVSP</a>, <a class="el" href="../../#l00055">CMD_READ_FLASH_PP</a>, <a class="el" href="../../#l00077">CMD_READ_FUSE_HVSP</a>, <a class="el" href="../../#l00059">CMD_READ_FUSE_PP</a>, <a class="el" href="../../#l00079">CMD_READ_LOCK_HVSP</a>, <a class="el" href="../../#l00061">CMD_READ_LOCK_PP</a>, <a class="el" href="../../#l00081">CMD_READ_OSCCAL_HVSP</a>, <a class="el" href="../../#l00063">CMD_READ_OSCCAL_PP</a>, <a class="el" href="../../#l00080">CMD_READ_SIGNATURE_HVSP</a>, <a class="el" href="../../#l00062">CMD_READ_SIGNATURE_PP</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01924">stk500hvsp_read_byte()</a>, and <a class="el" href="../../#l01915">stk500pp_read_byte()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae540fe448dc835113053b4e557ceb02c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae540fe448dc835113053b4e557ceb02c_icgraph.svg" width="554" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abb560ef255d6e647623e64bbce92b369" name="abb560ef255d6e647623e64bbce92b369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb560ef255d6e647623e64bbce92b369">&#9670;&#160;</a></span>stk500hv_write_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hv_write_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361">hvmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2037</span>{</div>
<div class="line"><span class="lineno"> 2038</span>  <span class="keywordtype">int</span> result, cmdlen, timeout = 0, pulsewidth = 0;</div>
<div class="line"><span class="lineno"> 2039</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[266];</div>
<div class="line"><span class="lineno"> 2040</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> paddr = 0UL, *paddr_ptr = NULL;</div>
<div class="line"><span class="lineno"> 2041</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pagesize = 0, use_ext_addr = 0, addrshift = 0;</div>
<div class="line"><span class="lineno"> 2042</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *cache_ptr = NULL;</div>
<div class="line"><span class="lineno"> 2043</span> </div>
<div class="line"><span class="lineno"> 2044</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500hv_write_byte(.., %s, 0x%lx, ...)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2045</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, addr);</div>
<div class="line"><span class="lineno"> 2046</span> </div>
<div class="line"><span class="lineno"> 2047</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2048</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac20cd5a02eda07bfbc52a6860736029f">CMD_PROGRAM_FLASH_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4cff3b7a238719b56364892ed173633d">CMD_PROGRAM_FLASH_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2049</span>    pagesize = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize;</div>
<div class="line"><span class="lineno"> 2050</span>    paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 2051</span>    paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr;</div>
<div class="line"><span class="lineno"> 2052</span>    cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache;</div>
<div class="line"><span class="lineno"> 2053</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 2054</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2055</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 2056</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 2057</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 2058</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 2059</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2060</span>    <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 2061</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 2062</span>    }</div>
<div class="line"><span class="lineno"> 2063</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2064</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2dc1159b3a01a6320e133d0a9d73cfee">CMD_PROGRAM_EEPROM_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#adf2d8077ca9c7369f0143f9cac7f3b32">CMD_PROGRAM_EEPROM_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2065</span>    pagesize = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 2066</span>    <span class="keywordflow">if</span> (pagesize == 0)</div>
<div class="line"><span class="lineno"> 2067</span>      pagesize = 1;</div>
<div class="line"><span class="lineno"> 2068</span>    paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 2069</span>    paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr;</div>
<div class="line"><span class="lineno"> 2070</span>    cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache;</div>
<div class="line"><span class="lineno"> 2071</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lfuse&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 2072</span>       strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2073</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a916d3b939cb7adf0c27d80249ec802bf">CMD_PROGRAM_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a32254f3f19dd5f1eae3b788288fc388b">CMD_PROGRAM_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2074</span>    addr = 0;</div>
<div class="line"><span class="lineno"> 2075</span>    pulsewidth = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aa5617883ad21e3a5957b216a09e3a6db">programfusepulsewidth</a>;</div>
<div class="line"><span class="lineno"> 2076</span>    timeout = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a449e1772bd3f9cb817d6a0f2b57dc4ce">programfusepolltimeout</a>;</div>
<div class="line"><span class="lineno"> 2077</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;hfuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2078</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a916d3b939cb7adf0c27d80249ec802bf">CMD_PROGRAM_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a32254f3f19dd5f1eae3b788288fc388b">CMD_PROGRAM_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2079</span>    addr = 1;</div>
<div class="line"><span class="lineno"> 2080</span>    pulsewidth = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aa5617883ad21e3a5957b216a09e3a6db">programfusepulsewidth</a>;</div>
<div class="line"><span class="lineno"> 2081</span>    timeout = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a449e1772bd3f9cb817d6a0f2b57dc4ce">programfusepolltimeout</a>;</div>
<div class="line"><span class="lineno"> 2082</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;efuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2083</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a916d3b939cb7adf0c27d80249ec802bf">CMD_PROGRAM_FUSE_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a32254f3f19dd5f1eae3b788288fc388b">CMD_PROGRAM_FUSE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2084</span>    addr = 2;</div>
<div class="line"><span class="lineno"> 2085</span>    pulsewidth = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aa5617883ad21e3a5957b216a09e3a6db">programfusepulsewidth</a>;</div>
<div class="line"><span class="lineno"> 2086</span>    timeout = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a449e1772bd3f9cb817d6a0f2b57dc4ce">programfusepolltimeout</a>;</div>
<div class="line"><span class="lineno"> 2087</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2088</span>    buf[0] = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6dfcf6612e49885a4d27301f66465788">mode</a> == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae7408cf8b8ace929c635b4dbb9fcec9c">CMD_PROGRAM_LOCK_PP</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a6dae46b622f80cc0839782da61f8a586">CMD_PROGRAM_LOCK_HVSP</a>;</div>
<div class="line"><span class="lineno"> 2089</span>    pulsewidth = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8c22edd1f4f72d6175a1aac5556288f5">programlockpulsewidth</a>;</div>
<div class="line"><span class="lineno"> 2090</span>    timeout = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9f721184dd87f99d19653b40bdc637c">programlockpolltimeout</a>;</div>
<div class="line"><span class="lineno"> 2091</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2092</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_write_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2093</span>                    <span class="stringliteral">&quot;unsupported memory type: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2094</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 2095</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2096</span>  }</div>
<div class="line"><span class="lineno"> 2097</span> </div>
<div class="line"><span class="lineno"> 2098</span>  cmdlen = 5 + pagesize;</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2101</span><span class="comment">   * In HV mode, we have to use paged writes for flash and</span></div>
<div class="line"><span class="lineno"> 2102</span><span class="comment">   * EEPROM.  As both, flash and EEPROM cells can only be programmed</span></div>
<div class="line"><span class="lineno"> 2103</span><span class="comment">   * from `1&#39; to `0&#39; bits (even EEPROM does not support auto-erase in</span></div>
<div class="line"><span class="lineno"> 2104</span><span class="comment">   * parallel mode), we just pre-fill the page cache with 0xff, so all</span></div>
<div class="line"><span class="lineno"> 2105</span><span class="comment">   * those cells that are outside our current address will remain</span></div>
<div class="line"><span class="lineno"> 2106</span><span class="comment">   * unaffected.</span></div>
<div class="line"><span class="lineno"> 2107</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 2108</span>  <span class="keywordflow">if</span> (pagesize) {</div>
<div class="line"><span class="lineno"> 2109</span>    memset(cache_ptr, 0xff, pagesize);</div>
<div class="line"><span class="lineno"> 2110</span>    cache_ptr[addr &amp; (pagesize - 1)] = data;</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>    <span class="comment">/* long command, fill in # of bytes */</span></div>
<div class="line"><span class="lineno"> 2113</span>    buf[1] = (pagesize &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2114</span>    buf[2] = pagesize &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2117</span><span class="comment">     * Synthesize the mode byte.  This is simpler than adding yet</span></div>
<div class="line"><span class="lineno"> 2118</span><span class="comment">     * another parameter to the avrdude.conf file.  We calculate the</span></div>
<div class="line"><span class="lineno"> 2119</span><span class="comment">     * bits corresponding to the page size, as explained in AVR068.</span></div>
<div class="line"><span class="lineno"> 2120</span><span class="comment">     * We set bit 7, to indicate this is to actually write the page to</span></div>
<div class="line"><span class="lineno"> 2121</span><span class="comment">     * the target device.  We set bit 6 to indicate this is the very</span></div>
<div class="line"><span class="lineno"> 2122</span><span class="comment">     * last page to be programmed, whatever this means -- we just</span></div>
<div class="line"><span class="lineno"> 2123</span><span class="comment">     * pretend we don&#39;t know any better. ;-)  Bit 0 is set if this is</span></div>
<div class="line"><span class="lineno"> 2124</span><span class="comment">     * a paged memory, which means it has a page size of more than 2.</span></div>
<div class="line"><span class="lineno"> 2125</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2126</span>    buf[3] = 0x80 | 0x40;</div>
<div class="line"><span class="lineno"> 2127</span>    <span class="keywordflow">if</span> (pagesize &gt; 2) {</div>
<div class="line"><span class="lineno"> 2128</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a39116cb98b0706f3f92a4a6faf89226c">stk500v2_mode_for_pagesize</a>(pagesize);</div>
<div class="line"><span class="lineno"> 2129</span>      <span class="keywordflow">if</span> (rv == 0)</div>
<div class="line"><span class="lineno"> 2130</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2131</span>      buf[3] |= rv;</div>
<div class="line"><span class="lineno"> 2132</span>      buf[3] |= 0x01;</div>
<div class="line"><span class="lineno"> 2133</span>    }</div>
<div class="line"><span class="lineno"> 2134</span>    buf[4] = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ab230cd82326131a6ba7fb6d9ba851c8e">delay</a>;</div>
<div class="line"><span class="lineno"> 2135</span>    memcpy(buf + 5, cache_ptr, pagesize);</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>    <span class="comment">/* flash and EEPROM reads require the load address command */</span></div>
<div class="line"><span class="lineno"> 2138</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (paddr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2139</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2140</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2141</span>    buf[1] = (char)addr;</div>
<div class="line"><span class="lineno"> 2142</span>    buf[2] = <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#ada90c89c458a0d53c483e767de7b7701">data</a>;</div>
<div class="line"><span class="lineno"> 2143</span>    <span class="keywordflow">if</span> (mode == <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>) {</div>
<div class="line"><span class="lineno"> 2144</span>      buf[3] = pulsewidth;</div>
<div class="line"><span class="lineno"> 2145</span>      buf[4] = timeout;</div>
<div class="line"><span class="lineno"> 2146</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2147</span>      buf[3] = timeout;</div>
<div class="line"><span class="lineno"> 2148</span>      cmdlen--;</div>
<div class="line"><span class="lineno"> 2149</span>    }</div>
<div class="line"><span class="lineno"> 2150</span>  }</div>
<div class="line"><span class="lineno"> 2151</span> </div>
<div class="line"><span class="lineno"> 2152</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500hv_write_byte(): Sending write memory command: &quot;</span>,</div>
<div class="line"><span class="lineno"> 2153</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2154</span> </div>
<div class="line"><span class="lineno"> 2155</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, cmdlen, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2156</span> </div>
<div class="line"><span class="lineno"> 2157</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2158</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500hv_write_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2159</span>                    <span class="stringliteral">&quot;timeout/error communicating with programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2160</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2161</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2162</span>  }</div>
<div class="line"><span class="lineno"> 2163</span> </div>
<div class="line"><span class="lineno"> 2164</span>  <span class="keywordflow">if</span> (pagesize) {</div>
<div class="line"><span class="lineno"> 2165</span>    <span class="comment">/* Invalidate the page cache. */</span></div>
<div class="line"><span class="lineno"> 2166</span>    *paddr_ptr = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>)-1L;</div>
<div class="line"><span class="lineno"> 2167</span>  }</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2170</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a449e1772bd3f9cb817d6a0f2b57dc4ce"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a449e1772bd3f9cb817d6a0f2b57dc4ce">avrpart::programfusepolltimeout</a></div><div class="ttdeci">int programfusepolltimeout</div><div class="ttdef"><b>Definition</b> libavrdude.h:261</div></div>
<div class="ttc" id="alibavrdude_8h_html_a8c22edd1f4f72d6175a1aac5556288f5"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a8c22edd1f4f72d6175a1aac5556288f5">avrpart::programlockpulsewidth</a></div><div class="ttdeci">int programlockpulsewidth</div><div class="ttdef"><b>Definition</b> libavrdude.h:262</div></div>
<div class="ttc" id="alibavrdude_8h_html_aa5617883ad21e3a5957b216a09e3a6db"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aa5617883ad21e3a5957b216a09e3a6db">avrpart::programfusepulsewidth</a></div><div class="ttdeci">int programfusepulsewidth</div><div class="ttdef"><b>Definition</b> libavrdude.h:260</div></div>
<div class="ttc" id="alibavrdude_8h_html_ae9f721184dd87f99d19653b40bdc637c"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ae9f721184dd87f99d19653b40bdc637c">avrpart::programlockpolltimeout</a></div><div class="ttdeci">int programlockpolltimeout</div><div class="ttdef"><b>Definition</b> libavrdude.h:263</div></div>
<div class="ttc" id="anamespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail_html_ada90c89c458a0d53c483e767de7b7701"><div class="ttname"><a href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#ada90c89c458a0d53c483e767de7b7701">TCB_SPAN_NAMESPACE_NAME::detail::data</a></div><div class="ttdeci">constexpr auto data(C &amp;c) -&gt; decltype(c.data())</div><div class="ttdef"><b>Definition</b> span.hpp:195</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a32254f3f19dd5f1eae3b788288fc388b"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a32254f3f19dd5f1eae3b788288fc388b">CMD_PROGRAM_FUSE_HVSP</a></div><div class="ttdeci">#define CMD_PROGRAM_FUSE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:76</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a6dae46b622f80cc0839782da61f8a586"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a6dae46b622f80cc0839782da61f8a586">CMD_PROGRAM_LOCK_HVSP</a></div><div class="ttdeci">#define CMD_PROGRAM_LOCK_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:78</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a916d3b939cb7adf0c27d80249ec802bf"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a916d3b939cb7adf0c27d80249ec802bf">CMD_PROGRAM_FUSE_PP</a></div><div class="ttdeci">#define CMD_PROGRAM_FUSE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:58</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae7408cf8b8ace929c635b4dbb9fcec9c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae7408cf8b8ace929c635b4dbb9fcec9c">CMD_PROGRAM_LOCK_PP</a></div><div class="ttdeci">#define CMD_PROGRAM_LOCK_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:60</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00074">CMD_PROGRAM_EEPROM_HVSP</a>, <a class="el" href="../../#l00056">CMD_PROGRAM_EEPROM_PP</a>, <a class="el" href="../../#l00072">CMD_PROGRAM_FLASH_HVSP</a>, <a class="el" href="../../#l00054">CMD_PROGRAM_FLASH_PP</a>, <a class="el" href="../../#l00076">CMD_PROGRAM_FUSE_HVSP</a>, <a class="el" href="../../#l00058">CMD_PROGRAM_FUSE_PP</a>, <a class="el" href="../../#l00078">CMD_PROGRAM_LOCK_HVSP</a>, <a class="el" href="../../#l00060">CMD_PROGRAM_LOCK_PP</a>, <a class="el" href="../../#l00299">avrmem::delay</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00029">long</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00261">avrpart::programfusepolltimeout</a>, <a class="el" href="../../#l00260">avrpart::programfusepulsewidth</a>, <a class="el" href="../../#l00263">avrpart::programlockpolltimeout</a>, <a class="el" href="../../#l00262">avrpart::programlockpulsewidth</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>, and <a class="el" href="../../#l02904">stk500v2_mode_for_pagesize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02184">stk500hvsp_write_byte()</a>, and <a class="el" href="../../#l02175">stk500pp_write_byte()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abb560ef255d6e647623e64bbce92b369_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abb560ef255d6e647623e64bbce92b369_icgraph.svg" width="559" height="315"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af4adf76d10a8645357344c4df090128e" name="af4adf76d10a8645357344c4df090128e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4adf76d10a8645357344c4df090128e">&#9670;&#160;</a></span>stk500hvsp_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_chip_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1076</span>{</div>
<div class="line"><span class="lineno"> 1077</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#addf7c0ab77d04527d8f283aaf6fdb8c8">stk500hv_chip_erase</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 1078</span>}</div>
<div class="ttc" id="astk500v2_8c_html_addf7c0ab77d04527d8f283aaf6fdb8c8"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#addf7c0ab77d04527d8f283aaf6fdb8c8">stk500hv_chip_erase</a></div><div class="ttdeci">static int stk500hv_chip_erase(PROGRAMMER *pgm, AVRPART *p, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1039</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l01039">stk500hv_chip_erase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_af4adf76d10a8645357344c4df090128e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_af4adf76d10a8645357344c4df090128e_icgraph.svg" width="372" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8021345ebff90ad52b757ed9dd306775" name="a8021345ebff90ad52b757ed9dd306775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8021345ebff90ad52b757ed9dd306775">&#9670;&#160;</a></span>stk500hvsp_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500hvsp_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1629</span>{</div>
<div class="line"><span class="lineno"> 1630</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a105fc857838e681626a415ec6df663dc">stk500hv_disable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 1631</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a105fc857838e681626a415ec6df663dc"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a105fc857838e681626a415ec6df663dc">stk500hv_disable</a></div><div class="ttdeci">static void stk500hv_disable(PROGRAMMER *pgm, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1589</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l01589">stk500hv_disable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8021345ebff90ad52b757ed9dd306775_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8021345ebff90ad52b757ed9dd306775_icgraph.svg" width="351" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afa0abec32479b44383e065453bac2fc8" name="afa0abec32479b44383e065453bac2fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0abec32479b44383e065453bac2fc8">&#9670;&#160;</a></span>stk500hvsp_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1539</span>{</div>
<div class="line"><span class="lineno"> 1540</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad01fa3510bb6ffe95e2ec362040beb65">stk500hv_initialize</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 1541</span>}</div>
<div class="ttc" id="astk500v2_8c_html_ad01fa3510bb6ffe95e2ec362040beb65"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ad01fa3510bb6ffe95e2ec362040beb65">stk500hv_initialize</a></div><div class="ttdeci">static int stk500hv_initialize(PROGRAMMER *pgm, AVRPART *p, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1460</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l01460">stk500hv_initialize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afa0abec32479b44383e065453bac2fc8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afa0abec32479b44383e065453bac2fc8_icgraph.svg" width="356" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acc1692183dbdb01f25b8324283f2a765" name="acc1692183dbdb01f25b8324283f2a765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc1692183dbdb01f25b8324283f2a765">&#9670;&#160;</a></span>stk500hvsp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500hvsp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4494</span>{</div>
<div class="line"><span class="lineno"> 4495</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK500HVSP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4496</span> </div>
<div class="line"><span class="lineno"> 4497</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4498</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4499</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4500</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa0abec32479b44383e065453bac2fc8">stk500hvsp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4501</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4502</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4503</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8021345ebff90ad52b757ed9dd306775">stk500hvsp_disable</a>;</div>
<div class="line"><span class="lineno"> 4504</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3334252dbcd73fd10b3bca365dba7164">stk500hvsp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4505</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#af4adf76d10a8645357344c4df090128e">stk500hvsp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4506</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a243d065860071d9f70f7140caf9c93c9">stk500v2_open</a>;</div>
<div class="line"><span class="lineno"> 4507</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4508</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a372b1145433b6eca34aae30931ea51de">stk500hvsp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4509</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4424032eca15d81331cb9d56b505ff81">stk500hvsp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4510</span> </div>
<div class="line"><span class="lineno"> 4511</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4512</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4513</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4514</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa988b090ca3c21e80e5ee9840a202270">stk500hvsp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4515</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a96ed412645f5aa937520725fd16b69fc">stk500hvsp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4516</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4517</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4518</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4519</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4520</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a520221b86d058c8694efa7c34cf902ee">stk500v2_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4521</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4522</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4523</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4524</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a03d3188b2eddd4acdb67cd6f11ea8ae5"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a></div><div class="ttdeci">static void stk500v2_close(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1769</div></div>
<div class="ttc" id="astk500v2_8c_html_a107c0c6cc1f91d5b09cd2c5589f1de0c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a></div><div class="ttdeci">static void stk500v2_print_parms(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3421</div></div>
<div class="ttc" id="astk500v2_8c_html_a243d065860071d9f70f7140caf9c93c9"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a243d065860071d9f70f7140caf9c93c9">stk500v2_open</a></div><div class="ttdeci">static int stk500v2_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1639</div></div>
<div class="ttc" id="astk500v2_8c_html_a3334252dbcd73fd10b3bca365dba7164"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a3334252dbcd73fd10b3bca365dba7164">stk500hvsp_program_enable</a></div><div class="ttdeci">static int stk500hvsp_program_enable(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1260</div></div>
<div class="ttc" id="astk500v2_8c_html_a372b1145433b6eca34aae30931ea51de"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a372b1145433b6eca34aae30931ea51de">stk500hvsp_read_byte</a></div><div class="ttdeci">static int stk500hvsp_read_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1924</div></div>
<div class="ttc" id="astk500v2_8c_html_a4424032eca15d81331cb9d56b505ff81"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a4424032eca15d81331cb9d56b505ff81">stk500hvsp_write_byte</a></div><div class="ttdeci">static int stk500hvsp_write_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char data)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2184</div></div>
<div class="ttc" id="astk500v2_8c_html_a471fbd95924ed56417a08dc8375bf4df"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a></div><div class="ttdeci">static int stk500v2_set_fosc(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2812</div></div>
<div class="ttc" id="astk500v2_8c_html_a520221b86d058c8694efa7c34cf902ee"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a520221b86d058c8694efa7c34cf902ee">stk500v2_set_sck_period</a></div><div class="ttdeci">static int stk500v2_set_sck_period(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2933</div></div>
<div class="ttc" id="astk500v2_8c_html_a547b9897987fa0e5eb79c9dad233f340"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a></div><div class="ttdeci">static void stk500v2_display(PROGRAMMER *pgm, const char *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3216</div></div>
<div class="ttc" id="astk500v2_8c_html_a5e4ef5c83cc64542af42cd4ffa1d1062"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a></div><div class="ttdeci">static int stk500v2_set_varef(PROGRAMMER *pgm, unsigned int chan, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2789</div></div>
<div class="ttc" id="astk500v2_8c_html_a6c79486fe233e30d482e7dc145a21c4c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a></div><div class="ttdeci">void stk500v2_setup(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:295</div></div>
<div class="ttc" id="astk500v2_8c_html_a7b95e118ea7b94e35892427c5017019c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a></div><div class="ttdeci">static void stk500v2_enable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1633</div></div>
<div class="ttc" id="astk500v2_8c_html_a8021345ebff90ad52b757ed9dd306775"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a8021345ebff90ad52b757ed9dd306775">stk500hvsp_disable</a></div><div class="ttdeci">static void stk500hvsp_disable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1628</div></div>
<div class="ttc" id="astk500v2_8c_html_a96ed412645f5aa937520725fd16b69fc"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a96ed412645f5aa937520725fd16b69fc">stk500hvsp_paged_load</a></div><div class="ttdeci">static int stk500hvsp_paged_load(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2750</div></div>
<div class="ttc" id="astk500v2_8c_html_aa968e166a3556d3ab3fc0c7bd8ef96e6"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a></div><div class="ttdeci">static int stk500v2_set_vtarget(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2766</div></div>
<div class="ttc" id="astk500v2_8c_html_aa988b090ca3c21e80e5ee9840a202270"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa988b090ca3c21e80e5ee9840a202270">stk500hvsp_paged_write</a></div><div class="ttdeci">static int stk500hvsp_paged_write(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2560</div></div>
<div class="ttc" id="astk500v2_8c_html_ae5d6d4a065ab2901f068aae763d3a3f6"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a></div><div class="ttdeci">void stk500v2_teardown(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:354</div></div>
<div class="ttc" id="astk500v2_8c_html_af4adf76d10a8645357344c4df090128e"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#af4adf76d10a8645357344c4df090128e">stk500hvsp_chip_erase</a></div><div class="ttdeci">static int stk500hvsp_chip_erase(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1075</div></div>
<div class="ttc" id="astk500v2_8c_html_afa0abec32479b44383e065453bac2fc8"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afa0abec32479b44383e065453bac2fc8">stk500hvsp_initialize</a></div><div class="ttdeci">static int stk500hvsp_initialize(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1538</div></div>
<div class="ttc" id="astructprogrammer__t_html_a01e72d231ae9cfb477d4b17e59b99629"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">programmer_t::display</a></div><div class="ttdeci">void(* display)(struct programmer_t *pgm, const char *p)</div><div class="ttdef"><b>Definition</b> libavrdude.h:644</div></div>
<div class="ttc" id="astructprogrammer__t_html_a02603524a905f4b009aceb14dd60b6d9"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">programmer_t::paged_write</a></div><div class="ttdeci">int(* paged_write)(struct programmer_t *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int baseaddr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> libavrdude.h:659</div></div>
<div class="ttc" id="astructprogrammer__t_html_a14c5e9e18079ec111751178160e414da"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">programmer_t::open</a></div><div class="ttdeci">int(* open)(struct programmer_t *pgm, char *port)</div><div class="ttdef"><b>Definition</b> libavrdude.h:657</div></div>
<div class="ttc" id="astructprogrammer__t_html_a17124abbb6d4c05c4d467687c0b9ea18"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">programmer_t::read_byte</a></div><div class="ttdeci">int(* read_byte)(struct programmer_t *pgm, AVRPART *p, AVRMEM *m, unsigned long addr, unsigned char *value)</div><div class="ttdef"><b>Definition</b> libavrdude.h:670</div></div>
<div class="ttc" id="astructprogrammer__t_html_a1c1ce727dac1ad33cb55a178e7930641"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">programmer_t::paged_load</a></div><div class="ttdeci">int(* paged_load)(struct programmer_t *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int baseaddr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> libavrdude.h:662</div></div>
<div class="ttc" id="astructprogrammer__t_html_a2de080c8f81841e76898945ef495e12a"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">programmer_t::set_vtarget</a></div><div class="ttdeci">int(* set_vtarget)(struct programmer_t *pgm, double v)</div><div class="ttdef"><b>Definition</b> libavrdude.h:674</div></div>
<div class="ttc" id="astructprogrammer__t_html_a6c5a6e2f6821c3bbc9b0a6a88eb1c721"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">programmer_t::teardown</a></div><div class="ttdeci">void(* teardown)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:685</div></div>
<div class="ttc" id="astructprogrammer__t_html_a6ff8f9e22a68ae903a5bc973a4f4141b"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">programmer_t::set_varef</a></div><div class="ttdeci">int(* set_varef)(struct programmer_t *pgm, unsigned int chan, double v)</div><div class="ttdef"><b>Definition</b> libavrdude.h:675</div></div>
<div class="ttc" id="astructprogrammer__t_html_a91c23b20622f9f9d521b376ab06fb766"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">programmer_t::enable</a></div><div class="ttdeci">void(* enable)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:645</div></div>
<div class="ttc" id="astructprogrammer__t_html_ab29618c5cfd46d946b8a22016d28f839"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">programmer_t::write_byte</a></div><div class="ttdeci">int(* write_byte)(struct programmer_t *pgm, AVRPART *p, AVRMEM *m, unsigned long addr, unsigned char value)</div><div class="ttdef"><b>Definition</b> libavrdude.h:668</div></div>
<div class="ttc" id="astructprogrammer__t_html_ab704996c4ccf74bf902ac3106a424908"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">programmer_t::setup</a></div><div class="ttdeci">void(* setup)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:684</div></div>
<div class="ttc" id="astructprogrammer__t_html_ab879a0d96e15edac4bed2b71108f82e2"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">programmer_t::set_fosc</a></div><div class="ttdeci">int(* set_fosc)(struct programmer_t *pgm, double v)</div><div class="ttdef"><b>Definition</b> libavrdude.h:676</div></div>
<div class="ttc" id="astructprogrammer__t_html_ab8db818b578df1b356e69f888b960bf3"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">programmer_t::print_parms</a></div><div class="ttdeci">void(* print_parms)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:673</div></div>
<div class="ttc" id="astructprogrammer__t_html_adb113747399343501adc958df6c201ff"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">programmer_t::type</a></div><div class="ttdeci">char type[PGM_TYPELEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:619</div></div>
<div class="ttc" id="astructprogrammer__t_html_aec89a5e18122747ecc59ebb94eea0787"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">programmer_t::close</a></div><div class="ttdeci">void(* close)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:658</div></div>
<div class="ttc" id="astructprogrammer__t_html_af0595cb3de1cb4184cf2469de0c60452"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">programmer_t::set_sck_period</a></div><div class="ttdeci">int(* set_sck_period)(struct programmer_t *pgm, double v)</div><div class="ttdef"><b>Definition</b> libavrdude.h:677</div></div>
<div class="ttc" id="astructprogrammer__t_html_af29e4f48b086ad45c22e2295d8198fac"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">programmer_t::chip_erase</a></div><div class="ttdeci">int(* chip_erase)(struct programmer_t *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> libavrdude.h:650</div></div>
<div class="ttc" id="astructprogrammer__t_html_af379e8b085ee2b46653d59beb51a0018"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">programmer_t::disable</a></div><div class="ttdeci">void(* disable)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:646</div></div>
<div class="ttc" id="astructprogrammer__t_html_afbc0c1b0a1f51005bdd38417918cb7d2"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">programmer_t::page_size</a></div><div class="ttdeci">int page_size</div><div class="ttdef"><b>Definition</b> libavrdude.h:638</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01075">stk500hvsp_chip_erase()</a>, <a class="el" href="../../#l01628">stk500hvsp_disable()</a>, <a class="el" href="../../#l01538">stk500hvsp_initialize()</a>, <a class="el" href="../../#l02750">stk500hvsp_paged_load()</a>, <a class="el" href="../../#l02560">stk500hvsp_paged_write()</a>, <a class="el" href="../../#l01260">stk500hvsp_program_enable()</a>, <a class="el" href="../../#l01924">stk500hvsp_read_byte()</a>, <a class="el" href="../../#l02184">stk500hvsp_write_byte()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01639">stk500v2_open()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02933">stk500v2_set_sck_period()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_acc1692183dbdb01f25b8324283f2a765_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a96ed412645f5aa937520725fd16b69fc" name="a96ed412645f5aa937520725fd16b69fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ed412645f5aa937520725fd16b69fc">&#9670;&#160;</a></span>stk500hvsp_paged_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_paged_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2753</span>{</div>
<div class="line"><span class="lineno"> 2754</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa6a56734bbbc3dd473b96f15b6c97e25">stk500hv_paged_load</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, m, page_size, addr, n_bytes, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 2755</span>}</div>
<div class="ttc" id="astk500v2_8c_html_aa6a56734bbbc3dd473b96f15b6c97e25"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa6a56734bbbc3dd473b96f15b6c97e25">stk500hv_paged_load</a></div><div class="ttdeci">static int stk500hv_paged_load(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2661</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l02661">stk500hv_paged_load()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a96ed412645f5aa937520725fd16b69fc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a96ed412645f5aa937520725fd16b69fc_icgraph.svg" width="376" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa988b090ca3c21e80e5ee9840a202270" name="aa988b090ca3c21e80e5ee9840a202270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa988b090ca3c21e80e5ee9840a202270">&#9670;&#160;</a></span>stk500hvsp_paged_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_paged_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2563</span>{</div>
<div class="line"><span class="lineno"> 2564</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a66c7933b5868c4be23063b03cc483ee4">stk500hv_paged_write</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, m, page_size, addr, n_bytes, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 2565</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a66c7933b5868c4be23063b03cc483ee4"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a66c7933b5868c4be23063b03cc483ee4">stk500hv_paged_write</a></div><div class="ttdeci">static int stk500hv_paged_write(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2455</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l02455">stk500hv_paged_write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa988b090ca3c21e80e5ee9840a202270_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa988b090ca3c21e80e5ee9840a202270_icgraph.svg" width="380" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3334252dbcd73fd10b3bca365dba7164" name="a3334252dbcd73fd10b3bca365dba7164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3334252dbcd73fd10b3bca365dba7164">&#9670;&#160;</a></span>stk500hvsp_program_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_program_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1261</span>{</div>
<div class="line"><span class="lineno"> 1262</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart = p;</div>
<div class="line"><span class="lineno"> 1265</span> </div>
<div class="line"><span class="lineno"> 1266</span>  buf[0] = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600?</div>
<div class="line"><span class="lineno"> 1267</span>  <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5caa604610ef5c6dd70094b62b6fcfad">CMD_ENTER_PROGMODE_HVSP_STK600</a>:</div>
<div class="line"><span class="lineno"> 1268</span>  <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a1146a9ea734baa01b6d32c9e23899017">CMD_ENTER_PROGMODE_HVSP</a>;</div>
<div class="line"><span class="lineno"> 1269</span>  buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8b5e28a6cb31a2ee54321b3c9888fcc4">hventerstabdelay</a>;</div>
<div class="line"><span class="lineno"> 1270</span>  buf[2] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#add326ea50048dd51f11115ed26dc468b">hvspcmdexedelay</a>;</div>
<div class="line"><span class="lineno"> 1271</span>  buf[3] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5071ebbc800fe519460fbfc215354237">synchcycles</a>;</div>
<div class="line"><span class="lineno"> 1272</span>  buf[4] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aff6690c79cf86db6f61e8a65543b3420">latchcycles</a>;</div>
<div class="line"><span class="lineno"> 1273</span>  buf[5] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aae3ee01a9025ef3565dd7f17edcf1a6b">togglevtg</a>;</div>
<div class="line"><span class="lineno"> 1274</span>  buf[6] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a03fd143e4918a38418d7dac542e25710">poweroffdelay</a>;</div>
<div class="line"><span class="lineno"> 1275</span>  buf[7] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a305d8453bfc15e22bdbd0c50a4ef48fd">resetdelayms</a>;</div>
<div class="line"><span class="lineno"> 1276</span>  buf[8] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a18ee29c9062816a0d7dd8cccc5f7537e">resetdelayus</a>;</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 9, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1279</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a03fd143e4918a38418d7dac542e25710"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a03fd143e4918a38418d7dac542e25710">avrpart::poweroffdelay</a></div><div class="ttdeci">int poweroffdelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:252</div></div>
<div class="ttc" id="alibavrdude_8h_html_a18ee29c9062816a0d7dd8cccc5f7537e"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a18ee29c9062816a0d7dd8cccc5f7537e">avrpart::resetdelayus</a></div><div class="ttdeci">int resetdelayus</div><div class="ttdef"><b>Definition</b> libavrdude.h:254</div></div>
<div class="ttc" id="alibavrdude_8h_html_a305d8453bfc15e22bdbd0c50a4ef48fd"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a305d8453bfc15e22bdbd0c50a4ef48fd">avrpart::resetdelayms</a></div><div class="ttdeci">int resetdelayms</div><div class="ttdef"><b>Definition</b> libavrdude.h:253</div></div>
<div class="ttc" id="alibavrdude_8h_html_a5071ebbc800fe519460fbfc215354237"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a5071ebbc800fe519460fbfc215354237">avrpart::synchcycles</a></div><div class="ttdeci">int synchcycles</div><div class="ttdef"><b>Definition</b> libavrdude.h:264</div></div>
<div class="ttc" id="alibavrdude_8h_html_a8b5e28a6cb31a2ee54321b3c9888fcc4"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a8b5e28a6cb31a2ee54321b3c9888fcc4">avrpart::hventerstabdelay</a></div><div class="ttdeci">int hventerstabdelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:248</div></div>
<div class="ttc" id="alibavrdude_8h_html_aae3ee01a9025ef3565dd7f17edcf1a6b"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aae3ee01a9025ef3565dd7f17edcf1a6b">avrpart::togglevtg</a></div><div class="ttdeci">int togglevtg</div><div class="ttdef"><b>Definition</b> libavrdude.h:251</div></div>
<div class="ttc" id="alibavrdude_8h_html_add326ea50048dd51f11115ed26dc468b"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#add326ea50048dd51f11115ed26dc468b">avrpart::hvspcmdexedelay</a></div><div class="ttdeci">int hvspcmdexedelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:265</div></div>
<div class="ttc" id="alibavrdude_8h_html_aff6690c79cf86db6f61e8a65543b3420"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aff6690c79cf86db6f61e8a65543b3420">avrpart::latchcycles</a></div><div class="ttdeci">int latchcycles</div><div class="ttdef"><b>Definition</b> libavrdude.h:250</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a1146a9ea734baa01b6d32c9e23899017"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a1146a9ea734baa01b6d32c9e23899017">CMD_ENTER_PROGMODE_HVSP</a></div><div class="ttdeci">#define CMD_ENTER_PROGMODE_HVSP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:69</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a5caa604610ef5c6dd70094b62b6fcfad"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a5caa604610ef5c6dd70094b62b6fcfad">CMD_ENTER_PROGMODE_HVSP_STK600</a></div><div class="ttdeci">#define CMD_ENTER_PROGMODE_HVSP_STK600</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:84</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00069">CMD_ENTER_PROGMODE_HVSP</a>, <a class="el" href="../../#l00084">CMD_ENTER_PROGMODE_HVSP_STK600</a>, <a class="el" href="../../#l00248">avrpart::hventerstabdelay</a>, <a class="el" href="../../#l00265">avrpart::hvspcmdexedelay</a>, <a class="el" href="../../#l00250">avrpart::latchcycles</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00252">avrpart::poweroffdelay</a>, <a class="el" href="../../#l00253">avrpart::resetdelayms</a>, <a class="el" href="../../#l00254">avrpart::resetdelayus</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l00264">avrpart::synchcycles</a>, and <a class="el" href="../../#l00251">avrpart::togglevtg</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3334252dbcd73fd10b3bca365dba7164_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3334252dbcd73fd10b3bca365dba7164_icgraph.svg" width="356" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a372b1145433b6eca34aae30931ea51de" name="a372b1145433b6eca34aae30931ea51de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372b1145433b6eca34aae30931ea51de">&#9670;&#160;</a></span>stk500hvsp_read_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_read_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1926</span>{</div>
<div class="line"><span class="lineno"> 1927</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae540fe448dc835113053b4e557ceb02c">stk500hv_read_byte</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, addr, value, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 1928</span>}</div>
<div class="ttc" id="astk500v2_8c_html_ae540fe448dc835113053b4e557ceb02c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ae540fe448dc835113053b4e557ceb02c">stk500hv_read_byte</a></div><div class="ttdeci">static int stk500hv_read_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char *value, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1806</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l01806">stk500hv_read_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a372b1145433b6eca34aae30931ea51de_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a372b1145433b6eca34aae30931ea51de_icgraph.svg" width="367" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4424032eca15d81331cb9d56b505ff81" name="a4424032eca15d81331cb9d56b505ff81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4424032eca15d81331cb9d56b505ff81">&#9670;&#160;</a></span>stk500hvsp_write_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500hvsp_write_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2186</span>{</div>
<div class="line"><span class="lineno"> 2187</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abb560ef255d6e647623e64bbce92b369">stk500hv_write_byte</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, addr, data, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361a2d2937a978598a4dae03c2b45be408ad">HVSPMODE</a>);</div>
<div class="line"><span class="lineno"> 2188</span>}</div>
<div class="ttc" id="astk500v2_8c_html_abb560ef255d6e647623e64bbce92b369"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#abb560ef255d6e647623e64bbce92b369">stk500hv_write_byte</a></div><div class="ttdeci">static int stk500hv_write_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char data, enum hvmode mode)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2034</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">HVSPMODE</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l02034">stk500hv_write_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4424032eca15d81331cb9d56b505ff81_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4424032eca15d81331cb9d56b505ff81_icgraph.svg" width="370" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa3eee9d9400e08067da3754f2fcf9f2e" name="aa3eee9d9400e08067da3754f2fcf9f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3eee9d9400e08067da3754f2fcf9f2e">&#9670;&#160;</a></span>stk500isp_read_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500isp_read_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1938</span>{</div>
<div class="line"><span class="lineno"> 1939</span>  <span class="keywordtype">int</span> result, pollidx;</div>
<div class="line"><span class="lineno"> 1940</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[6];</div>
<div class="line"><span class="lineno"> 1941</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> paddr = 0UL, *paddr_ptr = NULL;</div>
<div class="line"><span class="lineno"> 1942</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pagesize = 0;</div>
<div class="line"><span class="lineno"> 1943</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *cache_ptr = NULL;</div>
<div class="line"><span class="lineno"> 1944</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#dd/d64/structopcode">OPCODE</a> *op;</div>
<div class="line"><span class="lineno"> 1945</span> </div>
<div class="line"><span class="lineno"> 1946</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500isp_read_byte(.., %s, 0x%lx, ...)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1947</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, addr);</div>
<div class="line"><span class="lineno"> 1948</span> </div>
<div class="line"><span class="lineno"> 1949</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 1950</span>      strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1951</span>    <span class="comment">// use paged access, and cache result</span></div>
<div class="line"><span class="lineno"> 1952</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1953</span>      pagesize = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize;</div>
<div class="line"><span class="lineno"> 1954</span>      paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 1955</span>      paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr;</div>
<div class="line"><span class="lineno"> 1956</span>      cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache;</div>
<div class="line"><span class="lineno"> 1957</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1958</span>      pagesize = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1959</span>      <span class="keywordflow">if</span> (pagesize == 0)</div>
<div class="line"><span class="lineno"> 1960</span>  pagesize = 1;</div>
<div class="line"><span class="lineno"> 1961</span>      paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 1962</span>      paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr;</div>
<div class="line"><span class="lineno"> 1963</span>      cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache;</div>
<div class="line"><span class="lineno"> 1964</span>    }</div>
<div class="line"><span class="lineno"> 1965</span> </div>
<div class="line"><span class="lineno"> 1966</span>    <span class="keywordflow">if</span> (paddr == *paddr_ptr) {</div>
<div class="line"><span class="lineno"> 1967</span>      *value = cache_ptr[addr &amp; (pagesize - 1)];</div>
<div class="line"><span class="lineno"> 1968</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1969</span>    }</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, pagesize, paddr, pagesize) &lt; 0)</div>
<div class="line"><span class="lineno"> 1972</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1973</span> </div>
<div class="line"><span class="lineno"> 1974</span>    *paddr_ptr = paddr;</div>
<div class="line"><span class="lineno"> 1975</span>    memcpy(cache_ptr, &amp;mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a>[paddr], pagesize);</div>
<div class="line"><span class="lineno"> 1976</span>    *value = cache_ptr[addr &amp; (pagesize - 1)];</div>
<div class="line"><span class="lineno"> 1977</span> </div>
<div class="line"><span class="lineno"> 1978</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1979</span>  }</div>
<div class="line"><span class="lineno"> 1980</span> </div>
<div class="line"><span class="lineno"> 1981</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lfuse&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 1982</span>       strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1983</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a26d8ec17b10b2b03ae69d2ac52fd77f8">CMD_READ_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1984</span>    addr = 0;</div>
<div class="line"><span class="lineno"> 1985</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;hfuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1986</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a26d8ec17b10b2b03ae69d2ac52fd77f8">CMD_READ_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1987</span>    addr = 1;</div>
<div class="line"><span class="lineno"> 1988</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;efuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1989</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a26d8ec17b10b2b03ae69d2ac52fd77f8">CMD_READ_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1990</span>    addr = 2;</div>
<div class="line"><span class="lineno"> 1991</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1992</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa10c8b22a6f0319339490490ae0a2c0a">CMD_READ_LOCK_ISP</a>;</div>
<div class="line"><span class="lineno"> 1993</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;calibration&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1994</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2c880c875d04a0681c2128d07110d34b">CMD_READ_OSCCAL_ISP</a>;</div>
<div class="line"><span class="lineno"> 1995</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;signature&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1996</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab2c4aed28dd4282edf978f144af2d10a">CMD_READ_SIGNATURE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1997</span>  }</div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>  memset(buf + 1, 0, 5);</div>
<div class="line"><span class="lineno"> 2000</span>  <span class="keywordflow">if</span> ((op = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a484c6883eae70953dbd5d83c2a231e23">AVR_OP_READ</a>]) == NULL) {</div>
<div class="line"><span class="lineno"> 2001</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_read_byte(): invalid operation AVR_OP_READ on %s memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2002</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 2003</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2004</span>  }</div>
<div class="line"><span class="lineno"> 2005</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(op, buf + 2);</div>
<div class="line"><span class="lineno"> 2006</span>  <span class="keywordflow">if</span> ((pollidx = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#a5e86838716281fcc49e5077c1b6d9746">avr_get_output_index</a>(op)) == -1) {</div>
<div class="line"><span class="lineno"> 2007</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_read_byte(): cannot determine pollidx to read %s memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2008</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 2009</span>    pollidx = 3;</div>
<div class="line"><span class="lineno"> 2010</span>  }</div>
<div class="line"><span class="lineno"> 2011</span>  buf[1] = pollidx + 1;</div>
<div class="line"><span class="lineno"> 2012</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#acb3fe8c61399b6f7b252f39c8018a99f">avr_set_addr</a>(op, buf + 2, addr);</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500isp_read_byte(): Sending read memory command: &quot;</span>,</div>
<div class="line"><span class="lineno"> 2015</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2016</span> </div>
<div class="line"><span class="lineno"> 2017</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 6, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2018</span> </div>
<div class="line"><span class="lineno"> 2019</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2020</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_read_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2021</span>                    <span class="stringliteral">&quot;timeout/error communicating with programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2022</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2024</span>  }</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span>  *value = buf[2];</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2029</span>}</div>
<div class="ttc" id="aavrpart_8c_html_a5e86838716281fcc49e5077c1b6d9746"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#a5e86838716281fcc49e5077c1b6d9746">avr_get_output_index</a></div><div class="ttdeci">int avr_get_output_index(OPCODE *op)</div><div class="ttdef"><b>Definition</b> avrpart.c:195</div></div>
<div class="ttc" id="aavrpart_8c_html_acb3fe8c61399b6f7b252f39c8018a99f"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#acb3fe8c61399b6f7b252f39c8018a99f">avr_set_addr</a></div><div class="ttdeci">int avr_set_addr(OPCODE *op, unsigned char *cmd, unsigned long addr)</div><div class="ttdef"><b>Definition</b> avrpart.c:107</div></div>
<div class="ttc" id="aavrpart_8c_html_ad411bdb04fa8abc5d0c89bc81ce9c170"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a></div><div class="ttdeci">int avr_set_bits(OPCODE *op, unsigned char *cmd)</div><div class="ttdef"><b>Definition</b> avrpart.c:80</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a484c6883eae70953dbd5d83c2a231e23"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a484c6883eae70953dbd5d83c2a231e23">AVR_OP_READ</a></div><div class="ttdeci">@ AVR_OP_READ</div><div class="ttdef"><b>Definition</b> libavrdude.h:146</div></div>
<div class="ttc" id="alibavrdude_8h_html_dd/d64/structopcode"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#dd/d64/structopcode">opcode</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:190</div></div>
<div class="ttc" id="astk500v2_8c_html_a5d939c7598902be8862c7ab886e80b38"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a></div><div class="ttdeci">static int stk500v2_paged_load(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2567</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a26d8ec17b10b2b03ae69d2ac52fd77f8"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a26d8ec17b10b2b03ae69d2ac52fd77f8">CMD_READ_FUSE_ISP</a></div><div class="ttdeci">#define CMD_READ_FUSE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:40</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2c880c875d04a0681c2128d07110d34b"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2c880c875d04a0681c2128d07110d34b">CMD_READ_OSCCAL_ISP</a></div><div class="ttdeci">#define CMD_READ_OSCCAL_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:44</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa10c8b22a6f0319339490490ae0a2c0a"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa10c8b22a6f0319339490490ae0a2c0a">CMD_READ_LOCK_ISP</a></div><div class="ttdeci">#define CMD_READ_LOCK_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:42</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ab2c4aed28dd4282edf978f144af2d10a"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ab2c4aed28dd4282edf978f144af2d10a">CMD_READ_SIGNATURE_ISP</a></div><div class="ttdeci">#define CMD_READ_SIGNATURE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:43</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00195">avr_get_output_index()</a>, <a class="el" href="../../#l00146">AVR_OP_READ</a>, <a class="el" href="../../#l00107">avr_set_addr()</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00040">CMD_READ_FUSE_ISP</a>, <a class="el" href="../../#l00042">CMD_READ_LOCK_ISP</a>, <a class="el" href="../../#l00044">CMD_READ_OSCCAL_ISP</a>, <a class="el" href="../../#l00043">CMD_READ_SIGNATURE_ISP</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l02567">stk500v2_paged_load()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa3eee9d9400e08067da3754f2fcf9f2e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa3eee9d9400e08067da3754f2fcf9f2e_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a635e1cc6cb2679b3eb01c50b9fe635c5" name="a635e1cc6cb2679b3eb01c50b9fe635c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a635e1cc6cb2679b3eb01c50b9fe635c5">&#9670;&#160;</a></span>stk500isp_write_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500isp_write_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2196</span>{</div>
<div class="line"><span class="lineno"> 2197</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 2198</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[5];</div>
<div class="line"><span class="lineno"> 2199</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> paddr = 0UL, *paddr_ptr = NULL;</div>
<div class="line"><span class="lineno"> 2200</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pagesize = 0;</div>
<div class="line"><span class="lineno"> 2201</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *cache_ptr = NULL;</div>
<div class="line"><span class="lineno"> 2202</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#dd/d64/structopcode">OPCODE</a> *op;</div>
<div class="line"><span class="lineno"> 2203</span> </div>
<div class="line"><span class="lineno"> 2204</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500isp_write_byte(.., %s, 0x%lx, ...)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2205</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, addr);</div>
<div class="line"><span class="lineno"> 2206</span> </div>
<div class="line"><span class="lineno"> 2207</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 2208</span>      strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2209</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2210</span>      pagesize = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize;</div>
<div class="line"><span class="lineno"> 2211</span>      paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 2212</span>      paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr;</div>
<div class="line"><span class="lineno"> 2213</span>      cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache;</div>
<div class="line"><span class="lineno"> 2214</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2215</span>      pagesize = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 2216</span>      <span class="keywordflow">if</span> (pagesize == 0)</div>
<div class="line"><span class="lineno"> 2217</span>  pagesize = 1;</div>
<div class="line"><span class="lineno"> 2218</span>      paddr = addr &amp; ~(pagesize - 1);</div>
<div class="line"><span class="lineno"> 2219</span>      paddr_ptr = &amp;<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr;</div>
<div class="line"><span class="lineno"> 2220</span>      cache_ptr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache;</div>
<div class="line"><span class="lineno"> 2221</span>    }</div>
<div class="line"><span class="lineno"> 2222</span> </div>
<div class="line"><span class="lineno"> 2223</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2224</span><span class="comment">     * We use paged writes for flash and EEPROM, reading back the</span></div>
<div class="line"><span class="lineno"> 2225</span><span class="comment">     * current page first, modify the byte to write, and write out the</span></div>
<div class="line"><span class="lineno"> 2226</span><span class="comment">     * entire page.</span></div>
<div class="line"><span class="lineno"> 2227</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2228</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, pagesize, paddr, pagesize) &lt; 0)</div>
<div class="line"><span class="lineno"> 2229</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2230</span> </div>
<div class="line"><span class="lineno"> 2231</span>    memcpy(cache_ptr, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + paddr, pagesize);</div>
<div class="line"><span class="lineno"> 2232</span>    *paddr_ptr = paddr;</div>
<div class="line"><span class="lineno"> 2233</span>    cache_ptr[addr &amp; (pagesize - 1)] = data;</div>
<div class="line"><span class="lineno"> 2234</span>    memcpy(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + paddr, cache_ptr, pagesize);</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, pagesize, paddr, pagesize);</div>
<div class="line"><span class="lineno"> 2237</span> </div>
<div class="line"><span class="lineno"> 2238</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2239</span>  }</div>
<div class="line"><span class="lineno"> 2240</span> </div>
<div class="line"><span class="lineno"> 2241</span>  memset(buf, 0, <span class="keyword">sizeof</span> buf);</div>
<div class="line"><span class="lineno"> 2242</span>  <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lfuse&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 2243</span>       strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2244</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a193b784aa5a0c7f2a1c364b7b00e55aa">CMD_PROGRAM_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 2245</span>    addr = 0;</div>
<div class="line"><span class="lineno"> 2246</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;hfuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2247</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a193b784aa5a0c7f2a1c364b7b00e55aa">CMD_PROGRAM_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 2248</span>    addr = 1;</div>
<div class="line"><span class="lineno"> 2249</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;efuse&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2250</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a193b784aa5a0c7f2a1c364b7b00e55aa">CMD_PROGRAM_FUSE_ISP</a>;</div>
<div class="line"><span class="lineno"> 2251</span>    addr = 2;</div>
<div class="line"><span class="lineno"> 2252</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2253</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7c42dca5d5a9ef788491b34c2e096aad">CMD_PROGRAM_LOCK_ISP</a>;</div>
<div class="line"><span class="lineno"> 2254</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2255</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_write_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2256</span>                    <span class="stringliteral">&quot;unsupported memory type: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2257</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 2258</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2259</span>  }</div>
<div class="line"><span class="lineno"> 2260</span> </div>
<div class="line"><span class="lineno"> 2261</span>  <span class="keywordflow">if</span> ((op = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635afe9800a8276d4275e95c75553e4036bf">AVR_OP_WRITE</a>]) == NULL) {</div>
<div class="line"><span class="lineno"> 2262</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_write_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2263</span>                    <span class="stringliteral">&quot;no AVR_OP_WRITE for %s memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2264</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 2265</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2266</span>  }</div>
<div class="line"><span class="lineno"> 2267</span> </div>
<div class="line"><span class="lineno"> 2268</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(op, buf + 1);</div>
<div class="line"><span class="lineno"> 2269</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#acb3fe8c61399b6f7b252f39c8018a99f">avr_set_addr</a>(op, buf + 1, addr);</div>
<div class="line"><span class="lineno"> 2270</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#a2b78970379f7cb021d61b560da074edd">avr_set_input</a>(op, buf + 1, data);</div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: stk500isp_write_byte(): Sending write memory command: &quot;</span>,</div>
<div class="line"><span class="lineno"> 2273</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2274</span> </div>
<div class="line"><span class="lineno"> 2275</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 5, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2278</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500isp_write_byte(): &quot;</span></div>
<div class="line"><span class="lineno"> 2279</span>                    <span class="stringliteral">&quot;timeout/error communicating with programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2280</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2281</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2282</span>  }</div>
<div class="line"><span class="lineno"> 2283</span> </div>
<div class="line"><span class="lineno"> 2284</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2285</span><span class="comment">   * Prevent verification readback to be too fast, see</span></div>
<div class="line"><span class="lineno"> 2286</span><span class="comment">   * https://savannah.nongnu.org/bugs/index.php?42267</span></div>
<div class="line"><span class="lineno"> 2287</span><span class="comment">   *</span></div>
<div class="line"><span class="lineno"> 2288</span><span class="comment">   * After all, this is just an ugly hack working around some</span></div>
<div class="line"><span class="lineno"> 2289</span><span class="comment">   * brokeness in the Atmel firmware starting with the AVRISPmkII (the</span></div>
<div class="line"><span class="lineno"> 2290</span><span class="comment">   * old JTAGICEmkII isn&#39;t affected).  Let&#39;s hope 10 ms of additional</span></div>
<div class="line"><span class="lineno"> 2291</span><span class="comment">   * delay are good enough for everyone.</span></div>
<div class="line"><span class="lineno"> 2292</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 2293</span>  <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#a430a82cab7dcae73945a46a247815dc9">usleep</a>(10000);</div>
<div class="line"><span class="lineno"> 2294</span> </div>
<div class="line"><span class="lineno"> 2295</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2296</span>}</div>
<div class="ttc" id="aavrpart_8c_html_a2b78970379f7cb021d61b560da074edd"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#a2b78970379f7cb021d61b560da074edd">avr_set_input</a></div><div class="ttdeci">int avr_set_input(OPCODE *op, unsigned char *cmd, unsigned char data)</div><div class="ttdef"><b>Definition</b> avrpart.c:136</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635afe9800a8276d4275e95c75553e4036bf"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635afe9800a8276d4275e95c75553e4036bf">AVR_OP_WRITE</a></div><div class="ttdeci">@ AVR_OP_WRITE</div><div class="ttdef"><b>Definition</b> libavrdude.h:147</div></div>
<div class="ttc" id="astk500v2_8c_html_add1f9e8bbecf73ff68ddc8ab3788a7ea"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a></div><div class="ttdeci">static int stk500v2_paged_write(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2298</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a193b784aa5a0c7f2a1c364b7b00e55aa"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a193b784aa5a0c7f2a1c364b7b00e55aa">CMD_PROGRAM_FUSE_ISP</a></div><div class="ttdeci">#define CMD_PROGRAM_FUSE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:39</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7c42dca5d5a9ef788491b34c2e096aad"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7c42dca5d5a9ef788491b34c2e096aad">CMD_PROGRAM_LOCK_ISP</a></div><div class="ttdeci">#define CMD_PROGRAM_LOCK_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00147">AVR_OP_WRITE</a>, <a class="el" href="../../#l00107">avr_set_addr()</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00136">avr_set_input()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00039">CMD_PROGRAM_FUSE_ISP</a>, <a class="el" href="../../#l00041">CMD_PROGRAM_LOCK_ISP</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, and <a class="el" href="../../#l00013">usleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a635e1cc6cb2679b3eb01c50b9fe635c5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a635e1cc6cb2679b3eb01c50b9fe635c5_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae8e18a8adf7cd4d8193a78a8a47e33cf" name="ae8e18a8adf7cd4d8193a78a8a47e33cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8e18a8adf7cd4d8193a78a8a47e33cf">&#9670;&#160;</a></span>stk500pp_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_chip_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1068</span>{</div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#addf7c0ab77d04527d8f283aaf6fdb8c8">stk500hv_chip_erase</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 1070</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l01039">stk500hv_chip_erase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae8e18a8adf7cd4d8193a78a8a47e33cf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae8e18a8adf7cd4d8193a78a8a47e33cf_icgraph.svg" width="344" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab794cfa0f83797393455ab017b8b8e0a" name="ab794cfa0f83797393455ab017b8b8e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab794cfa0f83797393455ab017b8b8e0a">&#9670;&#160;</a></span>stk500pp_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500pp_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1621</span>{</div>
<div class="line"><span class="lineno"> 1622</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a105fc857838e681626a415ec6df663dc">stk500hv_disable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 1623</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l01589">stk500hv_disable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab794cfa0f83797393455ab017b8b8e0a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab794cfa0f83797393455ab017b8b8e0a_icgraph.svg" width="323" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4dc3bbbd71b7574021b1fc3aef2a746b" name="a4dc3bbbd71b7574021b1fc3aef2a746b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc3bbbd71b7574021b1fc3aef2a746b">&#9670;&#160;</a></span>stk500pp_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1531</span>{</div>
<div class="line"><span class="lineno"> 1532</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad01fa3510bb6ffe95e2ec362040beb65">stk500hv_initialize</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 1533</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l01460">stk500hv_initialize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4dc3bbbd71b7574021b1fc3aef2a746b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4dc3bbbd71b7574021b1fc3aef2a746b_icgraph.svg" width="328" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac6576ef9cca39d65013e08ac1bd9b7f4" name="ac6576ef9cca39d65013e08ac1bd9b7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6576ef9cca39d65013e08ac1bd9b7f4">&#9670;&#160;</a></span>stk500pp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500pp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4459</span>{</div>
<div class="line"><span class="lineno"> 4460</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK500PP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4461</span> </div>
<div class="line"><span class="lineno"> 4462</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4463</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4464</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4465</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4dc3bbbd71b7574021b1fc3aef2a746b">stk500pp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4466</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4467</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4468</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab794cfa0f83797393455ab017b8b8e0a">stk500pp_disable</a>;</div>
<div class="line"><span class="lineno"> 4469</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94e3168fe42269f38b153b83284ac0d1">stk500pp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4470</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae8e18a8adf7cd4d8193a78a8a47e33cf">stk500pp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4471</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a243d065860071d9f70f7140caf9c93c9">stk500v2_open</a>;</div>
<div class="line"><span class="lineno"> 4472</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4473</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a024bcdd99e70c9ea38546b6bcb03bd2c">stk500pp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4474</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#accce3d8363d2f16d16cee92de1f82f3b">stk500pp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4475</span> </div>
<div class="line"><span class="lineno"> 4476</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4477</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4478</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4479</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28125f5423762e176817c11e014e1898">stk500pp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4480</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0a4b3bb68138a747696a78e4585f424f">stk500pp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4481</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4482</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4483</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4484</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4485</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a520221b86d058c8694efa7c34cf902ee">stk500v2_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4486</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4487</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4488</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4489</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a024bcdd99e70c9ea38546b6bcb03bd2c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a024bcdd99e70c9ea38546b6bcb03bd2c">stk500pp_read_byte</a></div><div class="ttdeci">static int stk500pp_read_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1915</div></div>
<div class="ttc" id="astk500v2_8c_html_a0a4b3bb68138a747696a78e4585f424f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a0a4b3bb68138a747696a78e4585f424f">stk500pp_paged_load</a></div><div class="ttdeci">static int stk500pp_paged_load(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2740</div></div>
<div class="ttc" id="astk500v2_8c_html_a28125f5423762e176817c11e014e1898"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a28125f5423762e176817c11e014e1898">stk500pp_paged_write</a></div><div class="ttdeci">static int stk500pp_paged_write(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2550</div></div>
<div class="ttc" id="astk500v2_8c_html_a4dc3bbbd71b7574021b1fc3aef2a746b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a4dc3bbbd71b7574021b1fc3aef2a746b">stk500pp_initialize</a></div><div class="ttdeci">static int stk500pp_initialize(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1530</div></div>
<div class="ttc" id="astk500v2_8c_html_a94e3168fe42269f38b153b83284ac0d1"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a94e3168fe42269f38b153b83284ac0d1">stk500pp_program_enable</a></div><div class="ttdeci">static int stk500pp_program_enable(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1239</div></div>
<div class="ttc" id="astk500v2_8c_html_ab794cfa0f83797393455ab017b8b8e0a"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ab794cfa0f83797393455ab017b8b8e0a">stk500pp_disable</a></div><div class="ttdeci">static void stk500pp_disable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1620</div></div>
<div class="ttc" id="astk500v2_8c_html_accce3d8363d2f16d16cee92de1f82f3b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#accce3d8363d2f16d16cee92de1f82f3b">stk500pp_write_byte</a></div><div class="ttdeci">static int stk500pp_write_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char data)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2175</div></div>
<div class="ttc" id="astk500v2_8c_html_ae8e18a8adf7cd4d8193a78a8a47e33cf"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ae8e18a8adf7cd4d8193a78a8a47e33cf">stk500pp_chip_erase</a></div><div class="ttdeci">static int stk500pp_chip_erase(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1067</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01067">stk500pp_chip_erase()</a>, <a class="el" href="../../#l01620">stk500pp_disable()</a>, <a class="el" href="../../#l01530">stk500pp_initialize()</a>, <a class="el" href="../../#l02740">stk500pp_paged_load()</a>, <a class="el" href="../../#l02550">stk500pp_paged_write()</a>, <a class="el" href="../../#l01239">stk500pp_program_enable()</a>, <a class="el" href="../../#l01915">stk500pp_read_byte()</a>, <a class="el" href="../../#l02175">stk500pp_write_byte()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01639">stk500v2_open()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02933">stk500v2_set_sck_period()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ac6576ef9cca39d65013e08ac1bd9b7f4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0a4b3bb68138a747696a78e4585f424f" name="a0a4b3bb68138a747696a78e4585f424f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4b3bb68138a747696a78e4585f424f">&#9670;&#160;</a></span>stk500pp_paged_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_paged_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2743</span>{</div>
<div class="line"><span class="lineno"> 2744</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa6a56734bbbc3dd473b96f15b6c97e25">stk500hv_paged_load</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, m, page_size, addr, n_bytes, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 2745</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l02661">stk500hv_paged_load()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0a4b3bb68138a747696a78e4585f424f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0a4b3bb68138a747696a78e4585f424f_icgraph.svg" width="348" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a28125f5423762e176817c11e014e1898" name="a28125f5423762e176817c11e014e1898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28125f5423762e176817c11e014e1898">&#9670;&#160;</a></span>stk500pp_paged_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_paged_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2553</span>{</div>
<div class="line"><span class="lineno"> 2554</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a66c7933b5868c4be23063b03cc483ee4">stk500hv_paged_write</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, m, page_size, addr, n_bytes, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 2555</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l02455">stk500hv_paged_write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a28125f5423762e176817c11e014e1898_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a28125f5423762e176817c11e014e1898_icgraph.svg" width="352" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a94e3168fe42269f38b153b83284ac0d1" name="a94e3168fe42269f38b153b83284ac0d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e3168fe42269f38b153b83284ac0d1">&#9670;&#160;</a></span>stk500pp_program_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_program_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1240</span>{</div>
<div class="line"><span class="lineno"> 1241</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart = p;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa390f6d4f90ecb816d5aee01eaf7eb06">CMD_ENTER_PROGMODE_PP</a>;</div>
<div class="line"><span class="lineno"> 1246</span>  buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8b5e28a6cb31a2ee54321b3c9888fcc4">hventerstabdelay</a>;</div>
<div class="line"><span class="lineno"> 1247</span>  buf[2] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1010a83fb0afe6e26a7bf7c3bae591fd">progmodedelay</a>;</div>
<div class="line"><span class="lineno"> 1248</span>  buf[3] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aff6690c79cf86db6f61e8a65543b3420">latchcycles</a>;</div>
<div class="line"><span class="lineno"> 1249</span>  buf[4] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aae3ee01a9025ef3565dd7f17edcf1a6b">togglevtg</a>;</div>
<div class="line"><span class="lineno"> 1250</span>  buf[5] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a03fd143e4918a38418d7dac542e25710">poweroffdelay</a>;</div>
<div class="line"><span class="lineno"> 1251</span>  buf[6] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a305d8453bfc15e22bdbd0c50a4ef48fd">resetdelayms</a>;</div>
<div class="line"><span class="lineno"> 1252</span>  buf[7] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a18ee29c9062816a0d7dd8cccc5f7537e">resetdelayus</a>;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 8, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1255</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a1010a83fb0afe6e26a7bf7c3bae591fd"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a1010a83fb0afe6e26a7bf7c3bae591fd">avrpart::progmodedelay</a></div><div class="ttdeci">int progmodedelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:249</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa390f6d4f90ecb816d5aee01eaf7eb06"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa390f6d4f90ecb816d5aee01eaf7eb06">CMD_ENTER_PROGMODE_PP</a></div><div class="ttdeci">#define CMD_ENTER_PROGMODE_PP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:51</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00051">CMD_ENTER_PROGMODE_PP</a>, <a class="el" href="../../#l00248">avrpart::hventerstabdelay</a>, <a class="el" href="../../#l00250">avrpart::latchcycles</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00252">avrpart::poweroffdelay</a>, <a class="el" href="../../#l00249">avrpart::progmodedelay</a>, <a class="el" href="../../#l00253">avrpart::resetdelayms</a>, <a class="el" href="../../#l00254">avrpart::resetdelayus</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l00251">avrpart::togglevtg</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94e3168fe42269f38b153b83284ac0d1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94e3168fe42269f38b153b83284ac0d1_icgraph.svg" width="374" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a024bcdd99e70c9ea38546b6bcb03bd2c" name="a024bcdd99e70c9ea38546b6bcb03bd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024bcdd99e70c9ea38546b6bcb03bd2c">&#9670;&#160;</a></span>stk500pp_read_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_read_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1917</span>{</div>
<div class="line"><span class="lineno"> 1918</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae540fe448dc835113053b4e557ceb02c">stk500hv_read_byte</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, addr, value, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 1919</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l01806">stk500hv_read_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a024bcdd99e70c9ea38546b6bcb03bd2c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a024bcdd99e70c9ea38546b6bcb03bd2c_icgraph.svg" width="339" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="accce3d8363d2f16d16cee92de1f82f3b" name="accce3d8363d2f16d16cee92de1f82f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accce3d8363d2f16d16cee92de1f82f3b">&#9670;&#160;</a></span>stk500pp_write_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500pp_write_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2177</span>{</div>
<div class="line"><span class="lineno"> 2178</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abb560ef255d6e647623e64bbce92b369">stk500hv_write_byte</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, mem, addr, data, <a class="code hl_enumvalue" href="../../d9/d12/stk500v2_8c.html#adac7845226fb7811dd3b3a03259d2361adb0a25da6f99bd411d8ad9ed2c4fb19f">PPMODE</a>);</div>
<div class="line"><span class="lineno"> 2179</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00098">PPMODE</a>, and <a class="el" href="../../#l02034">stk500hv_write_byte()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_accce3d8363d2f16d16cee92de1f82f3b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_accce3d8363d2f16d16cee92de1f82f3b_icgraph.svg" width="342" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ace36659adc57139c6922be5cd3f73250" name="ace36659adc57139c6922be5cd3f73250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace36659adc57139c6922be5cd3f73250">&#9670;&#160;</a></span>stk500v2_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_chip_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1011</span>{</div>
<div class="line"><span class="lineno"> 1012</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1013</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac74f9304b03966900bc759a9c5409daf">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a9de610aaca03794d36797a47c4dbd43a">AVR_OP_CHIP_ERASE</a>] == NULL) {</div>
<div class="line"><span class="lineno"> 1016</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_chip_erase: chip erase instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1017</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1019</span>  }</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7f8baedcf19adf5588cd42b8040d1a9e">pgm_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae402ba1cb9908ed504fcc214e7f2f387">CMD_CHIP_ERASE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1024</span>  buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a89083b0bf6d1140667d34e19ee5fba71">chip_erase_delay</a> / 1000;</div>
<div class="line"><span class="lineno"> 1025</span>  buf[2] = 0; <span class="comment">// use delay (?)</span></div>
<div class="line"><span class="lineno"> 1026</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac74f9304b03966900bc759a9c5409daf">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a9de610aaca03794d36797a47c4dbd43a">AVR_OP_CHIP_ERASE</a>], buf+3);</div>
<div class="line"><span class="lineno"> 1027</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 7, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1028</span>  <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#a430a82cab7dcae73945a46a247815dc9">usleep</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a89083b0bf6d1140667d34e19ee5fba71">chip_erase_delay</a>);</div>
<div class="line"><span class="lineno"> 1029</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p);</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7f8baedcf19adf5588cd42b8040d1a9e">pgm_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a>);</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>  <span class="keywordflow">return</span> result &gt;= 0? 0: -1;</div>
<div class="line"><span class="lineno"> 1034</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a9de610aaca03794d36797a47c4dbd43a"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a9de610aaca03794d36797a47c4dbd43a">AVR_OP_CHIP_ERASE</a></div><div class="ttdeci">@ AVR_OP_CHIP_ERASE</div><div class="ttdef"><b>Definition</b> libavrdude.h:156</div></div>
<div class="ttc" id="alibavrdude_8h_html_a8a1a31ff99738c37d5a3b15712261ead"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">avrpart::desc</a></div><div class="ttdeci">char desc[AVR_DESCLEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:218</div></div>
<div class="ttc" id="alibavrdude_8h_html_ac74f9304b03966900bc759a9c5409daf"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ac74f9304b03966900bc759a9c5409daf">avrpart::op</a></div><div class="ttdeci">OPCODE * op[AVR_OP_MAX]</div><div class="ttdef"><b>Definition</b> libavrdude.h:275</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae402ba1cb9908ed504fcc214e7f2f387"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae402ba1cb9908ed504fcc214e7f2f387">CMD_CHIP_ERASE_ISP</a></div><div class="ttdeci">#define CMD_CHIP_ERASE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00156">AVR_OP_CHIP_ERASE</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00222">avrpart::chip_erase_delay</a>, <a class="el" href="../../#l00034">CMD_CHIP_ERASE_ISP</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00585">OFF</a>, <a class="el" href="../../#l00584">ON</a>, <a class="el" href="../../#l00275">avrpart::op</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00641">programmer_t::pgm_led</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l00013">usleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ace36659adc57139c6922be5cd3f73250_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ace36659adc57139c6922be5cd3f73250_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a03d3188b2eddd4acdb67cd6f11ea8ae5" name="a03d3188b2eddd4acdb67cd6f11ea8ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d3188b2eddd4acdb67cd6f11ea8ae5">&#9670;&#160;</a></span>stk500v2_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1770</span>{</div>
<div class="line"><span class="lineno"> 1771</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_close()\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a211e87f7bfdbfa94ddc09f45795d130d">serial_close</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>);</div>
<div class="line"><span class="lineno"> 1774</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af67a8aabc0107825a78baeac91bfbfb1">ifd</a> = -1;</div>
<div class="line"><span class="lineno"> 1775</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a211e87f7bfdbfa94ddc09f45795d130d"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a211e87f7bfdbfa94ddc09f45795d130d">serial_close</a></div><div class="ttdeci">#define serial_close</div><div class="ttdef"><b>Definition</b> libavrdude.h:576</div></div>
<div class="ttc" id="alibavrdude_8h_html_af67a8aabc0107825a78baeac91bfbfb1"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#af67a8aabc0107825a78baeac91bfbfb1">filedescriptor::ifd</a></div><div class="ttdeci">int ifd</div><div class="ttdef"><b>Definition</b> libavrdude.h:522</div></div>
<div class="ttc" id="astructprogrammer__t_html_a31d40bf02b8dac5484b4aa4e67759d7b"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">programmer_t::fd</a></div><div class="ttdeci">union filedescriptor fd</div><div class="ttdef"><b>Definition</b> libavrdude.h:637</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00522">filedescriptor::ifd</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l00576">serial_close</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a03d3188b2eddd4acdb67cd6f11ea8ae5_icgraph.svg" width="100%" height="512"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a50215d5d75e0dad23582c3bed748cdc6" name="a50215d5d75e0dad23582c3bed748cdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50215d5d75e0dad23582c3bed748cdc6">&#9670;&#160;</a></span>stk500v2_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  962</span>{</div>
<div class="line"><span class="lineno">  963</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[8];</div>
<div class="line"><span class="lineno">  964</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_cmd(%02x,%02x,%02x,%02x)\n&quot;</span>,<a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[0],<a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[1],<a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[2],<a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[3]);</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a29964aee053327dcf72158a602657b12">CMD_SPI_MULTI</a>;</div>
<div class="line"><span class="lineno">  969</span>  buf[1] = 4;</div>
<div class="line"><span class="lineno">  970</span>  buf[2] = 4;</div>
<div class="line"><span class="lineno">  971</span>  buf[3] = 0;</div>
<div class="line"><span class="lineno">  972</span>  buf[4] = <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[0];</div>
<div class="line"><span class="lineno">  973</span>  buf[5] = <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[1];</div>
<div class="line"><span class="lineno">  974</span>  buf[6] = <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[2];</div>
<div class="line"><span class="lineno">  975</span>  buf[7] = <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[3];</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 8, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno">  978</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  979</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_cmd(): failed to send command\n&quot;</span>,</div>
<div class="line"><span class="lineno">  980</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  982</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result &lt; 6) {</div>
<div class="line"><span class="lineno">  983</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_cmd(): short reply, len = %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  984</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, result);</div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  986</span>  }</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>  res[0] = buf[2];</div>
<div class="line"><span class="lineno">  989</span>  res[1] = buf[3];</div>
<div class="line"><span class="lineno">  990</span>  res[2] = buf[4];</div>
<div class="line"><span class="lineno">  991</span>  res[3] = buf[5];</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  994</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_a29964aee053327dcf72158a602657b12"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a29964aee053327dcf72158a602657b12">CMD_SPI_MULTI</a></div><div class="ttdeci">#define CMD_SPI_MULTI</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:45</div></div>
<div class="ttc" id="aterm_8c_html_afaf837ac6f2815d3a1975cb001f2db5f"><div class="ttname"><a href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a></div><div class="ttdeci">struct command cmd[]</div><div class="ttdef"><b>Definition</b> term.c:94</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00094">cmd</a>, <a class="el" href="../../#l00045">CMD_SPI_MULTI</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, and <a class="el" href="../../#l04667">stk600_initpgm()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a50215d5d75e0dad23582c3bed748cdc6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a50215d5d75e0dad23582c3bed748cdc6_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8bb7c2e6a6df9a5f5bcc5575dffb0c93" name="a8bb7c2e6a6df9a5f5bcc5575dffb0c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">&#9670;&#160;</a></span>stk500v2_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  838</span>                                                       {</div>
<div class="line"><span class="lineno">  839</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  840</span>  <span class="keywordtype">int</span> tries = 0;</div>
<div class="line"><span class="lineno">  841</span>  <span class="keywordtype">int</span> status;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_command(&quot;</span>);</div>
<div class="line"><span class="lineno">  844</span>  <span class="keywordflow">for</span> (i=0;i&lt;len;i++) <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;0x%02x &quot;</span>,buf[i]);</div>
<div class="line"><span class="lineno">  845</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;, %d)\n&quot;</span>,len);</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>retry:</div>
<div class="line"><span class="lineno">  848</span>  tries++;</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  <span class="comment">// send the command to the programmer</span></div>
<div class="line"><span class="lineno">  853</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a1f8266ad2201e09606ed54b65f6db872">stk500v2_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, len) != 0) {</div>
<div class="line"><span class="lineno">  854</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): can&#39;t communicate with device\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  855</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  856</span>  }</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>  <span class="comment">// attempt to read the status back</span></div>
<div class="line"><span class="lineno">  861</span>  status = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afde730659f26cf880986235970003b2e">stk500v2_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>,buf,maxlen);</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>  <span class="comment">// if we got a successful readback, return</span></div>
<div class="line"><span class="lineno">  866</span>  <span class="keywordflow">if</span> (status &gt; 0) {</div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot; = %d\n&quot;</span>,status);</div>
<div class="line"><span class="lineno">  868</span>    <span class="keywordflow">if</span> (status &lt; 2) {</div>
<div class="line"><span class="lineno">  869</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): short reply\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  870</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  871</span>    }</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">if</span> (buf[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a661052a1a31f4e507290988c69c0d962">CMD_XPROG_SETMODE</a> || buf[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae98ef51bda1e9c5d7a60491115b210d4">CMD_XPROG</a>) {</div>
<div class="line"><span class="lineno">  873</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  874</span><span class="comment">         * Decode XPROG wrapper errors.</span></div>
<div class="line"><span class="lineno">  875</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  876</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><span class="lineno">  877</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  880</span><span class="comment">         * For CMD_XPROG_SETMODE, the status is returned in buf[1].</span></div>
<div class="line"><span class="lineno">  881</span><span class="comment">         * For CMD_XPROG, buf[1] contains the XPRG_CMD_* command, and</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment">         * buf[2] contains the status.</span></div>
<div class="line"><span class="lineno">  883</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  884</span>        i = buf[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a661052a1a31f4e507290988c69c0d962">CMD_XPROG_SETMODE</a>? 1: 2;</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>        <span class="keywordflow">if</span> (buf[i] != <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#abf052d4c771f739a1e2a8f1f6e45a020">XPRG_ERR_OK</a>) {</div>
<div class="line"><span class="lineno">  887</span>            <span class="keywordflow">switch</span> (buf[i]) {</div>
<div class="line"><span class="lineno">  888</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a6383a420cac13cd292fe8e10c4650e3c">XPRG_ERR_FAILED</a>:   msg = <span class="stringliteral">&quot;Failed&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  889</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a63a496ab9a9ff245a82ce4f28081c8dc">XPRG_ERR_COLLISION</a>: msg = <span class="stringliteral">&quot;Collision&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  890</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a91aa1df4fff3ec91e04caa0ac638e0e4">XPRG_ERR_TIMEOUT</a>:  msg = <span class="stringliteral">&quot;Timeout&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">default</span>:                msg = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  892</span>            }</div>
<div class="line"><span class="lineno">  893</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): error in %s: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  894</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,</div>
<div class="line"><span class="lineno">  895</span>                    (buf[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a661052a1a31f4e507290988c69c0d962">CMD_XPROG_SETMODE</a>? <span class="stringliteral">&quot;CMD_XPROG_SETMODE&quot;</span>: <span class="stringliteral">&quot;CMD_XPROG&quot;</span>),</div>
<div class="line"><span class="lineno">  896</span>                    msg);</div>
<div class="line"><span class="lineno">  897</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  900</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  901</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  902</span><span class="comment">         * Decode STK500v2 errors.</span></div>
<div class="line"><span class="lineno">  903</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">if</span> (buf[1] &gt;= <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4266794d90c4c551f31efecb2e0b3368">STATUS_CMD_TOUT</a> &amp;&amp; buf[1] &lt; 0xa0) {</div>
<div class="line"><span class="lineno">  905</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *msg;</div>
<div class="line"><span class="lineno">  906</span>            <span class="keywordtype">char</span> msgbuf[30];</div>
<div class="line"><span class="lineno">  907</span>            <span class="keywordflow">switch</span> (buf[1]) {</div>
<div class="line"><span class="lineno">  908</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4266794d90c4c551f31efecb2e0b3368">STATUS_CMD_TOUT</a>:</div>
<div class="line"><span class="lineno">  909</span>                msg = <span class="stringliteral">&quot;Command timed out&quot;</span>;</div>
<div class="line"><span class="lineno">  910</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa6d5ea133f198c3501c524b50f24c063">STATUS_RDY_BSY_TOUT</a>:</div>
<div class="line"><span class="lineno">  913</span>                msg = <span class="stringliteral">&quot;Sampling of the RDY/nBSY pin timed out&quot;</span>;</div>
<div class="line"><span class="lineno">  914</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>            <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae909f8df705664c8711ab95849108986">STATUS_SET_PARAM_MISSING</a>:</div>
<div class="line"><span class="lineno">  917</span>                msg = <span class="stringliteral">&quot;The `Set Device Parameters&#39; have not been &quot;</span></div>
<div class="line"><span class="lineno">  918</span>                    <span class="stringliteral">&quot;executed in advance of this command&quot;</span>;</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  921</span>                sprintf(msgbuf, <span class="stringliteral">&quot;unknown, code 0x%02x&quot;</span>, buf[1]);</div>
<div class="line"><span class="lineno">  922</span>                msg = msgbuf;</div>
<div class="line"><span class="lineno">  923</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  924</span>            }</div>
<div class="line"><span class="lineno">  925</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  926</span>                <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): warning: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  927</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, msg);</div>
<div class="line"><span class="lineno">  928</span>            }</div>
<div class="line"><span class="lineno">  929</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buf[1] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2c06f068c4eac3fff24312e002868fa1">STATUS_CMD_OK</a>) {</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordflow">return</span> status;</div>
<div class="line"><span class="lineno">  931</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buf[1] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a3c09eaee077e85e1eaa4aabcd61aca15">STATUS_CMD_FAILED</a>) {</div>
<div class="line"><span class="lineno">  932</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): command failed\n&quot;</span>,</div>
<div class="line"><span class="lineno">  933</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  934</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buf[1] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#abaedde3117d8bd850988ae32ebc4cd6f">STATUS_CMD_UNKNOWN</a>) {</div>
<div class="line"><span class="lineno">  935</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): unknown command\n&quot;</span>,</div>
<div class="line"><span class="lineno">  936</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  937</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  938</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): unknown status 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  939</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, buf[1]);</div>
<div class="line"><span class="lineno">  940</span>        }</div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  942</span>    }</div>
<div class="line"><span class="lineno">  943</span>  }</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>  <span class="comment">// otherwise try to sync up again</span></div>
<div class="line"><span class="lineno">  946</span>  status = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0c65811e2b906244f8278205f6567191">stk500v2_getsync</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno">  947</span>  <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line"><span class="lineno">  948</span>    <span class="keywordflow">if</span> (tries &gt; <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a>) {</div>
<div class="line"><span class="lineno">  949</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_command(): failed miserably to execute command 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  950</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,buf[0]);</div>
<div class="line"><span class="lineno">  951</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  952</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  953</span>      <span class="keywordflow">goto</span> retry;</div>
<div class="line"><span class="lineno">  954</span>  }</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot; = 0\n&quot;</span>);</div>
<div class="line"><span class="lineno">  957</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  958</span>}</div>
<div class="ttc" id="aavrdude_8h_html_afe33d420e205f0ec3c527152fe5ec45a"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a></div><div class="ttdeci">int quell_progress</div><div class="ttdef"><b>Definition</b> main.c:199</div></div>
<div class="ttc" id="alibavrdude_8h_html_acd1b780d66a6f95e53d8139eb7979355"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a></div><div class="ttdeci">#define RETURN_IF_CANCEL()</div><div class="ttdef"><b>Definition</b> libavrdude.h:733</div></div>
<div class="ttc" id="astk500v2_8c_html_a0c65811e2b906244f8278205f6567191"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a0c65811e2b906244f8278205f6567191">stk500v2_getsync</a></div><div class="ttdeci">int stk500v2_getsync(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:749</div></div>
<div class="ttc" id="astk500v2_8c_html_a1f8266ad2201e09606ed54b65f6db872"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a1f8266ad2201e09606ed54b65f6db872">stk500v2_send</a></div><div class="ttdeci">static int stk500v2_send(PROGRAMMER *pgm, unsigned char *data, size_t len)</div><div class="ttdef"><b>Definition</b> stk500v2.c:492</div></div>
<div class="ttc" id="astk500v2_8c_html_ac7200ac983292fc63d6ccbbad26397a6"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a></div><div class="ttdeci">#define RETRIES</div><div class="ttdef"><b>Definition</b> stk500v2.c:82</div></div>
<div class="ttc" id="astk500v2_8c_html_afde730659f26cf880986235970003b2e"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afde730659f26cf880986235970003b2e">stk500v2_recv</a></div><div class="ttdeci">static int stk500v2_recv(PROGRAMMER *pgm, unsigned char *msg, size_t maxsize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:628</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2c06f068c4eac3fff24312e002868fa1"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2c06f068c4eac3fff24312e002868fa1">STATUS_CMD_OK</a></div><div class="ttdeci">#define STATUS_CMD_OK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:132</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a3c09eaee077e85e1eaa4aabcd61aca15"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a3c09eaee077e85e1eaa4aabcd61aca15">STATUS_CMD_FAILED</a></div><div class="ttdeci">#define STATUS_CMD_FAILED</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:140</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a4266794d90c4c551f31efecb2e0b3368"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a4266794d90c4c551f31efecb2e0b3368">STATUS_CMD_TOUT</a></div><div class="ttdeci">#define STATUS_CMD_TOUT</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:135</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a6383a420cac13cd292fe8e10c4650e3c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a6383a420cac13cd292fe8e10c4650e3c">XPRG_ERR_FAILED</a></div><div class="ttdeci">#define XPRG_ERR_FAILED</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:268</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a63a496ab9a9ff245a82ce4f28081c8dc"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a63a496ab9a9ff245a82ce4f28081c8dc">XPRG_ERR_COLLISION</a></div><div class="ttdeci">#define XPRG_ERR_COLLISION</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:269</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a661052a1a31f4e507290988c69c0d962"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a661052a1a31f4e507290988c69c0d962">CMD_XPROG_SETMODE</a></div><div class="ttdeci">#define CMD_XPROG_SETMODE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:90</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a91aa1df4fff3ec91e04caa0ac638e0e4"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a91aa1df4fff3ec91e04caa0ac638e0e4">XPRG_ERR_TIMEOUT</a></div><div class="ttdeci">#define XPRG_ERR_TIMEOUT</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:270</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa6d5ea133f198c3501c524b50f24c063"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa6d5ea133f198c3501c524b50f24c063">STATUS_RDY_BSY_TOUT</a></div><div class="ttdeci">#define STATUS_RDY_BSY_TOUT</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:136</div></div>
<div class="ttc" id="astk500v2__private_8h_html_abaedde3117d8bd850988ae32ebc4cd6f"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#abaedde3117d8bd850988ae32ebc4cd6f">STATUS_CMD_UNKNOWN</a></div><div class="ttdeci">#define STATUS_CMD_UNKNOWN</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:142</div></div>
<div class="ttc" id="astk500v2__private_8h_html_abf052d4c771f739a1e2a8f1f6e45a020"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#abf052d4c771f739a1e2a8f1f6e45a020">XPRG_ERR_OK</a></div><div class="ttdeci">#define XPRG_ERR_OK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:267</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae909f8df705664c8711ab95849108986"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae909f8df705664c8711ab95849108986">STATUS_SET_PARAM_MISSING</a></div><div class="ttdeci">#define STATUS_SET_PARAM_MISSING</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:137</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae98ef51bda1e9c5d7a60491115b210d4"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae98ef51bda1e9c5d7a60491115b210d4">CMD_XPROG</a></div><div class="ttdeci">#define CMD_XPROG</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:89</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00089">CMD_XPROG</a>, <a class="el" href="../../#l00090">CMD_XPROG_SETMODE</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00199">quell_progress</a>, <a class="el" href="../../#l00082">RETRIES</a>, <a class="el" href="../../#l00733">RETURN_IF_CANCEL</a>, <a class="el" href="../../#l00140">STATUS_CMD_FAILED</a>, <a class="el" href="../../#l00132">STATUS_CMD_OK</a>, <a class="el" href="../../#l00135">STATUS_CMD_TOUT</a>, <a class="el" href="../../#l00142">STATUS_CMD_UNKNOWN</a>, <a class="el" href="../../#l00136">STATUS_RDY_BSY_TOUT</a>, <a class="el" href="../../#l00137">STATUS_SET_PARAM_MISSING</a>, <a class="el" href="../../#l00749">stk500v2_getsync()</a>, <a class="el" href="../../#l00628">stk500v2_recv()</a>, <a class="el" href="../../#l00492">stk500v2_send()</a>, <a class="el" href="../../#l00269">XPRG_ERR_COLLISION</a>, <a class="el" href="../../#l00268">XPRG_ERR_FAILED</a>, <a class="el" href="../../#l00267">XPRG_ERR_OK</a>, and <a class="el" href="../../#l00270">XPRG_ERR_TIMEOUT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01039">stk500hv_chip_erase()</a>, <a class="el" href="../../#l01589">stk500hv_disable()</a>, <a class="el" href="../../#l01460">stk500hv_initialize()</a>, <a class="el" href="../../#l02661">stk500hv_paged_load()</a>, <a class="el" href="../../#l02455">stk500hv_paged_write()</a>, <a class="el" href="../../#l01806">stk500hv_read_byte()</a>, <a class="el" href="../../#l02034">stk500hv_write_byte()</a>, <a class="el" href="../../#l01260">stk500hvsp_program_enable()</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01239">stk500pp_program_enable()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l00960">stk500v2_cmd()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, <a class="el" href="../../#l03163">stk500v2_getparm2()</a>, <a class="el" href="../../#l01543">stk500v2_jtag3_disable()</a>, <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03426">stk500v2_perform_osccal()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l04808">stk500v2_set_upload_size()</a>, <a class="el" href="../../#l03181">stk500v2_setparm2()</a>, <a class="el" href="../../#l03128">stk500v2_setparm_real()</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, and <a class="el" href="../../#l03793">stk600_xprog_program_enable()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8bb7c2e6a6df9a5f5bcc5575dffb0c93_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8bb7c2e6a6df9a5f5bcc5575dffb0c93_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3e878cf1728bc746fee4165b33aeed33" name="a3e878cf1728bc746fee4165b33aeed33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e878cf1728bc746fee4165b33aeed33">&#9670;&#160;</a></span>stk500v2_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1568</span>{</div>
<div class="line"><span class="lineno"> 1569</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1570</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1571</span> </div>
<div class="line"><span class="lineno"> 1572</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa1d323a300ae6336e65b2e2edb316ea4">CMD_LEAVE_PROGMODE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1573</span>  buf[1] = 1; <span class="comment">// preDelay;</span></div>
<div class="line"><span class="lineno"> 1574</span>  buf[2] = 1; <span class="comment">// postDelay;</span></div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1577</span> </div>
<div class="line"><span class="lineno"> 1578</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1579</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_disable(): failed to leave programming mode\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1580</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1581</span>  }</div>
<div class="line"><span class="lineno"> 1582</span> </div>
<div class="line"><span class="lineno"> 1583</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1584</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_aa1d323a300ae6336e65b2e2edb316ea4"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa1d323a300ae6336e65b2e2edb316ea4">CMD_LEAVE_PROGMODE_ISP</a></div><div class="ttdeci">#define CMD_LEAVE_PROGMODE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:33</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00033">CMD_LEAVE_PROGMODE_ISP</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3e878cf1728bc746fee4165b33aeed33_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3e878cf1728bc746fee4165b33aeed33_icgraph.svg" width="100%" height="471"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a547b9897987fa0e5eb79c9dad233f340" name="a547b9897987fa0e5eb79c9dad233f340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547b9897987fa0e5eb79c9dad233f340">&#9670;&#160;</a></span>stk500v2_display()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_display </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3217</span>{</div>
<div class="line"><span class="lineno"> 3218</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> maj = 0;</div>
<div class="line"><span class="lineno"> 3219</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a52c8391bfe74901409df09e9b1d5ac79">min</a> = 0;</div>
<div class="line"><span class="lineno"> 3220</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> hdw = 0;</div>
<div class="line"><span class="lineno"> 3221</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> topcard = 0;</div>
<div class="line"><span class="lineno"> 3222</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> maj_s1 = 0;</div>
<div class="line"><span class="lineno"> 3223</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> min_s1 = 0;</div>
<div class="line"><span class="lineno"> 3224</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> maj_s2 = 0;</div>
<div class="line"><span class="lineno"> 3225</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> min_s2 = 0;</div>
<div class="line"><span class="lineno"> 3226</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rev = 0;</div>
<div class="line"><span class="lineno"> 3227</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *topcard_name, *<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a>;</div>
<div class="line"><span class="lineno"> 3228</span> </div>
<div class="line"><span class="lineno"> 3229</span>  <span class="keywordflow">switch</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype) {</div>
<div class="line"><span class="lineno"> 3230</span>    <span class="keywordflow">case</span> PGMTYPE_UNKNOWN:     <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3231</span>    <span class="keywordflow">case</span> PGMTYPE_STK500:      <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;STK500&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3232</span>    <span class="keywordflow">case</span> PGMTYPE_AVRISP:      <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;AVRISP&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3233</span>    <span class="keywordflow">case</span> PGMTYPE_AVRISP_MKII: <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;AVRISP mkII&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3234</span>    <span class="keywordflow">case</span> PGMTYPE_STK600:      <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;STK600&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3235</span>    <span class="keywordflow">default</span>:                  <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a> = <span class="stringliteral">&quot;None&quot;</span>;</div>
<div class="line"><span class="lineno"> 3236</span>  }</div>
<div class="line"><span class="lineno"> 3237</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype != PGMTYPE_JTAGICE_MKII &amp;&amp;</div>
<div class="line"><span class="lineno"> 3238</span>      <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype != PGMTYPE_JTAGICE3) {</div>
<div class="line"><span class="lineno"> 3239</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sProgrammer Model: %s\n&quot;</span>, p, <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a>);</div>
<div class="line"><span class="lineno"> 3240</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0a753b72c0e550e68102111f164ccbc7">PARAM_HW_VER</a>, &amp;hdw);</div>
<div class="line"><span class="lineno"> 3241</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4eb638c18dcfd4ede9a3f55243f71f47">PARAM_SW_MAJOR</a>, &amp;maj);</div>
<div class="line"><span class="lineno"> 3242</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#acf70204f1f5f3dc8ef3d0afa900a2764">PARAM_SW_MINOR</a>, &amp;min);</div>
<div class="line"><span class="lineno"> 3243</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sHardware Version: %d\n&quot;</span>, p, hdw);</div>
<div class="line"><span class="lineno"> 3244</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sFirmware Version Master : %d.%02d\n&quot;</span>, p, maj, min);</div>
<div class="line"><span class="lineno"> 3245</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600) {</div>
<div class="line"><span class="lineno"> 3246</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af2ada040040dc4947d443eb5276e8b95">PARAM_SW_MAJOR_SLAVE1</a>, &amp;maj_s1);</div>
<div class="line"><span class="lineno"> 3247</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae6cecd31a4905999f7da10ba85328a07">PARAM_SW_MINOR_SLAVE1</a>, &amp;min_s1);</div>
<div class="line"><span class="lineno"> 3248</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a403ccca58537bc58a6cf9602a2b67504">PARAM_SW_MAJOR_SLAVE2</a>, &amp;maj_s2);</div>
<div class="line"><span class="lineno"> 3249</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a6abac16724894e9c61ab323dcc0e6e92">PARAM_SW_MINOR_SLAVE2</a>, &amp;min_s2);</div>
<div class="line"><span class="lineno"> 3250</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sFirmware Version Slave 1: %d.%02d\n&quot;</span>, p, maj_s1, min_s1);</div>
<div class="line"><span class="lineno"> 3251</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sFirmware Version Slave 2: %d.%02d\n&quot;</span>, p, maj_s2, min_s2);</div>
<div class="line"><span class="lineno"> 3252</span>    }</div>
<div class="line"><span class="lineno"> 3253</span>  }</div>
<div class="line"><span class="lineno"> 3254</span> </div>
<div class="line"><span class="lineno"> 3255</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK500) {</div>
<div class="line"><span class="lineno"> 3256</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac357ec0e12ec6307f9d511e0bd7f72d6">PARAM_TOPCARD_DETECT</a>, &amp;topcard);</div>
<div class="line"><span class="lineno"> 3257</span>    <span class="keywordflow">switch</span> (topcard) {</div>
<div class="line"><span class="lineno"> 3258</span>      <span class="keywordflow">case</span> 0xAA: topcard_name = <span class="stringliteral">&quot;STK501&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3259</span>      <span class="keywordflow">case</span> 0x55: topcard_name = <span class="stringliteral">&quot;STK502&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3260</span>      <span class="keywordflow">case</span> 0xFA: topcard_name = <span class="stringliteral">&quot;STK503&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3261</span>      <span class="keywordflow">case</span> 0xEE: topcard_name = <span class="stringliteral">&quot;STK504&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3262</span>      <span class="keywordflow">case</span> 0xE4: topcard_name = <span class="stringliteral">&quot;STK505&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3263</span>      <span class="keywordflow">case</span> 0xDD: topcard_name = <span class="stringliteral">&quot;STK520&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3264</span>      <span class="keywordflow">default</span>: topcard_name = <span class="stringliteral">&quot;Unknown&quot;</span>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3265</span>    }</div>
<div class="line"><span class="lineno"> 3266</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sTopcard         : %s\n&quot;</span>, p, topcard_name);</div>
<div class="line"><span class="lineno"> 3267</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600) {</div>
<div class="line"><span class="lineno"> 3268</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a1853b6563955e29b54ed5b95efe0c113">PARAM_ROUTINGCARD_ID</a>, &amp;topcard);</div>
<div class="line"><span class="lineno"> 3269</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sRouting card    : %s\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3270</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7cb94ad4aec74711dfe7335e0f5839d9">stk600_get_cardname</a>(<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aa937951d55b1d7caf2c2e4adac4c8cd9">routing_cards</a>,</div>
<div class="line"><span class="lineno"> 3271</span>        <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aa937951d55b1d7caf2c2e4adac4c8cd9">routing_cards</a> / <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aa937951d55b1d7caf2c2e4adac4c8cd9">routing_cards</a>[0],</div>
<div class="line"><span class="lineno"> 3272</span>        topcard));</div>
<div class="line"><span class="lineno"> 3273</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a660f1e112edeba940f60fa4a7e618394">PARAM_SOCKETCARD_ID</a>, &amp;topcard);</div>
<div class="line"><span class="lineno"> 3274</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSocket card     : %s\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3275</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7cb94ad4aec74711dfe7335e0f5839d9">stk600_get_cardname</a>(<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aedd5aa865c45fb85f54d94bc63428a30">socket_cards</a>,</div>
<div class="line"><span class="lineno"> 3276</span>        <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aedd5aa865c45fb85f54d94bc63428a30">socket_cards</a> / <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#aedd5aa865c45fb85f54d94bc63428a30">socket_cards</a>[0],</div>
<div class="line"><span class="lineno"> 3277</span>        topcard));</div>
<div class="line"><span class="lineno"> 3278</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a96c9ed8ed62a5259142601e39243fddd">PARAM2_RC_ID_TABLE_REV</a>, &amp;rev);</div>
<div class="line"><span class="lineno"> 3279</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sRC_ID table rev : %d\n&quot;</span>, p, rev);</div>
<div class="line"><span class="lineno"> 3280</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af1cc9b375ec53e7082ce09b036d50559">PARAM2_EC_ID_TABLE_REV</a>, &amp;rev);</div>
<div class="line"><span class="lineno"> 3281</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sEC_ID table rev : %d\n&quot;</span>, p, rev);</div>
<div class="line"><span class="lineno"> 3282</span>  }</div>
<div class="line"><span class="lineno"> 3283</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac787ec4dd5f41d469b55cc85aa383abd">stk500v2_print_parms1</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p);</div>
<div class="line"><span class="lineno"> 3284</span> </div>
<div class="line"><span class="lineno"> 3285</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3286</span>}</div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a52c8391bfe74901409df09e9b1d5ac79"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a52c8391bfe74901409df09e9b1d5ac79">Eigen::half_impl::min</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half() min(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:507</div></div>
<div class="ttc" id="astk500v2_8c_html_a2350c80031806d161f1159bc08ab6dfa"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a></div><div class="ttdeci">static int stk500v2_getparm2(PROGRAMMER *pgm, unsigned char parm, unsigned int *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3163</div></div>
<div class="ttc" id="astk500v2_8c_html_a31d7c91af713b41cee3be4540ef85b1d"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a></div><div class="ttdeci">static const char * pgmname[]</div><div class="ttdef"><b>Definition</b> stk500v2.c:114</div></div>
<div class="ttc" id="astk500v2_8c_html_a7cb94ad4aec74711dfe7335e0f5839d9"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a7cb94ad4aec74711dfe7335e0f5839d9">stk600_get_cardname</a></div><div class="ttdeci">static const char * stk600_get_cardname(const struct carddata *table, size_t nele, int id)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3199</div></div>
<div class="ttc" id="astk500v2_8c_html_a94ee9de93b67ac9ac41dc6217dd62627"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a></div><div class="ttdeci">static int stk500v2_getparm(PROGRAMMER *pgm, unsigned char parm, unsigned char *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3110</div></div>
<div class="ttc" id="astk500v2_8c_html_aa937951d55b1d7caf2c2e4adac4c8cd9"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa937951d55b1d7caf2c2e4adac4c8cd9">routing_cards</a></div><div class="ttdeci">static const struct carddata routing_cards[]</div><div class="ttdef"><b>Definition</b> stk500v2.c:199</div></div>
<div class="ttc" id="astk500v2_8c_html_ac787ec4dd5f41d469b55cc85aa383abd"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ac787ec4dd5f41d469b55cc85aa383abd">stk500v2_print_parms1</a></div><div class="ttdeci">static void stk500v2_print_parms1(PROGRAMMER *pgm, const char *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3303</div></div>
<div class="ttc" id="astk500v2_8c_html_aedd5aa865c45fb85f54d94bc63428a30"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aedd5aa865c45fb85f54d94bc63428a30">socket_cards</a></div><div class="ttdeci">static const struct carddata socket_cards[]</div><div class="ttdef"><b>Definition</b> stk500v2.c:244</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a0a753b72c0e550e68102111f164ccbc7"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a0a753b72c0e550e68102111f164ccbc7">PARAM_HW_VER</a></div><div class="ttdeci">#define PARAM_HW_VER</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:176</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a1853b6563955e29b54ed5b95efe0c113"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a1853b6563955e29b54ed5b95efe0c113">PARAM_ROUTINGCARD_ID</a></div><div class="ttdeci">#define PARAM_ROUTINGCARD_ID</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:194</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a403ccca58537bc58a6cf9602a2b67504"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a403ccca58537bc58a6cf9602a2b67504">PARAM_SW_MAJOR_SLAVE2</a></div><div class="ttdeci">#define PARAM_SW_MAJOR_SLAVE2</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:198</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a4eb638c18dcfd4ede9a3f55243f71f47"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a4eb638c18dcfd4ede9a3f55243f71f47">PARAM_SW_MAJOR</a></div><div class="ttdeci">#define PARAM_SW_MAJOR</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:177</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a660f1e112edeba940f60fa4a7e618394"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a660f1e112edeba940f60fa4a7e618394">PARAM_SOCKETCARD_ID</a></div><div class="ttdeci">#define PARAM_SOCKETCARD_ID</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:193</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a6abac16724894e9c61ab323dcc0e6e92"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a6abac16724894e9c61ab323dcc0e6e92">PARAM_SW_MINOR_SLAVE2</a></div><div class="ttdeci">#define PARAM_SW_MINOR_SLAVE2</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:199</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a96c9ed8ed62a5259142601e39243fddd"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a96c9ed8ed62a5259142601e39243fddd">PARAM2_RC_ID_TABLE_REV</a></div><div class="ttdeci">#define PARAM2_RC_ID_TABLE_REV</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:219</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac357ec0e12ec6307f9d511e0bd7f72d6"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac357ec0e12ec6307f9d511e0bd7f72d6">PARAM_TOPCARD_DETECT</a></div><div class="ttdeci">#define PARAM_TOPCARD_DETECT</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:184</div></div>
<div class="ttc" id="astk500v2__private_8h_html_acf70204f1f5f3dc8ef3d0afa900a2764"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#acf70204f1f5f3dc8ef3d0afa900a2764">PARAM_SW_MINOR</a></div><div class="ttdeci">#define PARAM_SW_MINOR</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:178</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae6cecd31a4905999f7da10ba85328a07"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae6cecd31a4905999f7da10ba85328a07">PARAM_SW_MINOR_SLAVE1</a></div><div class="ttdeci">#define PARAM_SW_MINOR_SLAVE1</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:197</div></div>
<div class="ttc" id="astk500v2__private_8h_html_af1cc9b375ec53e7082ce09b036d50559"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#af1cc9b375ec53e7082ce09b036d50559">PARAM2_EC_ID_TABLE_REV</a></div><div class="ttdeci">#define PARAM2_EC_ID_TABLE_REV</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:220</div></div>
<div class="ttc" id="astk500v2__private_8h_html_af2ada040040dc4947d443eb5276e8b95"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#af2ada040040dc4947d443eb5276e8b95">PARAM_SW_MAJOR_SLAVE1</a></div><div class="ttdeci">#define PARAM_SW_MAJOR_SLAVE1</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:196</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00220">PARAM2_EC_ID_TABLE_REV</a>, <a class="el" href="../../#l00219">PARAM2_RC_ID_TABLE_REV</a>, <a class="el" href="../../#l00176">PARAM_HW_VER</a>, <a class="el" href="../../#l00194">PARAM_ROUTINGCARD_ID</a>, <a class="el" href="../../#l00193">PARAM_SOCKETCARD_ID</a>, <a class="el" href="../../#l00177">PARAM_SW_MAJOR</a>, <a class="el" href="../../#l00196">PARAM_SW_MAJOR_SLAVE1</a>, <a class="el" href="../../#l00198">PARAM_SW_MAJOR_SLAVE2</a>, <a class="el" href="../../#l00178">PARAM_SW_MINOR</a>, <a class="el" href="../../#l00197">PARAM_SW_MINOR_SLAVE1</a>, <a class="el" href="../../#l00199">PARAM_SW_MINOR_SLAVE2</a>, <a class="el" href="../../#l00184">PARAM_TOPCARD_DETECT</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00114">pgmname</a>, <a class="el" href="../../#l00199">routing_cards</a>, <a class="el" href="../../#l00244">socket_cards</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, <a class="el" href="../../#l03163">stk500v2_getparm2()</a>, <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, and <a class="el" href="../../#l03199">stk600_get_cardname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a547b9897987fa0e5eb79c9dad233f340_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a547b9897987fa0e5eb79c9dad233f340_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa637142418b61dc0b7642d190068e79c" name="aa637142418b61dc0b7642d190068e79c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa637142418b61dc0b7642d190068e79c">&#9670;&#160;</a></span>stk500v2_dragon_hv_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_dragon_hv_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3646</span>{</div>
<div class="line"><span class="lineno"> 3647</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3648</span><span class="comment">//   union pinfo pinfo;</span></div>
<div class="line"><span class="lineno"> 3649</span><span class="comment">//   void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3650</span> </div>
<div class="line"><span class="lineno"> 3651</span><span class="comment">//   avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_dragon_hv_open()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3652</span> </div>
<div class="line"><span class="lineno"> 3653</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3654</span><span class="comment">//    * The JTAG ICE mkII always starts with a baud rate of 19200 Bd upon</span></div>
<div class="line"><span class="lineno"> 3655</span><span class="comment">//    * attaching.  If the config file or command-line parameters specify</span></div>
<div class="line"><span class="lineno"> 3656</span><span class="comment">//    * a higher baud rate, we switch to it later on, after establishing</span></div>
<div class="line"><span class="lineno"> 3657</span><span class="comment">//    * the connection with the ICE.</span></div>
<div class="line"><span class="lineno"> 3658</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3659</span><span class="comment">//   pinfo.baud = 19200;</span></div>
<div class="line"><span class="lineno"> 3660</span> </div>
<div class="line"><span class="lineno"> 3661</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3662</span><span class="comment">//    * If the port name starts with &quot;usb&quot;, divert the serial routines</span></div>
<div class="line"><span class="lineno"> 3663</span><span class="comment">//    * to the USB ones.  The serial_open() function for USB overrides</span></div>
<div class="line"><span class="lineno"> 3664</span><span class="comment">//    * the meaning of the &quot;baud&quot; parameter to be the USB device ID to</span></div>
<div class="line"><span class="lineno"> 3665</span><span class="comment">//    * search for.</span></div>
<div class="line"><span class="lineno"> 3666</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3667</span><span class="comment">//   if (strncmp(port, &quot;usb&quot;, 3) == 0) {</span></div>
<div class="line"><span class="lineno"> 3668</span><span class="comment">// #if defined(HAVE_LIBUSB)</span></div>
<div class="line"><span class="lineno"> 3669</span><span class="comment">//     serdev = &amp;usb_serdev;</span></div>
<div class="line"><span class="lineno"> 3670</span><span class="comment">//     pinfo.usbinfo.vid = USB_VENDOR_ATMEL;</span></div>
<div class="line"><span class="lineno"> 3671</span><span class="comment">//     pinfo.usbinfo.flags = 0;</span></div>
<div class="line"><span class="lineno"> 3672</span><span class="comment">//     pinfo.usbinfo.pid = USB_DEVICE_AVRDRAGON;</span></div>
<div class="line"><span class="lineno"> 3673</span><span class="comment">//     pgm-&gt;fd.usb.max_xfer = USBDEV_MAX_XFER_MKII;</span></div>
<div class="line"><span class="lineno"> 3674</span><span class="comment">//     pgm-&gt;fd.usb.rep = USBDEV_BULK_EP_READ_MKII;</span></div>
<div class="line"><span class="lineno"> 3675</span><span class="comment">//     pgm-&gt;fd.usb.wep = USBDEV_BULK_EP_WRITE_MKII;</span></div>
<div class="line"><span class="lineno"> 3676</span><span class="comment">//     pgm-&gt;fd.usb.eep = 0;           /* no seperate EP for events */</span></div>
<div class="line"><span class="lineno"> 3677</span><span class="comment">// #else</span></div>
<div class="line"><span class="lineno"> 3678</span><span class="comment">//     avrdude_message(MSG_INFO, &quot;avrdude was compiled without usb support.\n&quot;);</span></div>
<div class="line"><span class="lineno"> 3679</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3680</span><span class="comment">// #endif</span></div>
<div class="line"><span class="lineno"> 3681</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3682</span> </div>
<div class="line"><span class="lineno"> 3683</span><span class="comment">//   strcpy(pgm-&gt;port, port);</span></div>
<div class="line"><span class="lineno"> 3684</span><span class="comment">//   if (serial_open(port, pinfo, &amp;pgm-&gt;fd)==-1) {</span></div>
<div class="line"><span class="lineno"> 3685</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3686</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3687</span> </div>
<div class="line"><span class="lineno"> 3688</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3689</span><span class="comment">//    * drain any extraneous input</span></div>
<div class="line"><span class="lineno"> 3690</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3691</span><span class="comment">//   stk500v2_drain(pgm, 0);</span></div>
<div class="line"><span class="lineno"> 3692</span> </div>
<div class="line"><span class="lineno"> 3693</span><span class="comment">//   mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3694</span><span class="comment">//   pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3695</span><span class="comment">//   if (jtagmkII_getsync(pgm, EMULATOR_MODE_HV) != 0) {</span></div>
<div class="line"><span class="lineno"> 3696</span><span class="comment">//     avrdude_message(MSG_INFO, &quot;%s: failed to sync with the AVR Dragon in HV mode\n&quot;,</span></div>
<div class="line"><span class="lineno"> 3697</span><span class="comment">//             progname);</span></div>
<div class="line"><span class="lineno"> 3698</span><span class="comment">//     pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3699</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3700</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3701</span><span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3702</span> </div>
<div class="line"><span class="lineno"> 3703</span><span class="comment">//   PDATA(pgm)-&gt;pgmtype = PGMTYPE_JTAGICE_MKII;</span></div>
<div class="line"><span class="lineno"> 3704</span> </div>
<div class="line"><span class="lineno"> 3705</span><span class="comment">//   if (pgm-&gt;bitclock != 0.0) {</span></div>
<div class="line"><span class="lineno"> 3706</span><span class="comment">//     if (pgm-&gt;set_sck_period(pgm, pgm-&gt;bitclock) != 0)</span></div>
<div class="line"><span class="lineno"> 3707</span><span class="comment">//       return -1;</span></div>
<div class="line"><span class="lineno"> 3708</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3709</span> </div>
<div class="line"><span class="lineno"> 3710</span><span class="comment">//   return 0;</span></div>
<div class="line"><span class="lineno"> 3711</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, and <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>.</p>
<div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa637142418b61dc0b7642d190068e79c_icgraph.svg" width="391" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2a91e314fe3f1e4dd753cff5119343f6" name="a2a91e314fe3f1e4dd753cff5119343f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a91e314fe3f1e4dd753cff5119343f6">&#9670;&#160;</a></span>stk500v2_dragon_hvsp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_dragon_hvsp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4633</span>{</div>
<div class="line"><span class="lineno"> 4634</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;DRAGON_HVSP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4635</span> </div>
<div class="line"><span class="lineno"> 4636</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4637</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4638</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4639</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa0abec32479b44383e065453bac2fc8">stk500hvsp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4640</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4641</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4642</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8021345ebff90ad52b757ed9dd306775">stk500hvsp_disable</a>;</div>
<div class="line"><span class="lineno"> 4643</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3334252dbcd73fd10b3bca365dba7164">stk500hvsp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4644</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#af4adf76d10a8645357344c4df090128e">stk500hvsp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4645</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa637142418b61dc0b7642d190068e79c">stk500v2_dragon_hv_open</a>;</div>
<div class="line"><span class="lineno"> 4646</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a>;</div>
<div class="line"><span class="lineno"> 4647</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a372b1145433b6eca34aae30931ea51de">stk500hvsp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4648</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4424032eca15d81331cb9d56b505ff81">stk500hvsp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4649</span> </div>
<div class="line"><span class="lineno"> 4650</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4651</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4652</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4653</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa988b090ca3c21e80e5ee9840a202270">stk500hvsp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4654</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a96ed412645f5aa937520725fd16b69fc">stk500hvsp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4655</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4656</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4657</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4658</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4659</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a>;</div>
<div class="line"><span class="lineno"> 4660</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a>;</div>
<div class="line"><span class="lineno"> 4661</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a>;</div>
<div class="line"><span class="lineno"> 4662</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4663</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a6a0a1a7ecbfcda9c66e197b030af30f3"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a></div><div class="ttdeci">static int stk500v2_set_sck_period_mk2(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2885</div></div>
<div class="ttc" id="astk500v2_8c_html_aa637142418b61dc0b7642d190068e79c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa637142418b61dc0b7642d190068e79c">stk500v2_dragon_hv_open</a></div><div class="ttdeci">static int stk500v2_dragon_hv_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3645</div></div>
<div class="ttc" id="astk500v2_8c_html_ae552fcdd1160d33954858fd5c255657c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a></div><div class="ttdeci">static void stk500v2_jtagmkII_setup(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:308</div></div>
<div class="ttc" id="astk500v2_8c_html_afa4a60d93e361634b5b5474e1d154103"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a></div><div class="ttdeci">static void stk500v2_jtagmkII_teardown(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:359</div></div>
<div class="ttc" id="astk500v2_8c_html_afa55b65df6f581202d3226a5e4130ab7"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a></div><div class="ttdeci">static void stk500v2_jtagmkII_close(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3527</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01075">stk500hvsp_chip_erase()</a>, <a class="el" href="../../#l01628">stk500hvsp_disable()</a>, <a class="el" href="../../#l01538">stk500hvsp_initialize()</a>, <a class="el" href="../../#l02750">stk500hvsp_paged_load()</a>, <a class="el" href="../../#l02560">stk500hvsp_paged_write()</a>, <a class="el" href="../../#l01260">stk500hvsp_program_enable()</a>, <a class="el" href="../../#l01924">stk500hvsp_read_byte()</a>, <a class="el" href="../../#l02184">stk500hvsp_write_byte()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l03645">stk500v2_dragon_hv_open()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l03527">stk500v2_jtagmkII_close()</a>, <a class="el" href="../../#l00308">stk500v2_jtagmkII_setup()</a>, <a class="el" href="../../#l00359">stk500v2_jtagmkII_teardown()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2a91e314fe3f1e4dd753cff5119343f6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a30d4cc736e7bc9ff34dc82e7dc6b66bb" name="a30d4cc736e7bc9ff34dc82e7dc6b66bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d4cc736e7bc9ff34dc82e7dc6b66bb">&#9670;&#160;</a></span>stk500v2_dragon_isp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_dragon_isp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4564</span>{</div>
<div class="line"><span class="lineno"> 4565</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;DRAGON_ISP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4566</span> </div>
<div class="line"><span class="lineno"> 4567</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4568</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4569</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4570</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a>;</div>
<div class="line"><span class="lineno"> 4571</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4572</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4573</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a>;</div>
<div class="line"><span class="lineno"> 4574</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4575</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4576</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">cmd</a>            = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a>;</div>
<div class="line"><span class="lineno"> 4577</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a1cd95cb28abd22bf5a4f2c2ad26d587b">stk500v2_dragon_isp_open</a>;</div>
<div class="line"><span class="lineno"> 4578</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a>;</div>
<div class="line"><span class="lineno"> 4579</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4580</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4581</span> </div>
<div class="line"><span class="lineno"> 4582</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4583</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4584</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4585</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4586</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4587</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4588</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4589</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a>;</div>
<div class="line"><span class="lineno"> 4590</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a>;</div>
<div class="line"><span class="lineno"> 4591</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a>;</div>
<div class="line"><span class="lineno"> 4592</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4593</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a1cd95cb28abd22bf5a4f2c2ad26d587b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a1cd95cb28abd22bf5a4f2c2ad26d587b">stk500v2_dragon_isp_open</a></div><div class="ttdeci">static int stk500v2_dragon_isp_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3566</div></div>
<div class="ttc" id="astk500v2_8c_html_a28a54649377f2d02df8245ccd23e0498"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a></div><div class="ttdeci">static int stk500v2_page_erase(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int addr)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2758</div></div>
<div class="ttc" id="astk500v2_8c_html_a3e878cf1728bc746fee4165b33aeed33"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a></div><div class="ttdeci">static void stk500v2_disable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1567</div></div>
<div class="ttc" id="astk500v2_8c_html_a50215d5d75e0dad23582c3bed748cdc6"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a></div><div class="ttdeci">static int stk500v2_cmd(PROGRAMMER *pgm, const unsigned char *cmd, unsigned char *res)</div><div class="ttdef"><b>Definition</b> stk500v2.c:960</div></div>
<div class="ttc" id="astk500v2_8c_html_a54506ae507321252bad19bed9a9416a3"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a></div><div class="ttdeci">static int stk500v2_initialize(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1285</div></div>
<div class="ttc" id="astk500v2_8c_html_a635e1cc6cb2679b3eb01c50b9fe635c5"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a></div><div class="ttdeci">static int stk500isp_write_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char data)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2194</div></div>
<div class="ttc" id="astk500v2_8c_html_aa3eee9d9400e08067da3754f2fcf9f2e"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a></div><div class="ttdeci">static int stk500isp_read_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1936</div></div>
<div class="ttc" id="astk500v2_8c_html_ace36659adc57139c6922be5cd3f73250"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a></div><div class="ttdeci">static int stk500v2_chip_erase(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1010</div></div>
<div class="ttc" id="astk500v2_8c_html_afad7af644d38e218af2474541f7b0239"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a></div><div class="ttdeci">static int stk500v2_program_enable(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1127</div></div>
<div class="ttc" id="astructprogrammer__t_html_a7a9574c193527210eafe66320cc25381"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">programmer_t::cmd</a></div><div class="ttdeci">int(* cmd)(struct programmer_t *pgm, const unsigned char *cmd, unsigned char *res)</div><div class="ttdef"><b>Definition</b> libavrdude.h:651</div></div>
<div class="ttc" id="astructprogrammer__t_html_adb014aab23c225c025bc9e9cf545bc1c"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">programmer_t::page_erase</a></div><div class="ttdeci">int(* page_erase)(struct programmer_t *pgm, AVRPART *p, AVRMEM *m, unsigned int baseaddr)</div><div class="ttdef"><b>Definition</b> libavrdude.h:665</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00651">programmer_t::cmd</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l00960">stk500v2_cmd()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l03566">stk500v2_dragon_isp_open()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01285">stk500v2_initialize()</a>, <a class="el" href="../../#l03527">stk500v2_jtagmkII_close()</a>, <a class="el" href="../../#l00308">stk500v2_jtagmkII_setup()</a>, <a class="el" href="../../#l00359">stk500v2_jtagmkII_teardown()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-67" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a30d4cc736e7bc9ff34dc82e7dc6b66bb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1cd95cb28abd22bf5a4f2c2ad26d587b" name="a1cd95cb28abd22bf5a4f2c2ad26d587b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd95cb28abd22bf5a4f2c2ad26d587b">&#9670;&#160;</a></span>stk500v2_dragon_isp_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_dragon_isp_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3567</span>{</div>
<div class="line"><span class="lineno"> 3568</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3569</span><span class="comment">//   union pinfo pinfo;</span></div>
<div class="line"><span class="lineno"> 3570</span><span class="comment">//   void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3571</span> </div>
<div class="line"><span class="lineno"> 3572</span><span class="comment">//   avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_dragon_isp_open()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3573</span> </div>
<div class="line"><span class="lineno"> 3574</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3575</span><span class="comment">//    * The JTAG ICE mkII always starts with a baud rate of 19200 Bd upon</span></div>
<div class="line"><span class="lineno"> 3576</span><span class="comment">//    * attaching.  If the config file or command-line parameters specify</span></div>
<div class="line"><span class="lineno"> 3577</span><span class="comment">//    * a higher baud rate, we switch to it later on, after establishing</span></div>
<div class="line"><span class="lineno"> 3578</span><span class="comment">//    * the connection with the ICE.</span></div>
<div class="line"><span class="lineno"> 3579</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3580</span><span class="comment">//   pinfo.baud = 19200;</span></div>
<div class="line"><span class="lineno"> 3581</span> </div>
<div class="line"><span class="lineno"> 3582</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3583</span><span class="comment">//    * If the port name starts with &quot;usb&quot;, divert the serial routines</span></div>
<div class="line"><span class="lineno"> 3584</span><span class="comment">//    * to the USB ones.  The serial_open() function for USB overrides</span></div>
<div class="line"><span class="lineno"> 3585</span><span class="comment">//    * the meaning of the &quot;baud&quot; parameter to be the USB device ID to</span></div>
<div class="line"><span class="lineno"> 3586</span><span class="comment">//    * search for.</span></div>
<div class="line"><span class="lineno"> 3587</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3588</span><span class="comment">//   if (strncmp(port, &quot;usb&quot;, 3) == 0) {</span></div>
<div class="line"><span class="lineno"> 3589</span><span class="comment">// #if defined(HAVE_LIBUSB)</span></div>
<div class="line"><span class="lineno"> 3590</span><span class="comment">//     serdev = &amp;usb_serdev;</span></div>
<div class="line"><span class="lineno"> 3591</span><span class="comment">//     pinfo.usbinfo.vid = USB_VENDOR_ATMEL;</span></div>
<div class="line"><span class="lineno"> 3592</span><span class="comment">//     pinfo.usbinfo.flags = 0;</span></div>
<div class="line"><span class="lineno"> 3593</span><span class="comment">//     pinfo.usbinfo.pid = USB_DEVICE_AVRDRAGON;</span></div>
<div class="line"><span class="lineno"> 3594</span><span class="comment">//     pgm-&gt;fd.usb.max_xfer = USBDEV_MAX_XFER_MKII;</span></div>
<div class="line"><span class="lineno"> 3595</span><span class="comment">//     pgm-&gt;fd.usb.rep = USBDEV_BULK_EP_READ_MKII;</span></div>
<div class="line"><span class="lineno"> 3596</span><span class="comment">//     pgm-&gt;fd.usb.wep = USBDEV_BULK_EP_WRITE_MKII;</span></div>
<div class="line"><span class="lineno"> 3597</span><span class="comment">//     pgm-&gt;fd.usb.eep = 0;           /* no seperate EP for events */</span></div>
<div class="line"><span class="lineno"> 3598</span><span class="comment">// #else</span></div>
<div class="line"><span class="lineno"> 3599</span><span class="comment">//     avrdude_message(MSG_INFO, &quot;avrdude was compiled without usb support.\n&quot;);</span></div>
<div class="line"><span class="lineno"> 3600</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3601</span><span class="comment">// #endif</span></div>
<div class="line"><span class="lineno"> 3602</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3603</span> </div>
<div class="line"><span class="lineno"> 3604</span><span class="comment">//   strcpy(pgm-&gt;port, port);</span></div>
<div class="line"><span class="lineno"> 3605</span><span class="comment">//   if (serial_open(port, pinfo, &amp;pgm-&gt;fd)==-1) {</span></div>
<div class="line"><span class="lineno"> 3606</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3607</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3608</span> </div>
<div class="line"><span class="lineno"> 3609</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3610</span><span class="comment">//    * drain any extraneous input</span></div>
<div class="line"><span class="lineno"> 3611</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3612</span><span class="comment">//   stk500v2_drain(pgm, 0);</span></div>
<div class="line"><span class="lineno"> 3613</span> </div>
<div class="line"><span class="lineno"> 3614</span><span class="comment">//   mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3615</span><span class="comment">//   pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3616</span><span class="comment">//   if (jtagmkII_getsync(pgm, EMULATOR_MODE_SPI) != 0) {</span></div>
<div class="line"><span class="lineno"> 3617</span><span class="comment">//     avrdude_message(MSG_INFO, &quot;%s: failed to sync with the AVR Dragon in ISP mode\n&quot;,</span></div>
<div class="line"><span class="lineno"> 3618</span><span class="comment">//             progname);</span></div>
<div class="line"><span class="lineno"> 3619</span><span class="comment">//     pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3620</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3621</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3622</span><span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3623</span> </div>
<div class="line"><span class="lineno"> 3624</span><span class="comment">//   PDATA(pgm)-&gt;pgmtype = PGMTYPE_JTAGICE_MKII;</span></div>
<div class="line"><span class="lineno"> 3625</span> </div>
<div class="line"><span class="lineno"> 3626</span><span class="comment">//   if (pgm-&gt;bitclock != 0.0) {</span></div>
<div class="line"><span class="lineno"> 3627</span><span class="comment">//     if (pgm-&gt;set_sck_period(pgm, pgm-&gt;bitclock) != 0)</span></div>
<div class="line"><span class="lineno"> 3628</span><span class="comment">//       return -1;</span></div>
<div class="line"><span class="lineno"> 3629</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3630</span> </div>
<div class="line"><span class="lineno"> 3631</span><span class="comment">//   return 0;</span></div>
<div class="line"><span class="lineno"> 3632</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>.</p>
<div id="dynsection-68" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a1cd95cb28abd22bf5a4f2c2ad26d587b_icgraph.svg" width="383" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9ecbe056017fb61ae4264d14b9c2b9ce" name="a9ecbe056017fb61ae4264d14b9c2b9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecbe056017fb61ae4264d14b9c2b9ce">&#9670;&#160;</a></span>stk500v2_dragon_pp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_dragon_pp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4598</span>{</div>
<div class="line"><span class="lineno"> 4599</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;DRAGON_PP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4600</span> </div>
<div class="line"><span class="lineno"> 4601</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4602</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4603</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4604</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4dc3bbbd71b7574021b1fc3aef2a746b">stk500pp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4605</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4606</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4607</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab794cfa0f83797393455ab017b8b8e0a">stk500pp_disable</a>;</div>
<div class="line"><span class="lineno"> 4608</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94e3168fe42269f38b153b83284ac0d1">stk500pp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4609</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae8e18a8adf7cd4d8193a78a8a47e33cf">stk500pp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4610</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa637142418b61dc0b7642d190068e79c">stk500v2_dragon_hv_open</a>;</div>
<div class="line"><span class="lineno"> 4611</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a>;</div>
<div class="line"><span class="lineno"> 4612</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a024bcdd99e70c9ea38546b6bcb03bd2c">stk500pp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4613</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#accce3d8363d2f16d16cee92de1f82f3b">stk500pp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4614</span> </div>
<div class="line"><span class="lineno"> 4615</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4616</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4617</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4618</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28125f5423762e176817c11e014e1898">stk500pp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4619</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0a4b3bb68138a747696a78e4585f424f">stk500pp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4620</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4621</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4622</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4623</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4624</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a>;</div>
<div class="line"><span class="lineno"> 4625</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a>;</div>
<div class="line"><span class="lineno"> 4626</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a>;</div>
<div class="line"><span class="lineno"> 4627</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4628</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01067">stk500pp_chip_erase()</a>, <a class="el" href="../../#l01620">stk500pp_disable()</a>, <a class="el" href="../../#l01530">stk500pp_initialize()</a>, <a class="el" href="../../#l02740">stk500pp_paged_load()</a>, <a class="el" href="../../#l02550">stk500pp_paged_write()</a>, <a class="el" href="../../#l01239">stk500pp_program_enable()</a>, <a class="el" href="../../#l01915">stk500pp_read_byte()</a>, <a class="el" href="../../#l02175">stk500pp_write_byte()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l03645">stk500v2_dragon_hv_open()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l03527">stk500v2_jtagmkII_close()</a>, <a class="el" href="../../#l00308">stk500v2_jtagmkII_setup()</a>, <a class="el" href="../../#l00359">stk500v2_jtagmkII_teardown()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-69" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a9ecbe056017fb61ae4264d14b9c2b9ce_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a211093bc7f76b415d984f6d2b9f3884f" name="a211093bc7f76b415d984f6d2b9f3884f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211093bc7f76b415d984f6d2b9f3884f">&#9670;&#160;</a></span>stk500v2_drain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stk500v2_drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>display</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  531</span>{</div>
<div class="line"><span class="lineno">  532</span>  <span class="keywordflow">return</span> <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#afb50daf285f8a9ed3af4f71b2825c394">serial_drain</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>, display);</div>
<div class="line"><span class="lineno">  533</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_afb50daf285f8a9ed3af4f71b2825c394"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#afb50daf285f8a9ed3af4f71b2825c394">serial_drain</a></div><div class="ttdeci">#define serial_drain</div><div class="ttdef"><b>Definition</b> libavrdude.h:579</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l00579">serial_drain</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01639">stk500v2_open()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, and <a class="el" href="../../#l00147">wiring_open()</a>.</p>
<div id="dynsection-70" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-70-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-70-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-70-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a211093bc7f76b415d984f6d2b9f3884f_icgraph.svg" width="100%" height="531"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7b95e118ea7b94e35892427c5017019c" name="a7b95e118ea7b94e35892427c5017019c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b95e118ea7b94e35892427c5017019c">&#9670;&#160;</a></span>stk500v2_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1634</span>{</div>
<div class="line"><span class="lineno"> 1635</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1636</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-71" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-71-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-71-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-71-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a7b95e118ea7b94e35892427c5017019c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a94ee9de93b67ac9ac41dc6217dd62627" name="a94ee9de93b67ac9ac41dc6217dd62627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ee9de93b67ac9ac41dc6217dd62627">&#9670;&#160;</a></span>stk500v2_getparm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_getparm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3111</span>{</div>
<div class="line"><span class="lineno"> 3112</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 3113</span> </div>
<div class="line"><span class="lineno"> 3114</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa9d706aa639da255d6d2a8879a900d34">CMD_GET_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 3115</span>  buf[1] = parm;</div>
<div class="line"><span class="lineno"> 3116</span> </div>
<div class="line"><span class="lineno"> 3117</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 2, <span class="keyword">sizeof</span>(buf)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3118</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getparm(): failed to get parameter 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3119</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, parm);</div>
<div class="line"><span class="lineno"> 3120</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3121</span>  }</div>
<div class="line"><span class="lineno"> 3122</span> </div>
<div class="line"><span class="lineno"> 3123</span>  *value = buf[2];</div>
<div class="line"><span class="lineno"> 3124</span> </div>
<div class="line"><span class="lineno"> 3125</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3126</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_aa9d706aa639da255d6d2a8879a900d34"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa9d706aa639da255d6d2a8879a900d34">CMD_GET_PARAMETER</a></div><div class="ttdeci">#define CMD_GET_PARAMETER</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:21</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00021">CMD_GET_PARAMETER</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l03145">stk500v2_setparm()</a>, and <a class="el" href="../../#l03029">stk600_set_varef()</a>.</p>
<div id="dynsection-72" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-72-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-72-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-72-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94ee9de93b67ac9ac41dc6217dd62627_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-73" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-73-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-73-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-73-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94ee9de93b67ac9ac41dc6217dd62627_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2350c80031806d161f1159bc08ab6dfa" name="a2350c80031806d161f1159bc08ab6dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2350c80031806d161f1159bc08ab6dfa">&#9670;&#160;</a></span>stk500v2_getparm2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_getparm2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3164</span>{</div>
<div class="line"><span class="lineno"> 3165</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 3166</span> </div>
<div class="line"><span class="lineno"> 3167</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa9d706aa639da255d6d2a8879a900d34">CMD_GET_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 3168</span>  buf[1] = parm;</div>
<div class="line"><span class="lineno"> 3169</span> </div>
<div class="line"><span class="lineno"> 3170</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 2, <span class="keyword">sizeof</span>(buf)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3171</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getparm2(): failed to get parameter 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3172</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, parm);</div>
<div class="line"><span class="lineno"> 3173</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3174</span>  }</div>
<div class="line"><span class="lineno"> 3175</span> </div>
<div class="line"><span class="lineno"> 3176</span>  *value = ((unsigned)buf[2] &lt;&lt; 8) | buf[3];</div>
<div class="line"><span class="lineno"> 3177</span> </div>
<div class="line"><span class="lineno"> 3178</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3179</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00021">CMD_GET_PARAMETER</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, and <a class="el" href="../../#l02977">stk600_set_vtarget()</a>.</p>
<div id="dynsection-74" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-74-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-74-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-74-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2350c80031806d161f1159bc08ab6dfa_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-75" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-75-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-75-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-75-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2350c80031806d161f1159bc08ab6dfa_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0c65811e2b906244f8278205f6567191" name="a0c65811e2b906244f8278205f6567191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c65811e2b906244f8278205f6567191">&#9670;&#160;</a></span>stk500v2_getsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stk500v2_getsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  749</span>                                       {</div>
<div class="line"><span class="lineno">  750</span>  <span class="keywordtype">int</span> tries = 0;</div>
<div class="line"><span class="lineno">  751</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[1], resp[32];</div>
<div class="line"><span class="lineno">  752</span>  <span class="keywordtype">int</span> status;</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_getsync()\n&quot;</span>);</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE_MKII ||</div>
<div class="line"><span class="lineno">  757</span>      <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE3)</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>retry:</div>
<div class="line"><span class="lineno">  761</span>  tries++;</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>  <span class="comment">// send the sync command and see if we can get there</span></div>
<div class="line"><span class="lineno">  766</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a100d97f86bd3445ef49a162aff046206">CMD_SIGN_ON</a>;</div>
<div class="line"><span class="lineno">  767</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a1f8266ad2201e09606ed54b65f6db872">stk500v2_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 1) != 0) {</div>
<div class="line"><span class="lineno">  768</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): can&#39;t communicate with device\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  770</span>  }</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>  <span class="comment">// try to get the response back and see where we got</span></div>
<div class="line"><span class="lineno">  775</span>  status = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afde730659f26cf880986235970003b2e">stk500v2_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, resp, <span class="keyword">sizeof</span>(resp));</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>  <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>  <span class="comment">// if we got bytes returned, check to see what came back</span></div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">if</span> (status &gt; 0) {</div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">if</span> ((resp[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a100d97f86bd3445ef49a162aff046206">CMD_SIGN_ON</a>) &amp;&amp; (resp[1] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2c06f068c4eac3fff24312e002868fa1">STATUS_CMD_OK</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  782</span>  (status &gt; 3)) {</div>
<div class="line"><span class="lineno">  783</span>      <span class="comment">// success!</span></div>
<div class="line"><span class="lineno">  784</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> siglen = resp[2];</div>
<div class="line"><span class="lineno">  785</span>      <span class="keywordflow">if</span> (siglen &gt;= strlen(<span class="stringliteral">&quot;STK500_2&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  786</span>    memcmp(resp + 3, <span class="stringliteral">&quot;STK500_2&quot;</span>, strlen(<span class="stringliteral">&quot;STK500_2&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno">  787</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_STK500;</div>
<div class="line"><span class="lineno">  788</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (siglen &gt;= strlen(<span class="stringliteral">&quot;AVRISP_2&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  789</span>     memcmp(resp + 3, <span class="stringliteral">&quot;AVRISP_2&quot;</span>, strlen(<span class="stringliteral">&quot;AVRISP_2&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno">  790</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_AVRISP;</div>
<div class="line"><span class="lineno">  791</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (siglen &gt;= strlen(<span class="stringliteral">&quot;AVRISP_MK2&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  792</span>     memcmp(resp + 3, <span class="stringliteral">&quot;AVRISP_MK2&quot;</span>, strlen(<span class="stringliteral">&quot;AVRISP_MK2&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno">  793</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_AVRISP_MKII;</div>
<div class="line"><span class="lineno">  794</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (siglen &gt;= strlen(<span class="stringliteral">&quot;STK600&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  795</span>    memcmp(resp + 3, <span class="stringliteral">&quot;STK600&quot;</span>, strlen(<span class="stringliteral">&quot;STK600&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno">  796</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_STK600;</div>
<div class="line"><span class="lineno">  797</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  798</span>  resp[siglen + 3] = 0;</div>
<div class="line"><span class="lineno">  799</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ad4a8684ff0e683a17328f48469ea6deb">MSG_NOTICE</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): got response from unknown &quot;</span></div>
<div class="line"><span class="lineno">  800</span>                          <span class="stringliteral">&quot;programmer %s, assuming STK500\n&quot;</span>,</div>
<div class="line"><span class="lineno">  801</span>                          <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, resp + 3);</div>
<div class="line"><span class="lineno">  802</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_STK500;</div>
<div class="line"><span class="lineno">  803</span>      }</div>
<div class="line"><span class="lineno">  804</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a18adf81be6937378e36183d54dba61e9">MSG_DEBUG</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): found %s programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno">  805</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a31d7c91af713b41cee3be4540ef85b1d">pgmname</a>[<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype]);</div>
<div class="line"><span class="lineno">  806</span>      <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  807</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  808</span>      <span class="keywordflow">if</span> (tries &gt; <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a>) {</div>
<div class="line"><span class="lineno">  809</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): can&#39;t communicate with device: resp=0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  810</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, resp[0]);</div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">return</span> -6;</div>
<div class="line"><span class="lineno">  812</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">goto</span> retry;</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>  <span class="comment">// or if we got a timeout</span></div>
<div class="line"><span class="lineno">  817</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == -1) {</div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">if</span> (tries &gt; <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a>) {</div>
<div class="line"><span class="lineno">  819</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): timeout communicating with programmer\n&quot;</span>,</div>
<div class="line"><span class="lineno">  820</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  821</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  822</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  823</span>      <span class="keywordflow">goto</span> retry;</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>  <span class="comment">// or any other error</span></div>
<div class="line"><span class="lineno">  826</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordflow">if</span> (tries &gt; <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#ac7200ac983292fc63d6ccbbad26397a6">RETRIES</a>) {</div>
<div class="line"><span class="lineno">  828</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_getsync(): error communicating with programmer: (%d)\n&quot;</span>,</div>
<div class="line"><span class="lineno">  829</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,status);</div>
<div class="line"><span class="lineno">  830</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  831</span>      <span class="keywordflow">goto</span> retry;</div>
<div class="line"><span class="lineno">  832</span>  }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  835</span>}</div>
<div class="ttc" id="aavrdude_8h_html_a18adf81be6937378e36183d54dba61e9"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#a18adf81be6937378e36183d54dba61e9">MSG_DEBUG</a></div><div class="ttdeci">#define MSG_DEBUG</div><div class="ttdef"><b>Definition</b> avrdude.h:54</div></div>
<div class="ttc" id="aavrdude_8h_html_ad4a8684ff0e683a17328f48469ea6deb"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ad4a8684ff0e683a17328f48469ea6deb">MSG_NOTICE</a></div><div class="ttdeci">#define MSG_NOTICE</div><div class="ttdef"><b>Definition</b> avrdude.h:52</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a100d97f86bd3445ef49a162aff046206"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a100d97f86bd3445ef49a162aff046206">CMD_SIGN_ON</a></div><div class="ttdeci">#define CMD_SIGN_ON</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:19</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00019">CMD_SIGN_ON</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00054">MSG_DEBUG</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00052">MSG_NOTICE</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00114">pgmname</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00082">RETRIES</a>, <a class="el" href="../../#l00733">RETURN_IF_CANCEL</a>, <a class="el" href="../../#l00132">STATUS_CMD_OK</a>, <a class="el" href="../../#l00628">stk500v2_recv()</a>, and <a class="el" href="../../#l00492">stk500v2_send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l01639">stk500v2_open()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, and <a class="el" href="../../#l00147">wiring_open()</a>.</p>
<div id="dynsection-76" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-76-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-76-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-76-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0c65811e2b906244f8278205f6567191_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-77" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-77-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-77-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-77-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0c65811e2b906244f8278205f6567191_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a54506ae507321252bad19bed9a9416a3" name="a54506ae507321252bad19bed9a9416a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54506ae507321252bad19bed9a9416a3">&#9670;&#160;</a></span>stk500v2_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1286</span>{</div>
<div class="line"><span class="lineno"> 1287</span> </div>
<div class="line"><span class="lineno"> 1288</span>  <a class="code hl_typedef" href="../../d2/d68/libavrdude_8h.html#a87436b0710da6d55294151aa1301dc5d">LNODEID</a> ln;</div>
<div class="line"><span class="lineno"> 1289</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> * m;</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>  <span class="keywordflow">if</span> ((<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600 ||</div>
<div class="line"><span class="lineno"> 1292</span>       <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_AVRISP_MKII ||</div>
<div class="line"><span class="lineno"> 1293</span>       <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE_MKII) != 0</div>
<div class="line"><span class="lineno"> 1294</span>      &amp;&amp; (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a99b6d49fcb51f18f8cc08cdf35256c1d">AVRPART_HAS_PDI</a> | <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a>)) != 0) {</div>
<div class="line"><span class="lineno"> 1295</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1296</span><span class="comment">     * This is an ATxmega device, must use XPROG protocol for the</span></div>
<div class="line"><span class="lineno"> 1297</span><span class="comment">     * remaining actions.</span></div>
<div class="line"><span class="lineno"> 1298</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1299</span>    <span class="keywordflow">if</span> ((p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a99b6d49fcb51f18f8cc08cdf35256c1d">AVRPART_HAS_PDI</a>) != 0) {</div>
<div class="line"><span class="lineno"> 1300</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1301</span><span class="comment">       * Find out where the border between application and boot area</span></div>
<div class="line"><span class="lineno"> 1302</span><span class="comment">       * is.</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="comment">       */</span></div>
<div class="line"><span class="lineno"> 1304</span>      <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> *bootmem = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a>(p, <span class="stringliteral">&quot;boot&quot;</span>);</div>
<div class="line"><span class="lineno"> 1305</span>      <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> *flashmem = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a>(p, <span class="stringliteral">&quot;flash&quot;</span>);</div>
<div class="line"><span class="lineno"> 1306</span>      <span class="keywordflow">if</span> (bootmem == NULL || flashmem == NULL) {</div>
<div class="line"><span class="lineno"> 1307</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_initialize(): Cannot locate \&quot;flash\&quot; and \&quot;boot\&quot; memories in description\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1308</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1309</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1310</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;boot_start = bootmem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> - flashmem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 1311</span>      }</div>
<div class="line"><span class="lineno"> 1312</span>    }</div>
<div class="line"><span class="lineno"> 1313</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4f1eb402e5598f00bc9705009d350904">stk600_setup_xprog</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 1314</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1315</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a957316884e0ac5cbef8f1dd190518dd8">stk600_setup_isp</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 1316</span>  }</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="comment">   * Examine the avrpart&#39;s memory definitions, and initialize the page</span></div>
<div class="line"><span class="lineno"> 1320</span><span class="comment">   * caches.  For devices/memory that are not page oriented, treat</span></div>
<div class="line"><span class="lineno"> 1321</span><span class="comment">   * them as page size 1 for EEPROM, and 2 for flash.</span></div>
<div class="line"><span class="lineno"> 1322</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1323</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = 2;</div>
<div class="line"><span class="lineno"> 1324</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize = 1;</div>
<div class="line"><span class="lineno"> 1325</span>  <span class="keywordflow">for</span> (ln = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#aa4e89f2cb024b90526cc6d7c5cc282ba">lfirst</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>); ln; ln = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#a92aee0845d4a840ea39c44ba4c441cf1">lnext</a>(ln)) {</div>
<div class="line"><span class="lineno"> 1326</span>    m = <a class="code hl_function" href="../../d2/d68/libavrdude_8h.html#a59bcd8f586373668a1dbbf64b47fda5d">ldata</a>(ln);</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1328</span>      <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1329</span>        <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 256)</div>
<div class="line"><span class="lineno"> 1330</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = 256;</div>
<div class="line"><span class="lineno"> 1331</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1332</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1333</span>      }</div>
<div class="line"><span class="lineno"> 1334</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1335</span>      <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1336</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 1337</span>    }</div>
<div class="line"><span class="lineno"> 1338</span>  }</div>
<div class="line"><span class="lineno"> 1339</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1340</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache);</div>
<div class="line"><span class="lineno"> 1341</span>  <span class="keywordflow">if</span> ((<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagesize)) == NULL) {</div>
<div class="line"><span class="lineno"> 1342</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_initialize(): Out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1343</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1345</span>  }</div>
<div class="line"><span class="lineno"> 1346</span>  <span class="keywordflow">if</span> ((<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagesize)) == NULL) {</div>
<div class="line"><span class="lineno"> 1347</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_initialize(): Out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1348</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1349</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1351</span>  }</div>
<div class="line"><span class="lineno"> 1352</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pageaddr = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pageaddr = (<span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>)-1L;</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>  <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a0f6d1147843ccc7a2ecb9c8f6af907fb">AVRPART_IS_AT90S1200</a>) {</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1356</span><span class="comment">     * AT90S1200 needs a positive reset pulse after a chip erase.</span></div>
<div class="line"><span class="lineno"> 1357</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1358</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 1359</span>    <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#a430a82cab7dcae73945a46a247815dc9">usleep</a>(10000);</div>
<div class="line"><span class="lineno"> 1360</span>  }</div>
<div class="line"><span class="lineno"> 1361</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p);</div>
<div class="line"><span class="lineno"> 1362</span>}</div>
<div class="ttc" id="aavrpart_8c_html_ac270cad9c51ac6da0bb27ee27620f524"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a></div><div class="ttdeci">AVRMEM * avr_locate_mem(AVRPART *p, char *desc)</div><div class="ttdef"><b>Definition</b> avrpart.c:354</div></div>
<div class="ttc" id="alibavrdude_8h_html_a0f6d1147843ccc7a2ecb9c8f6af907fb"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a0f6d1147843ccc7a2ecb9c8f6af907fb">AVRPART_IS_AT90S1200</a></div><div class="ttdeci">#define AVRPART_IS_AT90S1200</div><div class="ttdef"><b>Definition</b> libavrdude.h:207</div></div>
<div class="ttc" id="alibavrdude_8h_html_a7c9d56fb994e9e076cb9fa66176c50a2"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">avrmem::offset</a></div><div class="ttdeci">unsigned int offset</div><div class="ttdef"><b>Definition</b> libavrdude.h:289</div></div>
<div class="ttc" id="alibavrdude_8h_html_a99b6d49fcb51f18f8cc08cdf35256c1d"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a99b6d49fcb51f18f8cc08cdf35256c1d">AVRPART_HAS_PDI</a></div><div class="ttdeci">#define AVRPART_HAS_PDI</div><div class="ttdef"><b>Definition</b> libavrdude.h:202</div></div>
<div class="ttc" id="alibavrdude_8h_html_ac85e70affa25042bcd660bd18e8f1ab8"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a></div><div class="ttdeci">#define AVRPART_HAS_TPI</div><div class="ttdef"><b>Definition</b> libavrdude.h:206</div></div>
<div class="ttc" id="alibavrdude_8h_html_ae9622e4b2cb8e28cee9a0f7dca9baa92"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">avrpart::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition</b> libavrdude.h:230</div></div>
<div class="ttc" id="astk500v2_8c_html_a4f1eb402e5598f00bc9705009d350904"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a4f1eb402e5598f00bc9705009d350904">stk600_setup_xprog</a></div><div class="ttdeci">static void stk600_setup_xprog(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4388</div></div>
<div class="ttc" id="astk500v2_8c_html_a957316884e0ac5cbef8f1dd190518dd8"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a957316884e0ac5cbef8f1dd190518dd8">stk600_setup_isp</a></div><div class="ttdeci">static void stk600_setup_isp(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4404</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00354">avr_locate_mem()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00202">AVRPART_HAS_PDI</a>, <a class="el" href="../../#l00206">AVRPART_HAS_TPI</a>, <a class="el" href="../../#l00207">AVRPART_IS_AT90S1200</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00230">avrpart::flags</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../#l00720">ldata()</a>, <a class="el" href="../../#l00688">lfirst()</a>, <a class="el" href="../../#l00704">lnext()</a>, <a class="el" href="../../#l00029">long</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00277">avrpart::mem</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l04404">stk600_setup_isp()</a>, <a class="el" href="../../#l04388">stk600_setup_xprog()</a>, and <a class="el" href="../../#l00013">usleep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, and <a class="el" href="../../#l04667">stk600_initpgm()</a>.</p>
<div id="dynsection-78" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-78-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-78-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-78-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a54506ae507321252bad19bed9a9416a3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-79" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-79-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-79-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-79-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a54506ae507321252bad19bed9a9416a3_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aea3788fd25277b0e56feeba93ddf0345" name="aea3788fd25277b0e56feeba93ddf0345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3788fd25277b0e56feeba93ddf0345">&#9670;&#160;</a></span>stk500v2_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4419</span>{</div>
<div class="line"><span class="lineno"> 4420</span> </div>
<div class="line"><span class="lineno"> 4421</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK500V2&quot;</span>);</div>
<div class="line"><span class="lineno"> 4422</span> </div>
<div class="line"><span class="lineno"> 4423</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4424</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4425</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4426</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a>;</div>
<div class="line"><span class="lineno"> 4427</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4428</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4429</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a>;</div>
<div class="line"><span class="lineno"> 4430</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4431</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4432</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">cmd</a>            = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a>;</div>
<div class="line"><span class="lineno"> 4433</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a243d065860071d9f70f7140caf9c93c9">stk500v2_open</a>;</div>
<div class="line"><span class="lineno"> 4434</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4435</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4436</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4437</span> </div>
<div class="line"><span class="lineno"> 4438</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4439</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4440</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4441</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4442</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4443</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4444</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4445</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa968e166a3556d3ab3fc0c7bd8ef96e6">stk500v2_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4446</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5e4ef5c83cc64542af42cd4ffa1d1062">stk500v2_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4447</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a471fbd95924ed56417a08dc8375bf4df">stk500v2_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4448</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a520221b86d058c8694efa7c34cf902ee">stk500v2_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4449</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2f4bc46b992d82cbe839768e6b251826">perform_osccal</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a>;</div>
<div class="line"><span class="lineno"> 4450</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4451</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4452</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4453</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a71b8caf63c5a545db6a062cdd4696b68">set_upload_size</a>= <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3869e99ad992b03099cb85f1ed57dc96">stk500v2_set_upload_size</a>;</div>
<div class="line"><span class="lineno"> 4454</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a3869e99ad992b03099cb85f1ed57dc96"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a3869e99ad992b03099cb85f1ed57dc96">stk500v2_set_upload_size</a></div><div class="ttdeci">void stk500v2_set_upload_size(PROGRAMMER *pgm, int size)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4808</div></div>
<div class="ttc" id="astk500v2_8c_html_ab7713258e55c7d7b429e8d12cf1b5b4b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a></div><div class="ttdeci">static int stk500v2_perform_osccal(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3426</div></div>
<div class="ttc" id="astructprogrammer__t_html_a2f4bc46b992d82cbe839768e6b251826"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a2f4bc46b992d82cbe839768e6b251826">programmer_t::perform_osccal</a></div><div class="ttdeci">int(* perform_osccal)(struct programmer_t *pgm)</div><div class="ttdef"><b>Definition</b> libavrdude.h:682</div></div>
<div class="ttc" id="astructprogrammer__t_html_a71b8caf63c5a545db6a062cdd4696b68"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a71b8caf63c5a545db6a062cdd4696b68">programmer_t::set_upload_size</a></div><div class="ttdeci">void(* set_upload_size)(struct programmer_t *pgm, int size)</div><div class="ttdef"><b>Definition</b> libavrdude.h:686</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00651">programmer_t::cmd</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00682">programmer_t::perform_osccal</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00686">programmer_t::set_upload_size</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l00960">stk500v2_cmd()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01285">stk500v2_initialize()</a>, <a class="el" href="../../#l01639">stk500v2_open()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03426">stk500v2_perform_osccal()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02933">stk500v2_set_sck_period()</a>, <a class="el" href="../../#l04808">stk500v2_set_upload_size()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00041">stk500generic_open()</a>, <a class="el" href="../../#l00066">stk500generic_setup()</a>, <a class="el" href="../../#l00075">stk500generic_teardown()</a>, and <a class="el" href="../../#l00212">wiring_initpgm()</a>.</p>
<div id="dynsection-80" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-80-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-80-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-80-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aea3788fd25277b0e56feeba93ddf0345_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-81" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-81-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-81-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-81-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aea3788fd25277b0e56feeba93ddf0345_icgraph.svg" width="544" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af914f22b4281bada5915a7417a9cddb7" name="af914f22b4281bada5915a7417a9cddb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af914f22b4281bada5915a7417a9cddb7">&#9670;&#160;</a></span>stk500v2_jtag3_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtag3_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3544</span>{</div>
<div class="line"><span class="lineno"> 3545</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3546</span> </div>
<div class="line"><span class="lineno"> 3547</span>  <span class="comment">// avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_jtag3_close()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3548</span> </div>
<div class="line"><span class="lineno"> 3549</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3550</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3551</span>  <span class="comment">// jtag3_close(pgm);</span></div>
<div class="line"><span class="lineno"> 3552</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3553</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-82" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-82-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-82-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-82-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_af914f22b4281bada5915a7417a9cddb7_icgraph.svg" width="364" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a94f392417b44451c4c32a162fac0fe50" name="a94f392417b44451c4c32a162fac0fe50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f392417b44451c4c32a162fac0fe50">&#9670;&#160;</a></span>stk500v2_jtag3_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_cmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> unsigned char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  999</span>{</div>
<div class="line"><span class="lineno"> 1000</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_jtag3_cmd(): Not available in JTAGICE3\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1001</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1004</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, and <a class="el" href="../../#l00061">progname</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-83" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-83-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-83-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-83-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94f392417b44451c4c32a162fac0fe50_cgraph.svg" width="328" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-84" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-84-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-84-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-84-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a94f392417b44451c4c32a162fac0fe50_icgraph.svg" width="359" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab199443d462649449802f0cc3cb4c7f5" name="ab199443d462649449802f0cc3cb4c7f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab199443d462649449802f0cc3cb4c7f5">&#9670;&#160;</a></span>stk500v2_jtag3_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtag3_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1544</span>{</div>
<div class="line"><span class="lineno"> 1545</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1546</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache);</div>
<div class="line"><span class="lineno"> 1549</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;flash_pagecache = NULL;</div>
<div class="line"><span class="lineno"> 1550</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache);</div>
<div class="line"><span class="lineno"> 1551</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;eeprom_pagecache = NULL;</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa1d323a300ae6336e65b2e2edb316ea4">CMD_LEAVE_PROGMODE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1554</span>  buf[1] = 1; <span class="comment">// preDelay;</span></div>
<div class="line"><span class="lineno"> 1555</span>  buf[2] = 1; <span class="comment">// postDelay;</span></div>
<div class="line"><span class="lineno"> 1556</span> </div>
<div class="line"><span class="lineno"> 1557</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1558</span> </div>
<div class="line"><span class="lineno"> 1559</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1560</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_disable(): failed to leave programming mode\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1561</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1562</span>  }</div>
<div class="line"><span class="lineno"> 1563</span> </div>
<div class="line"><span class="lineno"> 1564</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1565</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00033">CMD_LEAVE_PROGMODE_ISP</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-85" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-85-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-85-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-85-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab199443d462649449802f0cc3cb4c7f5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-86" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-86-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-86-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-86-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab199443d462649449802f0cc3cb4c7f5_icgraph.svg" width="375" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0b906b8530460637adefbfd6a72b96f0" name="a0b906b8530460637adefbfd6a72b96f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b906b8530460637adefbfd6a72b96f0">&#9670;&#160;</a></span>stk500v2_jtag3_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1370</span>{</div>
<div class="line"><span class="lineno"> 1371</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1372</span>  <span class="comment">// unsigned char parm[4], *resp;</span></div>
<div class="line"><span class="lineno"> 1373</span>  <span class="comment">// LNODEID ln;</span></div>
<div class="line"><span class="lineno"> 1374</span>  <span class="comment">// AVRMEM * m;</span></div>
<div class="line"><span class="lineno"> 1375</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>  <span class="comment">// if ((p-&gt;flags &amp; AVRPART_HAS_PDI) ||</span></div>
<div class="line"><span class="lineno"> 1378</span>  <span class="comment">//     (p-&gt;flags &amp; AVRPART_HAS_TPI)) {</span></div>
<div class="line"><span class="lineno"> 1379</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: jtag3_initialize(): part %s has no ISP interface\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1380</span>   <span class="comment">//    progname, p-&gt;desc);</span></div>
<div class="line"><span class="lineno"> 1381</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 1382</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 1385</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>  <span class="comment">// if (p-&gt;flags &amp; AVRPART_HAS_DW)</span></div>
<div class="line"><span class="lineno"> 1388</span>  <span class="comment">//   parm[0] = PARM3_ARCH_TINY;</span></div>
<div class="line"><span class="lineno"> 1389</span>  <span class="comment">// else</span></div>
<div class="line"><span class="lineno"> 1390</span>  <span class="comment">//   parm[0] = PARM3_ARCH_MEGA;</span></div>
<div class="line"><span class="lineno"> 1391</span>  <span class="comment">// if (jtag3_setparm(pgm, SCOPE_AVR, 0, PARM3_ARCH, parm, 1) &lt; 0) {</span></div>
<div class="line"><span class="lineno"> 1392</span>  <span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1393</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 1394</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>  <span class="comment">// parm[0] = PARM3_SESS_PROGRAMMING;</span></div>
<div class="line"><span class="lineno"> 1397</span>  <span class="comment">// if (jtag3_setparm(pgm, SCOPE_AVR, 0, PARM3_SESS_PURPOSE, parm, 1) &lt; 0) {</span></div>
<div class="line"><span class="lineno"> 1398</span>  <span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1399</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 1400</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>  <span class="comment">// parm[0] = PARM3_CONN_ISP;</span></div>
<div class="line"><span class="lineno"> 1403</span>  <span class="comment">// if (jtag3_setparm(pgm, SCOPE_AVR, 1, PARM3_CONNECTION, parm, 1) &lt; 0) {</span></div>
<div class="line"><span class="lineno"> 1404</span>  <span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1405</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 1406</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1407</span> </div>
<div class="line"><span class="lineno"> 1408</span>  <span class="comment">// parm[0] = SCOPE_AVR_ISP;</span></div>
<div class="line"><span class="lineno"> 1409</span>  <span class="comment">// parm[1] = 0x1e;</span></div>
<div class="line"><span class="lineno"> 1410</span>  <span class="comment">// jtag3_send(pgm, parm, 2);</span></div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>  <span class="comment">// if (jtag3_recv(pgm, &amp;resp) &gt; 0)</span></div>
<div class="line"><span class="lineno"> 1413</span>  <span class="comment">//   free(resp);</span></div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>  <span class="comment">// /*</span></div>
<div class="line"><span class="lineno"> 1418</span>  <span class="comment">//  * Examine the avrpart&#39;s memory definitions, and initialize the page</span></div>
<div class="line"><span class="lineno"> 1419</span>  <span class="comment">//  * caches.  For devices/memory that are not page oriented, treat</span></div>
<div class="line"><span class="lineno"> 1420</span>  <span class="comment">//  * them as page size 1 for EEPROM, and 2 for flash.</span></div>
<div class="line"><span class="lineno"> 1421</span>  <span class="comment">//  */</span></div>
<div class="line"><span class="lineno"> 1422</span>  <span class="comment">// PDATA(pgm)-&gt;flash_pagesize = 2;</span></div>
<div class="line"><span class="lineno"> 1423</span>  <span class="comment">// PDATA(pgm)-&gt;eeprom_pagesize = 1;</span></div>
<div class="line"><span class="lineno"> 1424</span> <span class="comment">//  for (ln = lfirst(p-&gt;mem); ln; ln = lnext(ln)) {</span></div>
<div class="line"><span class="lineno"> 1425</span> <span class="comment">//    m = ldata(ln);</span></div>
<div class="line"><span class="lineno"> 1426</span> <span class="comment">//    if (strcmp(m-&gt;desc, &quot;flash&quot;) == 0) {</span></div>
<div class="line"><span class="lineno"> 1427</span> <span class="comment">//      if (m-&gt;page_size &gt; 0) {</span></div>
<div class="line"><span class="lineno"> 1428</span> <span class="comment">//        if (m-&gt;page_size &gt; 256)</span></div>
<div class="line"><span class="lineno"> 1429</span> <span class="comment">//          PDATA(pgm)-&gt;flash_pagesize = 256;</span></div>
<div class="line"><span class="lineno"> 1430</span> <span class="comment">//        else</span></div>
<div class="line"><span class="lineno"> 1431</span> <span class="comment">//          PDATA(pgm)-&gt;flash_pagesize = m-&gt;page_size;</span></div>
<div class="line"><span class="lineno"> 1432</span> <span class="comment">//      }</span></div>
<div class="line"><span class="lineno"> 1433</span> <span class="comment">//    } else if (strcmp(m-&gt;desc, &quot;eeprom&quot;) == 0) {</span></div>
<div class="line"><span class="lineno"> 1434</span> <span class="comment">//      if (m-&gt;page_size &gt; 0)</span></div>
<div class="line"><span class="lineno"> 1435</span>  <span class="comment">// PDATA(pgm)-&gt;eeprom_pagesize = m-&gt;page_size;</span></div>
<div class="line"><span class="lineno"> 1436</span> <span class="comment">//    }</span></div>
<div class="line"><span class="lineno"> 1437</span> <span class="comment">//  }</span></div>
<div class="line"><span class="lineno"> 1438</span> <span class="comment">//  free(PDATA(pgm)-&gt;flash_pagecache);</span></div>
<div class="line"><span class="lineno"> 1439</span> <span class="comment">//  free(PDATA(pgm)-&gt;eeprom_pagecache);</span></div>
<div class="line"><span class="lineno"> 1440</span> <span class="comment">//  if ((PDATA(pgm)-&gt;flash_pagecache = malloc(PDATA(pgm)-&gt;flash_pagesize)) == NULL) {</span></div>
<div class="line"><span class="lineno"> 1441</span> <span class="comment">//    avrdude_message(MSG_INFO, &quot;%s: stk500hv_initialize(): Out of memory\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1442</span>  <span class="comment">//     progname);</span></div>
<div class="line"><span class="lineno"> 1443</span> <span class="comment">//    return -1;</span></div>
<div class="line"><span class="lineno"> 1444</span> <span class="comment">//  }</span></div>
<div class="line"><span class="lineno"> 1445</span> <span class="comment">//  if ((PDATA(pgm)-&gt;eeprom_pagecache = malloc(PDATA(pgm)-&gt;eeprom_pagesize)) == NULL) {</span></div>
<div class="line"><span class="lineno"> 1446</span> <span class="comment">//    avrdude_message(MSG_INFO, &quot;%s: stk500hv_initialize(): Out of memory\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1447</span>  <span class="comment">//     progname);</span></div>
<div class="line"><span class="lineno"> 1448</span> <span class="comment">//    free(PDATA(pgm)-&gt;flash_pagecache);</span></div>
<div class="line"><span class="lineno"> 1449</span> <span class="comment">//    return -1;</span></div>
<div class="line"><span class="lineno"> 1450</span> <span class="comment">//  }</span></div>
<div class="line"><span class="lineno"> 1451</span> <span class="comment">//  PDATA(pgm)-&gt;flash_pageaddr = PDATA(pgm)-&gt;eeprom_pageaddr = (unsigned long)-1L;</span></div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span> <span class="comment">//  return pgm-&gt;program_enable(pgm, p);</span></div>
<div class="line"><span class="lineno"> 1454</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-87" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-87-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-87-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-87-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a0b906b8530460637adefbfd6a72b96f0_icgraph.svg" width="380" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3b0696c6baf7d552322e6bc0b98dd880" name="a3b0696c6baf7d552322e6bc0b98dd880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0696c6baf7d552322e6bc0b98dd880">&#9670;&#160;</a></span>stk500v2_jtag3_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtag3_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4776</span>{</div>
<div class="line"><span class="lineno"> 4777</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;JTAG3_ISP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4778</span> </div>
<div class="line"><span class="lineno"> 4779</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4780</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4781</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4782</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0b906b8530460637adefbfd6a72b96f0">stk500v2_jtag3_initialize</a>;</div>
<div class="line"><span class="lineno"> 4783</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4784</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4785</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab199443d462649449802f0cc3cb4c7f5">stk500v2_jtag3_disable</a>;</div>
<div class="line"><span class="lineno"> 4786</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4787</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4788</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">cmd</a>            = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94f392417b44451c4c32a162fac0fe50">stk500v2_jtag3_cmd</a>;</div>
<div class="line"><span class="lineno"> 4789</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a02a535b54121bd6a0105b78620eeb2eb">stk500v2_jtag3_open</a>;</div>
<div class="line"><span class="lineno"> 4790</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#af914f22b4281bada5915a7417a9cddb7">stk500v2_jtag3_close</a>;</div>
<div class="line"><span class="lineno"> 4791</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4792</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4793</span> </div>
<div class="line"><span class="lineno"> 4794</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4795</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4796</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4797</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4798</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4799</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4800</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4801</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a57b45f69d699bcbaefc8e1c6537334c5">stk500v2_jtag3_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4802</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2f4bc46b992d82cbe839768e6b251826">perform_osccal</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a>;</div>
<div class="line"><span class="lineno"> 4803</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a10bb5b14325928f507f9c96f5a55033a">stk500v2_jtag3_setup</a>;</div>
<div class="line"><span class="lineno"> 4804</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a773ea7451e3e940c9d8afb6b9f931f4d">stk500v2_jtag3_teardown</a>;</div>
<div class="line"><span class="lineno"> 4805</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4806</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a02a535b54121bd6a0105b78620eeb2eb"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a02a535b54121bd6a0105b78620eeb2eb">stk500v2_jtag3_open</a></div><div class="ttdeci">static int stk500v2_jtag3_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3723</div></div>
<div class="ttc" id="astk500v2_8c_html_a0b906b8530460637adefbfd6a72b96f0"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a0b906b8530460637adefbfd6a72b96f0">stk500v2_jtag3_initialize</a></div><div class="ttdeci">static int stk500v2_jtag3_initialize(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1369</div></div>
<div class="ttc" id="astk500v2_8c_html_a10bb5b14325928f507f9c96f5a55033a"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a10bb5b14325928f507f9c96f5a55033a">stk500v2_jtag3_setup</a></div><div class="ttdeci">static void stk500v2_jtag3_setup(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:331</div></div>
<div class="ttc" id="astk500v2_8c_html_a57b45f69d699bcbaefc8e1c6537334c5"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a57b45f69d699bcbaefc8e1c6537334c5">stk500v2_jtag3_set_sck_period</a></div><div class="ttdeci">static int stk500v2_jtag3_set_sck_period(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3087</div></div>
<div class="ttc" id="astk500v2_8c_html_a773ea7451e3e940c9d8afb6b9f931f4d"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a773ea7451e3e940c9d8afb6b9f931f4d">stk500v2_jtag3_teardown</a></div><div class="ttdeci">static void stk500v2_jtag3_teardown(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:370</div></div>
<div class="ttc" id="astk500v2_8c_html_a94f392417b44451c4c32a162fac0fe50"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a94f392417b44451c4c32a162fac0fe50">stk500v2_jtag3_cmd</a></div><div class="ttdeci">static int stk500v2_jtag3_cmd(PROGRAMMER *pgm, const unsigned char *cmd, unsigned char *res)</div><div class="ttdef"><b>Definition</b> stk500v2.c:997</div></div>
<div class="ttc" id="astk500v2_8c_html_ab199443d462649449802f0cc3cb4c7f5"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ab199443d462649449802f0cc3cb4c7f5">stk500v2_jtag3_disable</a></div><div class="ttdeci">static void stk500v2_jtag3_disable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1543</div></div>
<div class="ttc" id="astk500v2_8c_html_af914f22b4281bada5915a7417a9cddb7"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#af914f22b4281bada5915a7417a9cddb7">stk500v2_jtag3_close</a></div><div class="ttdeci">static void stk500v2_jtag3_close(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3543</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00651">programmer_t::cmd</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00682">programmer_t::perform_osccal</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l03543">stk500v2_jtag3_close()</a>, <a class="el" href="../../#l00997">stk500v2_jtag3_cmd()</a>, <a class="el" href="../../#l01543">stk500v2_jtag3_disable()</a>, <a class="el" href="../../#l01369">stk500v2_jtag3_initialize()</a>, <a class="el" href="../../#l03723">stk500v2_jtag3_open()</a>, <a class="el" href="../../#l03087">stk500v2_jtag3_set_sck_period()</a>, <a class="el" href="../../#l00331">stk500v2_jtag3_setup()</a>, <a class="el" href="../../#l00370">stk500v2_jtag3_teardown()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03426">stk500v2_perform_osccal()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-88" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-88-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-88-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-88-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3b0696c6baf7d552322e6bc0b98dd880_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a02a535b54121bd6a0105b78620eeb2eb" name="a02a535b54121bd6a0105b78620eeb2eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a535b54121bd6a0105b78620eeb2eb">&#9670;&#160;</a></span>stk500v2_jtag3_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3724</span>{</div>
<div class="line"><span class="lineno"> 3725</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3726</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3727</span>  <span class="comment">// int rv;</span></div>
<div class="line"><span class="lineno"> 3728</span> </div>
<div class="line"><span class="lineno"> 3729</span>  <span class="comment">// avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_jtag3_open()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3730</span> </div>
<div class="line"><span class="lineno"> 3731</span>  <span class="comment">// if (jtag3_open_common(pgm, port) &lt; 0)</span></div>
<div class="line"><span class="lineno"> 3732</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 3733</span> </div>
<div class="line"><span class="lineno"> 3734</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3735</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3736</span>  <span class="comment">// if ((rv = jtag3_getsync(pgm, 42)) != 0) {</span></div>
<div class="line"><span class="lineno"> 3737</span>  <span class="comment">//   if (rv != JTAGII_GETSYNC_FAIL_GRACEFUL)</span></div>
<div class="line"><span class="lineno"> 3738</span>  <span class="comment">//       avrdude_message(MSG_INFO, &quot;%s: failed to sync with the JTAGICE3 in ISP mode\n&quot;,</span></div>
<div class="line"><span class="lineno"> 3739</span>  <span class="comment">//                       progname);</span></div>
<div class="line"><span class="lineno"> 3740</span>  <span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3741</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno"> 3742</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 3743</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3744</span> </div>
<div class="line"><span class="lineno"> 3745</span>  <span class="comment">// PDATA(pgm)-&gt;pgmtype = PGMTYPE_JTAGICE3;</span></div>
<div class="line"><span class="lineno"> 3746</span> </div>
<div class="line"><span class="lineno"> 3747</span>  <span class="comment">// if (pgm-&gt;bitclock != 0.0) {</span></div>
<div class="line"><span class="lineno"> 3748</span>  <span class="comment">//   if (pgm-&gt;set_sck_period(pgm, pgm-&gt;bitclock) != 0)</span></div>
<div class="line"><span class="lineno"> 3749</span>  <span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3750</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 3751</span> </div>
<div class="line"><span class="lineno"> 3752</span>  <span class="comment">// return 0;</span></div>
<div class="line"><span class="lineno"> 3753</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-89" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-89-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-89-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-89-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a02a535b54121bd6a0105b78620eeb2eb_icgraph.svg" width="362" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae344676760f23d49cb0d086a4e3c5e89" name="ae344676760f23d49cb0d086a4e3c5e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae344676760f23d49cb0d086a4e3c5e89">&#9670;&#160;</a></span>stk500v2_jtag3_recv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  593</span>{</div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  595</span>  <span class="comment">// int rv;</span></div>
<div class="line"><span class="lineno">  596</span>  <span class="comment">// unsigned char *jtagmsg;</span></div>
<div class="line"><span class="lineno">  597</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  600</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  601</span>  <span class="comment">// rv = jtag3_recv(pgm, &amp;jtagmsg);</span></div>
<div class="line"><span class="lineno">  602</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  603</span>  <span class="comment">// if (rv &lt;= 0) {</span></div>
<div class="line"><span class="lineno">  604</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtag3_recv(): error in jtagmkII_recv()\n&quot;,</span></div>
<div class="line"><span class="lineno">  605</span>  <span class="comment">//           progname);</span></div>
<div class="line"><span class="lineno">  606</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  607</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  608</span>  <span class="comment">// /* Getting more data than expected is a normal case for the EDBG</span></div>
<div class="line"><span class="lineno">  609</span>  <span class="comment">//    implementation of JTAGICE3, as they always request a full 512</span></div>
<div class="line"><span class="lineno">  610</span>  <span class="comment">//    octets from the ICE.  Thus, only complain at high verbose</span></div>
<div class="line"><span class="lineno">  611</span>  <span class="comment">//    levels. */</span></div>
<div class="line"><span class="lineno">  612</span>  <span class="comment">// if (rv - 1 &gt; maxsize) {</span></div>
<div class="line"><span class="lineno">  613</span>  <span class="comment">//   avrdude_message(MSG_DEBUG, &quot;%s: stk500v2_jtag3_recv(): got %u bytes, have only room for %u bytes\n&quot;,</span></div>
<div class="line"><span class="lineno">  614</span>  <span class="comment">//                     progname, (unsigned)rv - 1, (unsigned)maxsize);</span></div>
<div class="line"><span class="lineno">  615</span>  <span class="comment">//   rv = maxsize;</span></div>
<div class="line"><span class="lineno">  616</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  617</span>  <span class="comment">// if (jtagmsg[0] != SCOPE_AVR_ISP) {</span></div>
<div class="line"><span class="lineno">  618</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtag3_recv(): message is not AVR ISP: 0x%02x\n&quot;,</span></div>
<div class="line"><span class="lineno">  619</span>  <span class="comment">//                   progname, jtagmsg[0]);</span></div>
<div class="line"><span class="lineno">  620</span>  <span class="comment">//   free(jtagmsg);</span></div>
<div class="line"><span class="lineno">  621</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  622</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  623</span>  <span class="comment">// memcpy(msg, jtagmsg + 1, rv - 1);</span></div>
<div class="line"><span class="lineno">  624</span>  <span class="comment">// free(jtagmsg);</span></div>
<div class="line"><span class="lineno">  625</span>  <span class="comment">// return rv;</span></div>
<div class="line"><span class="lineno">  626</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03087">stk500v2_jtag3_set_sck_period()</a>, <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, and <a class="el" href="../../#l00628">stk500v2_recv()</a>.</p>
<div id="dynsection-90" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-90-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-90-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-90-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae344676760f23d49cb0d086a4e3c5e89_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adfeca4e918f67c510bb1cf54184ab55e" name="adfeca4e918f67c510bb1cf54184ab55e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfeca4e918f67c510bb1cf54184ab55e">&#9670;&#160;</a></span>stk500v2_jtag3_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  470</span>{</div>
<div class="line"><span class="lineno">  471</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  472</span>  <span class="comment">// unsigned char *cmdbuf;</span></div>
<div class="line"><span class="lineno">  473</span>  <span class="comment">// int rv;</span></div>
<div class="line"><span class="lineno">  474</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>  <span class="comment">// if ((cmdbuf = malloc(len + 1)) == NULL) {</span></div>
<div class="line"><span class="lineno">  477</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: out of memory for command packet\n&quot;,</span></div>
<div class="line"><span class="lineno">  478</span>  <span class="comment">//           progname);</span></div>
<div class="line"><span class="lineno">  479</span>  <span class="comment">//   exit(1);</span></div>
<div class="line"><span class="lineno">  480</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  481</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  482</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  483</span>  <span class="comment">// cmdbuf[0] = SCOPE_AVR_ISP;</span></div>
<div class="line"><span class="lineno">  484</span>  <span class="comment">// memcpy(cmdbuf + 1, data, len);</span></div>
<div class="line"><span class="lineno">  485</span>  <span class="comment">// rv = jtag3_send(pgm, cmdbuf, len + 1);</span></div>
<div class="line"><span class="lineno">  486</span>  <span class="comment">// free(cmdbuf);</span></div>
<div class="line"><span class="lineno">  487</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  <span class="comment">// return rv;</span></div>
<div class="line"><span class="lineno">  490</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03087">stk500v2_jtag3_set_sck_period()</a>, <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, and <a class="el" href="../../#l00492">stk500v2_send()</a>.</p>
<div id="dynsection-91" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-91-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-91-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-91-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_adfeca4e918f67c510bb1cf54184ab55e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a57b45f69d699bcbaefc8e1c6537334c5" name="a57b45f69d699bcbaefc8e1c6537334c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b45f69d699bcbaefc8e1c6537334c5">&#9670;&#160;</a></span>stk500v2_jtag3_set_sck_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtag3_set_sck_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3088</span>{</div>
<div class="line"><span class="lineno"> 3089</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> value[3];</div>
<div class="line"><span class="lineno"> 3090</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sck;</div>
<div class="line"><span class="lineno"> 3091</span> </div>
<div class="line"><span class="lineno"> 3092</span>  <span class="keywordflow">if</span> (v &lt; 1E-6)</div>
<div class="line"><span class="lineno"> 3093</span>    sck = 0x400;</div>
<div class="line"><span class="lineno"> 3094</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &gt; 1E-3)</div>
<div class="line"><span class="lineno"> 3095</span>    sck = 1;</div>
<div class="line"><span class="lineno"> 3096</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3097</span>    sck = (unsigned)(1.0 / (1000.0 * v));</div>
<div class="line"><span class="lineno"> 3098</span> </div>
<div class="line"><span class="lineno"> 3099</span>  value[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8b8124c206b0e0971f8c16f92d01b188">CMD_SET_SCK</a>;</div>
<div class="line"><span class="lineno"> 3100</span>  value[1] = sck &amp; 0xff;</div>
<div class="line"><span class="lineno"> 3101</span>  value[2] = (sck &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 3102</span> </div>
<div class="line"><span class="lineno"> 3103</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#adfeca4e918f67c510bb1cf54184ab55e">stk500v2_jtag3_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, value, 3) &lt; 0)</div>
<div class="line"><span class="lineno"> 3104</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3105</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae344676760f23d49cb0d086a4e3c5e89">stk500v2_jtag3_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, value, 3) &lt; 0)</div>
<div class="line"><span class="lineno"> 3106</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3107</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3108</span>}</div>
<div class="ttc" id="astk500v2_8c_html_adfeca4e918f67c510bb1cf54184ab55e"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#adfeca4e918f67c510bb1cf54184ab55e">stk500v2_jtag3_send</a></div><div class="ttdeci">static int stk500v2_jtag3_send(PROGRAMMER *pgm, unsigned char *data, size_t len)</div><div class="ttdef"><b>Definition</b> stk500v2.c:469</div></div>
<div class="ttc" id="astk500v2_8c_html_ae344676760f23d49cb0d086a4e3c5e89"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ae344676760f23d49cb0d086a4e3c5e89">stk500v2_jtag3_recv</a></div><div class="ttdeci">static int stk500v2_jtag3_recv(PROGRAMMER *pgm, unsigned char *msg, size_t maxsize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:591</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a8b8124c206b0e0971f8c16f92d01b188"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a8b8124c206b0e0971f8c16f92d01b188">CMD_SET_SCK</a></div><div class="ttdeci">#define CMD_SET_SCK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:46</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00046">CMD_SET_SCK</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00591">stk500v2_jtag3_recv()</a>, and <a class="el" href="../../#l00469">stk500v2_jtag3_send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-92" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-92-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-92-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-92-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a57b45f69d699bcbaefc8e1c6537334c5_cgraph.svg" width="338" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-93" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-93-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-93-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-93-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a57b45f69d699bcbaefc8e1c6537334c5_icgraph.svg" width="352" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a10bb5b14325928f507f9c96f5a55033a" name="a10bb5b14325928f507f9c96f5a55033a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10bb5b14325928f507f9c96f5a55033a">&#9670;&#160;</a></span>stk500v2_jtag3_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtag3_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  332</span>{</div>
<div class="line"><span class="lineno">  333</span>  <span class="comment">// void *mycookie, *theircookie;</span></div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>  <span class="comment">// if ((pgm-&gt;cookie = malloc(sizeof(struct pdata))) == 0) {</span></div>
<div class="line"><span class="lineno">  336</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_setup(): Out of memory allocating private data\n&quot;,</span></div>
<div class="line"><span class="lineno">  337</span>  <span class="comment">//                   progname);</span></div>
<div class="line"><span class="lineno">  338</span>  <span class="comment">//   exit(1);</span></div>
<div class="line"><span class="lineno">  339</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  340</span>  <span class="comment">// memset(pgm-&gt;cookie, 0, sizeof(struct pdata));</span></div>
<div class="line"><span class="lineno">  341</span>  <span class="comment">// PDATA(pgm)-&gt;command_sequence = 1;</span></div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>  <span class="comment">// /*</span></div>
<div class="line"><span class="lineno">  344</span>  <span class="comment">//  * Now, have the JTAGICE3 backend allocate its own private</span></div>
<div class="line"><span class="lineno">  345</span>  <span class="comment">//  * data.  Store our own cookie in a safe place for the time being.</span></div>
<div class="line"><span class="lineno">  346</span>  <span class="comment">//  */</span></div>
<div class="line"><span class="lineno">  347</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  348</span>  <span class="comment">// jtag3_setup(pgm);</span></div>
<div class="line"><span class="lineno">  349</span>  <span class="comment">// theircookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  350</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  351</span>  <span class="comment">// PDATA(pgm)-&gt;chained_pdata = theircookie;</span></div>
<div class="line"><span class="lineno">  352</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-94" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-94-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-94-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-94-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a10bb5b14325928f507f9c96f5a55033a_icgraph.svg" width="366" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a773ea7451e3e940c9d8afb6b9f931f4d" name="a773ea7451e3e940c9d8afb6b9f931f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773ea7451e3e940c9d8afb6b9f931f4d">&#9670;&#160;</a></span>stk500v2_jtag3_teardown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtag3_teardown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  371</span>{</div>
<div class="line"><span class="lineno">  372</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  375</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  376</span>  <span class="comment">// jtag3_teardown(pgm);</span></div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>  <span class="comment">// free(mycookie);</span></div>
<div class="line"><span class="lineno">  379</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>.</p>
<div id="dynsection-95" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-95-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-95-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-95-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a773ea7451e3e940c9d8afb6b9f931f4d_icgraph.svg" width="387" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afa55b65df6f581202d3226a5e4130ab7" name="afa55b65df6f581202d3226a5e4130ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa55b65df6f581202d3226a5e4130ab7">&#9670;&#160;</a></span>stk500v2_jtagmkII_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtagmkII_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3528</span>{</div>
<div class="line"><span class="lineno"> 3529</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3530</span> </div>
<div class="line"><span class="lineno"> 3531</span>  <span class="comment">// avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_jtagmkII_close()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3532</span> </div>
<div class="line"><span class="lineno"> 3533</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3534</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3535</span>  <span class="comment">// jtagmkII_close(pgm);</span></div>
<div class="line"><span class="lineno"> 3536</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3537</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>.</p>
<div id="dynsection-96" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-96-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-96-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-96-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afa55b65df6f581202d3226a5e4130ab7_icgraph.svg" width="403" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa3392eb552280bd2b97dd30c10898f59" name="aa3392eb552280bd2b97dd30c10898f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3392eb552280bd2b97dd30c10898f59">&#9670;&#160;</a></span>stk500v2_jtagmkII_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtagmkII_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4529</span>{</div>
<div class="line"><span class="lineno"> 4530</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;JTAGMKII_ISP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4531</span> </div>
<div class="line"><span class="lineno"> 4532</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4533</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4534</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4535</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a>;</div>
<div class="line"><span class="lineno"> 4536</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4537</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4538</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a>;</div>
<div class="line"><span class="lineno"> 4539</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4540</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4541</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">cmd</a>            = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a>;</div>
<div class="line"><span class="lineno"> 4542</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa66486f978ab92ecad8952091d897222">stk500v2_jtagmkII_open</a>;</div>
<div class="line"><span class="lineno"> 4543</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa55b65df6f581202d3226a5e4130ab7">stk500v2_jtagmkII_close</a>;</div>
<div class="line"><span class="lineno"> 4544</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4545</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4546</span> </div>
<div class="line"><span class="lineno"> 4547</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4548</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4549</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4550</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4551</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4552</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4553</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4554</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a>;</div>
<div class="line"><span class="lineno"> 4555</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2f4bc46b992d82cbe839768e6b251826">perform_osccal</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a>;</div>
<div class="line"><span class="lineno"> 4556</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae552fcdd1160d33954858fd5c255657c">stk500v2_jtagmkII_setup</a>;</div>
<div class="line"><span class="lineno"> 4557</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa4a60d93e361634b5b5474e1d154103">stk500v2_jtagmkII_teardown</a>;</div>
<div class="line"><span class="lineno"> 4558</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4559</span>}</div>
<div class="ttc" id="astk500v2_8c_html_aa66486f978ab92ecad8952091d897222"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aa66486f978ab92ecad8952091d897222">stk500v2_jtagmkII_open</a></div><div class="ttdeci">static int stk500v2_jtagmkII_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3453</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00651">programmer_t::cmd</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00682">programmer_t::perform_osccal</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l00960">stk500v2_cmd()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01285">stk500v2_initialize()</a>, <a class="el" href="../../#l03527">stk500v2_jtagmkII_close()</a>, <a class="el" href="../../#l03453">stk500v2_jtagmkII_open()</a>, <a class="el" href="../../#l00308">stk500v2_jtagmkII_setup()</a>, <a class="el" href="../../#l00359">stk500v2_jtagmkII_teardown()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03426">stk500v2_perform_osccal()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-97" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-97-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-97-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-97-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa3392eb552280bd2b97dd30c10898f59_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa66486f978ab92ecad8952091d897222" name="aa66486f978ab92ecad8952091d897222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66486f978ab92ecad8952091d897222">&#9670;&#160;</a></span>stk500v2_jtagmkII_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtagmkII_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3454</span>{</div>
<div class="line"><span class="lineno"> 3455</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3456</span><span class="comment">//   union pinfo pinfo;</span></div>
<div class="line"><span class="lineno"> 3457</span><span class="comment">//   void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3458</span><span class="comment">//   int rv;</span></div>
<div class="line"><span class="lineno"> 3459</span> </div>
<div class="line"><span class="lineno"> 3460</span><span class="comment">//   avrdude_message(MSG_NOTICE2, &quot;%s: stk500v2_jtagmkII_open()\n&quot;, progname);</span></div>
<div class="line"><span class="lineno"> 3461</span> </div>
<div class="line"><span class="lineno"> 3462</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3463</span><span class="comment">//    * The JTAG ICE mkII always starts with a baud rate of 19200 Bd upon</span></div>
<div class="line"><span class="lineno"> 3464</span><span class="comment">//    * attaching.  If the config file or command-line parameters specify</span></div>
<div class="line"><span class="lineno"> 3465</span><span class="comment">//    * a higher baud rate, we switch to it later on, after establishing</span></div>
<div class="line"><span class="lineno"> 3466</span><span class="comment">//    * the connection with the ICE.</span></div>
<div class="line"><span class="lineno"> 3467</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3468</span><span class="comment">//   pinfo.baud = 19200;</span></div>
<div class="line"><span class="lineno"> 3469</span> </div>
<div class="line"><span class="lineno"> 3470</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3471</span><span class="comment">//    * If the port name starts with &quot;usb&quot;, divert the serial routines</span></div>
<div class="line"><span class="lineno"> 3472</span><span class="comment">//    * to the USB ones.  The serial_open() function for USB overrides</span></div>
<div class="line"><span class="lineno"> 3473</span><span class="comment">//    * the meaning of the &quot;baud&quot; parameter to be the USB device ID to</span></div>
<div class="line"><span class="lineno"> 3474</span><span class="comment">//    * search for.</span></div>
<div class="line"><span class="lineno"> 3475</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3476</span><span class="comment">//   if (strncmp(port, &quot;usb&quot;, 3) == 0) {</span></div>
<div class="line"><span class="lineno"> 3477</span><span class="comment">// #if defined(HAVE_LIBUSB)</span></div>
<div class="line"><span class="lineno"> 3478</span><span class="comment">//     serdev = &amp;usb_serdev;</span></div>
<div class="line"><span class="lineno"> 3479</span><span class="comment">//     pinfo.usbinfo.vid = USB_VENDOR_ATMEL;</span></div>
<div class="line"><span class="lineno"> 3480</span><span class="comment">//     pinfo.usbinfo.flags = 0;</span></div>
<div class="line"><span class="lineno"> 3481</span><span class="comment">//     pinfo.usbinfo.pid = USB_DEVICE_JTAGICEMKII;</span></div>
<div class="line"><span class="lineno"> 3482</span><span class="comment">//     pgm-&gt;fd.usb.max_xfer = USBDEV_MAX_XFER_MKII;</span></div>
<div class="line"><span class="lineno"> 3483</span><span class="comment">//     pgm-&gt;fd.usb.rep = USBDEV_BULK_EP_READ_MKII;</span></div>
<div class="line"><span class="lineno"> 3484</span><span class="comment">//     pgm-&gt;fd.usb.wep = USBDEV_BULK_EP_WRITE_MKII;</span></div>
<div class="line"><span class="lineno"> 3485</span><span class="comment">//     pgm-&gt;fd.usb.eep = 0;           /* no seperate EP for events */</span></div>
<div class="line"><span class="lineno"> 3486</span><span class="comment">// #else</span></div>
<div class="line"><span class="lineno"> 3487</span><span class="comment">//     avrdude_message(MSG_INFO, &quot;avrdude was compiled without usb support.\n&quot;);</span></div>
<div class="line"><span class="lineno"> 3488</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3489</span><span class="comment">// #endif</span></div>
<div class="line"><span class="lineno"> 3490</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3491</span> </div>
<div class="line"><span class="lineno"> 3492</span><span class="comment">//   strcpy(pgm-&gt;port, port);</span></div>
<div class="line"><span class="lineno"> 3493</span><span class="comment">//   if (serial_open(port, pinfo, &amp;pgm-&gt;fd)==-1) {</span></div>
<div class="line"><span class="lineno"> 3494</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3495</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3496</span> </div>
<div class="line"><span class="lineno"> 3497</span><span class="comment">//   /*</span></div>
<div class="line"><span class="lineno"> 3498</span><span class="comment">//    * drain any extraneous input</span></div>
<div class="line"><span class="lineno"> 3499</span><span class="comment">//    */</span></div>
<div class="line"><span class="lineno"> 3500</span><span class="comment">//   stk500v2_drain(pgm, 0);</span></div>
<div class="line"><span class="lineno"> 3501</span> </div>
<div class="line"><span class="lineno"> 3502</span><span class="comment">//   mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3503</span><span class="comment">//   pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3504</span><span class="comment">//   if ((rv = jtagmkII_getsync(pgm, EMULATOR_MODE_SPI)) != 0) {</span></div>
<div class="line"><span class="lineno"> 3505</span><span class="comment">//     if (rv != JTAGII_GETSYNC_FAIL_GRACEFUL)</span></div>
<div class="line"><span class="lineno"> 3506</span><span class="comment">//         avrdude_message(MSG_INFO, &quot;%s: failed to sync with the JTAG ICE mkII in ISP mode\n&quot;,</span></div>
<div class="line"><span class="lineno"> 3507</span><span class="comment">//                         progname);</span></div>
<div class="line"><span class="lineno"> 3508</span><span class="comment">//     pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3509</span><span class="comment">//     return -1;</span></div>
<div class="line"><span class="lineno"> 3510</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3511</span><span class="comment">//   pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3512</span> </div>
<div class="line"><span class="lineno"> 3513</span><span class="comment">//   PDATA(pgm)-&gt;pgmtype = PGMTYPE_JTAGICE_MKII;</span></div>
<div class="line"><span class="lineno"> 3514</span> </div>
<div class="line"><span class="lineno"> 3515</span><span class="comment">//   if (pgm-&gt;bitclock != 0.0) {</span></div>
<div class="line"><span class="lineno"> 3516</span><span class="comment">//     if (pgm-&gt;set_sck_period(pgm, pgm-&gt;bitclock) != 0)</span></div>
<div class="line"><span class="lineno"> 3517</span><span class="comment">//       return -1;</span></div>
<div class="line"><span class="lineno"> 3518</span><span class="comment">//   }</span></div>
<div class="line"><span class="lineno"> 3519</span> </div>
<div class="line"><span class="lineno"> 3520</span><span class="comment">//   return 0;</span></div>
<div class="line"><span class="lineno"> 3521</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>.</p>
<div id="dynsection-98" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-98-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-98-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-98-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa66486f978ab92ecad8952091d897222_icgraph.svg" width="400" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abb5a89e17e6d6be91df10596a0ee64fb" name="abb5a89e17e6d6be91df10596a0ee64fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb5a89e17e6d6be91df10596a0ee64fb">&#9670;&#160;</a></span>stk500v2_jtagmkII_recv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtagmkII_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  551</span>{</div>
<div class="line"><span class="lineno">  552</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  553</span>  <span class="comment">// int rv;</span></div>
<div class="line"><span class="lineno">  554</span>  <span class="comment">// unsigned char *jtagmsg;</span></div>
<div class="line"><span class="lineno">  555</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  558</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  559</span>  <span class="comment">// rv = jtagmkII_recv(pgm, &amp;jtagmsg);</span></div>
<div class="line"><span class="lineno">  560</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  561</span>  <span class="comment">// if (rv &lt;= 0) {</span></div>
<div class="line"><span class="lineno">  562</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtagmkII_recv(): error in jtagmkII_recv()\n&quot;,</span></div>
<div class="line"><span class="lineno">  563</span>  <span class="comment">//           progname);</span></div>
<div class="line"><span class="lineno">  564</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  565</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  566</span>  <span class="comment">// if (rv - 1 &gt; maxsize) {</span></div>
<div class="line"><span class="lineno">  567</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtagmkII_recv(): got %u bytes, have only room for %u bytes\n&quot;,</span></div>
<div class="line"><span class="lineno">  568</span>  <span class="comment">//                   progname, (unsigned)rv - 1, (unsigned)maxsize);</span></div>
<div class="line"><span class="lineno">  569</span>  <span class="comment">//   rv = maxsize;</span></div>
<div class="line"><span class="lineno">  570</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  571</span>  <span class="comment">// switch (jtagmsg[0]) {</span></div>
<div class="line"><span class="lineno">  572</span>  <span class="comment">// case RSP_SPI_DATA:</span></div>
<div class="line"><span class="lineno">  573</span>  <span class="comment">//   break;</span></div>
<div class="line"><span class="lineno">  574</span>  <span class="comment">// case RSP_FAILED:</span></div>
<div class="line"><span class="lineno">  575</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtagmkII_recv(): failed\n&quot;,</span></div>
<div class="line"><span class="lineno">  576</span>   <span class="comment">//    progname);</span></div>
<div class="line"><span class="lineno">  577</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  578</span>  <span class="comment">// case RSP_ILLEGAL_MCU_STATE:</span></div>
<div class="line"><span class="lineno">  579</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtagmkII_recv(): illegal MCU state\n&quot;,</span></div>
<div class="line"><span class="lineno">  580</span>   <span class="comment">//    progname);</span></div>
<div class="line"><span class="lineno">  581</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  582</span>  <span class="comment">// default:</span></div>
<div class="line"><span class="lineno">  583</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_jtagmkII_recv(): unknown status %d\n&quot;,</span></div>
<div class="line"><span class="lineno">  584</span>   <span class="comment">//    progname, jtagmsg[0]);</span></div>
<div class="line"><span class="lineno">  585</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  586</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  587</span>  <span class="comment">// memcpy(msg, jtagmsg + 1, rv - 1);</span></div>
<div class="line"><span class="lineno">  588</span>  <span class="comment">// return rv;</span></div>
<div class="line"><span class="lineno">  589</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00628">stk500v2_recv()</a>.</p>
<div id="dynsection-99" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-99-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-99-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-99-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abb5a89e17e6d6be91df10596a0ee64fb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6798e90b37755b38064757fd02063c5c" name="a6798e90b37755b38064757fd02063c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6798e90b37755b38064757fd02063c5c">&#9670;&#160;</a></span>stk500v2_jtagmkII_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_jtagmkII_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  420</span>{</div>
<div class="line"><span class="lineno">  421</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  422</span>  <span class="comment">// unsigned char *cmdbuf;</span></div>
<div class="line"><span class="lineno">  423</span>  <span class="comment">// int rv;</span></div>
<div class="line"><span class="lineno">  424</span>  <span class="comment">// unsigned short sz;</span></div>
<div class="line"><span class="lineno">  425</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>  <span class="comment">// sz = get_jtagisp_return_size(data[0]);</span></div>
<div class="line"><span class="lineno">  428</span>  <span class="comment">// if (sz == 0) {</span></div>
<div class="line"><span class="lineno">  429</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: unsupported encapsulated ISP command: %#x\n&quot;,</span></div>
<div class="line"><span class="lineno">  430</span>   <span class="comment">//    progname, data[0]);</span></div>
<div class="line"><span class="lineno">  431</span>  <span class="comment">//   return -1;</span></div>
<div class="line"><span class="lineno">  432</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  433</span>  <span class="comment">// if (sz == SZ_READ_FLASH_EE) {</span></div>
<div class="line"><span class="lineno">  434</span>  <span class="comment">//   /*</span></div>
<div class="line"><span class="lineno">  435</span>  <span class="comment">//    * For CMND_READ_FLASH_ISP and CMND_READ_EEPROM_ISP, extract the</span></div>
<div class="line"><span class="lineno">  436</span>  <span class="comment">//    * size of the return data from the request.  Note that the</span></div>
<div class="line"><span class="lineno">  437</span>  <span class="comment">//    * request itself has the size in big endian format, while we are</span></div>
<div class="line"><span class="lineno">  438</span>  <span class="comment">//    * supposed to deliver it in little endian.</span></div>
<div class="line"><span class="lineno">  439</span>  <span class="comment">//    */</span></div>
<div class="line"><span class="lineno">  440</span>  <span class="comment">//   sz = 3 + (data[1] &lt;&lt; 8) + data[2];</span></div>
<div class="line"><span class="lineno">  441</span>  <span class="comment">// } else if (sz == SZ_SPI_MULTI) {</span></div>
<div class="line"><span class="lineno">  442</span>  <span class="comment">//   /*</span></div>
<div class="line"><span class="lineno">  443</span>  <span class="comment">//    * CMND_SPI_MULTI has the Rx size encoded in its 3rd byte.</span></div>
<div class="line"><span class="lineno">  444</span>  <span class="comment">//    */</span></div>
<div class="line"><span class="lineno">  445</span>  <span class="comment">//   sz = 3 + data[2];</span></div>
<div class="line"><span class="lineno">  446</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>  <span class="comment">// if ((cmdbuf = malloc(len + 3)) == NULL) {</span></div>
<div class="line"><span class="lineno">  449</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: out of memory for command packet\n&quot;,</span></div>
<div class="line"><span class="lineno">  450</span>  <span class="comment">//           progname);</span></div>
<div class="line"><span class="lineno">  451</span>  <span class="comment">//   exit(1);</span></div>
<div class="line"><span class="lineno">  452</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  453</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  454</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  455</span>  <span class="comment">// cmdbuf[0] = CMND_ISP_PACKET;</span></div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">// cmdbuf[1] = sz &amp; 0xff;</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="comment">// cmdbuf[2] = (sz &gt;&gt; 8) &amp; 0xff;</span></div>
<div class="line"><span class="lineno">  458</span>  <span class="comment">// memcpy(cmdbuf + 3, data, len);</span></div>
<div class="line"><span class="lineno">  459</span>  <span class="comment">// rv = jtagmkII_send(pgm, cmdbuf, len + 3);</span></div>
<div class="line"><span class="lineno">  460</span>  <span class="comment">// free(cmdbuf);</span></div>
<div class="line"><span class="lineno">  461</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>  <span class="comment">// return rv;</span></div>
<div class="line"><span class="lineno">  464</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00492">stk500v2_send()</a>.</p>
<div id="dynsection-100" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-100-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-100-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-100-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6798e90b37755b38064757fd02063c5c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae552fcdd1160d33954858fd5c255657c" name="ae552fcdd1160d33954858fd5c255657c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae552fcdd1160d33954858fd5c255657c">&#9670;&#160;</a></span>stk500v2_jtagmkII_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtagmkII_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  309</span>{</div>
<div class="line"><span class="lineno">  310</span>  <span class="comment">// void *mycookie, *theircookie;</span></div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>  <span class="comment">// if ((pgm-&gt;cookie = malloc(sizeof(struct pdata))) == 0) {</span></div>
<div class="line"><span class="lineno">  313</span>  <span class="comment">//   avrdude_message(MSG_INFO, &quot;%s: stk500v2_setup(): Out of memory allocating private data\n&quot;,</span></div>
<div class="line"><span class="lineno">  314</span>  <span class="comment">//                   progname);</span></div>
<div class="line"><span class="lineno">  315</span>  <span class="comment">//   exit(1);</span></div>
<div class="line"><span class="lineno">  316</span>  <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  317</span>  <span class="comment">// memset(pgm-&gt;cookie, 0, sizeof(struct pdata));</span></div>
<div class="line"><span class="lineno">  318</span>  <span class="comment">// PDATA(pgm)-&gt;command_sequence = 1;</span></div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>  <span class="comment">// /*</span></div>
<div class="line"><span class="lineno">  321</span>  <span class="comment">//  * Now, have the JTAG ICE mkII backend allocate its own private</span></div>
<div class="line"><span class="lineno">  322</span>  <span class="comment">//  * data.  Store our own cookie in a safe place for the time being.</span></div>
<div class="line"><span class="lineno">  323</span>  <span class="comment">//  */</span></div>
<div class="line"><span class="lineno">  324</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  325</span>  <span class="comment">// jtagmkII_setup(pgm);</span></div>
<div class="line"><span class="lineno">  326</span>  <span class="comment">// theircookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  327</span>  <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno">  328</span>  <span class="comment">// PDATA(pgm)-&gt;chained_pdata = theircookie;</span></div>
<div class="line"><span class="lineno">  329</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>.</p>
<div id="dynsection-101" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-101-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-101-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-101-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae552fcdd1160d33954858fd5c255657c_icgraph.svg" width="404" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afa4a60d93e361634b5b5474e1d154103" name="afa4a60d93e361634b5b5474e1d154103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4a60d93e361634b5b5474e1d154103">&#9670;&#160;</a></span>stk500v2_jtagmkII_teardown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_jtagmkII_teardown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  360</span>{</div>
<div class="line"><span class="lineno">  361</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>  <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno">  364</span>  <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno">  365</span>  <span class="comment">// jtagmkII_teardown(pgm);</span></div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>  <span class="comment">// free(mycookie);</span></div>
<div class="line"><span class="lineno">  368</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>.</p>
<div id="dynsection-102" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-102-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-102-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-102-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afa4a60d93e361634b5b5474e1d154103_icgraph.svg" width="424" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a81b208b49d476cfe95ca899a98f4400f" name="a81b208b49d476cfe95ca899a98f4400f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b208b49d476cfe95ca899a98f4400f">&#9670;&#160;</a></span>stk500v2_loadaddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_loadaddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1779</span>{</div>
<div class="line"><span class="lineno"> 1780</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1781</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1782</span> </div>
<div class="line"><span class="lineno"> 1783</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_loadaddr(%d)\n&quot;</span>,addr);</div>
<div class="line"><span class="lineno"> 1784</span> </div>
<div class="line"><span class="lineno"> 1785</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae7eb994c0e28d103059fe03c002900e1">CMD_LOAD_ADDRESS</a>;</div>
<div class="line"><span class="lineno"> 1786</span>  buf[1] = (addr &gt;&gt; 24) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1787</span>  buf[2] = (addr &gt;&gt; 16) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1788</span>  buf[3] = (addr &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1789</span>  buf[4] = addr &amp; 0xff;</div>
<div class="line"><span class="lineno"> 1790</span> </div>
<div class="line"><span class="lineno"> 1791</span>  result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 5, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1792</span> </div>
<div class="line"><span class="lineno"> 1793</span>  <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1794</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_loadaddr(): failed to set load address\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1795</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1796</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1797</span>  }</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1800</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_ae7eb994c0e28d103059fe03c002900e1"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae7eb994c0e28d103059fe03c002900e1">CMD_LOAD_ADDRESS</a></div><div class="ttdeci">#define CMD_LOAD_ADDRESS</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:24</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00024">CMD_LOAD_ADDRESS</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02661">stk500hv_paged_load()</a>, <a class="el" href="../../#l02455">stk500hv_paged_write()</a>, <a class="el" href="../../#l01806">stk500hv_read_byte()</a>, <a class="el" href="../../#l02034">stk500hv_write_byte()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l04045">stk600_xprog_paged_load()</a>, and <a class="el" href="../../#l04145">stk600_xprog_paged_write()</a>.</p>
<div id="dynsection-103" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-103-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-103-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-103-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a81b208b49d476cfe95ca899a98f4400f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-104" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-104-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-104-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-104-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a81b208b49d476cfe95ca899a98f4400f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a39116cb98b0706f3f92a4a6faf89226c" name="a39116cb98b0706f3f92a4a6faf89226c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39116cb98b0706f3f92a4a6faf89226c">&#9670;&#160;</a></span>stk500v2_mode_for_pagesize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int stk500v2_mode_for_pagesize </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pagesize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2905</span>{</div>
<div class="line"><span class="lineno"> 2906</span>  <span class="keywordflow">switch</span> (pagesize)</div>
<div class="line"><span class="lineno"> 2907</span>    {</div>
<div class="line"><span class="lineno"> 2908</span>    <span class="keywordflow">case</span> 256:  <span class="keywordflow">return</span> 0u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2909</span>    <span class="keywordflow">case</span> 2:    <span class="keywordflow">return</span> 1u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2910</span>    <span class="keywordflow">case</span> 4:    <span class="keywordflow">return</span> 2u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2911</span>    <span class="keywordflow">case</span> 8:    <span class="keywordflow">return</span> 3u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2912</span>    <span class="keywordflow">case</span> 16:   <span class="keywordflow">return</span> 4u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2913</span>    <span class="keywordflow">case</span> 32:   <span class="keywordflow">return</span> 5u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2914</span>    <span class="keywordflow">case</span> 64:   <span class="keywordflow">return</span> 6u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2915</span>    <span class="keywordflow">case</span> 128:  <span class="keywordflow">return</span> 7u &lt;&lt; 1;</div>
<div class="line"><span class="lineno"> 2916</span>    }</div>
<div class="line"><span class="lineno"> 2917</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_mode_for_pagesize(): invalid pagesize: %u\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2918</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, pagesize);</div>
<div class="line"><span class="lineno"> 2919</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2920</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, and <a class="el" href="../../#l00061">progname</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02455">stk500hv_paged_write()</a>, and <a class="el" href="../../#l02034">stk500hv_write_byte()</a>.</p>
<div id="dynsection-105" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-105-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-105-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-105-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a39116cb98b0706f3f92a4a6faf89226c_cgraph.svg" width="380" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-106" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-106-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-106-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-106-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a39116cb98b0706f3f92a4a6faf89226c_icgraph.svg" width="100%" height="536"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a243d065860071d9f70f7140caf9c93c9" name="a243d065860071d9f70f7140caf9c93c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a243d065860071d9f70f7140caf9c93c9">&#9670;&#160;</a></span>stk500v2_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1640</span>{</div>
<div class="line"><span class="lineno"> 1641</span>  <span class="keyword">union </span><a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a> <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a> = { .<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ace7c0e41eddbd256a55d2ea9923b153f">baud</a> = 115200 };</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_open()\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1644</span> </div>
<div class="line"><span class="lineno"> 1645</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5eaf4d49b39f0c1824e7f7961bf97cd9">baudrate</a>)</div>
<div class="line"><span class="lineno"> 1646</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ace7c0e41eddbd256a55d2ea9923b153f">baud</a> = <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5eaf4d49b39f0c1824e7f7961bf97cd9">baudrate</a>;</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_UNKNOWN;</div>
<div class="line"><span class="lineno"> 1649</span> </div>
<div class="line"><span class="lineno"> 1650</span>  <span class="keywordflow">if</span>(<a class="code hl_define" href="../../da/d6f/unistd_8h.html#ac99ec3f1036620727a68aa8c25a8963c">strcasecmp</a>(port, <span class="stringliteral">&quot;avrdoper&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1651</span><span class="preprocessor">#if defined(HAVE_LIBUSB) || (defined(WIN32NATIVE) &amp;&amp; defined(HAVE_LIBHID))</span></div>
<div class="line"><span class="lineno"> 1652</span>    <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1b2f1811fb510851fbcf51d489f68283">serdev</a> = &amp;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a14ecf588ff4c7aa3b17b62a657698543">avrdoper_serdev</a>;</div>
<div class="line"><span class="lineno"> 1653</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_STK500;</div>
<div class="line"><span class="lineno"> 1654</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1655</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;avrdude was compiled without usb support.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1656</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1657</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1658</span>  }</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1661</span><span class="comment">   * If the port name starts with &quot;usb&quot;, divert the serial routines</span></div>
<div class="line"><span class="lineno"> 1662</span><span class="comment">   * to the USB ones.  The serial_open() function for USB overrides</span></div>
<div class="line"><span class="lineno"> 1663</span><span class="comment">   * the meaning of the &quot;baud&quot; parameter to be the USB device ID to</span></div>
<div class="line"><span class="lineno"> 1664</span><span class="comment">   * search for.</span></div>
<div class="line"><span class="lineno"> 1665</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1666</span>  <span class="keywordflow">if</span> (strncmp(port, <span class="stringliteral">&quot;usb&quot;</span>, 3) == 0) {</div>
<div class="line"><span class="lineno"> 1667</span><span class="preprocessor">#if defined(HAVE_LIBUSB)</span></div>
<div class="line"><span class="lineno"> 1668</span>    <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1b2f1811fb510851fbcf51d489f68283">serdev</a> = &amp;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a6150f0061b74a7e05f513062c9d5e60e">usb_serdev_frame</a>;</div>
<div class="line"><span class="lineno"> 1669</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.vid = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a10c018d24aedc70abe62284ef1e2dca2">USB_VENDOR_ATMEL</a>;</div>
<div class="line"><span class="lineno"> 1670</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.flags = 0;</div>
<div class="line"><span class="lineno"> 1671</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.pid = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#abf7eba7f8d652e15ccbd5c086c292431">USB_DEVICE_AVRISPMKII</a>;</div>
<div class="line"><span class="lineno"> 1672</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_AVRISP_MKII;</div>
<div class="line"><span class="lineno"> 1673</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6a0a1a7ecbfcda9c66e197b030af30f3">stk500v2_set_sck_period_mk2</a>;</div>
<div class="line"><span class="lineno"> 1674</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.max_xfer = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a7fb5a15f58a665d7492ea1639c3831e5">USBDEV_MAX_XFER_MKII</a>;</div>
<div class="line"><span class="lineno"> 1675</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.rep = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#ac99a605eba966942bec06a08783bb720">USBDEV_BULK_EP_READ_MKII</a>;</div>
<div class="line"><span class="lineno"> 1676</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.wep = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a1177f9eee13c2fa5e7039c653c309098">USBDEV_BULK_EP_WRITE_MKII</a>;</div>
<div class="line"><span class="lineno"> 1677</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.eep = 0;           <span class="comment">/* no seperate EP for events */</span></div>
<div class="line"><span class="lineno"> 1678</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1679</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;avrdude was compiled without usb support.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1680</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1681</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1682</span>  }</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2d7124b78d19996c6e5735b4bd1f1e18">port</a>, port);</div>
<div class="line"><span class="lineno"> 1685</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a1b94603caed7e694d2613aa0d745fb5a">serial_open</a>(port, <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>, &amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>)==-1) {</div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1687</span>  }</div>
<div class="line"><span class="lineno"> 1688</span> </div>
<div class="line"><span class="lineno"> 1689</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1690</span><span class="comment">   * drain any extraneous input</span></div>
<div class="line"><span class="lineno"> 1691</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1692</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, 0);</div>
<div class="line"><span class="lineno"> 1693</span> </div>
<div class="line"><span class="lineno"> 1694</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0c65811e2b906244f8278205f6567191">stk500v2_getsync</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, 0);</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5a5fc9245139c7ba118b8f28c85ddfa7">bitclock</a> != 0.0) {</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5a5fc9245139c7ba118b8f28c85ddfa7">bitclock</a>) != 0) {</div>
<div class="line"><span class="lineno"> 1700</span>      <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a211e87f7bfdbfa94ddc09f45795d130d">serial_close</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>);</div>
<div class="line"><span class="lineno"> 1701</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1702</span>    }</div>
<div class="line"><span class="lineno"> 1703</span>  }</div>
<div class="line"><span class="lineno"> 1704</span> </div>
<div class="line"><span class="lineno"> 1705</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1706</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a14ecf588ff4c7aa3b17b62a657698543"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a14ecf588ff4c7aa3b17b62a657698543">avrdoper_serdev</a></div><div class="ttdeci">struct serial_device avrdoper_serdev</div></div>
<div class="ttc" id="alibavrdude_8h_html_a1b2f1811fb510851fbcf51d489f68283"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a1b2f1811fb510851fbcf51d489f68283">serdev</a></div><div class="ttdeci">struct serial_device * serdev</div><div class="ttdef"><b>Definition</b> ser_posix.c:562</div></div>
<div class="ttc" id="alibavrdude_8h_html_a1b94603caed7e694d2613aa0d745fb5a"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a1b94603caed7e694d2613aa0d745fb5a">serial_open</a></div><div class="ttdeci">#define serial_open</div><div class="ttdef"><b>Definition</b> libavrdude.h:574</div></div>
<div class="ttc" id="alibavrdude_8h_html_a4d27dec592bac3347793d517eb3acfc0"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">filedescriptor::usb</a></div><div class="ttdeci">struct filedescriptor::@12 usb</div></div>
<div class="ttc" id="alibavrdude_8h_html_a6150f0061b74a7e05f513062c9d5e60e"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a6150f0061b74a7e05f513062c9d5e60e">usb_serdev_frame</a></div><div class="ttdeci">struct serial_device usb_serdev_frame</div></div>
<div class="ttc" id="alibavrdude_8h_html_a7a032e79fdd0c74d78b30ea8f6286327"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">pinfo::usbinfo</a></div><div class="ttdeci">struct pinfo::@13 usbinfo</div></div>
<div class="ttc" id="alibavrdude_8h_html_ace7c0e41eddbd256a55d2ea9923b153f"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ace7c0e41eddbd256a55d2ea9923b153f">pinfo::baud</a></div><div class="ttdeci">long baud</div><div class="ttdef"><b>Definition</b> libavrdude.h:537</div></div>
<div class="ttc" id="alibavrdude_8h_html_db/d34/unionpinfo"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:536</div></div>
<div class="ttc" id="astk500v2_8c_html_a211093bc7f76b415d984f6d2b9f3884f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a></div><div class="ttdeci">int stk500v2_drain(PROGRAMMER *pgm, int display)</div><div class="ttdef"><b>Definition</b> stk500v2.c:530</div></div>
<div class="ttc" id="astructprogrammer__t_html_a2d7124b78d19996c6e5735b4bd1f1e18"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a2d7124b78d19996c6e5735b4bd1f1e18">programmer_t::port</a></div><div class="ttdeci">char port[PGM_PORTLEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:620</div></div>
<div class="ttc" id="astructprogrammer__t_html_a5a5fc9245139c7ba118b8f28c85ddfa7"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a5a5fc9245139c7ba118b8f28c85ddfa7">programmer_t::bitclock</a></div><div class="ttdeci">double bitclock</div><div class="ttdef"><b>Definition</b> libavrdude.h:635</div></div>
<div class="ttc" id="astructprogrammer__t_html_a5eaf4d49b39f0c1824e7f7961bf97cd9"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a5eaf4d49b39f0c1824e7f7961bf97cd9">programmer_t::baudrate</a></div><div class="ttdeci">int baudrate</div><div class="ttdef"><b>Definition</b> libavrdude.h:630</div></div>
<div class="ttc" id="aunistd_8h_html_ac99ec3f1036620727a68aa8c25a8963c"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#ac99ec3f1036620727a68aa8c25a8963c">strcasecmp</a></div><div class="ttdeci">#define strcasecmp</div><div class="ttdef"><b>Definition</b> unistd.h:52</div></div>
<div class="ttc" id="ausbdevs_8h_html_a10c018d24aedc70abe62284ef1e2dca2"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#a10c018d24aedc70abe62284ef1e2dca2">USB_VENDOR_ATMEL</a></div><div class="ttdeci">#define USB_VENDOR_ATMEL</div><div class="ttdef"><b>Definition</b> usbdevs.h:28</div></div>
<div class="ttc" id="ausbdevs_8h_html_a1177f9eee13c2fa5e7039c653c309098"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#a1177f9eee13c2fa5e7039c653c309098">USBDEV_BULK_EP_WRITE_MKII</a></div><div class="ttdeci">#define USBDEV_BULK_EP_WRITE_MKII</div><div class="ttdef"><b>Definition</b> usbdevs.h:60</div></div>
<div class="ttc" id="ausbdevs_8h_html_a7fb5a15f58a665d7492ea1639c3831e5"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#a7fb5a15f58a665d7492ea1639c3831e5">USBDEV_MAX_XFER_MKII</a></div><div class="ttdeci">#define USBDEV_MAX_XFER_MKII</div><div class="ttdef"><b>Definition</b> usbdevs.h:62</div></div>
<div class="ttc" id="ausbdevs_8h_html_abf7eba7f8d652e15ccbd5c086c292431"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#abf7eba7f8d652e15ccbd5c086c292431">USB_DEVICE_AVRISPMKII</a></div><div class="ttdeci">#define USB_DEVICE_AVRISPMKII</div><div class="ttdef"><b>Definition</b> usbdevs.h:30</div></div>
<div class="ttc" id="ausbdevs_8h_html_ac99a605eba966942bec06a08783bb720"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#ac99a605eba966942bec06a08783bb720">USBDEV_BULK_EP_READ_MKII</a></div><div class="ttdeci">#define USBDEV_BULK_EP_READ_MKII</div><div class="ttdef"><b>Definition</b> usbdevs.h:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d2/d68/libavrdude_8h.html#a14ecf588ff4c7aa3b17b62a657698543">avrdoper_serdev</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00537">pinfo::baud</a>, <a class="el" href="../../#l00630">programmer_t::baudrate</a>, <a class="el" href="../../#l00635">programmer_t::bitclock</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00620">programmer_t::port</a>, <a class="el" href="../../#l00562">serdev</a>, <a class="el" href="../../#l00576">serial_close</a>, <a class="el" href="../../#l00574">serial_open</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00530">stk500v2_drain()</a>, <a class="el" href="../../#l00749">stk500v2_getsync()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l00052">strcasecmp</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">filedescriptor::usb</a>, <a class="el" href="../../#l00030">USB_DEVICE_AVRISPMKII</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#a6150f0061b74a7e05f513062c9d5e60e">usb_serdev_frame</a>, <a class="el" href="../../#l00028">USB_VENDOR_ATMEL</a>, <a class="el" href="../../#l00061">USBDEV_BULK_EP_READ_MKII</a>, <a class="el" href="../../#l00060">USBDEV_BULK_EP_WRITE_MKII</a>, <a class="el" href="../../#l00062">USBDEV_MAX_XFER_MKII</a>, and <a class="el" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">pinfo::usbinfo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, and <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-107" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-107-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-107-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-107-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a243d065860071d9f70f7140caf9c93c9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-108" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-108-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-108-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-108-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a243d065860071d9f70f7140caf9c93c9_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a28a54649377f2d02df8245ccd23e0498" name="a28a54649377f2d02df8245ccd23e0498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a54649377f2d02df8245ccd23e0498">&#9670;&#160;</a></span>stk500v2_page_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_page_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2760</span>{</div>
<div class="line"><span class="lineno"> 2761</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_page_erase(): this function must never be called\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2762</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2763</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2764</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, and <a class="el" href="../../#l00061">progname</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-109" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-109-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-109-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-109-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a28a54649377f2d02df8245ccd23e0498_cgraph.svg" width="335" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-110" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-110-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-110-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-110-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a28a54649377f2d02df8245ccd23e0498_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5d939c7598902be8862c7ab886e80b38" name="a5d939c7598902be8862c7ab886e80b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d939c7598902be8862c7ab886e80b38">&#9670;&#160;</a></span>stk500v2_paged_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_paged_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2570</span>{</div>
<div class="line"><span class="lineno"> 2571</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size, hiaddr, addrshift, use_ext_addr;</div>
<div class="line"><span class="lineno"> 2572</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxaddr = addr + n_bytes;</div>
<div class="line"><span class="lineno"> 2573</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> commandbuf[4];</div>
<div class="line"><span class="lineno"> 2574</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[275]; <span class="comment">// max buffer size for stk500v2 at this point</span></div>
<div class="line"><span class="lineno"> 2575</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmds[4];</div>
<div class="line"><span class="lineno"> 2576</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 2577</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#dd/d64/structopcode">OPCODE</a> * rop;</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_paged_load(..,%s,%u,%u,%u)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2580</span>        m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, page_size, addr, n_bytes);</div>
<div class="line"><span class="lineno"> 2581</span> </div>
<div class="line"><span class="lineno"> 2582</span>  page_size = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#abf782bf9e656e60f0c36aa9247141d5b">readsize</a>;</div>
<div class="line"><span class="lineno"> 2583</span> </div>
<div class="line"><span class="lineno"> 2584</span>  rop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a484c6883eae70953dbd5d83c2a231e23">AVR_OP_READ</a>];</div>
<div class="line"><span class="lineno"> 2585</span> </div>
<div class="line"><span class="lineno"> 2586</span>  hiaddr = UINT_MAX;</div>
<div class="line"><span class="lineno"> 2587</span>  addrshift = 0;</div>
<div class="line"><span class="lineno"> 2588</span>  use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 2589</span> </div>
<div class="line"><span class="lineno"> 2590</span>  <span class="comment">// determine which command is to be used</span></div>
<div class="line"><span class="lineno"> 2591</span>  <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2592</span>    commandbuf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a4143fa6ff55ff6bc4a0924efa5eab53b">CMD_READ_FLASH_ISP</a>;</div>
<div class="line"><span class="lineno"> 2593</span>    rop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a64d335e5dd4fb47bdb2ad26910695bcf">AVR_OP_READ_LO</a>];</div>
<div class="line"><span class="lineno"> 2594</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 2595</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2596</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 2597</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 2598</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 2599</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 2600</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2601</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 2602</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 2603</span>    }</div>
<div class="line"><span class="lineno"> 2604</span>  }</div>
<div class="line"><span class="lineno"> 2605</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2606</span>    commandbuf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0969443c8983477f268bb0f3b0c90d98">CMD_READ_EEPROM_ISP</a>;</div>
<div class="line"><span class="lineno"> 2607</span>  }</div>
<div class="line"><span class="lineno"> 2608</span> </div>
<div class="line"><span class="lineno"> 2609</span>  <span class="comment">// the read command is common to both methods</span></div>
<div class="line"><span class="lineno"> 2610</span>  <span class="keywordflow">if</span> (rop == NULL) {</div>
<div class="line"><span class="lineno"> 2611</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_load: read instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2612</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 2613</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2614</span>  }</div>
<div class="line"><span class="lineno"> 2615</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(rop, cmds);</div>
<div class="line"><span class="lineno"> 2616</span>  commandbuf[3] = cmds[0];</div>
<div class="line"><span class="lineno"> 2617</span> </div>
<div class="line"><span class="lineno"> 2618</span>  <span class="keywordflow">for</span> (; addr &lt; maxaddr; addr += page_size) {</div>
<div class="line"><span class="lineno"> 2619</span>    <span class="keywordflow">if</span> ((maxaddr - addr) &lt; page_size)</div>
<div class="line"><span class="lineno"> 2620</span>      block_size = maxaddr - addr;</div>
<div class="line"><span class="lineno"> 2621</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2622</span>      block_size = page_size;</div>
<div class="line"><span class="lineno"> 2623</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;block_size at addr %d is %d\n&quot;</span>,addr,block_size);</div>
<div class="line"><span class="lineno"> 2624</span> </div>
<div class="line"><span class="lineno"> 2625</span>    memcpy(buf,commandbuf,<span class="keyword">sizeof</span>(commandbuf));</div>
<div class="line"><span class="lineno"> 2626</span> </div>
<div class="line"><span class="lineno"> 2627</span>    buf[1] = block_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 2628</span>    buf[2] = block_size &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2629</span> </div>
<div class="line"><span class="lineno"> 2630</span>    <span class="comment">// Ensure a new &quot;load extended address&quot; will be issued</span></div>
<div class="line"><span class="lineno"> 2631</span>    <span class="comment">// when crossing a 64 KB boundary in flash.</span></div>
<div class="line"><span class="lineno"> 2632</span>    <span class="keywordflow">if</span> (hiaddr != (addr &amp; ~0xFFFF)) {</div>
<div class="line"><span class="lineno"> 2633</span>      hiaddr = addr &amp; ~0xFFFF;</div>
<div class="line"><span class="lineno"> 2634</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (addr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2635</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2636</span>    }</div>
<div class="line"><span class="lineno"> 2637</span> </div>
<div class="line"><span class="lineno"> 2638</span>    result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>,buf,4,<span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2639</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2640</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_load: read command failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2641</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2642</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2643</span>    }</div>
<div class="line"><span class="lineno"> 2644</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 2645</span>    <span class="keywordflow">for</span> (i=0;i&lt;page_size;i++) {</div>
<div class="line"><span class="lineno"> 2646</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%02X&quot;</span>,buf[2+i]);</div>
<div class="line"><span class="lineno"> 2647</span>      <span class="keywordflow">if</span> (i%16 == 15) <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2648</span>    }</div>
<div class="line"><span class="lineno"> 2649</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2650</span> </div>
<div class="line"><span class="lineno"> 2651</span>    memcpy(&amp;m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a>[addr], &amp;buf[2], block_size);</div>
<div class="line"><span class="lineno"> 2652</span>  }</div>
<div class="line"><span class="lineno"> 2653</span> </div>
<div class="line"><span class="lineno"> 2654</span>  <span class="keywordflow">return</span> n_bytes;</div>
<div class="line"><span class="lineno"> 2655</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a64d335e5dd4fb47bdb2ad26910695bcf"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a64d335e5dd4fb47bdb2ad26910695bcf">AVR_OP_READ_LO</a></div><div class="ttdeci">@ AVR_OP_READ_LO</div><div class="ttdef"><b>Definition</b> libavrdude.h:148</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a0969443c8983477f268bb0f3b0c90d98"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a0969443c8983477f268bb0f3b0c90d98">CMD_READ_EEPROM_ISP</a></div><div class="ttdeci">#define CMD_READ_EEPROM_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:38</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a4143fa6ff55ff6bc4a0924efa5eab53b"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a4143fa6ff55ff6bc4a0924efa5eab53b">CMD_READ_FLASH_ISP</a></div><div class="ttdeci">#define CMD_READ_FLASH_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00146">AVR_OP_READ</a>, <a class="el" href="../../#l00148">AVR_OP_READ_LO</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00038">CMD_READ_EEPROM_ISP</a>, <a class="el" href="../../#l00036">CMD_READ_FLASH_ISP</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00301">avrmem::readsize</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-111" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-111-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-111-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-111-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5d939c7598902be8862c7ab886e80b38_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-112" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-112-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-112-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-112-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5d939c7598902be8862c7ab886e80b38_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="add1f9e8bbecf73ff68ddc8ab3788a7ea" name="add1f9e8bbecf73ff68ddc8ab3788a7ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1f9e8bbecf73ff68ddc8ab3788a7ea">&#9670;&#160;</a></span>stk500v2_paged_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_paged_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2301</span>{</div>
<div class="line"><span class="lineno"> 2302</span><span class="comment">// static int page = 0;</span></div>
<div class="line"><span class="lineno"> 2303</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_size, last_addr, addrshift, use_ext_addr;</div>
<div class="line"><span class="lineno"> 2304</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxaddr = addr + n_bytes;</div>
<div class="line"><span class="lineno"> 2305</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> commandbuf[10];</div>
<div class="line"><span class="lineno"> 2306</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[266];</div>
<div class="line"><span class="lineno"> 2307</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmds[4];</div>
<div class="line"><span class="lineno"> 2308</span>  <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 2309</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#dd/d64/structopcode">OPCODE</a> * rop, * wop;</div>
<div class="line"><span class="lineno"> 2310</span> </div>
<div class="line"><span class="lineno"> 2311</span>  <span class="comment">// Prusa3D workaround for a bug in the USB communication controller. The semicolon character is used as an initial character</span></div>
<div class="line"><span class="lineno"> 2312</span>  <span class="comment">// for special command sequences for the USB communication chip. The early releases of the USB communication chip had</span></div>
<div class="line"><span class="lineno"> 2313</span>  <span class="comment">// a bug, which produced a 0x0ff character after the semicolon. The patch is to program the semicolons by flashing</span></div>
<div class="line"><span class="lineno"> 2314</span>  <span class="comment">// firmware blocks twice: First the low nibbles of semicolons, second the high nibbles of the semicolon characters.</span></div>
<div class="line"><span class="lineno"> 2315</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2316</span>  <span class="comment">// Inside the 2nd round of a firmware block flashing?</span></div>
<div class="line"><span class="lineno"> 2317</span>  <span class="keywordtype">bool</span> prusa3d_semicolon_workaround_round2 = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2318</span>  <span class="comment">// Buffer containing the other nibbles of semicolons to be flashed in the 2nd round.</span></div>
<div class="line"><span class="lineno"> 2319</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> prusa3d_semicolon_workaround_round2_data[256];</div>
<div class="line"><span class="lineno"> 2320</span> </div>
<div class="line"><span class="lineno"> 2321</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_paged_write(..,%s,%u,%u,%u)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2322</span>        m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, page_size, addr, n_bytes);</div>
<div class="line"><span class="lineno"> 2323</span> </div>
<div class="line"><span class="lineno"> 2324</span>  <span class="keywordflow">if</span> (page_size == 0) page_size = 256;</div>
<div class="line"><span class="lineno"> 2325</span>  addrshift = 0;</div>
<div class="line"><span class="lineno"> 2326</span>  use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>  <span class="comment">// determine which command is to be used</span></div>
<div class="line"><span class="lineno"> 2329</span>  <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2330</span>    addrshift = 1;</div>
<div class="line"><span class="lineno"> 2331</span>    commandbuf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2e9e3f5fc5d2b4229153b24badde9f49">CMD_PROGRAM_FLASH_ISP</a>;</div>
<div class="line"><span class="lineno"> 2332</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 2333</span><span class="comment">     * If bit 31 is set, this indicates that the following read/write</span></div>
<div class="line"><span class="lineno"> 2334</span><span class="comment">     * operation will be performed on a memory that is larger than</span></div>
<div class="line"><span class="lineno"> 2335</span><span class="comment">     * 64KBytes. This is an indication to STK500 that a load extended</span></div>
<div class="line"><span class="lineno"> 2336</span><span class="comment">     * address must be executed.</span></div>
<div class="line"><span class="lineno"> 2337</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2338</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635ac6cd0261b6cfded334a27e66682b73ad">AVR_OP_LOAD_EXT_ADDR</a>] != NULL) {</div>
<div class="line"><span class="lineno"> 2339</span>      use_ext_addr = (1U &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 2340</span>    }</div>
<div class="line"><span class="lineno"> 2341</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 2342</span>    commandbuf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8d6b6e16ddf101cab2b39e82669081e9">CMD_PROGRAM_EEPROM_ISP</a>;</div>
<div class="line"><span class="lineno"> 2343</span>  }</div>
<div class="line"><span class="lineno"> 2344</span>  commandbuf[4] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ab230cd82326131a6ba7fb6d9ba851c8e">delay</a>;</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>  <span class="keywordflow">if</span> (addrshift == 0) {</div>
<div class="line"><span class="lineno"> 2347</span>    wop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635afe9800a8276d4275e95c75553e4036bf">AVR_OP_WRITE</a>];</div>
<div class="line"><span class="lineno"> 2348</span>    rop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a484c6883eae70953dbd5d83c2a231e23">AVR_OP_READ</a>];</div>
<div class="line"><span class="lineno"> 2349</span>  }</div>
<div class="line"><span class="lineno"> 2350</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2351</span>    wop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a21ca3dc342582d910a603d89308f0bcf">AVR_OP_WRITE_LO</a>];</div>
<div class="line"><span class="lineno"> 2352</span>    rop = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a64d335e5dd4fb47bdb2ad26910695bcf">AVR_OP_READ_LO</a>];</div>
<div class="line"><span class="lineno"> 2353</span>  }</div>
<div class="line"><span class="lineno"> 2354</span> </div>
<div class="line"><span class="lineno"> 2355</span>  <span class="comment">// if the memory is paged, load the appropriate commands into the buffer</span></div>
<div class="line"><span class="lineno"> 2356</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a81fb25e248f8569fea58a638f1db81b7">mode</a> &amp; 0x01) {</div>
<div class="line"><span class="lineno"> 2357</span>    commandbuf[3] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a81fb25e248f8569fea58a638f1db81b7">mode</a> | 0x80;   <span class="comment">// yes, write the page to flash</span></div>
<div class="line"><span class="lineno"> 2358</span> </div>
<div class="line"><span class="lineno"> 2359</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a53e432ec9d5cf990a35bfa0e2def5457">AVR_OP_LOADPAGE_LO</a>] == NULL) {</div>
<div class="line"><span class="lineno"> 2360</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_write: loadpage instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2361</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 2362</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2363</span>    }</div>
<div class="line"><span class="lineno"> 2364</span>    <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a53e432ec9d5cf990a35bfa0e2def5457">AVR_OP_LOADPAGE_LO</a>], cmds);</div>
<div class="line"><span class="lineno"> 2365</span>    commandbuf[5] = cmds[0];</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span>    <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a479dfa50115768e595bdb22750397adc">AVR_OP_WRITEPAGE</a>] == NULL) {</div>
<div class="line"><span class="lineno"> 2368</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_write: write page instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2369</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 2370</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2371</span>    }</div>
<div class="line"><span class="lineno"> 2372</span>    <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aec868e58c97ab6ca8b83b2449321461f">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a479dfa50115768e595bdb22750397adc">AVR_OP_WRITEPAGE</a>], cmds);</div>
<div class="line"><span class="lineno"> 2373</span>    commandbuf[6] = cmds[0];</div>
<div class="line"><span class="lineno"> 2374</span> </div>
<div class="line"><span class="lineno"> 2375</span>  <span class="comment">// otherwise, we need to load different commands in</span></div>
<div class="line"><span class="lineno"> 2376</span>  } </div>
<div class="line"><span class="lineno"> 2377</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2378</span>    commandbuf[3] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a81fb25e248f8569fea58a638f1db81b7">mode</a> | 0x80;   <span class="comment">// yes, write the words to flash</span></div>
<div class="line"><span class="lineno"> 2379</span> </div>
<div class="line"><span class="lineno"> 2380</span>    <span class="keywordflow">if</span> (wop == NULL) {</div>
<div class="line"><span class="lineno"> 2381</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_write: write instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2382</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 2383</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2384</span>    }</div>
<div class="line"><span class="lineno"> 2385</span>    <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(wop, cmds);</div>
<div class="line"><span class="lineno"> 2386</span>    commandbuf[5] = cmds[0];</div>
<div class="line"><span class="lineno"> 2387</span>    commandbuf[6] = 0;</div>
<div class="line"><span class="lineno"> 2388</span>  }</div>
<div class="line"><span class="lineno"> 2389</span> </div>
<div class="line"><span class="lineno"> 2390</span>  <span class="comment">// the read command is common to both methods</span></div>
<div class="line"><span class="lineno"> 2391</span>  <span class="keywordflow">if</span> (rop == NULL) {</div>
<div class="line"><span class="lineno"> 2392</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_write: read instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2393</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 2394</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2395</span>  }</div>
<div class="line"><span class="lineno"> 2396</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(rop, cmds);</div>
<div class="line"><span class="lineno"> 2397</span>  commandbuf[7] = cmds[0];</div>
<div class="line"><span class="lineno"> 2398</span> </div>
<div class="line"><span class="lineno"> 2399</span>  commandbuf[8] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4a128d79391cd4fbf1c4723387a05731">readback</a>[0];</div>
<div class="line"><span class="lineno"> 2400</span>  commandbuf[9] = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4a128d79391cd4fbf1c4723387a05731">readback</a>[1];</div>
<div class="line"><span class="lineno"> 2401</span> </div>
<div class="line"><span class="lineno"> 2402</span>  last_addr=UINT_MAX;   <span class="comment">/* impossible address */</span></div>
<div class="line"><span class="lineno"> 2403</span> </div>
<div class="line"><span class="lineno"> 2404</span>  <span class="keywordflow">for</span> (; addr &lt; maxaddr; addr += prusa3d_semicolon_workaround_round2 ? 0 : page_size) {</div>
<div class="line"><span class="lineno"> 2405</span>    <span class="keywordflow">if</span> ((maxaddr - addr) &lt; page_size)</div>
<div class="line"><span class="lineno"> 2406</span>      block_size = maxaddr - addr;</div>
<div class="line"><span class="lineno"> 2407</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2408</span>      block_size = page_size;</div>
<div class="line"><span class="lineno"> 2409</span> </div>
<div class="line"><span class="lineno"> 2410</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;block_size at addr %d is %d\n&quot;</span>,addr,block_size);</div>
<div class="line"><span class="lineno"> 2411</span> </div>
<div class="line"><span class="lineno"> 2412</span>    memcpy(buf,commandbuf,<span class="keyword">sizeof</span>(commandbuf));</div>
<div class="line"><span class="lineno"> 2413</span> </div>
<div class="line"><span class="lineno"> 2414</span>    buf[1] = block_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 2415</span>    buf[2] = block_size &amp; 0xff;</div>
<div class="line"><span class="lineno"> 2416</span> </div>
<div class="line"><span class="lineno"> 2417</span>    <span class="keywordflow">if</span>((last_addr==UINT_MAX)||(last_addr+block_size != addr)||prusa3d_semicolon_workaround_round2){</div>
<div class="line"><span class="lineno"> 2418</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr | (addr &gt;&gt; addrshift)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2419</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2420</span>    }</div>
<div class="line"><span class="lineno"> 2421</span>    last_addr=addr;</div>
<div class="line"><span class="lineno"> 2422</span> </div>
<div class="line"><span class="lineno"> 2423</span>    <span class="keywordflow">if</span> (prusa3d_semicolon_workaround_round2) {</div>
<div class="line"><span class="lineno"> 2424</span>        <span class="comment">// printf(&quot;Round 2: address %d\r\n&quot;, addr);</span></div>
<div class="line"><span class="lineno"> 2425</span>        memcpy(buf+10, prusa3d_semicolon_workaround_round2_data, block_size);</div>
<div class="line"><span class="lineno"> 2426</span>        prusa3d_semicolon_workaround_round2 = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2427</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2428</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; block_size; ++ i) {</div>
<div class="line"><span class="lineno"> 2429</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a>[addr+i];</div>
<div class="line"><span class="lineno"> 2430</span>            <span class="keywordflow">if</span> (b == <span class="charliteral">&#39;;&#39;</span>) {</div>
<div class="line"><span class="lineno"> 2431</span>              <span class="comment">// printf(&quot;semicolon at %d %d\r\n&quot;, addr, i);</span></div>
<div class="line"><span class="lineno"> 2432</span>              prusa3d_semicolon_workaround_round2_data[i] = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> | 0x0f0;</div>
<div class="line"><span class="lineno"> 2433</span>              <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> |= 0x0f;</div>
<div class="line"><span class="lineno"> 2434</span>              prusa3d_semicolon_workaround_round2 = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2435</span>            } <span class="keywordflow">else</span> </div>
<div class="line"><span class="lineno"> 2436</span>              prusa3d_semicolon_workaround_round2_data[i] = 0x0ff;</div>
<div class="line"><span class="lineno"> 2437</span>            buf[i+10] = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>;</div>
<div class="line"><span class="lineno"> 2438</span>        }</div>
<div class="line"><span class="lineno"> 2439</span>    }</div>
<div class="line"><span class="lineno"> 2440</span> </div>
<div class="line"><span class="lineno"> 2441</span>    result = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>,buf,block_size+10, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2442</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 2443</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_paged_write: write command failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2444</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2445</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2446</span>    }</div>
<div class="line"><span class="lineno"> 2447</span>  }</div>
<div class="line"><span class="lineno"> 2448</span> </div>
<div class="line"><span class="lineno"> 2449</span>  <span class="keywordflow">return</span> n_bytes;</div>
<div class="line"><span class="lineno"> 2450</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a4a128d79391cd4fbf1c4723387a05731"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a4a128d79391cd4fbf1c4723387a05731">avrmem::readback</a></div><div class="ttdeci">unsigned char readback[2]</div><div class="ttdef"><b>Definition</b> libavrdude.h:296</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a21ca3dc342582d910a603d89308f0bcf"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a21ca3dc342582d910a603d89308f0bcf">AVR_OP_WRITE_LO</a></div><div class="ttdeci">@ AVR_OP_WRITE_LO</div><div class="ttdef"><b>Definition</b> libavrdude.h:150</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a479dfa50115768e595bdb22750397adc"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a479dfa50115768e595bdb22750397adc">AVR_OP_WRITEPAGE</a></div><div class="ttdeci">@ AVR_OP_WRITEPAGE</div><div class="ttdef"><b>Definition</b> libavrdude.h:155</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a53e432ec9d5cf990a35bfa0e2def5457"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a53e432ec9d5cf990a35bfa0e2def5457">AVR_OP_LOADPAGE_LO</a></div><div class="ttdeci">@ AVR_OP_LOADPAGE_LO</div><div class="ttdef"><b>Definition</b> libavrdude.h:152</div></div>
<div class="ttc" id="alibavrdude_8h_html_a81fb25e248f8569fea58a638f1db81b7"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a81fb25e248f8569fea58a638f1db81b7">avrmem::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition</b> libavrdude.h:298</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2e9e3f5fc5d2b4229153b24badde9f49"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2e9e3f5fc5d2b4229153b24badde9f49">CMD_PROGRAM_FLASH_ISP</a></div><div class="ttdeci">#define CMD_PROGRAM_FLASH_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:35</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a8d6b6e16ddf101cab2b39e82669081e9"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a8d6b6e16ddf101cab2b39e82669081e9">CMD_PROGRAM_EEPROM_ISP</a></div><div class="ttdeci">#define CMD_PROGRAM_EEPROM_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:37</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">AVR_OP_LOAD_EXT_ADDR</a>, <a class="el" href="../../#l00152">AVR_OP_LOADPAGE_LO</a>, <a class="el" href="../../#l00146">AVR_OP_READ</a>, <a class="el" href="../../#l00148">AVR_OP_READ_LO</a>, <a class="el" href="../../#l00147">AVR_OP_WRITE</a>, <a class="el" href="../../#l00150">AVR_OP_WRITE_LO</a>, <a class="el" href="../../#l00155">AVR_OP_WRITEPAGE</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00037">CMD_PROGRAM_EEPROM_ISP</a>, <a class="el" href="../../#l00035">CMD_PROGRAM_FLASH_ISP</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00299">avrmem::delay</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00298">avrmem::mode</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00306">avrmem::op</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00296">avrmem::readback</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-113" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-113-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-113-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-113-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_add1f9e8bbecf73ff68ddc8ab3788a7ea_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-114" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-114-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-114-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-114-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_add1f9e8bbecf73ff68ddc8ab3788a7ea_icgraph.svg" width="100%" height="582"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab7713258e55c7d7b429e8d12cf1b5b4b" name="ab7713258e55c7d7b429e8d12cf1b5b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7713258e55c7d7b429e8d12cf1b5b4b">&#9670;&#160;</a></span>stk500v2_perform_osccal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_perform_osccal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3427</span>{</div>
<div class="line"><span class="lineno"> 3428</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 3429</span>  <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno"> 3430</span> </div>
<div class="line"><span class="lineno"> 3431</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#adb59e9f79db64b6179ca5b280cdd09cb">CMD_OSCCAL</a>;</div>
<div class="line"><span class="lineno"> 3432</span> </div>
<div class="line"><span class="lineno"> 3433</span>  rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 1, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 3434</span>  <span class="keywordflow">if</span> (rv &lt; 0) {</div>
<div class="line"><span class="lineno"> 3435</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_perform_osccal(): failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3436</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3437</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3438</span>  }</div>
<div class="line"><span class="lineno"> 3439</span> </div>
<div class="line"><span class="lineno"> 3440</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3441</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_adb59e9f79db64b6179ca5b280cdd09cb"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#adb59e9f79db64b6179ca5b280cdd09cb">CMD_OSCCAL</a></div><div class="ttdeci">#define CMD_OSCCAL</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:23</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00023">CMD_OSCCAL</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, and <a class="el" href="../../#l04667">stk600_initpgm()</a>.</p>
<div id="dynsection-115" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-115-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-115-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-115-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab7713258e55c7d7b429e8d12cf1b5b4b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-116" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-116-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-116-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-116-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ab7713258e55c7d7b429e8d12cf1b5b4b_icgraph.svg" width="100%" height="493"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a107c0c6cc1f91d5b09cd2c5589f1de0c" name="a107c0c6cc1f91d5b09cd2c5589f1de0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107c0c6cc1f91d5b09cd2c5589f1de0c">&#9670;&#160;</a></span>stk500v2_print_parms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_print_parms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3422</span>{</div>
<div class="line"><span class="lineno"> 3423</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac787ec4dd5f41d469b55cc85aa383abd">stk500v2_print_parms1</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 3424</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-117" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-117-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-117-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-117-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a107c0c6cc1f91d5b09cd2c5589f1de0c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-118" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-118-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-118-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-118-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a107c0c6cc1f91d5b09cd2c5589f1de0c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac787ec4dd5f41d469b55cc85aa383abd" name="ac787ec4dd5f41d469b55cc85aa383abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac787ec4dd5f41d469b55cc85aa383abd">&#9670;&#160;</a></span>stk500v2_print_parms1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_print_parms1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3304</span>{</div>
<div class="line"><span class="lineno"> 3305</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> vtarget = 0;</div>
<div class="line"><span class="lineno"> 3306</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> vadjust = 0;</div>
<div class="line"><span class="lineno"> 3307</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> sck_duration = 0;</div>
<div class="line"><span class="lineno"> 3308</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> osc_pscale = 0;</div>
<div class="line"><span class="lineno"> 3309</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> osc_cmatch = 0;</div>
<div class="line"><span class="lineno"> 3310</span>  <span class="keywordtype">unsigned</span> varef = 0;</div>
<div class="line"><span class="lineno"> 3311</span>  <span class="keywordtype">unsigned</span> sck_stk600 = 0;</div>
<div class="line"><span class="lineno"> 3312</span>  <span class="keywordtype">unsigned</span> clock_conf = 0;</div>
<div class="line"><span class="lineno"> 3313</span>  <span class="keywordtype">unsigned</span> dac, oct;</div>
<div class="line"><span class="lineno"> 3314</span>  <span class="comment">// unsigned char vtarget_jtag[4];</span></div>
<div class="line"><span class="lineno"> 3315</span>  <span class="keywordtype">int</span> prescale;</div>
<div class="line"><span class="lineno"> 3316</span>  <span class="keywordtype">double</span> f;</div>
<div class="line"><span class="lineno"> 3317</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *unit;</div>
<div class="line"><span class="lineno"> 3318</span>  <span class="comment">// void *mycookie;</span></div>
<div class="line"><span class="lineno"> 3319</span> </div>
<div class="line"><span class="lineno"> 3320</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE_MKII) {</div>
<div class="line"><span class="lineno"> 3321</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3322</span>    <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3323</span>    <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3324</span>    <span class="comment">// jtagmkII_getparm(pgm, PAR_OCD_VTARGET, vtarget_jtag);</span></div>
<div class="line"><span class="lineno"> 3325</span>    <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3326</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%sVtarget         : %.1f V\n&quot;, p,</span></div>
<div class="line"><span class="lineno"> 3327</span>     <span class="comment">//  b2_to_u16(vtarget_jtag) / 1000.0);</span></div>
<div class="line"><span class="lineno"> 3328</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE3) {</div>
<div class="line"><span class="lineno"> 3329</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3330</span>    <span class="comment">// mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 3331</span>    <span class="comment">// pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 3332</span>    <span class="comment">// jtag3_getparm(pgm, SCOPE_GENERAL, 1, PARM3_VTARGET, vtarget_jtag, 2);</span></div>
<div class="line"><span class="lineno"> 3333</span>    <span class="comment">// pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 3334</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%sVtarget         : %.1f V\n&quot;, p,</span></div>
<div class="line"><span class="lineno"> 3335</span>     <span class="comment">//  b2_to_u16(vtarget_jtag) / 1000.0);</span></div>
<div class="line"><span class="lineno"> 3336</span> </div>
<div class="line"><span class="lineno"> 3337</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3338</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a>, &amp;vtarget);</div>
<div class="line"><span class="lineno"> 3339</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sVtarget         : %.1f V\n&quot;</span>, p, vtarget / 10.0);</div>
<div class="line"><span class="lineno"> 3340</span>  }</div>
<div class="line"><span class="lineno"> 3341</span> </div>
<div class="line"><span class="lineno"> 3342</span>  <span class="keywordflow">switch</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype) {</div>
<div class="line"><span class="lineno"> 3343</span>  <span class="keywordflow">case</span> PGMTYPE_STK500:</div>
<div class="line"><span class="lineno"> 3344</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7efe46b2d728f80501ce3df8cdccb8c1">PARAM_SCK_DURATION</a>, &amp;sck_duration);</div>
<div class="line"><span class="lineno"> 3345</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a645dd236d7a06d7bef29ec298e4bc8a9">PARAM_VADJUST</a>, &amp;vadjust);</div>
<div class="line"><span class="lineno"> 3346</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aaae1bd900486c33064cd2d118d7548c5">PARAM_OSC_PSCALE</a>, &amp;osc_pscale);</div>
<div class="line"><span class="lineno"> 3347</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a22028154942c821761bfed15c0521f4c">PARAM_OSC_CMATCH</a>, &amp;osc_cmatch);</div>
<div class="line"><span class="lineno"> 3348</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSCK period      : %.1f us\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3349</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2918280ef3fd7842c678ba309ad2e57c">stk500v2_sck_to_us</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, sck_duration));</div>
<div class="line"><span class="lineno"> 3350</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sVaref           : %.1f V\n&quot;</span>, p, vadjust / 10.0);</div>
<div class="line"><span class="lineno"> 3351</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sOscillator      : &quot;</span>, p);</div>
<div class="line"><span class="lineno"> 3352</span>    <span class="keywordflow">if</span> (osc_pscale == 0)</div>
<div class="line"><span class="lineno"> 3353</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;Off\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 3354</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3355</span>      prescale = 1;</div>
<div class="line"><span class="lineno"> 3356</span>      f = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / 2;</div>
<div class="line"><span class="lineno"> 3357</span> </div>
<div class="line"><span class="lineno"> 3358</span>      <span class="keywordflow">switch</span> (osc_pscale) {</div>
<div class="line"><span class="lineno"> 3359</span>        <span class="keywordflow">case</span> 2: prescale = 8; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3360</span>        <span class="keywordflow">case</span> 3: prescale = 32; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3361</span>        <span class="keywordflow">case</span> 4: prescale = 64; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3362</span>        <span class="keywordflow">case</span> 5: prescale = 128; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3363</span>        <span class="keywordflow">case</span> 6: prescale = 256; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3364</span>        <span class="keywordflow">case</span> 7: prescale = 1024; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3365</span>      }</div>
<div class="line"><span class="lineno"> 3366</span>      f /= prescale;</div>
<div class="line"><span class="lineno"> 3367</span>      f /= (osc_cmatch + 1);</div>
<div class="line"><span class="lineno"> 3368</span>      f = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0e61b53b0496861a6b9953483ed20a8f">f_to_kHz_MHz</a>(f, &amp;unit);</div>
<div class="line"><span class="lineno"> 3369</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%.3f %s\n&quot;</span>, f, unit);</div>
<div class="line"><span class="lineno"> 3370</span>    }</div>
<div class="line"><span class="lineno"> 3371</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3372</span> </div>
<div class="line"><span class="lineno"> 3373</span>  <span class="keywordflow">case</span> PGMTYPE_AVRISP_MKII:</div>
<div class="line"><span class="lineno"> 3374</span>  <span class="keywordflow">case</span> PGMTYPE_JTAGICE_MKII:</div>
<div class="line"><span class="lineno"> 3375</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7efe46b2d728f80501ce3df8cdccb8c1">PARAM_SCK_DURATION</a>, &amp;sck_duration);</div>
<div class="line"><span class="lineno"> 3376</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSCK period      : %.2f us\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3377</span>      (<span class="keywordtype">float</span>) 1000000 / <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a>[sck_duration]);</div>
<div class="line"><span class="lineno"> 3378</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3379</span> </div>
<div class="line"><span class="lineno"> 3380</span>  <span class="keywordflow">case</span> PGMTYPE_JTAGICE3:</div>
<div class="line"><span class="lineno"> 3381</span>    {</div>
<div class="line"><span class="lineno"> 3382</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[4];</div>
<div class="line"><span class="lineno"> 3383</span> </div>
<div class="line"><span class="lineno"> 3384</span>      <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a29235bb8f87c62afb80fd4903ad0e3dc">CMD_GET_SCK</a>;</div>
<div class="line"><span class="lineno"> 3385</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#adfeca4e918f67c510bb1cf54184ab55e">stk500v2_jtag3_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>, 1) &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 3386</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae344676760f23d49cb0d086a4e3c5e89">stk500v2_jtag3_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>, 4) &gt;= 2) {</div>
<div class="line"><span class="lineno"> 3387</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sck = <a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[1] | (<a class="code hl_variable" href="../../d5/de5/term_8c.html#afaf837ac6f2815d3a1975cb001f2db5f">cmd</a>[2] &lt;&lt; 8);</div>
<div class="line"><span class="lineno"> 3388</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSCK period      : %.2f us\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3389</span>    (<span class="keywordtype">float</span>)(1E6 / (1000.0 * sck)));</div>
<div class="line"><span class="lineno"> 3390</span>      }</div>
<div class="line"><span class="lineno"> 3391</span>    }</div>
<div class="line"><span class="lineno"> 3392</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3393</span> </div>
<div class="line"><span class="lineno"> 3394</span>  <span class="keywordflow">case</span> PGMTYPE_STK600:</div>
<div class="line"><span class="lineno"> 3395</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5a8dad1ecef2dffeb37142a15c883cb3">PARAM2_AREF0</a>, &amp;varef);</div>
<div class="line"><span class="lineno"> 3396</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sVaref 0         : %.2f V\n&quot;</span>, p, varef / 100.0);</div>
<div class="line"><span class="lineno"> 3397</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af0621c062c674a311ffddbf3afc81731">PARAM2_AREF1</a>, &amp;varef);</div>
<div class="line"><span class="lineno"> 3398</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sVaref 1         : %.2f V\n&quot;</span>, p, varef / 100.0);</div>
<div class="line"><span class="lineno"> 3399</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a73c56f0af4e3022bf9fcbd28c3bc1046">PARAM2_SCK_DURATION</a>, &amp;sck_stk600);</div>
<div class="line"><span class="lineno"> 3400</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSCK period      : %.2f us\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3401</span>      (<span class="keywordtype">float</span>) (sck_stk600 + 1) / 8.0);</div>
<div class="line"><span class="lineno"> 3402</span>    <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a890764e94df75f5b6a972b1a3e1a4778">PARAM2_CLOCK_CONF</a>, &amp;clock_conf);</div>
<div class="line"><span class="lineno"> 3403</span>    oct = (clock_conf &amp; 0xf000) &gt;&gt; 12u;</div>
<div class="line"><span class="lineno"> 3404</span>    dac = (clock_conf &amp; 0x0ffc) &gt;&gt; 2u;</div>
<div class="line"><span class="lineno"> 3405</span>    f = <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(2, (<span class="keywordtype">double</span>)oct) * 2078.0 / (2 - (double)dac / 1024.0);</div>
<div class="line"><span class="lineno"> 3406</span>    f = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0e61b53b0496861a6b9953483ed20a8f">f_to_kHz_MHz</a>(f, &amp;unit);</div>
<div class="line"><span class="lineno"> 3407</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sOscillator      : %.3f %s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3408</span>            p, f, unit);</div>
<div class="line"><span class="lineno"> 3409</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3410</span> </div>
<div class="line"><span class="lineno"> 3411</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3412</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%sSCK period      : %.1f us\n&quot;</span>, p,</div>
<div class="line"><span class="lineno"> 3413</span>    sck_duration * 8.0e6 / <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> + 0.05);</div>
<div class="line"><span class="lineno"> 3414</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3415</span>  }</div>
<div class="line"><span class="lineno"> 3416</span> </div>
<div class="line"><span class="lineno"> 3417</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3418</span>}</div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a829ad00a9c93131d5a8342b4ee29d83d"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">Eigen::half_impl::pow</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half pow(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:477</div></div>
<div class="ttc" id="astk500v2_8c_html_a0e61b53b0496861a6b9953483ed20a8f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a0e61b53b0496861a6b9953483ed20a8f">f_to_kHz_MHz</a></div><div class="ttdeci">static double f_to_kHz_MHz(double f, const char **unit)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3289</div></div>
<div class="ttc" id="astk500v2_8c_html_a2918280ef3fd7842c678ba309ad2e57c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a2918280ef3fd7842c678ba309ad2e57c">stk500v2_sck_to_us</a></div><div class="ttdeci">static double stk500v2_sck_to_us(PROGRAMMER *pgm, unsigned char dur)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2956</div></div>
<div class="ttc" id="astk500v2_8c_html_ac33ec7275812a654bab49b26305d1576"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a></div><div class="ttdeci">static double avrispmkIIfreqs[]</div><div class="ttdef"><b>Definition</b> stk500v2.c:2863</div></div>
<div class="ttc" id="astk500v2_8c_html_add6ddcd79c5159629da1638da7d21d20"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a></div><div class="ttdeci">#define STK500V2_XTAL</div><div class="ttdef"><b>Definition</b> stk500v2.c:76</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a22028154942c821761bfed15c0521f4c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a22028154942c821761bfed15c0521f4c">PARAM_OSC_CMATCH</a></div><div class="ttdeci">#define PARAM_OSC_CMATCH</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:182</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a29235bb8f87c62afb80fd4903ad0e3dc"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a29235bb8f87c62afb80fd4903ad0e3dc">CMD_GET_SCK</a></div><div class="ttdeci">#define CMD_GET_SCK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:47</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a5a8dad1ecef2dffeb37142a15c883cb3"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a5a8dad1ecef2dffeb37142a15c883cb3">PARAM2_AREF0</a></div><div class="ttdeci">#define PARAM2_AREF0</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:213</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a645dd236d7a06d7bef29ec298e4bc8a9"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a645dd236d7a06d7bef29ec298e4bc8a9">PARAM_VADJUST</a></div><div class="ttdeci">#define PARAM_VADJUST</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:180</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7267b15b9e21963c6a8f3d90517aa1d6"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a></div><div class="ttdeci">#define PARAM_VTARGET</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:179</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a73c56f0af4e3022bf9fcbd28c3bc1046"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a73c56f0af4e3022bf9fcbd28c3bc1046">PARAM2_SCK_DURATION</a></div><div class="ttdeci">#define PARAM2_SCK_DURATION</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:211</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7efe46b2d728f80501ce3df8cdccb8c1"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7efe46b2d728f80501ce3df8cdccb8c1">PARAM_SCK_DURATION</a></div><div class="ttdeci">#define PARAM_SCK_DURATION</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:183</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a890764e94df75f5b6a972b1a3e1a4778"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a890764e94df75f5b6a972b1a3e1a4778">PARAM2_CLOCK_CONF</a></div><div class="ttdeci">#define PARAM2_CLOCK_CONF</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:212</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aaae1bd900486c33064cd2d118d7548c5"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aaae1bd900486c33064cd2d118d7548c5">PARAM_OSC_PSCALE</a></div><div class="ttdeci">#define PARAM_OSC_PSCALE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:181</div></div>
<div class="ttc" id="astk500v2__private_8h_html_af0621c062c674a311ffddbf3afc81731"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#af0621c062c674a311ffddbf3afc81731">PARAM2_AREF1</a></div><div class="ttdeci">#define PARAM2_AREF1</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:214</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l02863">avrispmkIIfreqs</a>, <a class="el" href="../../#l00094">cmd</a>, <a class="el" href="../../#l00047">CMD_GET_SCK</a>, <a class="el" href="../../#l03289">f_to_kHz_MHz()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00213">PARAM2_AREF0</a>, <a class="el" href="../../#l00214">PARAM2_AREF1</a>, <a class="el" href="../../#l00212">PARAM2_CLOCK_CONF</a>, <a class="el" href="../../#l00211">PARAM2_SCK_DURATION</a>, <a class="el" href="../../#l00182">PARAM_OSC_CMATCH</a>, <a class="el" href="../../#l00181">PARAM_OSC_PSCALE</a>, <a class="el" href="../../#l00183">PARAM_SCK_DURATION</a>, <a class="el" href="../../#l00180">PARAM_VADJUST</a>, <a class="el" href="../../#l00179">PARAM_VTARGET</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, <a class="el" href="../../#l03163">stk500v2_getparm2()</a>, <a class="el" href="../../#l00591">stk500v2_jtag3_recv()</a>, <a class="el" href="../../#l00469">stk500v2_jtag3_send()</a>, <a class="el" href="../../#l02956">stk500v2_sck_to_us()</a>, and <a class="el" href="../../#l00076">STK500V2_XTAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>, and <a class="el" href="../../#l03421">stk500v2_print_parms()</a>.</p>
<div id="dynsection-119" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-119-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-119-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-119-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ac787ec4dd5f41d469b55cc85aa383abd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-120" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-120-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-120-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-120-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ac787ec4dd5f41d469b55cc85aa383abd_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afad7af644d38e218af2474541f7b0239" name="afad7af644d38e218af2474541f7b0239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad7af644d38e218af2474541f7b0239">&#9670;&#160;</a></span>stk500v2_program_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_program_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1128</span>{</div>
<div class="line"><span class="lineno"> 1129</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 1130</span>  <span class="keywordtype">char</span> msg[100];             <span class="comment">/* see remarks above about size needed */</span></div>
<div class="line"><span class="lineno"> 1131</span>  <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno"> 1132</span>  <span class="comment">// int tries;</span></div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart = p;</div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span>  <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac74f9304b03966900bc759a9c5409daf">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a203875f278347de8f3e3e3b358413077">AVR_OP_PGM_ENABLE</a>] == NULL) {</div>
<div class="line"><span class="lineno"> 1137</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_program_enable(): program enable instruction not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1138</span>      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno"> 1139</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1140</span>  }</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK500 ||</div>
<div class="line"><span class="lineno"> 1143</span>      <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600)</div>
<div class="line"><span class="lineno"> 1144</span>      <span class="comment">/* Activate AVR-style (low active) RESET */</span></div>
<div class="line"><span class="lineno"> 1145</span>      <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2192c55d93eb96256f6077e5320544b3">stk500v2_setparm_real</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae6b546f4f1bcbe196a11a3722393a28a">PARAM_RESET_POLARITY</a>, 0x01);</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>  <span class="comment">// tries = 0;</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="comment">// retry:</span></div>
<div class="line"><span class="lineno"> 1149</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8908c7a92075dd29376ddf1c620f808c">CMD_ENTER_PROGMODE_ISP</a>;</div>
<div class="line"><span class="lineno"> 1150</span>  buf[1] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#aabe4e40b02668fa2c7cf8d6c90677119">timeout</a>;</div>
<div class="line"><span class="lineno"> 1151</span>  buf[2] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a609dc6722f4473c018e35d983ea84485">stabdelay</a>;</div>
<div class="line"><span class="lineno"> 1152</span>  buf[3] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8eeaf63e357bb10d2613f9b931bf1a6e">cmdexedelay</a>;</div>
<div class="line"><span class="lineno"> 1153</span>  buf[4] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5778a873ad05adc03c8dfc2aa501cb42">synchloops</a>;</div>
<div class="line"><span class="lineno"> 1154</span>  buf[5] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a98801b97626e2c9d6b55f64499caab28">bytedelay</a>;</div>
<div class="line"><span class="lineno"> 1155</span>  buf[6] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7f6d02daea4ad2ad0f72b19853cf2b60">pollvalue</a>;</div>
<div class="line"><span class="lineno"> 1156</span>  buf[7] = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a766fd1ea38914df302799b0981ac41a6">pollindex</a>;</div>
<div class="line"><span class="lineno"> 1157</span>  <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ad411bdb04fa8abc5d0c89bc81ce9c170">avr_set_bits</a>(p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac74f9304b03966900bc759a9c5409daf">op</a>[<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a203875f278347de8f3e3e3b358413077">AVR_OP_PGM_ENABLE</a>], buf+8);</div>
<div class="line"><span class="lineno"> 1158</span>  buf[10] = buf[11] = 0;</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>  rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 12, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>  <span class="keywordflow">if</span> (rv &lt; 0) {</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">switch</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype)</div>
<div class="line"><span class="lineno"> 1164</span>    {</div>
<div class="line"><span class="lineno"> 1165</span>    <span class="keywordflow">case</span> PGMTYPE_STK600:</div>
<div class="line"><span class="lineno"> 1166</span>    <span class="keywordflow">case</span> PGMTYPE_AVRISP_MKII:</div>
<div class="line"><span class="lineno"> 1167</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a17d8b8cb07ac2930b978482cd6e8ef6d">PARAM_STATUS_TGT_CONN</a>, &amp;buf[0]) != 0) {</div>
<div class="line"><span class="lineno"> 1168</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_program_enable(): cannot get connection status\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1169</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 1170</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1171</span>            <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8780699df04085107d7069c8f50e82d1">stk500v2_translate_conn_status</a>(buf[0], msg);</div>
<div class="line"><span class="lineno"> 1172</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_program_enable():&quot;</span></div>
<div class="line"><span class="lineno"> 1173</span>                    <span class="stringliteral">&quot; bad AVRISPmkII connection status: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1174</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, msg);</div>
<div class="line"><span class="lineno"> 1175</span>        }</div>
<div class="line"><span class="lineno"> 1176</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="keywordflow">case</span> PGMTYPE_JTAGICE3:</div>
<div class="line"><span class="lineno"> 1179</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1180</span>        <span class="comment">// if (buf[1] == STATUS_CMD_FAILED &amp;&amp;</span></div>
<div class="line"><span class="lineno"> 1181</span>        <span class="comment">//     (p-&gt;flags &amp; AVRPART_HAS_DW) != 0) {</span></div>
<div class="line"><span class="lineno"> 1182</span>        <span class="comment">//     void *mycookie;</span></div>
<div class="line"><span class="lineno"> 1183</span>        <span class="comment">//     unsigned char cmd[4], *resp;</span></div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>        <span class="comment">//     /* Try debugWIRE, and MONCON_DISABLE */</span></div>
<div class="line"><span class="lineno"> 1186</span>        <span class="comment">//     avrdude_message(MSG_NOTICE2, &quot;%s: No response in ISP mode, trying debugWIRE\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1187</span>        <span class="comment">//                         progname);</span></div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>        <span class="comment">//     mycookie = pgm-&gt;cookie;</span></div>
<div class="line"><span class="lineno"> 1190</span>        <span class="comment">//     pgm-&gt;cookie = PDATA(pgm)-&gt;chained_pdata;</span></div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>        <span class="comment">//     cmd[0] = PARM3_CONN_DW;</span></div>
<div class="line"><span class="lineno"> 1193</span>        <span class="comment">//     if (jtag3_setparm(pgm, SCOPE_AVR, 1, PARM3_CONNECTION, cmd, 1) &lt; 0) {</span></div>
<div class="line"><span class="lineno"> 1194</span>        <span class="comment">//         pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment">//         break;</span></div>
<div class="line"><span class="lineno"> 1196</span>        <span class="comment">//     }</span></div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span>        <span class="comment">//     cmd[0] = SCOPE_AVR;</span></div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>        <span class="comment">//     cmd[1] = CMD3_SIGN_ON;</span></div>
<div class="line"><span class="lineno"> 1201</span>        <span class="comment">//     cmd[2] = cmd[3] = 0;</span></div>
<div class="line"><span class="lineno"> 1202</span>        <span class="comment">//     if (jtag3_command(pgm, cmd, 4, &amp;resp, &quot;AVR sign-on&quot;) &gt;= 0) {</span></div>
<div class="line"><span class="lineno"> 1203</span>        <span class="comment">//         free(resp);</span></div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>        <span class="comment">//         cmd[1] = CMD3_START_DW_DEBUG;</span></div>
<div class="line"><span class="lineno"> 1206</span>        <span class="comment">//         if (jtag3_command(pgm, cmd, 4, &amp;resp, &quot;start DW debug&quot;) &gt;= 0) {</span></div>
<div class="line"><span class="lineno"> 1207</span>        <span class="comment">//             free(resp);</span></div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>        <span class="comment">//             cmd[1] = CMD3_MONCON_DISABLE;</span></div>
<div class="line"><span class="lineno"> 1210</span>        <span class="comment">//             if (jtag3_command(pgm, cmd, 3, &amp;resp, &quot;MonCon disable&quot;) &gt;= 0)</span></div>
<div class="line"><span class="lineno"> 1211</span>        <span class="comment">//                 free(resp);</span></div>
<div class="line"><span class="lineno"> 1212</span>        <span class="comment">//         }</span></div>
<div class="line"><span class="lineno"> 1213</span>        <span class="comment">//     }</span></div>
<div class="line"><span class="lineno"> 1214</span>        <span class="comment">//     pgm-&gt;cookie = mycookie;</span></div>
<div class="line"><span class="lineno"> 1215</span>        <span class="comment">//     if (tries++ &gt; 3) {</span></div>
<div class="line"><span class="lineno"> 1216</span>        <span class="comment">//         avrdude_message(MSG_INFO, &quot;%s: Failed to return from debugWIRE to ISP.\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1217</span>        <span class="comment">//                         progname);</span></div>
<div class="line"><span class="lineno"> 1218</span>        <span class="comment">//         break;</span></div>
<div class="line"><span class="lineno"> 1219</span>        <span class="comment">//     }</span></div>
<div class="line"><span class="lineno"> 1220</span>        <span class="comment">//     avrdude_message(MSG_INFO, &quot;%s: Target prepared for ISP, signed off.\n&quot;</span></div>
<div class="line"><span class="lineno"> 1221</span>        <span class="comment">//                     &quot;%s: Now retrying without power-cycling the target.\n&quot;,</span></div>
<div class="line"><span class="lineno"> 1222</span>        <span class="comment">//                     progname, progname);</span></div>
<div class="line"><span class="lineno"> 1223</span>        <span class="comment">//     goto retry;</span></div>
<div class="line"><span class="lineno"> 1224</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1228</span>        <span class="comment">/* cannot report anything for other pgmtypes */</span></div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1230</span>    }</div>
<div class="line"><span class="lineno"> 1231</span>  }</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>  <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno"> 1234</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a5778a873ad05adc03c8dfc2aa501cb42"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a5778a873ad05adc03c8dfc2aa501cb42">avrpart::synchloops</a></div><div class="ttdeci">int synchloops</div><div class="ttdef"><b>Definition</b> libavrdude.h:235</div></div>
<div class="ttc" id="alibavrdude_8h_html_a609dc6722f4473c018e35d983ea84485"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a609dc6722f4473c018e35d983ea84485">avrpart::stabdelay</a></div><div class="ttdeci">int stabdelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:233</div></div>
<div class="ttc" id="alibavrdude_8h_html_a726ca809ffd3d67ab4b8476646f26635a203875f278347de8f3e3e3b358413077"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a726ca809ffd3d67ab4b8476646f26635a203875f278347de8f3e3e3b358413077">AVR_OP_PGM_ENABLE</a></div><div class="ttdeci">@ AVR_OP_PGM_ENABLE</div><div class="ttdef"><b>Definition</b> libavrdude.h:157</div></div>
<div class="ttc" id="alibavrdude_8h_html_a766fd1ea38914df302799b0981ac41a6"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a766fd1ea38914df302799b0981ac41a6">avrpart::pollindex</a></div><div class="ttdeci">int pollindex</div><div class="ttdef"><b>Definition</b> libavrdude.h:237</div></div>
<div class="ttc" id="alibavrdude_8h_html_a7f6d02daea4ad2ad0f72b19853cf2b60"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a7f6d02daea4ad2ad0f72b19853cf2b60">avrpart::pollvalue</a></div><div class="ttdeci">unsigned char pollvalue</div><div class="ttdef"><b>Definition</b> libavrdude.h:238</div></div>
<div class="ttc" id="alibavrdude_8h_html_a8eeaf63e357bb10d2613f9b931bf1a6e"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a8eeaf63e357bb10d2613f9b931bf1a6e">avrpart::cmdexedelay</a></div><div class="ttdeci">int cmdexedelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:234</div></div>
<div class="ttc" id="alibavrdude_8h_html_a98801b97626e2c9d6b55f64499caab28"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a98801b97626e2c9d6b55f64499caab28">avrpart::bytedelay</a></div><div class="ttdeci">int bytedelay</div><div class="ttdef"><b>Definition</b> libavrdude.h:236</div></div>
<div class="ttc" id="alibavrdude_8h_html_aabe4e40b02668fa2c7cf8d6c90677119"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#aabe4e40b02668fa2c7cf8d6c90677119">avrpart::timeout</a></div><div class="ttdeci">int timeout</div><div class="ttdef"><b>Definition</b> libavrdude.h:232</div></div>
<div class="ttc" id="astk500v2_8c_html_a2192c55d93eb96256f6077e5320544b3"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a2192c55d93eb96256f6077e5320544b3">stk500v2_setparm_real</a></div><div class="ttdeci">static int stk500v2_setparm_real(PROGRAMMER *pgm, unsigned char parm, unsigned char value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3128</div></div>
<div class="ttc" id="astk500v2_8c_html_a8780699df04085107d7069c8f50e82d1"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a8780699df04085107d7069c8f50e82d1">stk500v2_translate_conn_status</a></div><div class="ttdeci">static void stk500v2_translate_conn_status(unsigned char status, char *msg)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1099</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a17d8b8cb07ac2930b978482cd6e8ef6d"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a17d8b8cb07ac2930b978482cd6e8ef6d">PARAM_STATUS_TGT_CONN</a></div><div class="ttdeci">#define PARAM_STATUS_TGT_CONN</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:191</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a8908c7a92075dd29376ddf1c620f808c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a8908c7a92075dd29376ddf1c620f808c">CMD_ENTER_PROGMODE_ISP</a></div><div class="ttdeci">#define CMD_ENTER_PROGMODE_ISP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:32</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ae6b546f4f1bcbe196a11a3722393a28a"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ae6b546f4f1bcbe196a11a3722393a28a">PARAM_RESET_POLARITY</a></div><div class="ttdeci">#define PARAM_RESET_POLARITY</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:187</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00157">AVR_OP_PGM_ENABLE</a>, <a class="el" href="../../#l00080">avr_set_bits()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00236">avrpart::bytedelay</a>, <a class="el" href="../../#l00032">CMD_ENTER_PROGMODE_ISP</a>, <a class="el" href="../../#l00234">avrpart::cmdexedelay</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00275">avrpart::op</a>, <a class="el" href="../../#l00187">PARAM_RESET_POLARITY</a>, <a class="el" href="../../#l00191">PARAM_STATUS_TGT_CONN</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00237">avrpart::pollindex</a>, <a class="el" href="../../#l00238">avrpart::pollvalue</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00233">avrpart::stabdelay</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, <a class="el" href="../../#l03128">stk500v2_setparm_real()</a>, <a class="el" href="../../#l01099">stk500v2_translate_conn_status()</a>, <a class="el" href="../../#l00235">avrpart::synchloops</a>, and <a class="el" href="../../#l00232">avrpart::timeout</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04775">stk500v2_jtag3_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, and <a class="el" href="../../#l04404">stk600_setup_isp()</a>.</p>
<div id="dynsection-121" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-121-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-121-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-121-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afad7af644d38e218af2474541f7b0239_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-122" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-122-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-122-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-122-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afad7af644d38e218af2474541f7b0239_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afde730659f26cf880986235970003b2e" name="afde730659f26cf880986235970003b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde730659f26cf880986235970003b2e">&#9670;&#160;</a></span>stk500v2_recv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  628</span>                                                                               {</div>
<div class="line"><span class="lineno">  629</span>  <span class="keyword">enum</span> states { sINIT, sSTART, sSEQNUM, sSIZE1, sSIZE2, sTOKEN, sDATA, sCSUM, sDONE }  state = sSTART;</div>
<div class="line"><span class="lineno">  630</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> msglen = 0;</div>
<div class="line"><span class="lineno">  631</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curlen = 0;</div>
<div class="line"><span class="lineno">  632</span>  <span class="keywordtype">int</span> timeout = 0;</div>
<div class="line"><span class="lineno">  633</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>, checksum = 0;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  636</span><span class="comment">   * The entire timeout handling here is not very consistent, see</span></div>
<div class="line"><span class="lineno">  637</span><span class="comment">   *</span></div>
<div class="line"><span class="lineno">  638</span><span class="comment">   * https://savannah.nongnu.org/bugs/index.php?43626</span></div>
<div class="line"><span class="lineno">  639</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  640</span>  <span class="keywordtype">long</span> timeoutval = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#af8d7a9868042677db691b7dd12a38b8e">SERIAL_TIMEOUT</a>;   <span class="comment">// seconds</span></div>
<div class="line"><span class="lineno">  641</span>  <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno">  642</span>  <span class="keywordtype">double</span> tstart, tnow;</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_AVRISP_MKII ||</div>
<div class="line"><span class="lineno">  645</span>      <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600)</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a846d441ffc8df4a8d08d17c5f842962f">stk500v2_recv_mk2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, msg, maxsize);</div>
<div class="line"><span class="lineno">  647</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE_MKII)</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abb5a89e17e6d6be91df10596a0ee64fb">stk500v2_jtagmkII_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, msg, maxsize);</div>
<div class="line"><span class="lineno">  649</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE3)</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae344676760f23d49cb0d086a4e3c5e89">stk500v2_jtag3_recv</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, msg, maxsize);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_recv(): &quot;</span>);</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>  <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#adf30830f5265e55035171c301eb9c3fb">gettimeofday</a>(&amp;tv, NULL);</div>
<div class="line"><span class="lineno">  655</span>  tstart = tv.tv_sec;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  <span class="keywordflow">while</span> ( (state != sDONE ) &amp;&amp; (!timeout) ) {</div>
<div class="line"><span class="lineno">  658</span>    <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#acd1b780d66a6f95e53d8139eb7979355">RETURN_IF_CANCEL</a>();</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a7b8859c3ac051a2c2de2f02adf2a9402">serial_recv</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>, &amp;c, 1) &lt; 0)</div>
<div class="line"><span class="lineno">  660</span>      <span class="keywordflow">goto</span> timedout;</div>
<div class="line"><span class="lineno">  661</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;0x%02x &quot;</span>,c);</div>
<div class="line"><span class="lineno">  662</span>    checksum ^= <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><span class="lineno">  665</span>      <span class="keywordflow">case</span> sSTART:</div>
<div class="line"><span class="lineno">  666</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;hoping for start token...&quot;</span>);</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> (c == <a class="code hl_define" href="../../d2/d64/jtagmk_i_i__private_8h.html#a53b51d504d04d1bbfb3d4a4f57349480">MESSAGE_START</a>) {</div>
<div class="line"><span class="lineno">  668</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;got it\n&quot;</span>);</div>
<div class="line"><span class="lineno">  669</span>          checksum = <a class="code hl_define" href="../../d2/d64/jtagmk_i_i__private_8h.html#a53b51d504d04d1bbfb3d4a4f57349480">MESSAGE_START</a>;</div>
<div class="line"><span class="lineno">  670</span>          state = sSEQNUM;</div>
<div class="line"><span class="lineno">  671</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  672</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;sorry\n&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  674</span>      <span class="keywordflow">case</span> sSEQNUM:</div>
<div class="line"><span class="lineno">  675</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;hoping for sequence...\n&quot;</span>);</div>
<div class="line"><span class="lineno">  676</span>        <span class="keywordflow">if</span> (c == <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;command_sequence) {</div>
<div class="line"><span class="lineno">  677</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;got it, incrementing\n&quot;</span>);</div>
<div class="line"><span class="lineno">  678</span>          state = sSIZE1;</div>
<div class="line"><span class="lineno">  679</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;command_sequence++;</div>
<div class="line"><span class="lineno">  680</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  681</span>          <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;sorry\n&quot;</span>);</div>
<div class="line"><span class="lineno">  682</span>          state = sSTART;</div>
<div class="line"><span class="lineno">  683</span>        }</div>
<div class="line"><span class="lineno">  684</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  685</span>      <span class="keywordflow">case</span> sSIZE1:</div>
<div class="line"><span class="lineno">  686</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;hoping for size LSB\n&quot;</span>);</div>
<div class="line"><span class="lineno">  687</span>        msglen = (unsigned)c * 256;</div>
<div class="line"><span class="lineno">  688</span>        state = sSIZE2;</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  690</span>      <span class="keywordflow">case</span> sSIZE2:</div>
<div class="line"><span class="lineno">  691</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a>(<span class="stringliteral">&quot;hoping for size MSB...&quot;</span>);</div>
<div class="line"><span class="lineno">  692</span>        msglen += (unsigned)c;</div>
<div class="line"><span class="lineno">  693</span>        <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot; msg is %u bytes\n&quot;</span>,msglen);</div>
<div class="line"><span class="lineno">  694</span>        state = sTOKEN;</div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  696</span>      <span class="keywordflow">case</span> sTOKEN:</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">if</span> (c == <a class="code hl_struct" href="../../db/d16/config_8h.html#d1/d20/structtoken__t">TOKEN</a>) state = sDATA;</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">else</span> state = sSTART;</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  700</span>      <span class="keywordflow">case</span> sDATA:</div>
<div class="line"><span class="lineno">  701</span>        <span class="keywordflow">if</span> (curlen &lt; maxsize) {</div>
<div class="line"><span class="lineno">  702</span>          msg[curlen] = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">  703</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  704</span>          <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv(): buffer too small, received %d byte into %u byte buffer\n&quot;</span>,</div>
<div class="line"><span class="lineno">  705</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,curlen,(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)maxsize);</div>
<div class="line"><span class="lineno">  706</span>          <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno">  707</span>        }</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">if</span> ((curlen == 0) &amp;&amp; (msg[0] == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a406552cfa0b85006e48d03393e79fd9e">ANSWER_CKSUM_ERROR</a>)) {</div>
<div class="line"><span class="lineno">  709</span>          <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv(): previous packet sent with wrong checksum\n&quot;</span>,</div>
<div class="line"><span class="lineno">  710</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  711</span>          <span class="keywordflow">return</span> -3;</div>
<div class="line"><span class="lineno">  712</span>        }</div>
<div class="line"><span class="lineno">  713</span>        curlen++;</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">if</span> (curlen == msglen) state = sCSUM;</div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  716</span>      <span class="keywordflow">case</span> sCSUM:</div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">if</span> (checksum == 0) {</div>
<div class="line"><span class="lineno">  718</span>          state = sDONE;</div>
<div class="line"><span class="lineno">  719</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  720</span>          state = sSTART;</div>
<div class="line"><span class="lineno">  721</span>          <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv(): checksum error\n&quot;</span>,</div>
<div class="line"><span class="lineno">  722</span>                  <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  723</span>          <span class="keywordflow">return</span> -4;</div>
<div class="line"><span class="lineno">  724</span>        }</div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  726</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  727</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv(): unknown state\n&quot;</span>,</div>
<div class="line"><span class="lineno">  728</span>                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  729</span>        <span class="keywordflow">return</span> -5;</div>
<div class="line"><span class="lineno">  730</span>     } <span class="comment">/* switch */</span></div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>     <a class="code hl_function" href="../../d7/d8a/unistd_8cpp.html#adf30830f5265e55035171c301eb9c3fb">gettimeofday</a>(&amp;tv, NULL);</div>
<div class="line"><span class="lineno">  733</span>     tnow = tv.tv_sec;</div>
<div class="line"><span class="lineno">  734</span>     <span class="keywordflow">if</span> (tnow-tstart &gt; timeoutval) {      <span class="comment">// wuff - signed/unsigned/overflow</span></div>
<div class="line"><span class="lineno">  735</span>      timedout:</div>
<div class="line"><span class="lineno">  736</span>       <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv(): timeout\n&quot;</span>,</div>
<div class="line"><span class="lineno">  737</span>               <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  738</span>       <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  739</span>     }</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>  } <span class="comment">/* while */</span></div>
<div class="line"><span class="lineno">  742</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(msglen+6);</div>
<div class="line"><span class="lineno">  745</span>}</div>
<div class="ttc" id="aconfig_8h_html_d1/d20/structtoken__t"><div class="ttname"><a href="../../db/d16/config_8h.html#d1/d20/structtoken__t">token_t</a></div><div class="ttdef"><b>Definition</b> config.h:42</div></div>
<div class="ttc" id="ajtagmk_i_i__private_8h_html_a53b51d504d04d1bbfb3d4a4f57349480"><div class="ttname"><a href="../../d2/d64/jtagmk_i_i__private_8h.html#a53b51d504d04d1bbfb3d4a4f57349480">MESSAGE_START</a></div><div class="ttdeci">#define MESSAGE_START</div><div class="ttdef"><b>Definition</b> jtagmkII_private.h:61</div></div>
<div class="ttc" id="alibavrdude_8h_html_a7b8859c3ac051a2c2de2f02adf2a9402"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a7b8859c3ac051a2c2de2f02adf2a9402">serial_recv</a></div><div class="ttdeci">#define serial_recv</div><div class="ttdef"><b>Definition</b> libavrdude.h:578</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
<div class="ttc" id="astk500v2_8c_html_a846d441ffc8df4a8d08d17c5f842962f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a846d441ffc8df4a8d08d17c5f842962f">stk500v2_recv_mk2</a></div><div class="ttdeci">static int stk500v2_recv_mk2(PROGRAMMER *pgm, unsigned char *msg, size_t maxsize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:535</div></div>
<div class="ttc" id="astk500v2_8c_html_abb5a89e17e6d6be91df10596a0ee64fb"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#abb5a89e17e6d6be91df10596a0ee64fb">stk500v2_jtagmkII_recv</a></div><div class="ttdeci">static int stk500v2_jtagmkII_recv(PROGRAMMER *pgm, unsigned char *msg, size_t maxsize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:549</div></div>
<div class="ttc" id="astk500v2_8c_html_af8d7a9868042677db691b7dd12a38b8e"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#af8d7a9868042677db691b7dd12a38b8e">SERIAL_TIMEOUT</a></div><div class="ttdeci">#define SERIAL_TIMEOUT</div><div class="ttdef"><b>Definition</b> stk500v2.c:79</div></div>
<div class="ttc" id="astk500v2_8c_html_afb00d13e44a1d6d92d0c1d22166710df"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afb00d13e44a1d6d92d0c1d22166710df">DEBUGRECV</a></div><div class="ttdeci">#define DEBUGRECV(...)</div><div class="ttdef"><b>Definition</b> stk500v2.c:93</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a406552cfa0b85006e48d03393e79fd9e"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a406552cfa0b85006e48d03393e79fd9e">ANSWER_CKSUM_ERROR</a></div><div class="ttdeci">#define ANSWER_CKSUM_ERROR</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:284</div></div>
<div class="ttc" id="aunistd_8cpp_html_adf30830f5265e55035171c301eb9c3fb"><div class="ttname"><a href="../../d7/d8a/unistd_8cpp.html#adf30830f5265e55035171c301eb9c3fb">gettimeofday</a></div><div class="ttdeci">int gettimeofday(struct timeval *tp, struct timezone *tzp)</div><div class="ttdef"><b>Definition</b> unistd.cpp:21</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00284">ANSWER_CKSUM_ERROR</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00093">DEBUGRECV</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00021">gettimeofday()</a>, <a class="el" href="../../#l00061">MESSAGE_START</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00733">RETURN_IF_CANCEL</a>, <a class="el" href="../../#l00578">serial_recv</a>, <a class="el" href="../../#l00079">SERIAL_TIMEOUT</a>, <a class="el" href="../../#l00591">stk500v2_jtag3_recv()</a>, <a class="el" href="../../#l00549">stk500v2_jtagmkII_recv()</a>, and <a class="el" href="../../#l00535">stk500v2_recv_mk2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l00749">stk500v2_getsync()</a>.</p>
<div id="dynsection-123" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-123-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-123-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-123-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afde730659f26cf880986235970003b2e_cgraph.svg" width="502" height="214"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-124" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-124-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-124-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-124-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afde730659f26cf880986235970003b2e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a846d441ffc8df4a8d08d17c5f842962f" name="a846d441ffc8df4a8d08d17c5f842962f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846d441ffc8df4a8d08d17c5f842962f">&#9670;&#160;</a></span>stk500v2_recv_mk2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_recv_mk2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  537</span>{</div>
<div class="line"><span class="lineno">  538</span>  <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>  rv = <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a7b8859c3ac051a2c2de2f02adf2a9402">serial_recv</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>, msg, maxsize);</div>
<div class="line"><span class="lineno">  541</span>  <span class="keywordflow">if</span> (rv &lt; 0) {</div>
<div class="line"><span class="lineno">  542</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_recv_mk2: error in USB receive\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  543</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  544</span>  }</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>  <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno">  547</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00578">serial_recv</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00628">stk500v2_recv()</a>.</p>
<div id="dynsection-125" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-125-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-125-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-125-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a846d441ffc8df4a8d08d17c5f842962f_cgraph.svg" width="324" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-126" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-126-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-126-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-126-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a846d441ffc8df4a8d08d17c5f842962f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2918280ef3fd7842c678ba309ad2e57c" name="a2918280ef3fd7842c678ba309ad2e57c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2918280ef3fd7842c678ba309ad2e57c">&#9670;&#160;</a></span>stk500v2_sck_to_us()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double stk500v2_sck_to_us </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>dur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2957</span>{</div>
<div class="line"><span class="lineno"> 2958</span>  <span class="keywordtype">double</span> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno"> 2959</span> </div>
<div class="line"><span class="lineno"> 2960</span>  <span class="keywordflow">if</span> (dur == 0)</div>
<div class="line"><span class="lineno"> 2961</span>    <span class="keywordflow">return</span> 0.5425;</div>
<div class="line"><span class="lineno"> 2962</span>  <span class="keywordflow">if</span> (dur == 1)</div>
<div class="line"><span class="lineno"> 2963</span>    <span class="keywordflow">return</span> 2.17;</div>
<div class="line"><span class="lineno"> 2964</span>  <span class="keywordflow">if</span> (dur == 2)</div>
<div class="line"><span class="lineno"> 2965</span>    <span class="keywordflow">return</span> 8.68;</div>
<div class="line"><span class="lineno"> 2966</span>  <span class="keywordflow">if</span> (dur == 3)</div>
<div class="line"><span class="lineno"> 2967</span>    <span class="keywordflow">return</span> 17.36;</div>
<div class="line"><span class="lineno"> 2968</span> </div>
<div class="line"><span class="lineno"> 2969</span>  <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> = (double)dur + 10.0 / 12.0;</div>
<div class="line"><span class="lineno"> 2970</span>  <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> = 1.0 / <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno"> 2971</span>  <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> /= 24.0;</div>
<div class="line"><span class="lineno"> 2972</span>  <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> *= (double)<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a>;</div>
<div class="line"><span class="lineno"> 2973</span>  <span class="keywordflow">return</span> 1E6 / <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno"> 2974</span>}</div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:297</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00076">STK500V2_XTAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>.</p>
<div id="dynsection-127" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-127-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-127-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-127-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2918280ef3fd7842c678ba309ad2e57c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1f8266ad2201e09606ed54b65f6db872" name="a1f8266ad2201e09606ed54b65f6db872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8266ad2201e09606ed54b65f6db872">&#9670;&#160;</a></span>stk500v2_send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  493</span>{</div>
<div class="line"><span class="lineno">  494</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[275 + 6];   <span class="comment">// max MESSAGE_BODY of 275 bytes, 6 bytes overhead</span></div>
<div class="line"><span class="lineno">  495</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_AVRISP_MKII ||</div>
<div class="line"><span class="lineno">  498</span>      <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_STK600)</div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a25b320aa0f79cfb3e70b9174063c7fc2">stk500v2_send_mk2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, data, len);</div>
<div class="line"><span class="lineno">  500</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE_MKII)</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6798e90b37755b38064757fd02063c5c">stk500v2_jtagmkII_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, data, len);</div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype == PGMTYPE_JTAGICE3)</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#adfeca4e918f67c510bb1cf54184ab55e">stk500v2_jtag3_send</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, data, len);</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>  buf[0] = <a class="code hl_define" href="../../d2/d64/jtagmk_i_i__private_8h.html#a53b51d504d04d1bbfb3d4a4f57349480">MESSAGE_START</a>;</div>
<div class="line"><span class="lineno">  506</span>  buf[1] = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;command_sequence;</div>
<div class="line"><span class="lineno">  507</span>  buf[2] = (char)(len / 256);</div>
<div class="line"><span class="lineno">  508</span>  buf[3] = len % 256;</div>
<div class="line"><span class="lineno">  509</span>  buf[4] = <a class="code hl_define" href="../../dd/dfb/jtag3__private_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;</div>
<div class="line"><span class="lineno">  510</span>  memcpy(buf+5, data, len);</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>  <span class="comment">// calculate the XOR checksum</span></div>
<div class="line"><span class="lineno">  513</span>  buf[5+len] = 0;</div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordflow">for</span> (i=0;i&lt;5+len;i++)</div>
<div class="line"><span class="lineno">  515</span>    buf[5+len] ^= buf[i];</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk500v2_send(&quot;</span>);</div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordflow">for</span> (i=0;i&lt;len+6;i++) <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;0x%02x &quot;</span>,buf[i]);</div>
<div class="line"><span class="lineno">  519</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;, %d)\n&quot;</span>,len+6);</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a6e19d344aacfbb8abb3360d715c577c4">serial_send</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>, buf, len+6) != 0) {</div>
<div class="line"><span class="lineno">  522</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_send(): failed to send command to serial port\n&quot;</span>,<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  524</span>  }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  527</span>}</div>
<div class="ttc" id="ajtag3__private_8h_html_a5c3a83864bf5991d09aa5c2abb911bf0"><div class="ttname"><a href="../../dd/dfb/jtag3__private_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a></div><div class="ttdeci">#define TOKEN</div><div class="ttdef"><b>Definition</b> jtag3_private.h:91</div></div>
<div class="ttc" id="alibavrdude_8h_html_a6e19d344aacfbb8abb3360d715c577c4"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a6e19d344aacfbb8abb3360d715c577c4">serial_send</a></div><div class="ttdeci">#define serial_send</div><div class="ttdef"><b>Definition</b> libavrdude.h:577</div></div>
<div class="ttc" id="astk500v2_8c_html_a25b320aa0f79cfb3e70b9174063c7fc2"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a25b320aa0f79cfb3e70b9174063c7fc2">stk500v2_send_mk2</a></div><div class="ttdeci">static int stk500v2_send_mk2(PROGRAMMER *pgm, unsigned char *data, size_t len)</div><div class="ttdef"><b>Definition</b> stk500v2.c:392</div></div>
<div class="ttc" id="astk500v2_8c_html_a6798e90b37755b38064757fd02063c5c"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a6798e90b37755b38064757fd02063c5c">stk500v2_jtagmkII_send</a></div><div class="ttdeci">static int stk500v2_jtagmkII_send(PROGRAMMER *pgm, unsigned char *data, size_t len)</div><div class="ttdef"><b>Definition</b> stk500v2.c:419</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00061">MESSAGE_START</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00577">serial_send</a>, <a class="el" href="../../#l00469">stk500v2_jtag3_send()</a>, <a class="el" href="../../#l00419">stk500v2_jtagmkII_send()</a>, <a class="el" href="../../#l00392">stk500v2_send_mk2()</a>, and <a class="el" href="../../#l00091">TOKEN</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00837">stk500v2_command()</a>, and <a class="el" href="../../#l00749">stk500v2_getsync()</a>.</p>
<div id="dynsection-128" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-128-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-128-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-128-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a1f8266ad2201e09606ed54b65f6db872_cgraph.svg" width="507" height="160"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-129" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-129-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-129-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-129-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a1f8266ad2201e09606ed54b65f6db872_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a25b320aa0f79cfb3e70b9174063c7fc2" name="a25b320aa0f79cfb3e70b9174063c7fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25b320aa0f79cfb3e70b9174063c7fc2">&#9670;&#160;</a></span>stk500v2_send_mk2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_send_mk2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a6e19d344aacfbb8abb3360d715c577c4">serial_send</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>, data, len) != 0) {</div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500_send_mk2(): failed to send command to serial port\n&quot;</span>,<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  397</span>  }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  400</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00577">serial_send</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00492">stk500v2_send()</a>.</p>
<div id="dynsection-130" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-130-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-130-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-130-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a25b320aa0f79cfb3e70b9174063c7fc2_cgraph.svg" width="328" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-131" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-131-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-131-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-131-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a25b320aa0f79cfb3e70b9174063c7fc2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a471fbd95924ed56417a08dc8375bf4df" name="a471fbd95924ed56417a08dc8375bf4df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a471fbd95924ed56417a08dc8375bf4df">&#9670;&#160;</a></span>stk500v2_set_fosc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_set_fosc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2813</span>{</div>
<div class="line"><span class="lineno"> 2814</span>  <span class="keywordtype">int</span> fosc;</div>
<div class="line"><span class="lineno"> 2815</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> prescale, cmatch;</div>
<div class="line"><span class="lineno"> 2816</span>  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> ps[] = {</div>
<div class="line"><span class="lineno"> 2817</span>    1, 8, 32, 64, 128, 256, 1024</div>
<div class="line"><span class="lineno"> 2818</span>  };</div>
<div class="line"><span class="lineno"> 2819</span>  <span class="keywordtype">int</span> idx, rc;</div>
<div class="line"><span class="lineno"> 2820</span> </div>
<div class="line"><span class="lineno"> 2821</span>  prescale = cmatch = 0;</div>
<div class="line"><span class="lineno"> 2822</span>  <span class="keywordflow">if</span> (v &gt; 0.0) {</div>
<div class="line"><span class="lineno"> 2823</span>    <span class="keywordflow">if</span> (v &gt; <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / 2) {</div>
<div class="line"><span class="lineno"> 2824</span>      <span class="keyword">const</span> <span class="keywordtype">char</span> *unit;</div>
<div class="line"><span class="lineno"> 2825</span>      <span class="keywordflow">if</span> (v &gt; 1e6) {</div>
<div class="line"><span class="lineno"> 2826</span>        v /= 1e6;</div>
<div class="line"><span class="lineno"> 2827</span>        unit = <span class="stringliteral">&quot;MHz&quot;</span>;</div>
<div class="line"><span class="lineno"> 2828</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &gt; 1e3) {</div>
<div class="line"><span class="lineno"> 2829</span>        v /= 1e3;</div>
<div class="line"><span class="lineno"> 2830</span>        unit = <span class="stringliteral">&quot;kHz&quot;</span>;</div>
<div class="line"><span class="lineno"> 2831</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2832</span>        unit = <span class="stringliteral">&quot;Hz&quot;</span>;</div>
<div class="line"><span class="lineno"> 2833</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_fosc(): f = %.3f %s too high, using %.3f MHz\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2834</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, v, unit, <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / 2e6);</div>
<div class="line"><span class="lineno"> 2835</span>      fosc = <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / 2;</div>
<div class="line"><span class="lineno"> 2836</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2837</span>      fosc = (int)v;</div>
<div class="line"><span class="lineno"> 2838</span> </div>
<div class="line"><span class="lineno"> 2839</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; <span class="keyword">sizeof</span>(ps) / <span class="keyword">sizeof</span>(ps[0]); idx++) {</div>
<div class="line"><span class="lineno"> 2840</span>      <span class="keywordflow">if</span> (fosc &gt;= (<span class="keywordtype">int</span>)(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / (256 * ps[idx] * 2))) {</div>
<div class="line"><span class="lineno"> 2841</span>        <span class="comment">/* this prescaler value can handle our frequency */</span></div>
<div class="line"><span class="lineno"> 2842</span>        prescale = idx + 1;</div>
<div class="line"><span class="lineno"> 2843</span>        cmatch = (unsigned)(<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / (2 * fosc * ps[idx])) - 1;</div>
<div class="line"><span class="lineno"> 2844</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2845</span>      }</div>
<div class="line"><span class="lineno"> 2846</span>    }</div>
<div class="line"><span class="lineno"> 2847</span>    <span class="keywordflow">if</span> (idx == <span class="keyword">sizeof</span>(ps) / <span class="keyword">sizeof</span>(ps[0])) {</div>
<div class="line"><span class="lineno"> 2848</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_fosc(): f = %u Hz too low, %u Hz min\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2849</span>          <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, fosc, <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a> / (256 * 1024 * 2));</div>
<div class="line"><span class="lineno"> 2850</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2851</span>    }</div>
<div class="line"><span class="lineno"> 2852</span>  }</div>
<div class="line"><span class="lineno"> 2853</span> </div>
<div class="line"><span class="lineno"> 2854</span>  <span class="keywordflow">if</span> ((rc = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aaae1bd900486c33064cd2d118d7548c5">PARAM_OSC_PSCALE</a>, prescale)) != 0</div>
<div class="line"><span class="lineno"> 2855</span>      || (rc = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a22028154942c821761bfed15c0521f4c">PARAM_OSC_CMATCH</a>, cmatch)) != 0)</div>
<div class="line"><span class="lineno"> 2856</span>    <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 2857</span> </div>
<div class="line"><span class="lineno"> 2858</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2859</span>}</div>
<div class="ttc" id="astk500v2_8c_html_ac857a1e8d4dae82adf860fe224fa426d"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a></div><div class="ttdeci">static int stk500v2_setparm(PROGRAMMER *pgm, unsigned char parm, unsigned char value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3145</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00182">PARAM_OSC_CMATCH</a>, <a class="el" href="../../#l00181">PARAM_OSC_PSCALE</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03145">stk500v2_setparm()</a>, and <a class="el" href="../../#l00076">STK500V2_XTAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-132" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-132-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-132-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-132-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a471fbd95924ed56417a08dc8375bf4df_cgraph.svg" width="100%" height="558"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-133" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-133-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-133-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-133-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a471fbd95924ed56417a08dc8375bf4df_icgraph.svg" width="100%" height="554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a520221b86d058c8694efa7c34cf902ee" name="a520221b86d058c8694efa7c34cf902ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520221b86d058c8694efa7c34cf902ee">&#9670;&#160;</a></span>stk500v2_set_sck_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_set_sck_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2934</span>{</div>
<div class="line"><span class="lineno"> 2935</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>;</div>
<div class="line"><span class="lineno"> 2936</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dur;</div>
<div class="line"><span class="lineno"> 2937</span>  <span class="keywordtype">double</span> f = 1 / v;</div>
<div class="line"><span class="lineno"> 2938</span> </div>
<div class="line"><span class="lineno"> 2939</span>  <span class="keywordflow">if</span> (f &gt;= 1.8432E6)</div>
<div class="line"><span class="lineno"> 2940</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = 0;</div>
<div class="line"><span class="lineno"> 2941</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &gt; 460.8E3)</div>
<div class="line"><span class="lineno"> 2942</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = 1;</div>
<div class="line"><span class="lineno"> 2943</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &gt; 115.2E3)</div>
<div class="line"><span class="lineno"> 2944</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = 2;</div>
<div class="line"><span class="lineno"> 2945</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f &gt; 57.6E3)</div>
<div class="line"><span class="lineno"> 2946</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = 3;</div>
<div class="line"><span class="lineno"> 2947</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2948</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = (<span class="keywordtype">unsigned</span> int)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a>(1 / (24 * f / (<span class="keywordtype">double</span>)<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#add6ddcd79c5159629da1638da7d21d20">STK500V2_XTAL</a>) - 10.0 / 12.0);</div>
<div class="line"><span class="lineno"> 2949</span>  <span class="keywordflow">if</span> (d &gt;= 255)</div>
<div class="line"><span class="lineno"> 2950</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = 254;</div>
<div class="line"><span class="lineno"> 2951</span>  dur = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>;</div>
<div class="line"><span class="lineno"> 2952</span> </div>
<div class="line"><span class="lineno"> 2953</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7efe46b2d728f80501ce3df8cdccb8c1">PARAM_SCK_DURATION</a>, dur);</div>
<div class="line"><span class="lineno"> 2954</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a63043b6807e8e10fb1adf4667e3664d2"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const CeilReturnType ceil() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:402</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00402">ceil()</a>, <a class="el" href="../../#l00183">PARAM_SCK_DURATION</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l03145">stk500v2_setparm()</a>, and <a class="el" href="../../#l00076">STK500V2_XTAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, and <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-134" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-134-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-134-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-134-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a520221b86d058c8694efa7c34cf902ee_cgraph.svg" width="100%" height="512"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-135" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-135-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-135-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-135-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a520221b86d058c8694efa7c34cf902ee_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6a0a1a7ecbfcda9c66e197b030af30f3" name="a6a0a1a7ecbfcda9c66e197b030af30f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a0a1a7ecbfcda9c66e197b030af30f3">&#9670;&#160;</a></span>stk500v2_set_sck_period_mk2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_set_sck_period_mk2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2886</span>{</div>
<div class="line"><span class="lineno"> 2887</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>  <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a>); i++) {</div>
<div class="line"><span class="lineno"> 2890</span>    <span class="keywordflow">if</span> (1 / <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a>[i] &gt;= v)</div>
<div class="line"><span class="lineno"> 2891</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2892</span>  }</div>
<div class="line"><span class="lineno"> 2893</span> </div>
<div class="line"><span class="lineno"> 2894</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;Using p = %.2f us for SCK (param = %d)\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2895</span>      1000000 / <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#ac33ec7275812a654bab49b26305d1576">avrispmkIIfreqs</a>[i], i);</div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7efe46b2d728f80501ce3df8cdccb8c1">PARAM_SCK_DURATION</a>, i);</div>
<div class="line"><span class="lineno"> 2898</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l02863">avrispmkIIfreqs</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00183">PARAM_SCK_DURATION</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l03145">stk500v2_setparm()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04563">stk500v2_dragon_isp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, <a class="el" href="../../#l04528">stk500v2_jtagmkII_initpgm()</a>, and <a class="el" href="../../#l01639">stk500v2_open()</a>.</p>
<div id="dynsection-136" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-136-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-136-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-136-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6a0a1a7ecbfcda9c66e197b030af30f3_cgraph.svg" width="100%" height="558"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-137" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-137-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-137-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-137-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6a0a1a7ecbfcda9c66e197b030af30f3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3869e99ad992b03099cb85f1ed57dc96" name="a3869e99ad992b03099cb85f1ed57dc96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3869e99ad992b03099cb85f1ed57dc96">&#9670;&#160;</a></span>stk500v2_set_upload_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_set_upload_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4809</span>{</div>
<div class="line"><span class="lineno"> 4810</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 4811</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a821bbfa8080e7b78f057316e4fd6feac">CMD_SET_UPLOAD_SIZE_PRUSA3D</a>;</div>
<div class="line"><span class="lineno"> 4812</span>  buf[1] = <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> &amp; 0xff;</div>
<div class="line"><span class="lineno"> 4813</span>  buf[2] = <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4814</span>  buf[3] = <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4815</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 4, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 4816</span>}</div>
<div class="ttc" id="anamespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail_html_a876af6f91231ae4e7e7316f5402682dc"><div class="ttname"><a href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">TCB_SPAN_NAMESPACE_NAME::detail::size</a></div><div class="ttdeci">constexpr auto size(const C &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition</b> span.hpp:183</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a821bbfa8080e7b78f057316e4fd6feac"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a821bbfa8080e7b78f057316e4fd6feac">CMD_SET_UPLOAD_SIZE_PRUSA3D</a></div><div class="ttdeci">#define CMD_SET_UPLOAD_SIZE_PRUSA3D</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:95</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00095">CMD_SET_UPLOAD_SIZE_PRUSA3D</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-138" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-138-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-138-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-138-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3869e99ad992b03099cb85f1ed57dc96_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-139" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-139-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-139-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-139-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a3869e99ad992b03099cb85f1ed57dc96_icgraph.svg" width="100%" height="438"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5e4ef5c83cc64542af42cd4ffa1d1062" name="a5e4ef5c83cc64542af42cd4ffa1d1062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4ef5c83cc64542af42cd4ffa1d1062">&#9670;&#160;</a></span>stk500v2_set_varef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_set_varef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2791</span>{</div>
<div class="line"><span class="lineno"> 2792</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uaref, utarg;</div>
<div class="line"><span class="lineno"> 2793</span> </div>
<div class="line"><span class="lineno"> 2794</span>  uaref = (unsigned)((v + 0.049) * 10);</div>
<div class="line"><span class="lineno"> 2795</span> </div>
<div class="line"><span class="lineno"> 2796</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a>, &amp;utarg) != 0) {</div>
<div class="line"><span class="lineno"> 2797</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_varef(): cannot obtain V[target]\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2798</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2799</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2800</span>  }</div>
<div class="line"><span class="lineno"> 2801</span> </div>
<div class="line"><span class="lineno"> 2802</span>  <span class="keywordflow">if</span> (uaref &gt; utarg) {</div>
<div class="line"><span class="lineno"> 2803</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_varef(): V[aref] must not be greater than &quot;</span></div>
<div class="line"><span class="lineno"> 2804</span>                    <span class="stringliteral">&quot;V[target] = %.1f\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2805</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, utarg / 10.0);</div>
<div class="line"><span class="lineno"> 2806</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2807</span>  }</div>
<div class="line"><span class="lineno"> 2808</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a645dd236d7a06d7bef29ec298e4bc8a9">PARAM_VADJUST</a>, uaref);</div>
<div class="line"><span class="lineno"> 2809</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00180">PARAM_VADJUST</a>, <a class="el" href="../../#l00179">PARAM_VTARGET</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, and <a class="el" href="../../#l03145">stk500v2_setparm()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-140" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-140-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-140-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-140-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5e4ef5c83cc64542af42cd4ffa1d1062_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-141" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-141-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-141-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-141-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5e4ef5c83cc64542af42cd4ffa1d1062_icgraph.svg" width="100%" height="554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa968e166a3556d3ab3fc0c7bd8ef96e6" name="aa968e166a3556d3ab3fc0c7bd8ef96e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa968e166a3556d3ab3fc0c7bd8ef96e6">&#9670;&#160;</a></span>stk500v2_set_vtarget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_set_vtarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2767</span>{</div>
<div class="line"><span class="lineno"> 2768</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> uaref, utarg;</div>
<div class="line"><span class="lineno"> 2769</span> </div>
<div class="line"><span class="lineno"> 2770</span>  utarg = (unsigned)((v + 0.049) * 10);</div>
<div class="line"><span class="lineno"> 2771</span> </div>
<div class="line"><span class="lineno"> 2772</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a645dd236d7a06d7bef29ec298e4bc8a9">PARAM_VADJUST</a>, &amp;uaref) != 0) {</div>
<div class="line"><span class="lineno"> 2773</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): cannot obtain V[aref]\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2774</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2775</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2776</span>  }</div>
<div class="line"><span class="lineno"> 2777</span> </div>
<div class="line"><span class="lineno"> 2778</span>  <span class="keywordflow">if</span> (uaref &gt; utarg) {</div>
<div class="line"><span class="lineno"> 2779</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): reducing V[aref] from %.1f to %.1f\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2780</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, uaref / 10.0, v);</div>
<div class="line"><span class="lineno"> 2781</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a645dd236d7a06d7bef29ec298e4bc8a9">PARAM_VADJUST</a>, utarg)</div>
<div class="line"><span class="lineno"> 2782</span>  != 0)</div>
<div class="line"><span class="lineno"> 2783</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2784</span>  }</div>
<div class="line"><span class="lineno"> 2785</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a>, utarg);</div>
<div class="line"><span class="lineno"> 2786</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00180">PARAM_VADJUST</a>, <a class="el" href="../../#l00179">PARAM_VTARGET</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, and <a class="el" href="../../#l03145">stk500v2_setparm()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04632">stk500v2_dragon_hvsp_initpgm()</a>, <a class="el" href="../../#l04597">stk500v2_dragon_pp_initpgm()</a>, and <a class="el" href="../../#l04418">stk500v2_initpgm()</a>.</p>
<div id="dynsection-142" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-142-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-142-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-142-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa968e166a3556d3ab3fc0c7bd8ef96e6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-143" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-143-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-143-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-143-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa968e166a3556d3ab3fc0c7bd8ef96e6_icgraph.svg" width="100%" height="554"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac857a1e8d4dae82adf860fe224fa426d" name="ac857a1e8d4dae82adf860fe224fa426d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac857a1e8d4dae82adf860fe224fa426d">&#9670;&#160;</a></span>stk500v2_setparm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_setparm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3146</span>{</div>
<div class="line"><span class="lineno"> 3147</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> current_value = 0;</div>
<div class="line"><span class="lineno"> 3148</span>  <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 3149</span> </div>
<div class="line"><span class="lineno"> 3150</span>  res = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, parm, &amp;current_value);</div>
<div class="line"><span class="lineno"> 3151</span>  <span class="keywordflow">if</span> (res &lt; 0)</div>
<div class="line"><span class="lineno"> 3152</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: Unable to get parameter 0x%02x\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, parm);</div>
<div class="line"><span class="lineno"> 3153</span> </div>
<div class="line"><span class="lineno"> 3154</span>  <span class="comment">// don&#39;t issue a write if the correct value is already set.</span></div>
<div class="line"><span class="lineno"> 3155</span>  <span class="keywordflow">if</span> (value == current_value) {</div>
<div class="line"><span class="lineno"> 3156</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#ae5a11e7738886ec5eb0ddecdf4b358ec">MSG_NOTICE2</a>, <span class="stringliteral">&quot;%s: Skipping parameter write; parameter value already set.\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3157</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3158</span>  }</div>
<div class="line"><span class="lineno"> 3159</span> </div>
<div class="line"><span class="lineno"> 3160</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2192c55d93eb96256f6077e5320544b3">stk500v2_setparm_real</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, parm, value);</div>
<div class="line"><span class="lineno"> 3161</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00053">MSG_NOTICE2</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, and <a class="el" href="../../#l03128">stk500v2_setparm_real()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02812">stk500v2_set_fosc()</a>, <a class="el" href="../../#l02933">stk500v2_set_sck_period()</a>, <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>, <a class="el" href="../../#l02789">stk500v2_set_varef()</a>, <a class="el" href="../../#l02766">stk500v2_set_vtarget()</a>, and <a class="el" href="../../#l02977">stk600_set_vtarget()</a>.</p>
<div id="dynsection-144" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-144-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-144-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-144-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ac857a1e8d4dae82adf860fe224fa426d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-145" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-145-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-145-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-145-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ac857a1e8d4dae82adf860fe224fa426d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a673a23545d48a3e48d54e6d249fc926b" name="a673a23545d48a3e48d54e6d249fc926b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673a23545d48a3e48d54e6d249fc926b">&#9670;&#160;</a></span>stk500v2_setparm2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_setparm2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3182</span>{</div>
<div class="line"><span class="lineno"> 3183</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 3184</span> </div>
<div class="line"><span class="lineno"> 3185</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aac5d51f78e1f69c76db010a0e4d32f6c">CMD_SET_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 3186</span>  buf[1] = parm;</div>
<div class="line"><span class="lineno"> 3187</span>  buf[2] = value &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 3188</span>  buf[3] = value;</div>
<div class="line"><span class="lineno"> 3189</span> </div>
<div class="line"><span class="lineno"> 3190</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 4, <span class="keyword">sizeof</span>(buf)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3191</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;\n%s: stk500v2_setparm2(): failed to set parameter 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3192</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, parm);</div>
<div class="line"><span class="lineno"> 3193</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3194</span>  }</div>
<div class="line"><span class="lineno"> 3195</span> </div>
<div class="line"><span class="lineno"> 3196</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3197</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_aac5d51f78e1f69c76db010a0e4d32f6c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aac5d51f78e1f69c76db010a0e4d32f6c">CMD_SET_PARAMETER</a></div><div class="ttdeci">#define CMD_SET_PARAMETER</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00020">CMD_SET_PARAMETER</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03065">stk600_set_fosc()</a>, <a class="el" href="../../#l03075">stk600_set_sck_period()</a>, <a class="el" href="../../#l03029">stk600_set_varef()</a>, and <a class="el" href="../../#l02977">stk600_set_vtarget()</a>.</p>
<div id="dynsection-146" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-146-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-146-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-146-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a673a23545d48a3e48d54e6d249fc926b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-147" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-147-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-147-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-147-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a673a23545d48a3e48d54e6d249fc926b_icgraph.svg" width="100%" height="519"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2192c55d93eb96256f6077e5320544b3" name="a2192c55d93eb96256f6077e5320544b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2192c55d93eb96256f6077e5320544b3">&#9670;&#160;</a></span>stk500v2_setparm_real()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk500v2_setparm_real </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>parm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3129</span>{</div>
<div class="line"><span class="lineno"> 3130</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><span class="lineno"> 3131</span> </div>
<div class="line"><span class="lineno"> 3132</span>  buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aac5d51f78e1f69c76db010a0e4d32f6c">CMD_SET_PARAMETER</a>;</div>
<div class="line"><span class="lineno"> 3133</span>  buf[1] = parm;</div>
<div class="line"><span class="lineno"> 3134</span>  buf[2] = value;</div>
<div class="line"><span class="lineno"> 3135</span> </div>
<div class="line"><span class="lineno"> 3136</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, <span class="keyword">sizeof</span>(buf)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3137</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;\n%s: stk500v2_setparm(): failed to set parameter 0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3138</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, parm);</div>
<div class="line"><span class="lineno"> 3139</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3140</span>  }</div>
<div class="line"><span class="lineno"> 3141</span> </div>
<div class="line"><span class="lineno"> 3142</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3143</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00020">CMD_SET_PARAMETER</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l03145">stk500v2_setparm()</a>, and <a class="el" href="../../#l03793">stk600_xprog_program_enable()</a>.</p>
<div id="dynsection-148" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-148-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-148-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-148-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2192c55d93eb96256f6077e5320544b3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-149" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-149-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-149-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-149-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a2192c55d93eb96256f6077e5320544b3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6c79486fe233e30d482e7dc145a21c4c" name="a6c79486fe233e30d482e7dc145a21c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c79486fe233e30d482e7dc145a21c4c">&#9670;&#160;</a></span>stk500v2_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  296</span>{</div>
<div class="line"><span class="lineno">  297</span>  <span class="keywordflow">if</span> ((<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a675d556eaafa6be18fd545be9674cc63">cookie</a> = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/d63/structpdata.html">pdata</a>))) == 0) {</div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: stk500v2_setup(): Out of memory allocating private data\n&quot;,</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">//                 progname);</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">  301</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;stk500v2_setup(): Out of memory allocating private data\n&quot;</span>);</div>
<div class="line"><span class="lineno">  302</span>  }</div>
<div class="line"><span class="lineno">  303</span>  memset(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a675d556eaafa6be18fd545be9674cc63">cookie</a>, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/d63/structpdata.html">pdata</a>));</div>
<div class="line"><span class="lineno">  304</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;command_sequence = 1;</div>
<div class="line"><span class="lineno">  305</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;boot_start = ULONG_MAX;</div>
<div class="line"><span class="lineno">  306</span>}</div>
<div class="ttc" id="aavrdude_8h_html_a337978586dbb68391dd6a4c9dc9a2e59"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a></div><div class="ttdeci">void avrdude_oom(const char *context)</div><div class="ttdef"><b>Definition</b> main.c:169</div></div>
<div class="ttc" id="astructpdata_html"><div class="ttname"><a href="../../d0/d63/structpdata.html">pdata</a></div><div class="ttdef"><b>Definition</b> avr910.c:50</div></div>
<div class="ttc" id="astructprogrammer__t_html_a675d556eaafa6be18fd545be9674cc63"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a675d556eaafa6be18fd545be9674cc63">programmer_t::cookie</a></div><div class="ttdeci">void * cookie</div><div class="ttdef"><b>Definition</b> libavrdude.h:689</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00169">avrdude_oom()</a>, <a class="el" href="../../#l00689">programmer_t::cookie</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00102">PDATA</a>, and <a class="el" href="../../#l00192">pgm</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, <a class="el" href="../../#l04705">stk600pp_initpgm()</a>, and <a class="el" href="../../#l00075">wiring_setup()</a>.</p>
<div id="dynsection-150" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-150-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-150-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-150-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6c79486fe233e30d482e7dc145a21c4c_cgraph.svg" width="272" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-151" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-151-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-151-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-151-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6c79486fe233e30d482e7dc145a21c4c_icgraph.svg" width="100%" height="549"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae5d6d4a065ab2901f068aae763d3a3f6" name="ae5d6d4a065ab2901f068aae763d3a3f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d6d4a065ab2901f068aae763d3a3f6">&#9670;&#160;</a></span>stk500v2_teardown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_teardown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a675d556eaafa6be18fd545be9674cc63">cookie</a>);</div>
<div class="line"><span class="lineno">  357</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00689">programmer_t::cookie</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, and <a class="el" href="../../#l00192">pgm</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04493">stk500hvsp_initpgm()</a>, <a class="el" href="../../#l04458">stk500pp_initpgm()</a>, <a class="el" href="../../#l04418">stk500v2_initpgm()</a>, <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, <a class="el" href="../../#l04705">stk600pp_initpgm()</a>, and <a class="el" href="../../#l00102">wiring_teardown()</a>.</p>
<div id="dynsection-152" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-152-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-152-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-152-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae5d6d4a065ab2901f068aae763d3a3f6_cgraph.svg" width="236" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-153" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-153-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-153-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-153-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ae5d6d4a065ab2901f068aae763d3a3f6_icgraph.svg" width="100%" height="549"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8780699df04085107d7069c8f50e82d1" name="a8780699df04085107d7069c8f50e82d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8780699df04085107d7069c8f50e82d1">&#9670;&#160;</a></span>stk500v2_translate_conn_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk500v2_translate_conn_status </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1100</span>{</div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno"> 1102</span>    <span class="keywordtype">int</span> need_comma;</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>    *msg = 0;</div>
<div class="line"><span class="lineno"> 1105</span>    need_comma = 0;</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keywordflow">for</span> (i = 0;</div>
<div class="line"><span class="lineno"> 1108</span>         i &lt; <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a> / <span class="keyword">sizeof</span> <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a>[0];</div>
<div class="line"><span class="lineno"> 1109</span>         i++)</div>
<div class="line"><span class="lineno"> 1110</span>    {</div>
<div class="line"><span class="lineno"> 1111</span>        <span class="keywordflow">if</span> ((status &amp; <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a>[i].state) != 0)</div>
<div class="line"><span class="lineno"> 1112</span>        {</div>
<div class="line"><span class="lineno"> 1113</span>            <span class="keywordflow">if</span> (need_comma)</div>
<div class="line"><span class="lineno"> 1114</span>                strcat(msg, <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><span class="lineno"> 1115</span>            strcat(msg, <a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a>[i].description);</div>
<div class="line"><span class="lineno"> 1116</span>            need_comma = 1;</div>
<div class="line"><span class="lineno"> 1117</span>        }</div>
<div class="line"><span class="lineno"> 1118</span>    }</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (*msg == 0)</div>
<div class="line"><span class="lineno"> 1120</span>        sprintf(msg, <span class="stringliteral">&quot;Unknown status 0x%02x&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1121</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a0ac9e2f22c0c0e8c51082f0734d844cd"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a></div><div class="ttdeci">static struct @18 connection_status[]</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d12/stk500v2_8c.html#a0ac9e2f22c0c0e8c51082f0734d844cd">connection_status</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01127">stk500v2_program_enable()</a>.</p>
<div id="dynsection-154" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-154-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-154-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-154-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8780699df04085107d7069c8f50e82d1_icgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7cb94ad4aec74711dfe7335e0f5839d9" name="a7cb94ad4aec74711dfe7335e0f5839d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb94ad4aec74711dfe7335e0f5839d9">&#9670;&#160;</a></span>stk600_get_cardname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * stk600_get_cardname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nele</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3201</span>{</div>
<div class="line"><span class="lineno"> 3202</span>  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a> *cdp;</div>
<div class="line"><span class="lineno"> 3203</span> </div>
<div class="line"><span class="lineno"> 3204</span>  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0xFF)</div>
<div class="line"><span class="lineno"> 3205</span>    <span class="comment">/* 0xFF means this card is not present at all. */</span></div>
<div class="line"><span class="lineno"> 3206</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not present&quot;</span>;</div>
<div class="line"><span class="lineno"> 3207</span> </div>
<div class="line"><span class="lineno"> 3208</span>  <span class="keywordflow">for</span> (cdp = table; nele &gt; 0; cdp++, nele--)</div>
<div class="line"><span class="lineno"> 3209</span>    <span class="keywordflow">if</span> (cdp-&gt;<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a4e5d9040eb04ee53ea2dcb319043e0da">id</a> == <span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno"> 3210</span>      <span class="keywordflow">return</span> cdp-&gt;<a class="code hl_variable" href="../../d9/d12/stk500v2_8c.html#a1e759806d68e68cc6066f2a9f5bc724b">name</a>;</div>
<div class="line"><span class="lineno"> 3211</span> </div>
<div class="line"><span class="lineno"> 3212</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><span class="lineno"> 3213</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a1e759806d68e68cc6066f2a9f5bc724b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a1e759806d68e68cc6066f2a9f5bc724b">carddata::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> stk500v2.c:111</div></div>
<div class="ttc" id="astk500v2_8c_html_a4e5d9040eb04ee53ea2dcb319043e0da"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a4e5d9040eb04ee53ea2dcb319043e0da">carddata::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition</b> stk500v2.c:110</div></div>
<div class="ttc" id="astk500v2_8c_html_d8/da6/structcarddata"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a></div><div class="ttdef"><b>Definition</b> stk500v2.c:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00110">carddata::id</a>, and <a class="el" href="../../#l00111">carddata::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>.</p>
<div id="dynsection-155" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-155-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-155-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-155-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a7cb94ad4aec74711dfe7335e0f5839d9_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa8f862d88ff9db1cdd95f2ae21755836" name="aa8f862d88ff9db1cdd95f2ae21755836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f862d88ff9db1cdd95f2ae21755836">&#9670;&#160;</a></span>stk600_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4668</span>{</div>
<div class="line"><span class="lineno"> 4669</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK600&quot;</span>);</div>
<div class="line"><span class="lineno"> 4670</span> </div>
<div class="line"><span class="lineno"> 4671</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4672</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4673</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4674</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a54506ae507321252bad19bed9a9416a3">stk500v2_initialize</a>;</div>
<div class="line"><span class="lineno"> 4675</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4676</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4677</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a>;</div>
<div class="line"><span class="lineno"> 4678</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4679</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4680</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a7a9574c193527210eafe66320cc25381">cmd</a>            = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a50215d5d75e0dad23582c3bed748cdc6">stk500v2_cmd</a>;</div>
<div class="line"><span class="lineno"> 4681</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abc8d7cb2ab91d7c5e739f94218bbaee5">stk600_open</a>;</div>
<div class="line"><span class="lineno"> 4682</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4683</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4684</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4685</span> </div>
<div class="line"><span class="lineno"> 4686</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4687</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4688</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4689</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4690</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4691</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4692</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4693</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9a4aaeb6ed0c785ed06322bb48cdbdf9">stk600_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4694</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9d1210deb4294dcb8cc2eae2141af688">stk600_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4695</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8935c7ba5d2a1e5b6fc08bd4c071cc77">stk600_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4696</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4697</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2f4bc46b992d82cbe839768e6b251826">perform_osccal</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab7713258e55c7d7b429e8d12cf1b5b4b">stk500v2_perform_osccal</a>;</div>
<div class="line"><span class="lineno"> 4698</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4699</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4700</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4701</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a8935c7ba5d2a1e5b6fc08bd4c071cc77"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a8935c7ba5d2a1e5b6fc08bd4c071cc77">stk600_set_fosc</a></div><div class="ttdeci">static int stk600_set_fosc(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3065</div></div>
<div class="ttc" id="astk500v2_8c_html_a9a4aaeb6ed0c785ed06322bb48cdbdf9"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a9a4aaeb6ed0c785ed06322bb48cdbdf9">stk600_set_vtarget</a></div><div class="ttdeci">static int stk600_set_vtarget(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:2977</div></div>
<div class="ttc" id="astk500v2_8c_html_a9d1210deb4294dcb8cc2eae2141af688"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a9d1210deb4294dcb8cc2eae2141af688">stk600_set_varef</a></div><div class="ttdeci">static int stk600_set_varef(PROGRAMMER *pgm, unsigned int chan, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3029</div></div>
<div class="ttc" id="astk500v2_8c_html_abc8d7cb2ab91d7c5e739f94218bbaee5"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#abc8d7cb2ab91d7c5e739f94218bbaee5">stk600_open</a></div><div class="ttdeci">static int stk600_open(PROGRAMMER *pgm, char *port)</div><div class="ttdef"><b>Definition</b> stk500v2.c:1709</div></div>
<div class="ttc" id="astk500v2_8c_html_ad6ffd7c3f0c88a91bb674e661c3ab14f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a></div><div class="ttdeci">static int stk600_set_sck_period(PROGRAMMER *pgm, double v)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3075</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00651">programmer_t::cmd</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00682">programmer_t::perform_osccal</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l00960">stk500v2_cmd()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l01285">stk500v2_initialize()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l03426">stk500v2_perform_osccal()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, <a class="el" href="../../#l03065">stk600_set_fosc()</a>, <a class="el" href="../../#l03075">stk600_set_sck_period()</a>, <a class="el" href="../../#l03029">stk600_set_varef()</a>, <a class="el" href="../../#l02977">stk600_set_vtarget()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-156" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-156-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-156-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-156-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aa8f862d88ff9db1cdd95f2ae21755836_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abc8d7cb2ab91d7c5e739f94218bbaee5" name="abc8d7cb2ab91d7c5e739f94218bbaee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8d7cb2ab91d7c5e739f94218bbaee5">&#9670;&#160;</a></span>stk600_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1710</span>{</div>
<div class="line"><span class="lineno"> 1711</span>  <span class="keyword">union </span><a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a> <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a> = { .<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ace7c0e41eddbd256a55d2ea9923b153f">baud</a> = 115200 };</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a96dd473db0b3d10bd43390cdacb00120">DEBUG</a>(<span class="stringliteral">&quot;STK500V2: stk600_open()\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1714</span> </div>
<div class="line"><span class="lineno"> 1715</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5eaf4d49b39f0c1824e7f7961bf97cd9">baudrate</a>)</div>
<div class="line"><span class="lineno"> 1716</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ace7c0e41eddbd256a55d2ea9923b153f">baud</a> = <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5eaf4d49b39f0c1824e7f7961bf97cd9">baudrate</a>;</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>  <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_UNKNOWN;</div>
<div class="line"><span class="lineno"> 1719</span> </div>
<div class="line"><span class="lineno"> 1720</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1721</span><span class="comment">   * If the port name starts with &quot;usb&quot;, divert the serial routines</span></div>
<div class="line"><span class="lineno"> 1722</span><span class="comment">   * to the USB ones.  The serial_open() function for USB overrides</span></div>
<div class="line"><span class="lineno"> 1723</span><span class="comment">   * the meaning of the &quot;baud&quot; parameter to be the USB device ID to</span></div>
<div class="line"><span class="lineno"> 1724</span><span class="comment">   * search for.</span></div>
<div class="line"><span class="lineno"> 1725</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1726</span>  <span class="keywordflow">if</span> (strncmp(port, <span class="stringliteral">&quot;usb&quot;</span>, 3) == 0) {</div>
<div class="line"><span class="lineno"> 1727</span><span class="preprocessor">#if defined(HAVE_LIBUSB)</span></div>
<div class="line"><span class="lineno"> 1728</span>    <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1b2f1811fb510851fbcf51d489f68283">serdev</a> = &amp;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a6150f0061b74a7e05f513062c9d5e60e">usb_serdev_frame</a>;</div>
<div class="line"><span class="lineno"> 1729</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.vid = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a10c018d24aedc70abe62284ef1e2dca2">USB_VENDOR_ATMEL</a>;</div>
<div class="line"><span class="lineno"> 1730</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.flags = 0;</div>
<div class="line"><span class="lineno"> 1731</span>    <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">usbinfo</a>.pid = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#acf7b66e90f20add5488991e80bd93f09">USB_DEVICE_STK600</a>;</div>
<div class="line"><span class="lineno"> 1732</span>    <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;pgmtype = PGMTYPE_STK600;</div>
<div class="line"><span class="lineno"> 1733</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 1734</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.max_xfer = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a7fb5a15f58a665d7492ea1639c3831e5">USBDEV_MAX_XFER_MKII</a>;</div>
<div class="line"><span class="lineno"> 1735</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.rep = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#a1c3ca3456d636b89fc23c6f424ba1822">USBDEV_BULK_EP_READ_STK600</a>;</div>
<div class="line"><span class="lineno"> 1736</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.wep = <a class="code hl_define" href="../../dc/dca/usbdevs_8h.html#ae77a84e04ed041e075e3dfe137a4622b">USBDEV_BULK_EP_WRITE_STK600</a>;</div>
<div class="line"><span class="lineno"> 1737</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>.<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">usb</a>.eep = 0;           <span class="comment">/* no seperate EP for events */</span></div>
<div class="line"><span class="lineno"> 1738</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1739</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;avrdude was compiled without usb support.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1740</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1741</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1742</span>  }</div>
<div class="line"><span class="lineno"> 1743</span> </div>
<div class="line"><span class="lineno"> 1744</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2d7124b78d19996c6e5735b4bd1f1e18">port</a>, port);</div>
<div class="line"><span class="lineno"> 1745</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a1b94603caed7e694d2613aa0d745fb5a">serial_open</a>(port, <a class="code hl_union" href="../../d2/d68/libavrdude_8h.html#db/d34/unionpinfo">pinfo</a>, &amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>)==-1) {</div>
<div class="line"><span class="lineno"> 1746</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1747</span>  }</div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1750</span><span class="comment">   * drain any extraneous input</span></div>
<div class="line"><span class="lineno"> 1751</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 1752</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, 0);</div>
<div class="line"><span class="lineno"> 1753</span> </div>
<div class="line"><span class="lineno"> 1754</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0c65811e2b906244f8278205f6567191">stk500v2_getsync</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>  <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a211093bc7f76b415d984f6d2b9f3884f">stk500v2_drain</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, 0);</div>
<div class="line"><span class="lineno"> 1757</span> </div>
<div class="line"><span class="lineno"> 1758</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5a5fc9245139c7ba118b8f28c85ddfa7">bitclock</a> != 0.0) {</div>
<div class="line"><span class="lineno"> 1759</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a5a5fc9245139c7ba118b8f28c85ddfa7">bitclock</a>) != 0) {</div>
<div class="line"><span class="lineno"> 1760</span>      <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a211e87f7bfdbfa94ddc09f45795d130d">serial_close</a>(&amp;<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a31d40bf02b8dac5484b4aa4e67759d7b">fd</a>);</div>
<div class="line"><span class="lineno"> 1761</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1762</span>    }</div>
<div class="line"><span class="lineno"> 1763</span>  }</div>
<div class="line"><span class="lineno"> 1764</span> </div>
<div class="line"><span class="lineno"> 1765</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1766</span>}</div>
<div class="ttc" id="ausbdevs_8h_html_a1c3ca3456d636b89fc23c6f424ba1822"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#a1c3ca3456d636b89fc23c6f424ba1822">USBDEV_BULK_EP_READ_STK600</a></div><div class="ttdeci">#define USBDEV_BULK_EP_READ_STK600</div><div class="ttdef"><b>Definition</b> usbdevs.h:66</div></div>
<div class="ttc" id="ausbdevs_8h_html_acf7b66e90f20add5488991e80bd93f09"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#acf7b66e90f20add5488991e80bd93f09">USB_DEVICE_STK600</a></div><div class="ttdeci">#define USB_DEVICE_STK600</div><div class="ttdef"><b>Definition</b> usbdevs.h:31</div></div>
<div class="ttc" id="ausbdevs_8h_html_ae77a84e04ed041e075e3dfe137a4622b"><div class="ttname"><a href="../../dc/dca/usbdevs_8h.html#ae77a84e04ed041e075e3dfe137a4622b">USBDEV_BULK_EP_WRITE_STK600</a></div><div class="ttdeci">#define USBDEV_BULK_EP_WRITE_STK600</div><div class="ttdef"><b>Definition</b> usbdevs.h:65</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00537">pinfo::baud</a>, <a class="el" href="../../#l00630">programmer_t::baudrate</a>, <a class="el" href="../../#l00635">programmer_t::bitclock</a>, <a class="el" href="../../#l00087">DEBUG</a>, <a class="el" href="../../#l00637">programmer_t::fd</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00620">programmer_t::port</a>, <a class="el" href="../../#l00562">serdev</a>, <a class="el" href="../../#l00576">serial_close</a>, <a class="el" href="../../#l00574">serial_open</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00530">stk500v2_drain()</a>, <a class="el" href="../../#l00749">stk500v2_getsync()</a>, <a class="el" href="../../#l03075">stk600_set_sck_period()</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#a4d27dec592bac3347793d517eb3acfc0">filedescriptor::usb</a>, <a class="el" href="../../#l00031">USB_DEVICE_STK600</a>, <a class="el" href="../../d2/d68/libavrdude_8h.html#a6150f0061b74a7e05f513062c9d5e60e">usb_serdev_frame</a>, <a class="el" href="../../#l00028">USB_VENDOR_ATMEL</a>, <a class="el" href="../../#l00066">USBDEV_BULK_EP_READ_STK600</a>, <a class="el" href="../../#l00065">USBDEV_BULK_EP_WRITE_STK600</a>, <a class="el" href="../../#l00062">USBDEV_MAX_XFER_MKII</a>, and <a class="el" href="../../d2/d68/libavrdude_8h.html#a7a032e79fdd0c74d78b30ea8f6286327">pinfo::usbinfo</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-157" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-157-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-157-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-157-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abc8d7cb2ab91d7c5e739f94218bbaee5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-158" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-158-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-158-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-158-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abc8d7cb2ab91d7c5e739f94218bbaee5_icgraph.svg" width="292" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8935c7ba5d2a1e5b6fc08bd4c071cc77" name="a8935c7ba5d2a1e5b6fc08bd4c071cc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8935c7ba5d2a1e5b6fc08bd4c071cc77">&#9670;&#160;</a></span>stk600_set_fosc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_set_fosc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3066</span>{</div>
<div class="line"><span class="lineno"> 3067</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> oct, dac;</div>
<div class="line"><span class="lineno"> 3068</span> </div>
<div class="line"><span class="lineno"> 3069</span>  oct = (unsigned)(1.443 * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(v / 1039.0));</div>
<div class="line"><span class="lineno"> 3070</span>  dac = (unsigned)(2048.0 - (2078.0 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(2, (<span class="keywordtype">double</span>)(10 + oct))) / v);</div>
<div class="line"><span class="lineno"> 3071</span> </div>
<div class="line"><span class="lineno"> 3072</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a890764e94df75f5b6a972b1a3e1a4778">PARAM2_CLOCK_CONF</a>, (oct &lt;&lt; 12) | (dac &lt;&lt; 2));</div>
<div class="line"><span class="lineno"> 3073</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a48e72df6412ca98881afcd657352a1d5"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const LogReturnType log() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:105</div></div>
<div class="ttc" id="astk500v2_8c_html_a673a23545d48a3e48d54e6d249fc926b"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a></div><div class="ttdeci">static int stk500v2_setparm2(PROGRAMMER *pgm, unsigned char parm, unsigned int value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3181</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00105">log()</a>, <a class="el" href="../../#l00212">PARAM2_CLOCK_CONF</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l03181">stk500v2_setparm2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-159" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-159-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-159-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-159-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8935c7ba5d2a1e5b6fc08bd4c071cc77_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-160" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-160-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-160-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-160-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8935c7ba5d2a1e5b6fc08bd4c071cc77_icgraph.svg" width="314" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad6ffd7c3f0c88a91bb674e661c3ab14f" name="ad6ffd7c3f0c88a91bb674e661c3ab14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ffd7c3f0c88a91bb674e661c3ab14f">&#9670;&#160;</a></span>stk600_set_sck_period()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_set_sck_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3076</span>{</div>
<div class="line"><span class="lineno"> 3077</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sck;</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>  sck = (unsigned)<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a63043b6807e8e10fb1adf4667e3664d2">ceil</a>((16e6 / (2 * 1.0 / v)) - 1);</div>
<div class="line"><span class="lineno"> 3080</span> </div>
<div class="line"><span class="lineno"> 3081</span>  <span class="keywordflow">if</span> (sck &gt;= 4096)</div>
<div class="line"><span class="lineno"> 3082</span>    sck = 4095;</div>
<div class="line"><span class="lineno"> 3083</span> </div>
<div class="line"><span class="lineno"> 3084</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a73c56f0af4e3022bf9fcbd28c3bc1046">PARAM2_SCK_DURATION</a>, sck);</div>
<div class="line"><span class="lineno"> 3085</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00402">ceil()</a>, <a class="el" href="../../#l00211">PARAM2_SCK_DURATION</a>, <a class="el" href="../../#l00192">pgm</a>, and <a class="el" href="../../#l03181">stk500v2_setparm2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-161" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-161-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-161-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-161-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ad6ffd7c3f0c88a91bb674e661c3ab14f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-162" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-162-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-162-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-162-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_ad6ffd7c3f0c88a91bb674e661c3ab14f_icgraph.svg" width="495" height="148"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9d1210deb4294dcb8cc2eae2141af688" name="a9d1210deb4294dcb8cc2eae2141af688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1210deb4294dcb8cc2eae2141af688">&#9670;&#160;</a></span>stk600_set_varef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_set_varef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3030</span>{</div>
<div class="line"><span class="lineno"> 3031</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> utarg;</div>
<div class="line"><span class="lineno"> 3032</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uaref;</div>
<div class="line"><span class="lineno"> 3033</span> </div>
<div class="line"><span class="lineno"> 3034</span>  uaref = (unsigned)((v + 0.0049) * 100);</div>
<div class="line"><span class="lineno"> 3035</span> </div>
<div class="line"><span class="lineno"> 3036</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94ee9de93b67ac9ac41dc6217dd62627">stk500v2_getparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a>, &amp;utarg) != 0) {</div>
<div class="line"><span class="lineno"> 3037</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_varef(): cannot obtain V[target]\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3038</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3039</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3040</span>  }</div>
<div class="line"><span class="lineno"> 3041</span> </div>
<div class="line"><span class="lineno"> 3042</span>  <span class="keywordflow">if</span> (uaref &gt; (<span class="keywordtype">unsigned</span>)utarg * 10) {</div>
<div class="line"><span class="lineno"> 3043</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_varef(): V[aref] must not be greater than &quot;</span></div>
<div class="line"><span class="lineno"> 3044</span>                    <span class="stringliteral">&quot;V[target] = %.1f\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3045</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, utarg / 10.0);</div>
<div class="line"><span class="lineno"> 3046</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3047</span>  }</div>
<div class="line"><span class="lineno"> 3048</span> </div>
<div class="line"><span class="lineno"> 3049</span>  <span class="keywordflow">switch</span> (chan)</div>
<div class="line"><span class="lineno"> 3050</span>  {</div>
<div class="line"><span class="lineno"> 3051</span>  <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 3052</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5a8dad1ecef2dffeb37142a15c883cb3">PARAM2_AREF0</a>, uaref);</div>
<div class="line"><span class="lineno"> 3053</span> </div>
<div class="line"><span class="lineno"> 3054</span>  <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 3055</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af0621c062c674a311ffddbf3afc81731">PARAM2_AREF1</a>, uaref);</div>
<div class="line"><span class="lineno"> 3056</span> </div>
<div class="line"><span class="lineno"> 3057</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3058</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_varef(): invalid channel %d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3059</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, chan);</div>
<div class="line"><span class="lineno"> 3060</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3061</span>  }</div>
<div class="line"><span class="lineno"> 3062</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00213">PARAM2_AREF0</a>, <a class="el" href="../../#l00214">PARAM2_AREF1</a>, <a class="el" href="../../#l00179">PARAM_VTARGET</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03110">stk500v2_getparm()</a>, and <a class="el" href="../../#l03181">stk500v2_setparm2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-163" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-163-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-163-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-163-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a9d1210deb4294dcb8cc2eae2141af688_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-164" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-164-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-164-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-164-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a9d1210deb4294dcb8cc2eae2141af688_icgraph.svg" width="318" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9a4aaeb6ed0c785ed06322bb48cdbdf9" name="a9a4aaeb6ed0c785ed06322bb48cdbdf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4aaeb6ed0c785ed06322bb48cdbdf9">&#9670;&#160;</a></span>stk600_set_vtarget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_set_vtarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2978</span>{</div>
<div class="line"><span class="lineno"> 2979</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> utarg;</div>
<div class="line"><span class="lineno"> 2980</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uaref;</div>
<div class="line"><span class="lineno"> 2981</span>  <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno"> 2982</span> </div>
<div class="line"><span class="lineno"> 2983</span>  utarg = (unsigned)((v + 0.049) * 10);</div>
<div class="line"><span class="lineno"> 2984</span> </div>
<div class="line"><span class="lineno"> 2985</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5a8dad1ecef2dffeb37142a15c883cb3">PARAM2_AREF0</a>, &amp;uaref) != 0) {</div>
<div class="line"><span class="lineno"> 2986</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): cannot obtain V[aref][0]\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2987</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 2988</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2989</span>  }</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>  <span class="keywordflow">if</span> (uaref &gt; (<span class="keywordtype">unsigned</span>)utarg * 10) {</div>
<div class="line"><span class="lineno"> 2992</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): reducing V[aref][0] from %.2f to %.1f\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2993</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, uaref / 100.0, v);</div>
<div class="line"><span class="lineno"> 2994</span>    uaref = 10 * (unsigned)utarg;</div>
<div class="line"><span class="lineno"> 2995</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5a8dad1ecef2dffeb37142a15c883cb3">PARAM2_AREF0</a>, uaref)</div>
<div class="line"><span class="lineno"> 2996</span>  != 0)</div>
<div class="line"><span class="lineno"> 2997</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2998</span>  }</div>
<div class="line"><span class="lineno"> 2999</span> </div>
<div class="line"><span class="lineno"> 3000</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2350c80031806d161f1159bc08ab6dfa">stk500v2_getparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af0621c062c674a311ffddbf3afc81731">PARAM2_AREF1</a>, &amp;uaref) != 0) {</div>
<div class="line"><span class="lineno"> 3001</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): cannot obtain V[aref][1]\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3002</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3003</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3004</span>  }</div>
<div class="line"><span class="lineno"> 3005</span> </div>
<div class="line"><span class="lineno"> 3006</span>  <span class="keywordflow">if</span> (uaref &gt; (<span class="keywordtype">unsigned</span>)utarg * 10) {</div>
<div class="line"><span class="lineno"> 3007</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk500v2_set_vtarget(): reducing V[aref][1] from %.2f to %.1f\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3008</span>                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, uaref / 100.0, v);</div>
<div class="line"><span class="lineno"> 3009</span>    uaref = 10 * (unsigned)utarg;</div>
<div class="line"><span class="lineno"> 3010</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a673a23545d48a3e48d54e6d249fc926b">stk500v2_setparm2</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#af0621c062c674a311ffddbf3afc81731">PARAM2_AREF1</a>, uaref)</div>
<div class="line"><span class="lineno"> 3011</span>  != 0)</div>
<div class="line"><span class="lineno"> 3012</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3013</span>  }</div>
<div class="line"><span class="lineno"> 3014</span> </div>
<div class="line"><span class="lineno"> 3015</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3016</span><span class="comment">   * Vtarget on the STK600 can only be adjusted while not being in</span></div>
<div class="line"><span class="lineno"> 3017</span><span class="comment">   * programming mode.</span></div>
<div class="line"><span class="lineno"> 3018</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 3019</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart)</div>
<div class="line"><span class="lineno"> 3020</span>      <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>);</div>
<div class="line"><span class="lineno"> 3021</span>  rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ac857a1e8d4dae82adf860fe224fa426d">stk500v2_setparm</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7267b15b9e21963c6a8f3d90517aa1d6">PARAM_VTARGET</a>, utarg);</div>
<div class="line"><span class="lineno"> 3022</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart)</div>
<div class="line"><span class="lineno"> 3023</span>      <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;lastpart);</div>
<div class="line"><span class="lineno"> 3024</span> </div>
<div class="line"><span class="lineno"> 3025</span>  <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno"> 3026</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00213">PARAM2_AREF0</a>, <a class="el" href="../../#l00214">PARAM2_AREF1</a>, <a class="el" href="../../#l00179">PARAM_VTARGET</a>, <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l03163">stk500v2_getparm2()</a>, <a class="el" href="../../#l03145">stk500v2_setparm()</a>, and <a class="el" href="../../#l03181">stk500v2_setparm2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04667">stk600_initpgm()</a>, <a class="el" href="../../#l04740">stk600hvsp_initpgm()</a>, and <a class="el" href="../../#l04705">stk600pp_initpgm()</a>.</p>
<div id="dynsection-165" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-165-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-165-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-165-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a9a4aaeb6ed0c785ed06322bb48cdbdf9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-166" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-166-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-166-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-166-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a9a4aaeb6ed0c785ed06322bb48cdbdf9_icgraph.svg" width="328" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a957316884e0ac5cbef8f1dd190518dd8" name="a957316884e0ac5cbef8f1dd190518dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957316884e0ac5cbef8f1dd190518dd8">&#9670;&#160;</a></span>stk600_setup_isp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600_setup_isp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4405</span>{</div>
<div class="line"><span class="lineno"> 4406</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afad7af644d38e218af2474541f7b0239">stk500v2_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4407</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3e878cf1728bc746fee4165b33aeed33">stk500v2_disable</a>;</div>
<div class="line"><span class="lineno"> 4408</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa3eee9d9400e08067da3754f2fcf9f2e">stk500isp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4409</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a635e1cc6cb2679b3eb01c50b9fe635c5">stk500isp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4410</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5d939c7598902be8862c7ab886e80b38">stk500v2_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4411</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#add1f9e8bbecf73ff68ddc8ab3788a7ea">stk500v2_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4412</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28a54649377f2d02df8245ccd23e0498">stk500v2_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4413</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ace36659adc57139c6922be5cd3f73250">stk500v2_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4414</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l01936">stk500isp_read_byte()</a>, <a class="el" href="../../#l02194">stk500isp_write_byte()</a>, <a class="el" href="../../#l01010">stk500v2_chip_erase()</a>, <a class="el" href="../../#l01567">stk500v2_disable()</a>, <a class="el" href="../../#l02758">stk500v2_page_erase()</a>, <a class="el" href="../../#l02567">stk500v2_paged_load()</a>, <a class="el" href="../../#l02298">stk500v2_paged_write()</a>, <a class="el" href="../../#l01127">stk500v2_program_enable()</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01285">stk500v2_initialize()</a>.</p>
<div id="dynsection-167" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-167-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-167-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-167-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a957316884e0ac5cbef8f1dd190518dd8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-168" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-168-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-168-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-168-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a957316884e0ac5cbef8f1dd190518dd8_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4f1eb402e5598f00bc9705009d350904" name="a4f1eb402e5598f00bc9705009d350904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1eb402e5598f00bc9705009d350904">&#9670;&#160;</a></span>stk600_setup_xprog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600_setup_xprog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4389</span>{</div>
<div class="line"><span class="lineno"> 4390</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a295e099fb0a86c37136cf410a6e58f1a">stk600_xprog_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4391</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afb858a557228dc767c206acd00b53f56">stk600_xprog_disable</a>;</div>
<div class="line"><span class="lineno"> 4392</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#af133090e6d3faa39e9fb6670362f5c02">stk600_xprog_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4393</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aaeffbd12d03580b37f3ff06e46424b17">stk600_xprog_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4394</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#acb0cd8346f44e9d24de5b11c0f0bdef2">stk600_xprog_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4395</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a5f1bb7f82de8ba0e94898146dc96bc97">stk600_xprog_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4396</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb014aab23c225c025bc9e9cf545bc1c">page_erase</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6812afec9a4b4ca82d2b05d38e49da79">stk600_xprog_page_erase</a>;</div>
<div class="line"><span class="lineno"> 4397</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4e6cf17f53b6db1041d5bc891c5156e4">stk600_xprog_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4398</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a295e099fb0a86c37136cf410a6e58f1a"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a295e099fb0a86c37136cf410a6e58f1a">stk600_xprog_program_enable</a></div><div class="ttdeci">static int stk600_xprog_program_enable(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3793</div></div>
<div class="ttc" id="astk500v2_8c_html_a4e6cf17f53b6db1041d5bc891c5156e4"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a4e6cf17f53b6db1041d5bc891c5156e4">stk600_xprog_chip_erase</a></div><div class="ttdeci">static int stk600_xprog_chip_erase(PROGRAMMER *pgm, AVRPART *p)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4320</div></div>
<div class="ttc" id="astk500v2_8c_html_a5f1bb7f82de8ba0e94898146dc96bc97"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a5f1bb7f82de8ba0e94898146dc96bc97">stk600_xprog_paged_write</a></div><div class="ttdeci">static int stk600_xprog_paged_write(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4145</div></div>
<div class="ttc" id="astk500v2_8c_html_a6812afec9a4b4ca82d2b05d38e49da79"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a6812afec9a4b4ca82d2b05d38e49da79">stk600_xprog_page_erase</a></div><div class="ttdeci">static int stk600_xprog_page_erase(PROGRAMMER *pgm, AVRPART *p, AVRMEM *m, unsigned int addr)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4349</div></div>
<div class="ttc" id="astk500v2_8c_html_aaeffbd12d03580b37f3ff06e46424b17"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#aaeffbd12d03580b37f3ff06e46424b17">stk600_xprog_write_byte</a></div><div class="ttdeci">static int stk600_xprog_write_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char data)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3916</div></div>
<div class="ttc" id="astk500v2_8c_html_acb0cd8346f44e9d24de5b11c0f0bdef2"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#acb0cd8346f44e9d24de5b11c0f0bdef2">stk600_xprog_paged_load</a></div><div class="ttdeci">static int stk600_xprog_paged_load(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned int page_size, unsigned int addr, unsigned int n_bytes)</div><div class="ttdef"><b>Definition</b> stk500v2.c:4045</div></div>
<div class="ttc" id="astk500v2_8c_html_af133090e6d3faa39e9fb6670362f5c02"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#af133090e6d3faa39e9fb6670362f5c02">stk600_xprog_read_byte</a></div><div class="ttdeci">static int stk600_xprog_read_byte(PROGRAMMER *pgm, AVRPART *p, AVRMEM *mem, unsigned long addr, unsigned char *value)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3997</div></div>
<div class="ttc" id="astk500v2_8c_html_afb858a557228dc767c206acd00b53f56"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#afb858a557228dc767c206acd00b53f56">stk600_xprog_disable</a></div><div class="ttdeci">static void stk600_xprog_disable(PROGRAMMER *pgm)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3905</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00665">programmer_t::page_erase</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l04320">stk600_xprog_chip_erase()</a>, <a class="el" href="../../#l03905">stk600_xprog_disable()</a>, <a class="el" href="../../#l04349">stk600_xprog_page_erase()</a>, <a class="el" href="../../#l04045">stk600_xprog_paged_load()</a>, <a class="el" href="../../#l04145">stk600_xprog_paged_write()</a>, <a class="el" href="../../#l03793">stk600_xprog_program_enable()</a>, <a class="el" href="../../#l03997">stk600_xprog_read_byte()</a>, <a class="el" href="../../#l03916">stk600_xprog_write_byte()</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01285">stk500v2_initialize()</a>.</p>
<div id="dynsection-169" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-169-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-169-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-169-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4f1eb402e5598f00bc9705009d350904_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-170" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-170-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-170-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-170-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4f1eb402e5598f00bc9705009d350904_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4e6cf17f53b6db1041d5bc891c5156e4" name="a4e6cf17f53b6db1041d5bc891c5156e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6cf17f53b6db1041d5bc891c5156e4">&#9670;&#160;</a></span>stk600_xprog_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_chip_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4321</span>{</div>
<div class="line"><span class="lineno"> 4322</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6];</div>
<div class="line"><span class="lineno"> 4323</span>    <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> *mem;</div>
<div class="line"><span class="lineno"> 4324</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> addr = 0;</div>
<div class="line"><span class="lineno"> 4325</span> </div>
<div class="line"><span class="lineno"> 4326</span>    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a>) {</div>
<div class="line"><span class="lineno"> 4327</span>        <span class="keywordflow">if</span> ((mem = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a>(p, <span class="stringliteral">&quot;flash&quot;</span>)) == NULL) {</div>
<div class="line"><span class="lineno"> 4328</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_chip_erase(): no FLASH definition found for TPI device\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4329</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4330</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4331</span>        }</div>
<div class="line"><span class="lineno"> 4332</span>        addr = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> + 1;</div>
<div class="line"><span class="lineno"> 4333</span>    }</div>
<div class="line"><span class="lineno"> 4334</span> </div>
<div class="line"><span class="lineno"> 4335</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7b53ad92991f273fba4052df7c955a16">XPRG_CMD_ERASE</a>;</div>
<div class="line"><span class="lineno"> 4336</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a3d32bd4776a99d4e392dc17f6a194270">XPRG_ERASE_CHIP</a>;</div>
<div class="line"><span class="lineno"> 4337</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = addr &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 4338</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = addr &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4339</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = addr &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4340</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = addr;</div>
<div class="line"><span class="lineno"> 4341</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 6, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4342</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_chip_erase(): XPRG_CMD_ERASE(XPRG_ERASE_CHIP) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4343</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4344</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4345</span>  }</div>
<div class="line"><span class="lineno"> 4346</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4347</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a6b664e34b74d32e4bb62e37cd796687a"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a></div><div class="ttdeci">static int stk600_xprog_command(PROGRAMMER *pgm, unsigned char *b, unsigned int cmdsize, unsigned int responsesize)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3759</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a3d32bd4776a99d4e392dc17f6a194270"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a3d32bd4776a99d4e392dc17f6a194270">XPRG_ERASE_CHIP</a></div><div class="ttdeci">#define XPRG_ERASE_CHIP</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:247</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7b53ad92991f273fba4052df7c955a16"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7b53ad92991f273fba4052df7c955a16">XPRG_CMD_ERASE</a></div><div class="ttdeci">#define XPRG_CMD_ERASE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:231</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00354">avr_locate_mem()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00206">AVRPART_HAS_TPI</a>, <a class="el" href="../../#l00230">avrpart::flags</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l00231">XPRG_CMD_ERASE</a>, and <a class="el" href="../../#l00247">XPRG_ERASE_CHIP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-171" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-171-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-171-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-171-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4e6cf17f53b6db1041d5bc891c5156e4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-172" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-172-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-172-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-172-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a4e6cf17f53b6db1041d5bc891c5156e4_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6b664e34b74d32e4bb62e37cd796687a" name="a6b664e34b74d32e4bb62e37cd796687a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b664e34b74d32e4bb62e37cd796687a">&#9670;&#160;</a></span>stk600_xprog_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmdsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>responsesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3761</span>{</div>
<div class="line"><span class="lineno"> 3762</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *newb;</div>
<div class="line"><span class="lineno"> 3763</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s;</div>
<div class="line"><span class="lineno"> 3764</span>    <span class="keywordtype">int</span> rv;</div>
<div class="line"><span class="lineno"> 3765</span> </div>
<div class="line"><span class="lineno"> 3766</span>    <span class="keywordflow">if</span> (cmdsize &lt; responsesize)</div>
<div class="line"><span class="lineno"> 3767</span>        s = responsesize;</div>
<div class="line"><span class="lineno"> 3768</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3769</span>        s = cmdsize;</div>
<div class="line"><span class="lineno"> 3770</span> </div>
<div class="line"><span class="lineno"> 3771</span>    <span class="keywordflow">if</span> ((newb = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(s + 1)) == 0) {</div>
<div class="line"><span class="lineno"> 3772</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_cmd(): out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3773</span>                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3774</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3775</span>    }</div>
<div class="line"><span class="lineno"> 3776</span> </div>
<div class="line"><span class="lineno"> 3777</span>    newb[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ae98ef51bda1e9c5d7a60491115b210d4">CMD_XPROG</a>;</div>
<div class="line"><span class="lineno"> 3778</span>    memcpy(newb + 1, b, cmdsize);</div>
<div class="line"><span class="lineno"> 3779</span>    rv = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, newb, cmdsize + 1, responsesize + 1);</div>
<div class="line"><span class="lineno"> 3780</span>    <span class="keywordflow">if</span> (rv == 0) {</div>
<div class="line"><span class="lineno"> 3781</span>        memcpy(b, newb + 1, responsesize);</div>
<div class="line"><span class="lineno"> 3782</span>    }</div>
<div class="line"><span class="lineno"> 3783</span> </div>
<div class="line"><span class="lineno"> 3784</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(newb);</div>
<div class="line"><span class="lineno"> 3785</span> </div>
<div class="line"><span class="lineno"> 3786</span>    <span class="keywordflow">return</span> rv;</div>
<div class="line"><span class="lineno"> 3787</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00089">CMD_XPROG</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00837">stk500v2_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04320">stk600_xprog_chip_erase()</a>, <a class="el" href="../../#l03905">stk600_xprog_disable()</a>, <a class="el" href="../../#l04349">stk600_xprog_page_erase()</a>, <a class="el" href="../../#l04045">stk600_xprog_paged_load()</a>, <a class="el" href="../../#l04145">stk600_xprog_paged_write()</a>, <a class="el" href="../../#l03793">stk600_xprog_program_enable()</a>, <a class="el" href="../../#l03997">stk600_xprog_read_byte()</a>, and <a class="el" href="../../#l03916">stk600_xprog_write_byte()</a>.</p>
<div id="dynsection-173" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-173-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-173-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-173-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6b664e34b74d32e4bb62e37cd796687a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-174" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-174-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-174-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-174-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6b664e34b74d32e4bb62e37cd796687a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afb858a557228dc767c206acd00b53f56" name="afb858a557228dc767c206acd00b53f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb858a557228dc767c206acd00b53f56">&#9670;&#160;</a></span>stk600_xprog_disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600_xprog_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3906</span>{</div>
<div class="line"><span class="lineno"> 3907</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[2];</div>
<div class="line"><span class="lineno"> 3908</span> </div>
<div class="line"><span class="lineno"> 3909</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a1261d983af59ca08580df63eb8752d43">XPRG_CMD_LEAVE_PROGMODE</a>;</div>
<div class="line"><span class="lineno"> 3910</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 1, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3911</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_disable(): XPRG_CMD_LEAVE_PROGMODE failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3912</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3913</span>    }</div>
<div class="line"><span class="lineno"> 3914</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_a1261d983af59ca08580df63eb8752d43"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a1261d983af59ca08580df63eb8752d43">XPRG_CMD_LEAVE_PROGMODE</a></div><div class="ttdeci">#define XPRG_CMD_LEAVE_PROGMODE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:230</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, and <a class="el" href="../../#l00230">XPRG_CMD_LEAVE_PROGMODE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-175" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-175-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-175-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-175-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afb858a557228dc767c206acd00b53f56_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-176" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-176-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-176-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-176-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_afb858a557228dc767c206acd00b53f56_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8ee0819d6989e4c4691c6f3ef7d4524f" name="a8ee0819d6989e4c4691c6f3ef7d4524f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee0819d6989e4c4691c6f3ef7d4524f">&#9670;&#160;</a></span>stk600_xprog_memtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned char stk600_xprog_memtype </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3897</span>{</div>
<div class="line"><span class="lineno"> 3898</span>    <span class="keywordflow">if</span> (addr &gt;= <a class="code hl_define" href="../../d9/d12/stk500v2_8c.html#a3ee902f4e72c2cd5b500d8f578f301ef">PDATA</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>)-&gt;boot_start)</div>
<div class="line"><span class="lineno"> 3899</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a>;</div>
<div class="line"><span class="lineno"> 3900</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3901</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 3902</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_ac19db3d415f491763a3ce09bd628f5ad"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_APPL</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:238</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac6336391d42ed4963e99b5094d90e0b8"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_BOOT</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:239</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00102">PDATA</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>, and <a class="el" href="../../#l00239">XPRG_MEM_TYPE_BOOT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04349">stk600_xprog_page_erase()</a>, <a class="el" href="../../#l04045">stk600_xprog_paged_load()</a>, <a class="el" href="../../#l04145">stk600_xprog_paged_write()</a>, <a class="el" href="../../#l03997">stk600_xprog_read_byte()</a>, and <a class="el" href="../../#l03916">stk600_xprog_write_byte()</a>.</p>
<div id="dynsection-177" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-177-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-177-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-177-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a8ee0819d6989e4c4691c6f3ef7d4524f_icgraph.svg" width="100%" height="487"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6812afec9a4b4ca82d2b05d38e49da79" name="a6812afec9a4b4ca82d2b05d38e49da79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6812afec9a4b4ca82d2b05d38e49da79">&#9670;&#160;</a></span>stk600_xprog_page_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_page_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4351</span>{</div>
<div class="line"><span class="lineno"> 4352</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6];</div>
<div class="line"><span class="lineno"> 4353</span> </div>
<div class="line"><span class="lineno"> 4354</span>    <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4355</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, addr) == <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>?</div>
<div class="line"><span class="lineno"> 4356</span>        <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ad9b225c30fa8549a1433d3b005e2b8d0">XPRG_ERASE_APP_PAGE</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7dbd6337e0480626c0050b78a25ad483">XPRG_ERASE_BOOT_PAGE</a>;</div>
<div class="line"><span class="lineno"> 4357</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;application&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 4358</span>               strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;apptable&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4359</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ad9b225c30fa8549a1433d3b005e2b8d0">XPRG_ERASE_APP_PAGE</a>;</div>
<div class="line"><span class="lineno"> 4360</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;boot&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4361</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7dbd6337e0480626c0050b78a25ad483">XPRG_ERASE_BOOT_PAGE</a>;</div>
<div class="line"><span class="lineno"> 4362</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4363</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa9d63259a9b9d68c98712eb5545301b3">XPRG_ERASE_EEPROM_PAGE</a>;</div>
<div class="line"><span class="lineno"> 4364</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;usersig&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4365</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afa6c3bd1a75018aea11188ebfc49c391">XPRG_ERASE_USERSIG</a>;</div>
<div class="line"><span class="lineno"> 4366</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4367</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_page_erase(): unknown paged memory \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4368</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 4369</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4370</span>    }</div>
<div class="line"><span class="lineno"> 4371</span>    addr += m-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 4372</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7b53ad92991f273fba4052df7c955a16">XPRG_CMD_ERASE</a>;</div>
<div class="line"><span class="lineno"> 4373</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = addr &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 4374</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = addr &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4375</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = addr &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4376</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = addr;</div>
<div class="line"><span class="lineno"> 4377</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 6, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4378</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_page_erase(): XPRG_CMD_ERASE(%d) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4379</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, b[1]);</div>
<div class="line"><span class="lineno"> 4380</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4381</span>  }</div>
<div class="line"><span class="lineno"> 4382</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4383</span>}</div>
<div class="ttc" id="astk500v2_8c_html_a8ee0819d6989e4c4691c6f3ef7d4524f"><div class="ttname"><a href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a></div><div class="ttdeci">static unsigned char stk600_xprog_memtype(PROGRAMMER *pgm, unsigned long addr)</div><div class="ttdef"><b>Definition</b> stk500v2.c:3896</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7dbd6337e0480626c0050b78a25ad483"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7dbd6337e0480626c0050b78a25ad483">XPRG_ERASE_BOOT_PAGE</a></div><div class="ttdeci">#define XPRG_ERASE_BOOT_PAGE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:252</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa9d63259a9b9d68c98712eb5545301b3"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa9d63259a9b9d68c98712eb5545301b3">XPRG_ERASE_EEPROM_PAGE</a></div><div class="ttdeci">#define XPRG_ERASE_EEPROM_PAGE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:253</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ad9b225c30fa8549a1433d3b005e2b8d0"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ad9b225c30fa8549a1433d3b005e2b8d0">XPRG_ERASE_APP_PAGE</a></div><div class="ttdeci">#define XPRG_ERASE_APP_PAGE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:251</div></div>
<div class="ttc" id="astk500v2__private_8h_html_afa6c3bd1a75018aea11188ebfc49c391"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#afa6c3bd1a75018aea11188ebfc49c391">XPRG_ERASE_USERSIG</a></div><div class="ttdeci">#define XPRG_ERASE_USERSIG</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:254</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l03896">stk600_xprog_memtype()</a>, <a class="el" href="../../#l00231">XPRG_CMD_ERASE</a>, <a class="el" href="../../#l00251">XPRG_ERASE_APP_PAGE</a>, <a class="el" href="../../#l00252">XPRG_ERASE_BOOT_PAGE</a>, <a class="el" href="../../#l00253">XPRG_ERASE_EEPROM_PAGE</a>, <a class="el" href="../../#l00254">XPRG_ERASE_USERSIG</a>, and <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-178" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-178-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-178-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-178-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6812afec9a4b4ca82d2b05d38e49da79_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-179" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-179-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-179-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-179-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a6812afec9a4b4ca82d2b05d38e49da79_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acb0cd8346f44e9d24de5b11c0f0bdef2" name="acb0cd8346f44e9d24de5b11c0f0bdef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0cd8346f44e9d24de5b11c0f0bdef2">&#9670;&#160;</a></span>stk600_xprog_paged_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_paged_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4048</span>{</div>
<div class="line"><span class="lineno"> 4049</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>;</div>
<div class="line"><span class="lineno"> 4050</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a>;</div>
<div class="line"><span class="lineno"> 4051</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> memtype;</div>
<div class="line"><span class="lineno"> 4052</span>    <span class="keywordtype">int</span> n_bytes_orig = n_bytes, dynamic_memtype = 0;</div>
<div class="line"><span class="lineno"> 4053</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 4054</span> </div>
<div class="line"><span class="lineno"> 4055</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4056</span><span class="comment">     * The XPROG read command supports at most 256 bytes in one</span></div>
<div class="line"><span class="lineno"> 4057</span><span class="comment">     * transfer.</span></div>
<div class="line"><span class="lineno"> 4058</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4059</span>    <span class="keywordflow">if</span> (page_size &gt; 256)</div>
<div class="line"><span class="lineno"> 4060</span>  page_size = 256;  <span class="comment">/* not really a page size anymore */</span></div>
<div class="line"><span class="lineno"> 4061</span> </div>
<div class="line"><span class="lineno"> 4062</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4063</span><span class="comment">     * Fancy offsets everywhere.</span></div>
<div class="line"><span class="lineno"> 4064</span><span class="comment">     * This is probably what AVR079 means when writing about the</span></div>
<div class="line"><span class="lineno"> 4065</span><span class="comment">     * &quot;TIF address space&quot;.</span></div>
<div class="line"><span class="lineno"> 4066</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4067</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4068</span>        memtype = 0;</div>
<div class="line"><span class="lineno"> 4069</span>        dynamic_memtype = 1;</div>
<div class="line"><span class="lineno"> 4070</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4071</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4072</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;application&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 4073</span>               strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;apptable&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4074</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4075</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4076</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4077</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;boot&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4078</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a>;</div>
<div class="line"><span class="lineno"> 4079</span>        <span class="comment">// Do we have to consider the total amount of flash</span></div>
<div class="line"><span class="lineno"> 4080</span>        <span class="comment">// instead to decide whether to use extended addressing?</span></div>
<div class="line"><span class="lineno"> 4081</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4082</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4083</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4084</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0b7a70be31715bcc35d2f66d91e06918">XPRG_MEM_TYPE_EEPROM</a>;</div>
<div class="line"><span class="lineno"> 4085</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;signature&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4086</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4087</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>, strlen(<span class="stringliteral">&quot;fuse&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4088</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a573b78ddd88028f0583af283824209f0">XPRG_MEM_TYPE_FUSE</a>;</div>
<div class="line"><span class="lineno"> 4089</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>, strlen(<span class="stringliteral">&quot;lock&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4090</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8fceca91bb13d726d6e99b1fd3e0f1f2">XPRG_MEM_TYPE_LOCKBITS</a>;</div>
<div class="line"><span class="lineno"> 4091</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;calibration&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4092</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac1eb311930d0bf4956740d48b6b0f364">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>;</div>
<div class="line"><span class="lineno"> 4093</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;usersig&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4094</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a511621aadf1291c24626312046c875cc">XPRG_MEM_TYPE_USERSIG</a>;</div>
<div class="line"><span class="lineno"> 4095</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4096</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_load(): unknown paged memory \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4097</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 4098</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4099</span>    }</div>
<div class="line"><span class="lineno"> 4100</span>    <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a> = addr;</div>
<div class="line"><span class="lineno"> 4101</span>    addr += mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 4102</span> </div>
<div class="line"><span class="lineno"> 4103</span>    <span class="keywordflow">if</span> ((b = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(page_size + 2)) == NULL) {</div>
<div class="line"><span class="lineno"> 4104</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_load(): out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4105</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4106</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4107</span>    }</div>
<div class="line"><span class="lineno"> 4108</span> </div>
<div class="line"><span class="lineno"> 4109</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4110</span>        <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4111</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4112</span>    }</div>
<div class="line"><span class="lineno"> 4113</span> </div>
<div class="line"><span class="lineno"> 4114</span>    <span class="keywordflow">while</span> (n_bytes != 0) {</div>
<div class="line"><span class="lineno"> 4115</span>  <span class="keywordflow">if</span> (dynamic_memtype)</div>
<div class="line"><span class="lineno"> 4116</span>      memtype = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, addr - mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>);</div>
<div class="line"><span class="lineno"> 4117</span> </div>
<div class="line"><span class="lineno"> 4118</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa08a7406658389188dc137ef4ef9451e">XPRG_CMD_READ_MEM</a>;</div>
<div class="line"><span class="lineno"> 4119</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = memtype;</div>
<div class="line"><span class="lineno"> 4120</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = addr &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 4121</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = addr &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4122</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = addr &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4123</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = addr;</div>
<div class="line"><span class="lineno"> 4124</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6] = page_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4125</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[7] = page_size;</div>
<div class="line"><span class="lineno"> 4126</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 8, page_size + 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4127</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_load(): XPRG_CMD_READ_MEM failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4128</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4129</span>      <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4130</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4131</span>  }</div>
<div class="line"><span class="lineno"> 4132</span>  memcpy(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + offset, b + 2, page_size);</div>
<div class="line"><span class="lineno"> 4133</span>  <span class="keywordflow">if</span> (n_bytes &lt; page_size) {</div>
<div class="line"><span class="lineno"> 4134</span>      n_bytes = page_size;</div>
<div class="line"><span class="lineno"> 4135</span>  }</div>
<div class="line"><span class="lineno"> 4136</span>  <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a> += page_size;</div>
<div class="line"><span class="lineno"> 4137</span>  addr += page_size;</div>
<div class="line"><span class="lineno"> 4138</span>  n_bytes -= page_size;</div>
<div class="line"><span class="lineno"> 4139</span>    }</div>
<div class="line"><span class="lineno"> 4140</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4141</span> </div>
<div class="line"><span class="lineno"> 4142</span>    <span class="keywordflow">return</span> n_bytes_orig;</div>
<div class="line"><span class="lineno"> 4143</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a66a16d993e92825c5b793b7d5bdd1a6e"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">avrmem::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> libavrdude.h:286</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ab29201ea713e88d9d709ae4fa8f2576f"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">libnest2d::shapelike::offset</a></div><div class="ttdeci">void offset(Slic3r::ExPolygon &amp;sh, coord_t distance, const PolygonTag &amp;)</div><div class="ttdef"><b>Definition</b> geometries.hpp:132</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a0b7a70be31715bcc35d2f66d91e06918"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a0b7a70be31715bcc35d2f66d91e06918">XPRG_MEM_TYPE_EEPROM</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_EEPROM</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:240</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a511621aadf1291c24626312046c875cc"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a511621aadf1291c24626312046c875cc">XPRG_MEM_TYPE_USERSIG</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_USERSIG</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:243</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a573b78ddd88028f0583af283824209f0"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a573b78ddd88028f0583af283824209f0">XPRG_MEM_TYPE_FUSE</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_FUSE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:241</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a8fceca91bb13d726d6e99b1fd3e0f1f2"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a8fceca91bb13d726d6e99b1fd3e0f1f2">XPRG_MEM_TYPE_LOCKBITS</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_LOCKBITS</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:242</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa08a7406658389188dc137ef4ef9451e"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa08a7406658389188dc137ef4ef9451e">XPRG_CMD_READ_MEM</a></div><div class="ttdeci">#define XPRG_CMD_READ_MEM</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:233</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ac1eb311930d0bf4956740d48b6b0f364"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ac1eb311930d0bf4956740d48b6b0f364">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a></div><div class="ttdeci">#define XPRG_MEM_TYPE_FACTORY_CALIBRATION</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:244</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00286">avrmem::size</a>, <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l03896">stk600_xprog_memtype()</a>, <a class="el" href="../../#l00233">XPRG_CMD_READ_MEM</a>, <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>, <a class="el" href="../../#l00239">XPRG_MEM_TYPE_BOOT</a>, <a class="el" href="../../#l00240">XPRG_MEM_TYPE_EEPROM</a>, <a class="el" href="../../#l00244">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>, <a class="el" href="../../#l00241">XPRG_MEM_TYPE_FUSE</a>, <a class="el" href="../../#l00242">XPRG_MEM_TYPE_LOCKBITS</a>, and <a class="el" href="../../#l00243">XPRG_MEM_TYPE_USERSIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-180" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-180-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-180-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-180-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_acb0cd8346f44e9d24de5b11c0f0bdef2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-181" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-181-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-181-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-181-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_acb0cd8346f44e9d24de5b11c0f0bdef2_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5f1bb7f82de8ba0e94898146dc96bc97" name="a5f1bb7f82de8ba0e94898146dc96bc97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1bb7f82de8ba0e94898146dc96bc97">&#9670;&#160;</a></span>stk600_xprog_paged_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_paged_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>page_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4148</span>{</div>
<div class="line"><span class="lineno"> 4149</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>;</div>
<div class="line"><span class="lineno"> 4150</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a>;</div>
<div class="line"><span class="lineno"> 4151</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> memtype;</div>
<div class="line"><span class="lineno"> 4152</span>    <span class="keywordtype">int</span> n_bytes_orig = n_bytes, dynamic_memtype = 0;</div>
<div class="line"><span class="lineno"> 4153</span>    <span class="keywordtype">size_t</span> writesize;</div>
<div class="line"><span class="lineno"> 4154</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> use_ext_addr = 0;</div>
<div class="line"><span class="lineno"> 4155</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> writemode;</div>
<div class="line"><span class="lineno"> 4156</span> </div>
<div class="line"><span class="lineno"> 4157</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4158</span><span class="comment">     * The XPROG read command supports at most 256 bytes in one</span></div>
<div class="line"><span class="lineno"> 4159</span><span class="comment">     * transfer.</span></div>
<div class="line"><span class="lineno"> 4160</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4161</span>    <span class="keywordflow">if</span> (page_size &gt; 512) {</div>
<div class="line"><span class="lineno"> 4162</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): cannot handle page size &gt; 512\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4163</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4164</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4165</span>    }</div>
<div class="line"><span class="lineno"> 4166</span> </div>
<div class="line"><span class="lineno"> 4167</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4168</span><span class="comment">     * Fancy offsets everywhere.</span></div>
<div class="line"><span class="lineno"> 4169</span><span class="comment">     * This is probably what AVR079 means when writing about the</span></div>
<div class="line"><span class="lineno"> 4170</span><span class="comment">     * &quot;TIF address space&quot;.</span></div>
<div class="line"><span class="lineno"> 4171</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4172</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4173</span>        memtype = 0;</div>
<div class="line"><span class="lineno"> 4174</span>        dynamic_memtype = 1;</div>
<div class="line"><span class="lineno"> 4175</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4176</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4177</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4178</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;application&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 4179</span>               strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;apptable&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4180</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4181</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4182</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4183</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4184</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;boot&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4185</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a>;</div>
<div class="line"><span class="lineno"> 4186</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4187</span>        <span class="comment">// Do we have to consider the total amount of flash</span></div>
<div class="line"><span class="lineno"> 4188</span>        <span class="comment">// instead to decide whether to use extended addressing?</span></div>
<div class="line"><span class="lineno"> 4189</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a66a16d993e92825c5b793b7d5bdd1a6e">size</a> &gt; 64 * 1024)</div>
<div class="line"><span class="lineno"> 4190</span>            use_ext_addr = (1UL &lt;&lt; 31);</div>
<div class="line"><span class="lineno"> 4191</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4192</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0b7a70be31715bcc35d2f66d91e06918">XPRG_MEM_TYPE_EEPROM</a>;</div>
<div class="line"><span class="lineno"> 4193</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>) | (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a6eff306c5cb17099f86860a0600a26a3">XPRG_MEM_WRITE_ERASE</a>);</div>
<div class="line"><span class="lineno"> 4194</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;signature&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4195</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4196</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4197</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>, strlen(<span class="stringliteral">&quot;fuse&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4198</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a573b78ddd88028f0583af283824209f0">XPRG_MEM_TYPE_FUSE</a>;</div>
<div class="line"><span class="lineno"> 4199</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4200</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>, strlen(<span class="stringliteral">&quot;lock&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4201</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8fceca91bb13d726d6e99b1fd3e0f1f2">XPRG_MEM_TYPE_LOCKBITS</a>;</div>
<div class="line"><span class="lineno"> 4202</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4203</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;calibration&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4204</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac1eb311930d0bf4956740d48b6b0f364">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>;</div>
<div class="line"><span class="lineno"> 4205</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4206</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;usersig&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4207</span>        memtype = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a511621aadf1291c24626312046c875cc">XPRG_MEM_TYPE_USERSIG</a>;</div>
<div class="line"><span class="lineno"> 4208</span>        writemode = (1 &lt;&lt; <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a>);</div>
<div class="line"><span class="lineno"> 4209</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4210</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): unknown paged memory \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4211</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 4212</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4213</span>    }</div>
<div class="line"><span class="lineno"> 4214</span>    <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a> = addr;</div>
<div class="line"><span class="lineno"> 4215</span>    addr += mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 4216</span> </div>
<div class="line"><span class="lineno"> 4217</span>    <span class="keywordflow">if</span> ((b = <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(page_size + 9)) == NULL) {</div>
<div class="line"><span class="lineno"> 4218</span>  <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): out of memory\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4219</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4220</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4221</span>    }</div>
<div class="line"><span class="lineno"> 4222</span> </div>
<div class="line"><span class="lineno"> 4223</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a81b208b49d476cfe95ca899a98f4400f">stk500v2_loadaddr</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, use_ext_addr) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4224</span>        <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4225</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4226</span>    }</div>
<div class="line"><span class="lineno"> 4227</span> </div>
<div class="line"><span class="lineno"> 4228</span>    <span class="keywordflow">while</span> (n_bytes != 0) {</div>
<div class="line"><span class="lineno"> 4229</span> </div>
<div class="line"><span class="lineno"> 4230</span>  <span class="keywordflow">if</span> (dynamic_memtype)</div>
<div class="line"><span class="lineno"> 4231</span>      memtype = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, addr - mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>);</div>
<div class="line"><span class="lineno"> 4232</span> </div>
<div class="line"><span class="lineno"> 4233</span>  <span class="keywordflow">if</span> (page_size &gt; 256) {</div>
<div class="line"><span class="lineno"> 4234</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4235</span><span class="comment">       * AVR079 is not quite clear.  While it suggests that</span></div>
<div class="line"><span class="lineno"> 4236</span><span class="comment">       * downloading up to 512 bytes (256 words) were OK, it</span></div>
<div class="line"><span class="lineno"> 4237</span><span class="comment">       * obviously isn&#39;t -- 512-byte pages on the ATxmega128A1</span></div>
<div class="line"><span class="lineno"> 4238</span><span class="comment">       * are getting corrupted when written as a single piece.</span></div>
<div class="line"><span class="lineno"> 4239</span><span class="comment">       * It writes random junk somewhere beyond byte 256.</span></div>
<div class="line"><span class="lineno"> 4240</span><span class="comment">       * Splitting it into 256 byte chunks, and only setting the</span></div>
<div class="line"><span class="lineno"> 4241</span><span class="comment">       * erase page / write page bits in the final chunk helps.</span></div>
<div class="line"><span class="lineno"> 4242</span><span class="comment">       */</span></div>
<div class="line"><span class="lineno"> 4243</span>      <span class="keywordflow">if</span> (page_size % 256 != 0) {</div>
<div class="line"><span class="lineno"> 4244</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): page size not multiple of 256\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4245</span>                                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4246</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4247</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4248</span>      }</div>
<div class="line"><span class="lineno"> 4249</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> chunk;</div>
<div class="line"><span class="lineno"> 4250</span>      <span class="keywordflow">for</span> (chunk = 0; chunk &lt; page_size; chunk += 256) {</div>
<div class="line"><span class="lineno"> 4251</span>                <span class="keywordflow">if</span> (n_bytes &lt; 256) {</div>
<div class="line"><span class="lineno"> 4252</span>                    memset(b + 9 + n_bytes, 0xff, 256 - n_bytes);</div>
<div class="line"><span class="lineno"> 4253</span>                    writesize = n_bytes;</div>
<div class="line"><span class="lineno"> 4254</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4255</span>                    writesize = 256;</div>
<div class="line"><span class="lineno"> 4256</span>                }</div>
<div class="line"><span class="lineno"> 4257</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ada32efa14b812062decb9796be09f62d">XPRG_CMD_WRITE_MEM</a>;</div>
<div class="line"><span class="lineno"> 4258</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = memtype;</div>
<div class="line"><span class="lineno"> 4259</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = writemode;</div>
<div class="line"><span class="lineno"> 4260</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = addr &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 4261</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = addr &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4262</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = addr &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4263</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6] = addr;</div>
<div class="line"><span class="lineno"> 4264</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[7] = 1;</div>
<div class="line"><span class="lineno"> 4265</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[8] = 0;</div>
<div class="line"><span class="lineno"> 4266</span>    memcpy(b + 9, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + offset, writesize);</div>
<div class="line"><span class="lineno"> 4267</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 256 + 9, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4268</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): XPRG_CMD_WRITE_MEM failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4269</span>                                    <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4270</span>        <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4271</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4272</span>    }</div>
<div class="line"><span class="lineno"> 4273</span>    <span class="keywordflow">if</span> (n_bytes &lt; 256)</div>
<div class="line"><span class="lineno"> 4274</span>        n_bytes = 256;</div>
<div class="line"><span class="lineno"> 4275</span> </div>
<div class="line"><span class="lineno"> 4276</span>    <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a> += 256;</div>
<div class="line"><span class="lineno"> 4277</span>    addr += 256;</div>
<div class="line"><span class="lineno"> 4278</span>    n_bytes -= 256;</div>
<div class="line"><span class="lineno"> 4279</span>      }</div>
<div class="line"><span class="lineno"> 4280</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4281</span>      <span class="keywordflow">if</span> (n_bytes &lt; page_size) {</div>
<div class="line"><span class="lineno"> 4282</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4283</span><span class="comment">     * This can easily happen if the input file was not a</span></div>
<div class="line"><span class="lineno"> 4284</span><span class="comment">     * multiple of the page size.</span></div>
<div class="line"><span class="lineno"> 4285</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 4286</span>    memset(b + 9 + n_bytes, 0xff, page_size - n_bytes);</div>
<div class="line"><span class="lineno"> 4287</span>                writesize = n_bytes;</div>
<div class="line"><span class="lineno"> 4288</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4289</span>                writesize = page_size;</div>
<div class="line"><span class="lineno"> 4290</span>            }</div>
<div class="line"><span class="lineno"> 4291</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ada32efa14b812062decb9796be09f62d">XPRG_CMD_WRITE_MEM</a>;</div>
<div class="line"><span class="lineno"> 4292</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = memtype;</div>
<div class="line"><span class="lineno"> 4293</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = writemode;</div>
<div class="line"><span class="lineno"> 4294</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = addr &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 4295</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = addr &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 4296</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = addr &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4297</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6] = addr;</div>
<div class="line"><span class="lineno"> 4298</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[7] = page_size &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 4299</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[8] = page_size;</div>
<div class="line"><span class="lineno"> 4300</span>      memcpy(b + 9, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a982cb446f63a0bc5d6c04fbadb5b498a">buf</a> + offset, writesize);</div>
<div class="line"><span class="lineno"> 4301</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, page_size + 9, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4302</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_paged_write(): XPRG_CMD_WRITE_MEM failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4303</span>                                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4304</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4305</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4306</span>      }</div>
<div class="line"><span class="lineno"> 4307</span>      <span class="keywordflow">if</span> (n_bytes &lt; page_size)</div>
<div class="line"><span class="lineno"> 4308</span>    n_bytes = page_size;</div>
<div class="line"><span class="lineno"> 4309</span> </div>
<div class="line"><span class="lineno"> 4310</span>      <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ab29201ea713e88d9d709ae4fa8f2576f">offset</a> += page_size;</div>
<div class="line"><span class="lineno"> 4311</span>      addr += page_size;</div>
<div class="line"><span class="lineno"> 4312</span>      n_bytes -= page_size;</div>
<div class="line"><span class="lineno"> 4313</span>  }</div>
<div class="line"><span class="lineno"> 4314</span>    }</div>
<div class="line"><span class="lineno"> 4315</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(b);</div>
<div class="line"><span class="lineno"> 4316</span> </div>
<div class="line"><span class="lineno"> 4317</span>    <span class="keywordflow">return</span> n_bytes_orig;</div>
<div class="line"><span class="lineno"> 4318</span>}</div>
<div class="ttc" id="astk500v2__private_8h_html_a6eff306c5cb17099f86860a0600a26a3"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a6eff306c5cb17099f86860a0600a26a3">XPRG_MEM_WRITE_ERASE</a></div><div class="ttdeci">#define XPRG_MEM_WRITE_ERASE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:258</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ada32efa14b812062decb9796be09f62d"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ada32efa14b812062decb9796be09f62d">XPRG_CMD_WRITE_MEM</a></div><div class="ttdeci">#define XPRG_CMD_WRITE_MEM</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:232</div></div>
<div class="ttc" id="astk500v2__private_8h_html_afc82226670a2013e7a8e76223781e2c1"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#afc82226670a2013e7a8e76223781e2c1">XPRG_MEM_WRITE_WRITE</a></div><div class="ttdeci">#define XPRG_MEM_WRITE_WRITE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:259</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00304">avrmem::buf</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00286">avrmem::size</a>, <a class="el" href="../../#l01778">stk500v2_loadaddr()</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l03896">stk600_xprog_memtype()</a>, <a class="el" href="../../#l00232">XPRG_CMD_WRITE_MEM</a>, <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>, <a class="el" href="../../#l00239">XPRG_MEM_TYPE_BOOT</a>, <a class="el" href="../../#l00240">XPRG_MEM_TYPE_EEPROM</a>, <a class="el" href="../../#l00244">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>, <a class="el" href="../../#l00241">XPRG_MEM_TYPE_FUSE</a>, <a class="el" href="../../#l00242">XPRG_MEM_TYPE_LOCKBITS</a>, <a class="el" href="../../#l00243">XPRG_MEM_TYPE_USERSIG</a>, <a class="el" href="../../#l00258">XPRG_MEM_WRITE_ERASE</a>, and <a class="el" href="../../#l00259">XPRG_MEM_WRITE_WRITE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-182" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-182-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-182-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-182-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5f1bb7f82de8ba0e94898146dc96bc97_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-183" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-183-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-183-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-183-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a5f1bb7f82de8ba0e94898146dc96bc97_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a295e099fb0a86c37136cf410a6e58f1a" name="a295e099fb0a86c37136cf410a6e58f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295e099fb0a86c37136cf410a6e58f1a">&#9670;&#160;</a></span>stk600_xprog_program_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_program_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3794</span>{</div>
<div class="line"><span class="lineno"> 3795</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[16];</div>
<div class="line"><span class="lineno"> 3796</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> eepagesize = 42;</div>
<div class="line"><span class="lineno"> 3797</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nvm_base;</div>
<div class="line"><span class="lineno"> 3798</span>    <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> *mem = NULL;</div>
<div class="line"><span class="lineno"> 3799</span>    <span class="keywordtype">int</span> use_tpi;</div>
<div class="line"><span class="lineno"> 3800</span> </div>
<div class="line"><span class="lineno"> 3801</span>    use_tpi = (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a>) != 0;</div>
<div class="line"><span class="lineno"> 3802</span> </div>
<div class="line"><span class="lineno"> 3803</span>    <span class="keywordflow">if</span> (!use_tpi) {</div>
<div class="line"><span class="lineno"> 3804</span>        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac5587f8fc30c7757cfaa8c980c8ed105">nvm_base</a> == 0) {</div>
<div class="line"><span class="lineno"> 3805</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): no nvm_base parameter for PDI device\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3806</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3807</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3808</span>        }</div>
<div class="line"><span class="lineno"> 3809</span>        <span class="keywordflow">if</span> ((mem = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a>(p, <span class="stringliteral">&quot;eeprom&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 3810</span>            <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a> == 0) {</div>
<div class="line"><span class="lineno"> 3811</span>                <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): no EEPROM page_size parameter for PDI device\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3812</span>                                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3813</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3814</span>            }</div>
<div class="line"><span class="lineno"> 3815</span>            eepagesize = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a9d797017271ffa71a1e3e5729ba56711">page_size</a>;</div>
<div class="line"><span class="lineno"> 3816</span>        }</div>
<div class="line"><span class="lineno"> 3817</span>    }</div>
<div class="line"><span class="lineno"> 3818</span> </div>
<div class="line"><span class="lineno"> 3819</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a661052a1a31f4e507290988c69c0d962">CMD_XPROG_SETMODE</a>;</div>
<div class="line"><span class="lineno"> 3820</span>    buf[1] = use_tpi? <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a1bd6a5b93e6fcf92127bd71962a3bbd9">XPRG_MODE_TPI</a>: <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2a0b3f23c6a73914f8a7097981bdb97c">XPRG_MODE_PDI</a>;</div>
<div class="line"><span class="lineno"> 3821</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8bb7c2e6a6df9a5f5bcc5575dffb0c93">stk500v2_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 2, <span class="keyword">sizeof</span>(buf)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3822</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): CMD_XPROG_SETMODE(XPRG_MODE_%s) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3823</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, use_tpi? <span class="stringliteral">&quot;TPI&quot;</span>: <span class="stringliteral">&quot;PDI&quot;</span>);</div>
<div class="line"><span class="lineno"> 3824</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3825</span>    }</div>
<div class="line"><span class="lineno"> 3826</span> </div>
<div class="line"><span class="lineno"> 3827</span>    buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ad18bbae46996811f54fa3fc8a7930518">XPRG_CMD_ENTER_PROGMODE</a>;</div>
<div class="line"><span class="lineno"> 3828</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 1, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3829</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): XPRG_CMD_ENTER_PROGMODE failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3830</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3831</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3832</span>    }</div>
<div class="line"><span class="lineno"> 3833</span> </div>
<div class="line"><span class="lineno"> 3834</span>    <span class="keywordflow">if</span> (use_tpi) {</div>
<div class="line"><span class="lineno"> 3835</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3836</span><span class="comment">         * Whatever all that might mean, it matches what AVR Studio</span></div>
<div class="line"><span class="lineno"> 3837</span><span class="comment">         * does.</span></div>
<div class="line"><span class="lineno"> 3838</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 3839</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a2192c55d93eb96256f6077e5320544b3">stk500v2_setparm_real</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa5252864b698edb3755ada99515d4298">PARAM_DISCHARGEDELAY</a>, 232) &lt; 0)</div>
<div class="line"><span class="lineno"> 3840</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3841</span> </div>
<div class="line"><span class="lineno"> 3842</span>        buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a54bb3eb713d2ea7d5c07aa811d1363dc">XPRG_CMD_SET_PARAM</a>;</div>
<div class="line"><span class="lineno"> 3843</span>        buf[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a2e932f6778c10a8546ae4029f7f85421">XPRG_PARAM_TPI_3</a>;</div>
<div class="line"><span class="lineno"> 3844</span>        buf[2] = 51;</div>
<div class="line"><span class="lineno"> 3845</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3846</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): XPRG_CMD_SET_PARAM(XPRG_PARAM_TPI_3) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3847</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3848</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3849</span>        }</div>
<div class="line"><span class="lineno"> 3850</span> </div>
<div class="line"><span class="lineno"> 3851</span>        buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a54bb3eb713d2ea7d5c07aa811d1363dc">XPRG_CMD_SET_PARAM</a>;</div>
<div class="line"><span class="lineno"> 3852</span>        buf[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a6ad0c78d524442cf5ba46b62cad87546">XPRG_PARAM_TPI_4</a>;</div>
<div class="line"><span class="lineno"> 3853</span>        buf[2] = 50;</div>
<div class="line"><span class="lineno"> 3854</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 3, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3855</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): XPRG_CMD_SET_PARAM(XPRG_PARAM_TPI_4) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3856</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3857</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3858</span>        }</div>
<div class="line"><span class="lineno"> 3859</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3860</span>        buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a54bb3eb713d2ea7d5c07aa811d1363dc">XPRG_CMD_SET_PARAM</a>;</div>
<div class="line"><span class="lineno"> 3861</span>        buf[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a5349856d39508ad04121edb830aebfe6">XPRG_PARAM_NVMBASE</a>;</div>
<div class="line"><span class="lineno"> 3862</span>        nvm_base = p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ac5587f8fc30c7757cfaa8c980c8ed105">nvm_base</a>;</div>
<div class="line"><span class="lineno"> 3863</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3864</span><span class="comment">         * The 0x01000000 appears to be an indication to the programmer</span></div>
<div class="line"><span class="lineno"> 3865</span><span class="comment">         * that the respective address is located in IO (i.e., SRAM)</span></div>
<div class="line"><span class="lineno"> 3866</span><span class="comment">         * memory address space rather than flash.  This is not documented</span></div>
<div class="line"><span class="lineno"> 3867</span><span class="comment">         * anywhere in AVR079 but matches what AVR Studio does.</span></div>
<div class="line"><span class="lineno"> 3868</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 3869</span>        nvm_base |= 0x01000000;</div>
<div class="line"><span class="lineno"> 3870</span>        buf[2] = nvm_base &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 3871</span>        buf[3] = nvm_base &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 3872</span>        buf[4] = nvm_base &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 3873</span>        buf[5] = nvm_base;</div>
<div class="line"><span class="lineno"> 3874</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 6, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3875</span>            <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): XPRG_CMD_SET_PARAM(XPRG_PARAM_NVMBASE) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3876</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3877</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3878</span>        }</div>
<div class="line"><span class="lineno"> 3879</span> </div>
<div class="line"><span class="lineno"> 3880</span>        <span class="keywordflow">if</span> (mem != NULL) {</div>
<div class="line"><span class="lineno"> 3881</span>            buf[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a54bb3eb713d2ea7d5c07aa811d1363dc">XPRG_CMD_SET_PARAM</a>;</div>
<div class="line"><span class="lineno"> 3882</span>            buf[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#afba41d27152f04f5be068ef1b4601585">XPRG_PARAM_EEPPAGESIZE</a>;</div>
<div class="line"><span class="lineno"> 3883</span>            buf[2] = eepagesize &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 3884</span>            buf[3] = eepagesize;</div>
<div class="line"><span class="lineno"> 3885</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, buf, 4, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3886</span>                <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_program_enable(): XPRG_CMD_SET_PARAM(XPRG_PARAM_EEPPAGESIZE) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3887</span>                                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3888</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3889</span>            }</div>
<div class="line"><span class="lineno"> 3890</span>        }</div>
<div class="line"><span class="lineno"> 3891</span>    }</div>
<div class="line"><span class="lineno"> 3892</span> </div>
<div class="line"><span class="lineno"> 3893</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3894</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_ac5587f8fc30c7757cfaa8c980c8ed105"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ac5587f8fc30c7757cfaa8c980c8ed105">avrpart::nvm_base</a></div><div class="ttdeci">unsigned int nvm_base</div><div class="ttdef"><b>Definition</b> libavrdude.h:272</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a1bd6a5b93e6fcf92127bd71962a3bbd9"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a1bd6a5b93e6fcf92127bd71962a3bbd9">XPRG_MODE_TPI</a></div><div class="ttdeci">#define XPRG_MODE_TPI</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:226</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2a0b3f23c6a73914f8a7097981bdb97c"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2a0b3f23c6a73914f8a7097981bdb97c">XPRG_MODE_PDI</a></div><div class="ttdeci">#define XPRG_MODE_PDI</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:224</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a2e932f6778c10a8546ae4029f7f85421"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a2e932f6778c10a8546ae4029f7f85421">XPRG_PARAM_TPI_3</a></div><div class="ttdeci">#define XPRG_PARAM_TPI_3</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:278</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a5349856d39508ad04121edb830aebfe6"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a5349856d39508ad04121edb830aebfe6">XPRG_PARAM_NVMBASE</a></div><div class="ttdeci">#define XPRG_PARAM_NVMBASE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:274</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a54bb3eb713d2ea7d5c07aa811d1363dc"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a54bb3eb713d2ea7d5c07aa811d1363dc">XPRG_CMD_SET_PARAM</a></div><div class="ttdeci">#define XPRG_CMD_SET_PARAM</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:235</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a6ad0c78d524442cf5ba46b62cad87546"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a6ad0c78d524442cf5ba46b62cad87546">XPRG_PARAM_TPI_4</a></div><div class="ttdeci">#define XPRG_PARAM_TPI_4</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:280</div></div>
<div class="ttc" id="astk500v2__private_8h_html_aa5252864b698edb3755ada99515d4298"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#aa5252864b698edb3755ada99515d4298">PARAM_DISCHARGEDELAY</a></div><div class="ttdeci">#define PARAM_DISCHARGEDELAY</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:192</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ad18bbae46996811f54fa3fc8a7930518"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ad18bbae46996811f54fa3fc8a7930518">XPRG_CMD_ENTER_PROGMODE</a></div><div class="ttdeci">#define XPRG_CMD_ENTER_PROGMODE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:229</div></div>
<div class="ttc" id="astk500v2__private_8h_html_afba41d27152f04f5be068ef1b4601585"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#afba41d27152f04f5be068ef1b4601585">XPRG_PARAM_EEPPAGESIZE</a></div><div class="ttdeci">#define XPRG_PARAM_EEPPAGESIZE</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:276</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00354">avr_locate_mem()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00206">AVRPART_HAS_TPI</a>, <a class="el" href="../../#l00090">CMD_XPROG_SETMODE</a>, <a class="el" href="../../#l00230">avrpart::flags</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00272">avrpart::nvm_base</a>, <a class="el" href="../../#l00287">avrmem::page_size</a>, <a class="el" href="../../#l00192">PARAM_DISCHARGEDELAY</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00837">stk500v2_command()</a>, <a class="el" href="../../#l03128">stk500v2_setparm_real()</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l00229">XPRG_CMD_ENTER_PROGMODE</a>, <a class="el" href="../../#l00235">XPRG_CMD_SET_PARAM</a>, <a class="el" href="../../#l00224">XPRG_MODE_PDI</a>, <a class="el" href="../../#l00226">XPRG_MODE_TPI</a>, <a class="el" href="../../#l00276">XPRG_PARAM_EEPPAGESIZE</a>, <a class="el" href="../../#l00274">XPRG_PARAM_NVMBASE</a>, <a class="el" href="../../#l00278">XPRG_PARAM_TPI_3</a>, and <a class="el" href="../../#l00280">XPRG_PARAM_TPI_4</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-184" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-184-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-184-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-184-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a295e099fb0a86c37136cf410a6e58f1a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-185" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-185-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-185-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-185-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a295e099fb0a86c37136cf410a6e58f1a_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af133090e6d3faa39e9fb6670362f5c02" name="af133090e6d3faa39e9fb6670362f5c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af133090e6d3faa39e9fb6670362f5c02">&#9670;&#160;</a></span>stk600_xprog_read_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_read_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3999</span>{</div>
<div class="line"><span class="lineno"> 4000</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[8];</div>
<div class="line"><span class="lineno"> 4001</span> </div>
<div class="line"><span class="lineno"> 4002</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4003</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, addr);</div>
<div class="line"><span class="lineno"> 4004</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;application&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 4005</span>               strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;apptable&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4006</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4007</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;boot&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4008</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a>;</div>
<div class="line"><span class="lineno"> 4009</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4010</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0b7a70be31715bcc35d2f66d91e06918">XPRG_MEM_TYPE_EEPROM</a>;</div>
<div class="line"><span class="lineno"> 4011</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;signature&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4012</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 4013</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>, strlen(<span class="stringliteral">&quot;fuse&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4014</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a573b78ddd88028f0583af283824209f0">XPRG_MEM_TYPE_FUSE</a>;</div>
<div class="line"><span class="lineno"> 4015</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>, strlen(<span class="stringliteral">&quot;lock&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 4016</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8fceca91bb13d726d6e99b1fd3e0f1f2">XPRG_MEM_TYPE_LOCKBITS</a>;</div>
<div class="line"><span class="lineno"> 4017</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;calibration&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4018</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac1eb311930d0bf4956740d48b6b0f364">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>;</div>
<div class="line"><span class="lineno"> 4019</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;usersig&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 4020</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a511621aadf1291c24626312046c875cc">XPRG_MEM_TYPE_USERSIG</a>;</div>
<div class="line"><span class="lineno"> 4021</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 4022</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_read_byte(): unknown memory \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4023</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 4024</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4025</span>    }</div>
<div class="line"><span class="lineno"> 4026</span>    addr += mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 4027</span> </div>
<div class="line"><span class="lineno"> 4028</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#aa08a7406658389188dc137ef4ef9451e">XPRG_CMD_READ_MEM</a>;</div>
<div class="line"><span class="lineno"> 4029</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = (char)(addr &gt;&gt; 24);</div>
<div class="line"><span class="lineno"> 4030</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = (char)(addr &gt;&gt; 16);</div>
<div class="line"><span class="lineno"> 4031</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = (char)(addr &gt;&gt; 8);</div>
<div class="line"><span class="lineno"> 4032</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = (char)addr;</div>
<div class="line"><span class="lineno"> 4033</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6] = 0;</div>
<div class="line"><span class="lineno"> 4034</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[7] = 1;</div>
<div class="line"><span class="lineno"> 4035</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 8, 3) &lt; 0) {</div>
<div class="line"><span class="lineno"> 4036</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_read_byte(): XPRG_CMD_READ_MEM failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 4037</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 4038</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 4039</span>    }</div>
<div class="line"><span class="lineno"> 4040</span>    *value = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2];</div>
<div class="line"><span class="lineno"> 4041</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 4042</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l03896">stk600_xprog_memtype()</a>, <a class="el" href="../../#l00233">XPRG_CMD_READ_MEM</a>, <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>, <a class="el" href="../../#l00239">XPRG_MEM_TYPE_BOOT</a>, <a class="el" href="../../#l00240">XPRG_MEM_TYPE_EEPROM</a>, <a class="el" href="../../#l00244">XPRG_MEM_TYPE_FACTORY_CALIBRATION</a>, <a class="el" href="../../#l00241">XPRG_MEM_TYPE_FUSE</a>, <a class="el" href="../../#l00242">XPRG_MEM_TYPE_LOCKBITS</a>, and <a class="el" href="../../#l00243">XPRG_MEM_TYPE_USERSIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-186" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-186-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-186-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-186-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_af133090e6d3faa39e9fb6670362f5c02_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-187" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-187-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-187-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-187-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_af133090e6d3faa39e9fb6670362f5c02_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaeffbd12d03580b37f3ff06e46424b17" name="aaeffbd12d03580b37f3ff06e46424b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeffbd12d03580b37f3ff06e46424b17">&#9670;&#160;</a></span>stk600_xprog_write_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int stk600_xprog_write_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ad20cf2afe340ad8c47dc12de7f93eaba">AVRPART</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0c22df11bc2acba2fcf6be7181a9f0d8">AVRMEM</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3918</span>{</div>
<div class="line"><span class="lineno"> 3919</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[9 + 256];</div>
<div class="line"><span class="lineno"> 3920</span>    <span class="keywordtype">int</span> need_erase = 0;</div>
<div class="line"><span class="lineno"> 3921</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> write_size = 1;</div>
<div class="line"><span class="lineno"> 3922</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> memcode;</div>
<div class="line"><span class="lineno"> 3923</span> </div>
<div class="line"><span class="lineno"> 3924</span>    memset(b, 0, <span class="keyword">sizeof</span>(b));</div>
<div class="line"><span class="lineno"> 3925</span> </div>
<div class="line"><span class="lineno"> 3926</span>    <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;flash&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3927</span>        memcode = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8ee0819d6989e4c4691c6f3ef7d4524f">stk600_xprog_memtype</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, addr);</div>
<div class="line"><span class="lineno"> 3928</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;application&quot;</span>) == 0 ||</div>
<div class="line"><span class="lineno"> 3929</span>               strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;apptable&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3930</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac19db3d415f491763a3ce09bd628f5ad">XPRG_MEM_TYPE_APPL</a>;</div>
<div class="line"><span class="lineno"> 3931</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;boot&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3932</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ac6336391d42ed4963e99b5094d90e0b8">XPRG_MEM_TYPE_BOOT</a>;</div>
<div class="line"><span class="lineno"> 3933</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;eeprom&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3934</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a0b7a70be31715bcc35d2f66d91e06918">XPRG_MEM_TYPE_EEPROM</a>;</div>
<div class="line"><span class="lineno"> 3935</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;lock&quot;</span>, strlen(<span class="stringliteral">&quot;lock&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 3936</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a8fceca91bb13d726d6e99b1fd3e0f1f2">XPRG_MEM_TYPE_LOCKBITS</a>;</div>
<div class="line"><span class="lineno"> 3937</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;fuse&quot;</span>, strlen(<span class="stringliteral">&quot;fuse&quot;</span>)) == 0) {</div>
<div class="line"><span class="lineno"> 3938</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a573b78ddd88028f0583af283824209f0">XPRG_MEM_TYPE_FUSE</a>;</div>
<div class="line"><span class="lineno"> 3939</span>        <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a>)</div>
<div class="line"><span class="lineno"> 3940</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3941</span><span class="comment">             * TPI devices need a mystic erase prior to writing their</span></div>
<div class="line"><span class="lineno"> 3942</span><span class="comment">             * fuses.</span></div>
<div class="line"><span class="lineno"> 3943</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 3944</span>            need_erase = 1;</div>
<div class="line"><span class="lineno"> 3945</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>, <span class="stringliteral">&quot;usersig&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 3946</span>        memcode = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a511621aadf1291c24626312046c875cc">XPRG_MEM_TYPE_USERSIG</a>;</div>
<div class="line"><span class="lineno"> 3947</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3948</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_write_byte(): unknown memory \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3949</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#af2f1a258ab710d32c8dad8ca1e471ebf">desc</a>);</div>
<div class="line"><span class="lineno"> 3950</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3951</span>    }</div>
<div class="line"><span class="lineno"> 3952</span>    addr += mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a>;</div>
<div class="line"><span class="lineno"> 3953</span> </div>
<div class="line"><span class="lineno"> 3954</span>    <span class="keywordflow">if</span> (need_erase) {</div>
<div class="line"><span class="lineno"> 3955</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7b53ad92991f273fba4052df7c955a16">XPRG_CMD_ERASE</a>;</div>
<div class="line"><span class="lineno"> 3956</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab81a880bb44dd719397f56e32b1a2ea5">XPRG_ERASE_CONFIG</a>;</div>
<div class="line"><span class="lineno"> 3957</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> &gt;&gt; 24;</div>
<div class="line"><span class="lineno"> 3958</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> &gt;&gt; 16;</div>
<div class="line"><span class="lineno"> 3959</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> &gt;&gt; 8;</div>
<div class="line"><span class="lineno"> 3960</span>        <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a7c9d56fb994e9e076cb9fa66176c50a2">offset</a> + 1;</div>
<div class="line"><span class="lineno"> 3961</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 6, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3962</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_chip_erase(): XPRG_CMD_ERASE(XPRG_ERASE_CONFIG) failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3963</span>                            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3964</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3965</span>  }</div>
<div class="line"><span class="lineno"> 3966</span>    }</div>
<div class="line"><span class="lineno"> 3967</span> </div>
<div class="line"><span class="lineno"> 3968</span>    <span class="keywordflow">if</span> (p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ac85e70affa25042bcd660bd18e8f1ab8">AVRPART_HAS_TPI</a>) {</div>
<div class="line"><span class="lineno"> 3969</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3970</span><span class="comment">         * Some TPI memories (configuration aka. fuse) require a</span></div>
<div class="line"><span class="lineno"> 3971</span><span class="comment">         * larger write block size.  We record that as a blocksize in</span></div>
<div class="line"><span class="lineno"> 3972</span><span class="comment">         * avrdude.conf.</span></div>
<div class="line"><span class="lineno"> 3973</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 3974</span>        <span class="keywordflow">if</span> (mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a3a373e44a4c128ee2c31f81d809d4080">blocksize</a> != 0)</div>
<div class="line"><span class="lineno"> 3975</span>            write_size = mem-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a3a373e44a4c128ee2c31f81d809d4080">blocksize</a>;</div>
<div class="line"><span class="lineno"> 3976</span>    }</div>
<div class="line"><span class="lineno"> 3977</span> </div>
<div class="line"><span class="lineno"> 3978</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[0] = <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ada32efa14b812062decb9796be09f62d">XPRG_CMD_WRITE_MEM</a>;</div>
<div class="line"><span class="lineno"> 3979</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[1] = memcode;</div>
<div class="line"><span class="lineno"> 3980</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[2] = 0;     <span class="comment">/* pagemode: non-paged write */</span></div>
<div class="line"><span class="lineno"> 3981</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[3] = (char)(addr &gt;&gt; 24);</div>
<div class="line"><span class="lineno"> 3982</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[4] = (char)(addr &gt;&gt; 16);</div>
<div class="line"><span class="lineno"> 3983</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[5] = (char)(addr &gt;&gt; 8);</div>
<div class="line"><span class="lineno"> 3984</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[6] = (char)addr;</div>
<div class="line"><span class="lineno"> 3985</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[7] = 0;</div>
<div class="line"><span class="lineno"> 3986</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[8] = write_size;</div>
<div class="line"><span class="lineno"> 3987</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>[9] = <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#ada90c89c458a0d53c483e767de7b7701">data</a>;</div>
<div class="line"><span class="lineno"> 3988</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6b664e34b74d32e4bb62e37cd796687a">stk600_xprog_command</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, b, 9 + write_size, 2) &lt; 0) {</div>
<div class="line"><span class="lineno"> 3989</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: stk600_xprog_write_byte(): XPRG_CMD_WRITE_MEM failed\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 3990</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno"> 3991</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 3992</span>    }</div>
<div class="line"><span class="lineno"> 3993</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 3994</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_a3a373e44a4c128ee2c31f81d809d4080"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a3a373e44a4c128ee2c31f81d809d4080">avrmem::blocksize</a></div><div class="ttdeci">int blocksize</div><div class="ttdef"><b>Definition</b> libavrdude.h:300</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ab81a880bb44dd719397f56e32b1a2ea5"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ab81a880bb44dd719397f56e32b1a2ea5">XPRG_ERASE_CONFIG</a></div><div class="ttdeci">#define XPRG_ERASE_CONFIG</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:255</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00206">AVRPART_HAS_TPI</a>, <a class="el" href="../../#l00300">avrmem::blocksize</a>, <a class="el" href="../../#l00284">avrmem::desc</a>, <a class="el" href="../../#l00230">avrpart::flags</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00289">avrmem::offset</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l03759">stk600_xprog_command()</a>, <a class="el" href="../../#l03896">stk600_xprog_memtype()</a>, <a class="el" href="../../#l00231">XPRG_CMD_ERASE</a>, <a class="el" href="../../#l00232">XPRG_CMD_WRITE_MEM</a>, <a class="el" href="../../#l00255">XPRG_ERASE_CONFIG</a>, <a class="el" href="../../#l00238">XPRG_MEM_TYPE_APPL</a>, <a class="el" href="../../#l00239">XPRG_MEM_TYPE_BOOT</a>, <a class="el" href="../../#l00240">XPRG_MEM_TYPE_EEPROM</a>, <a class="el" href="../../#l00241">XPRG_MEM_TYPE_FUSE</a>, <a class="el" href="../../#l00242">XPRG_MEM_TYPE_LOCKBITS</a>, and <a class="el" href="../../#l00243">XPRG_MEM_TYPE_USERSIG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04388">stk600_setup_xprog()</a>.</p>
<div id="dynsection-188" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-188-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-188-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-188-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aaeffbd12d03580b37f3ff06e46424b17_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-189" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-189-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-189-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-189-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_aaeffbd12d03580b37f3ff06e46424b17_icgraph.svg" width="100%" height="456"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a57cc55a9be2a544f863f1fd4a77257d6" name="a57cc55a9be2a544f863f1fd4a77257d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57cc55a9be2a544f863f1fd4a77257d6">&#9670;&#160;</a></span>stk600hvsp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600hvsp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4741</span>{</div>
<div class="line"><span class="lineno"> 4742</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK600HVSP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4743</span> </div>
<div class="line"><span class="lineno"> 4744</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4745</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4746</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4747</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#afa0abec32479b44383e065453bac2fc8">stk500hvsp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4748</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4749</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4750</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8021345ebff90ad52b757ed9dd306775">stk500hvsp_disable</a>;</div>
<div class="line"><span class="lineno"> 4751</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a3334252dbcd73fd10b3bca365dba7164">stk500hvsp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4752</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#af4adf76d10a8645357344c4df090128e">stk500hvsp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4753</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abc8d7cb2ab91d7c5e739f94218bbaee5">stk600_open</a>;</div>
<div class="line"><span class="lineno"> 4754</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4755</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a372b1145433b6eca34aae30931ea51de">stk500hvsp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4756</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4424032eca15d81331cb9d56b505ff81">stk500hvsp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4757</span> </div>
<div class="line"><span class="lineno"> 4758</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4759</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4760</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4761</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#aa988b090ca3c21e80e5ee9840a202270">stk500hvsp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4762</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a96ed412645f5aa937520725fd16b69fc">stk500hvsp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4763</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4764</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9a4aaeb6ed0c785ed06322bb48cdbdf9">stk600_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4765</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9d1210deb4294dcb8cc2eae2141af688">stk600_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4766</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8935c7ba5d2a1e5b6fc08bd4c071cc77">stk600_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4767</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4768</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4769</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4770</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4771</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01075">stk500hvsp_chip_erase()</a>, <a class="el" href="../../#l01628">stk500hvsp_disable()</a>, <a class="el" href="../../#l01538">stk500hvsp_initialize()</a>, <a class="el" href="../../#l02750">stk500hvsp_paged_load()</a>, <a class="el" href="../../#l02560">stk500hvsp_paged_write()</a>, <a class="el" href="../../#l01260">stk500hvsp_program_enable()</a>, <a class="el" href="../../#l01924">stk500hvsp_read_byte()</a>, <a class="el" href="../../#l02184">stk500hvsp_write_byte()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, <a class="el" href="../../#l03065">stk600_set_fosc()</a>, <a class="el" href="../../#l03075">stk600_set_sck_period()</a>, <a class="el" href="../../#l03029">stk600_set_varef()</a>, <a class="el" href="../../#l02977">stk600_set_vtarget()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-190" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-190-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-190-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-190-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_a57cc55a9be2a544f863f1fd4a77257d6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abc295844729bb0372d425493ae5b816c" name="abc295844729bb0372d425493ae5b816c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc295844729bb0372d425493ae5b816c">&#9670;&#160;</a></span>stk600pp_initpgm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> stk600pp_initpgm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 4706</span>{</div>
<div class="line"><span class="lineno"> 4707</span>  strcpy(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;STK600PP&quot;</span>);</div>
<div class="line"><span class="lineno"> 4708</span> </div>
<div class="line"><span class="lineno"> 4709</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4710</span><span class="comment">   * mandatory functions</span></div>
<div class="line"><span class="lineno"> 4711</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4712</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ae1605ff194688941e8667dbb2832b01a">initialize</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a4dc3bbbd71b7574021b1fc3aef2a746b">stk500pp_initialize</a>;</div>
<div class="line"><span class="lineno"> 4713</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a01e72d231ae9cfb477d4b17e59b99629">display</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a547b9897987fa0e5eb79c9dad233f340">stk500v2_display</a>;</div>
<div class="line"><span class="lineno"> 4714</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a91c23b20622f9f9d521b376ab06fb766">enable</a>         = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a7b95e118ea7b94e35892427c5017019c">stk500v2_enable</a>;</div>
<div class="line"><span class="lineno"> 4715</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af379e8b085ee2b46653d59beb51a0018">disable</a>        = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ab794cfa0f83797393455ab017b8b8e0a">stk500pp_disable</a>;</div>
<div class="line"><span class="lineno"> 4716</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aa11416566c4cdc0673f1cece7ad53cdc">program_enable</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a94e3168fe42269f38b153b83284ac0d1">stk500pp_program_enable</a>;</div>
<div class="line"><span class="lineno"> 4717</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af29e4f48b086ad45c22e2295d8198fac">chip_erase</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae8e18a8adf7cd4d8193a78a8a47e33cf">stk500pp_chip_erase</a>;</div>
<div class="line"><span class="lineno"> 4718</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a14c5e9e18079ec111751178160e414da">open</a>           = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#abc8d7cb2ab91d7c5e739f94218bbaee5">stk600_open</a>;</div>
<div class="line"><span class="lineno"> 4719</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#aec89a5e18122747ecc59ebb94eea0787">close</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a03d3188b2eddd4acdb67cd6f11ea8ae5">stk500v2_close</a>;</div>
<div class="line"><span class="lineno"> 4720</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a17124abbb6d4c05c4d467687c0b9ea18">read_byte</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a024bcdd99e70c9ea38546b6bcb03bd2c">stk500pp_read_byte</a>;</div>
<div class="line"><span class="lineno"> 4721</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab29618c5cfd46d946b8a22016d28f839">write_byte</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#accce3d8363d2f16d16cee92de1f82f3b">stk500pp_write_byte</a>;</div>
<div class="line"><span class="lineno"> 4722</span> </div>
<div class="line"><span class="lineno"> 4723</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4724</span><span class="comment">   * optional functions</span></div>
<div class="line"><span class="lineno"> 4725</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno"> 4726</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a02603524a905f4b009aceb14dd60b6d9">paged_write</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a28125f5423762e176817c11e014e1898">stk500pp_paged_write</a>;</div>
<div class="line"><span class="lineno"> 4727</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a1c1ce727dac1ad33cb55a178e7930641">paged_load</a>     = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a0a4b3bb68138a747696a78e4585f424f">stk500pp_paged_load</a>;</div>
<div class="line"><span class="lineno"> 4728</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab8db818b578df1b356e69f888b960bf3">print_parms</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a107c0c6cc1f91d5b09cd2c5589f1de0c">stk500v2_print_parms</a>;</div>
<div class="line"><span class="lineno"> 4729</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a2de080c8f81841e76898945ef495e12a">set_vtarget</a>    = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9a4aaeb6ed0c785ed06322bb48cdbdf9">stk600_set_vtarget</a>;</div>
<div class="line"><span class="lineno"> 4730</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6ff8f9e22a68ae903a5bc973a4f4141b">set_varef</a>      = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a9d1210deb4294dcb8cc2eae2141af688">stk600_set_varef</a>;</div>
<div class="line"><span class="lineno"> 4731</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab879a0d96e15edac4bed2b71108f82e2">set_fosc</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a8935c7ba5d2a1e5b6fc08bd4c071cc77">stk600_set_fosc</a>;</div>
<div class="line"><span class="lineno"> 4732</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#af0595cb3de1cb4184cf2469de0c60452">set_sck_period</a> = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ad6ffd7c3f0c88a91bb674e661c3ab14f">stk600_set_sck_period</a>;</div>
<div class="line"><span class="lineno"> 4733</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#ab704996c4ccf74bf902ac3106a424908">setup</a>          = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#a6c79486fe233e30d482e7dc145a21c4c">stk500v2_setup</a>;</div>
<div class="line"><span class="lineno"> 4734</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6c5a6e2f6821c3bbc9b0a6a88eb1c721">teardown</a>       = <a class="code hl_function" href="../../d9/d12/stk500v2_8c.html#ae5d6d4a065ab2901f068aae763d3a3f6">stk500v2_teardown</a>;</div>
<div class="line"><span class="lineno"> 4735</span>  <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#afbc0c1b0a1f51005bdd38417918cb7d2">page_size</a>      = 256;</div>
<div class="line"><span class="lineno"> 4736</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00650">programmer_t::chip_erase</a>, <a class="el" href="../../#l00658">programmer_t::close</a>, <a class="el" href="../../#l00646">programmer_t::disable</a>, <a class="el" href="../../#l00644">programmer_t::display</a>, <a class="el" href="../../#l00645">programmer_t::enable</a>, <a class="el" href="../../#l00643">programmer_t::initialize</a>, <a class="el" href="../../#l00657">programmer_t::open</a>, <a class="el" href="../../#l00638">programmer_t::page_size</a>, <a class="el" href="../../#l00662">programmer_t::paged_load</a>, <a class="el" href="../../#l00659">programmer_t::paged_write</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00673">programmer_t::print_parms</a>, <a class="el" href="../../#l00649">programmer_t::program_enable</a>, <a class="el" href="../../#l00670">programmer_t::read_byte</a>, <a class="el" href="../../#l00676">programmer_t::set_fosc</a>, <a class="el" href="../../#l00677">programmer_t::set_sck_period</a>, <a class="el" href="../../#l00675">programmer_t::set_varef</a>, <a class="el" href="../../#l00674">programmer_t::set_vtarget</a>, <a class="el" href="../../#l00684">programmer_t::setup</a>, <a class="el" href="../../#l01067">stk500pp_chip_erase()</a>, <a class="el" href="../../#l01620">stk500pp_disable()</a>, <a class="el" href="../../#l01530">stk500pp_initialize()</a>, <a class="el" href="../../#l02740">stk500pp_paged_load()</a>, <a class="el" href="../../#l02550">stk500pp_paged_write()</a>, <a class="el" href="../../#l01239">stk500pp_program_enable()</a>, <a class="el" href="../../#l01915">stk500pp_read_byte()</a>, <a class="el" href="../../#l02175">stk500pp_write_byte()</a>, <a class="el" href="../../#l01769">stk500v2_close()</a>, <a class="el" href="../../#l03216">stk500v2_display()</a>, <a class="el" href="../../#l01633">stk500v2_enable()</a>, <a class="el" href="../../#l03421">stk500v2_print_parms()</a>, <a class="el" href="../../#l00295">stk500v2_setup()</a>, <a class="el" href="../../#l00354">stk500v2_teardown()</a>, <a class="el" href="../../#l01709">stk600_open()</a>, <a class="el" href="../../#l03065">stk600_set_fosc()</a>, <a class="el" href="../../#l03075">stk600_set_sck_period()</a>, <a class="el" href="../../#l03029">stk600_set_varef()</a>, <a class="el" href="../../#l02977">stk600_set_vtarget()</a>, <a class="el" href="../../#l00685">programmer_t::teardown</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, and <a class="el" href="../../#l00668">programmer_t::write_byte</a>.</p>
<div id="dynsection-191" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-191-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-191-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-191-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d12/stk500v2_8c_abc295844729bb0372d425493ae5b816c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac33ec7275812a654bab49b26305d1576" name="ac33ec7275812a654bab49b26305d1576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33ec7275812a654bab49b26305d1576">&#9670;&#160;</a></span>avrispmkIIfreqs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double avrispmkIIfreqs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  8000000, 4000000, 2000000, 1000000, 500000, 250000, 125000,</div>
<div class="line">  96386, 89888, 84211, 79208, 74767, 70797, 67227, 64000,</div>
<div class="line">  61069, 58395, 55945, 51613, 49690, 47905, 46243, 43244,</div>
<div class="line">  41885, 39409, 38278, 36200, 34335, 32654, 31129, 29740,</div>
<div class="line">  28470, 27304, 25724, 24768, 23461, 22285, 21221, 20254,</div>
<div class="line">  19371, 18562, 17583, 16914, 16097, 15356, 14520, 13914,</div>
<div class="line">  13224, 12599, 12031, 11511, 10944, 10431, 9963, 9468,</div>
<div class="line">  9081, 8612, 8239, 7851, 7498, 7137, 6809, 6478, 6178,</div>
<div class="line">  5879, 5607, 5359, 5093, 4870, 4633, 4418, 4209, 4019,</div>
<div class="line">  3823, 3645, 3474, 3310, 3161, 3011, 2869, 2734, 2611,</div>
<div class="line">  2484, 2369, 2257, 2152, 2052, 1956, 1866, 1779, 1695,</div>
<div class="line">  1615, 1539, 1468, 1398, 1333, 1271, 1212, 1155, 1101,</div>
<div class="line">  1049, 1000, 953, 909, 866, 826, 787, 750, 715, 682,</div>
<div class="line">  650, 619, 590, 563, 536, 511, 487, 465, 443, 422,</div>
<div class="line">  402, 384, 366, 349, 332, 317, 302, 288, 274, 261,</div>
<div class="line">  249, 238, 226, 216, 206, 196, 187, 178, 170, 162,</div>
<div class="line">  154, 147, 140, 134, 128, 122, 116, 111, 105, 100,</div>
<div class="line">  95.4, 90.9, 86.6, 82.6, 78.7, 75.0, 71.5, 68.2,</div>
<div class="line">  65.0, 61.9, 59.0, 56.3, 53.6, 51.1</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03303">stk500v2_print_parms1()</a>, and <a class="el" href="../../#l02885">stk500v2_set_sck_period_mk2()</a>.</p>

</div>
</div>
<a id="a0ac9e2f22c0c0e8c51082f0734d844cd" name="a0ac9e2f22c0c0e8c51082f0734d844cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac9e2f22c0c0e8c51082f0734d844cd">&#9670;&#160;</a></span>[struct]</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct  { ... }  connection_status[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">  { <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#adad3e62841ac2bd76f0555a2633287ca">STATUS_CONN_FAIL_MOSI</a>, <span class="stringliteral">&quot;MOSI fail&quot;</span> },</div>
<div class="line">  { <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#abc2be863c334465ac02868796f19b2d4">STATUS_CONN_FAIL_RST</a>, <span class="stringliteral">&quot;RST fail&quot;</span> },</div>
<div class="line">  { <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a696289cf196db0429bc04972a0169b07">STATUS_CONN_FAIL_SCK</a>, <span class="stringliteral">&quot;SCK fail&quot;</span> },</div>
<div class="line">  { <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#ab8f7873637ba48f2b8d5ddeff8b3b6e0">STATUS_TGT_NOT_DETECTED</a>, <span class="stringliteral">&quot;Target not detected&quot;</span> },</div>
<div class="line">  { <a class="code hl_define" href="../../d0/d3c/stk500v2__private_8h.html#a7dc9e38706c975e9b7169431044fa1b1">STATUS_TGT_REVERSE_INSERTED</a>, <span class="stringliteral">&quot;Target reverse inserted&quot;</span> },</div>
<div class="line">}</div>
<div class="ttc" id="astk500v2__private_8h_html_a696289cf196db0429bc04972a0169b07"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a696289cf196db0429bc04972a0169b07">STATUS_CONN_FAIL_SCK</a></div><div class="ttdeci">#define STATUS_CONN_FAIL_SCK</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:149</div></div>
<div class="ttc" id="astk500v2__private_8h_html_a7dc9e38706c975e9b7169431044fa1b1"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#a7dc9e38706c975e9b7169431044fa1b1">STATUS_TGT_REVERSE_INSERTED</a></div><div class="ttdeci">#define STATUS_TGT_REVERSE_INSERTED</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:151</div></div>
<div class="ttc" id="astk500v2__private_8h_html_ab8f7873637ba48f2b8d5ddeff8b3b6e0"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#ab8f7873637ba48f2b8d5ddeff8b3b6e0">STATUS_TGT_NOT_DETECTED</a></div><div class="ttdeci">#define STATUS_TGT_NOT_DETECTED</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:150</div></div>
<div class="ttc" id="astk500v2__private_8h_html_abc2be863c334465ac02868796f19b2d4"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#abc2be863c334465ac02868796f19b2d4">STATUS_CONN_FAIL_RST</a></div><div class="ttdeci">#define STATUS_CONN_FAIL_RST</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:148</div></div>
<div class="ttc" id="astk500v2__private_8h_html_adad3e62841ac2bd76f0555a2633287ca"><div class="ttname"><a href="../../d0/d3c/stk500v2__private_8h.html#adad3e62841ac2bd76f0555a2633287ca">STATUS_CONN_FAIL_MOSI</a></div><div class="ttdeci">#define STATUS_CONN_FAIL_MOSI</div><div class="ttdef"><b>Definition</b> stk500v2_private.h:147</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l01099">stk500v2_translate_conn_status()</a>.</p>

</div>
</div>
<a id="a31d7c91af713b41cee3be4540ef85b1d" name="a31d7c91af713b41cee3be4540ef85b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d7c91af713b41cee3be4540ef85b1d">&#9670;&#160;</a></span>pgmname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* pgmname[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;unknown&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;STK500&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;AVRISP&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;AVRISP mkII&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;JTAG ICE mkII&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;STK600&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;JTAGICE3&quot;</span>,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>, and <a class="el" href="../../#l00749">stk500v2_getsync()</a>.</p>

</div>
</div>
<a id="aa937951d55b1d7caf2c2e4adac4c8cd9" name="aa937951d55b1d7caf2c2e4adac4c8cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa937951d55b1d7caf2c2e4adac4c8cd9">&#9670;&#160;</a></span>routing_cards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a> routing_cards[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>.</p>

</div>
</div>
<a id="aedd5aa865c45fb85f54d94bc63428a30" name="aedd5aa865c45fb85f54d94bc63428a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd5aa865c45fb85f54d94bc63428a30">&#9670;&#160;</a></span>socket_cards</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="../../d9/d12/stk500v2_8c.html#d8/da6/structcarddata">carddata</a> socket_cards[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">  { 0x01, <span class="stringliteral">&quot;STK600-TQFP48&quot;</span> },</div>
<div class="line">  { 0x02, <span class="stringliteral">&quot;STK600-TQFP32&quot;</span> },</div>
<div class="line">  { 0x03, <span class="stringliteral">&quot;STK600-TQFP100&quot;</span> },</div>
<div class="line">  { 0x04, <span class="stringliteral">&quot;STK600-SOIC&quot;</span> },</div>
<div class="line">  { 0x06, <span class="stringliteral">&quot;STK600-TQFP144&quot;</span> },</div>
<div class="line">  { 0x09, <span class="stringliteral">&quot;STK600-TinyX3U&quot;</span> },</div>
<div class="line">  { 0x0C, <span class="stringliteral">&quot;STK600-TSSOP44&quot;</span> },</div>
<div class="line">  { 0x0D, <span class="stringliteral">&quot;STK600-TQFP44&quot;</span> },</div>
<div class="line">  { 0x0E, <span class="stringliteral">&quot;STK600-TQFP64-2&quot;</span> },</div>
<div class="line">  { 0x0F, <span class="stringliteral">&quot;STK600-ATMEGA2560&quot;</span> },</div>
<div class="line">  { 0x15, <span class="stringliteral">&quot;STK600-MLF64&quot;</span> },</div>
<div class="line">  { 0x16, <span class="stringliteral">&quot;STK600-ATXMEGAT0&quot;</span> },</div>
<div class="line">  { 0x18, <span class="stringliteral">&quot;QT600-ATMEGA324-QM64&quot;</span> },</div>
<div class="line">  { 0x19, <span class="stringliteral">&quot;STK600-ATMEGA128RFA1&quot;</span> },</div>
<div class="line">  { 0x1A, <span class="stringliteral">&quot;QT600-ATTINY88-QT8&quot;</span> },</div>
<div class="line">  { 0x1B, <span class="stringliteral">&quot;QT600-ATXMEGA128A1-QT16&quot;</span> },</div>
<div class="line">  { 0x1C, <span class="stringliteral">&quot;QT600-AT32UC3L-QM64&quot;</span> },</div>
<div class="line">  { 0x1D, <span class="stringliteral">&quot;STK600-HVE2&quot;</span> },</div>
<div class="line">  { 0x1E, <span class="stringliteral">&quot;STK600-ATTINY10&quot;</span> },</div>
<div class="line">  { 0x55, <span class="stringliteral">&quot;STK600-TQFP64&quot;</span> },</div>
<div class="line">  { 0x69, <span class="stringliteral">&quot;STK600-uC3-144&quot;</span> },</div>
<div class="line">  { 0xF0, <span class="stringliteral">&quot;STK600-ATXMEGA1281A1&quot;</span> },</div>
<div class="line">  { 0xF1, <span class="stringliteral">&quot;STK600-DIP&quot;</span> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l03216">stk500v2_display()</a>.</p>

</div>
</div>
<a id="a338abf3518f4b41beecffca8c2738c9a" name="a338abf3518f4b41beecffca8c2738c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338abf3518f4b41beecffca8c2738c9a">&#9670;&#160;</a></span>stk500hvsp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500hvsp_desc[] = &quot;Atmel STK500 V2 in high-voltage serial programming mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a896b25bac709f33139a130eebaae3627" name="a896b25bac709f33139a130eebaae3627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896b25bac709f33139a130eebaae3627">&#9670;&#160;</a></span>stk500pp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500pp_desc[] = &quot;Atmel STK500 V2 in parallel programming mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3028f4e65af504c1a03da84a564829da" name="a3028f4e65af504c1a03da84a564829da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3028f4e65af504c1a03da84a564829da">&#9670;&#160;</a></span>stk500v2_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_desc[] = &quot;Atmel STK500 Version 2.x firmware&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a682b898b6c545a1faf6184ec7ad8d78f" name="a682b898b6c545a1faf6184ec7ad8d78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682b898b6c545a1faf6184ec7ad8d78f">&#9670;&#160;</a></span>stk500v2_dragon_hvsp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_dragon_hvsp_desc[] = &quot;Atmel AVR Dragon in HVSP mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91a47788c9f9c7fe633e7677ede3dc42" name="a91a47788c9f9c7fe633e7677ede3dc42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a47788c9f9c7fe633e7677ede3dc42">&#9670;&#160;</a></span>stk500v2_dragon_isp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_dragon_isp_desc[] = &quot;Atmel AVR Dragon in ISP mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acb38eabe93ac870aff6d5180458f77fb" name="acb38eabe93ac870aff6d5180458f77fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb38eabe93ac870aff6d5180458f77fb">&#9670;&#160;</a></span>stk500v2_dragon_pp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_dragon_pp_desc[] = &quot;Atmel AVR Dragon in PP mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8e0815cbb621704ad5842da3b3617d2" name="ad8e0815cbb621704ad5842da3b3617d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e0815cbb621704ad5842da3b3617d2">&#9670;&#160;</a></span>stk500v2_jtag3_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_jtag3_desc[] = &quot;Atmel JTAGICE3 in ISP mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4c7d3a9ac74bb23f08c88f98099bc3d" name="ad4c7d3a9ac74bb23f08c88f98099bc3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c7d3a9ac74bb23f08c88f98099bc3d">&#9670;&#160;</a></span>stk500v2_jtagmkII_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk500v2_jtagmkII_desc[] = &quot;Atmel JTAG ICE mkII in ISP mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aecb5480c576ef2820684428d9af6fdb3" name="aecb5480c576ef2820684428d9af6fdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb5480c576ef2820684428d9af6fdb3">&#9670;&#160;</a></span>stk600_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk600_desc[] = &quot;Atmel STK600&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae206ba117c42354055727003b062f42f" name="ae206ba117c42354055727003b062f42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae206ba117c42354055727003b062f42f">&#9670;&#160;</a></span>stk600hvsp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk600hvsp_desc[] = &quot;Atmel STK600 in high-voltage serial programming mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a030e92ce03027841228de19603669002" name="a030e92ce03027841228de19603669002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030e92ce03027841228de19603669002">&#9670;&#160;</a></span>stk600pp_desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char stk600pp_desc[] = &quot;Atmel STK600 in parallel programming mode&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3152723ac38ccb2051caa7ee1212accf.html">avrdude</a></li><li class="navelem"><a class="el" href="../../d9/d12/stk500v2_8c.html">stk500v2.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
