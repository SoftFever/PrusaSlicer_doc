<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::Arachne::SkeletalTrapezoidation Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d1/df6/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::Arachne::SkeletalTrapezoidation Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/Arachne/SkeletalTrapezoidation.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::Arachne::SkeletalTrapezoidation:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d53/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation__coll__graph.svg" width="100%" height="483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d18/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_1_1_transition_mid_ref.html">TransitionMidRef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac4eae0ffe69e5a5684b190239116536b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> = <a class="el" href="../../d4/da3/class_slic3r_1_1_arachne_1_1_polygons_segment_index.html">PolygonsSegmentIndex</a></td></tr>
<tr class="separator:ac4eae0ffe69e5a5684b190239116536b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4ab3bdf5b56a95308b7004e04edaa6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aed4ab3bdf5b56a95308b7004e04edaa6">PointMap</a> = ankerl::unordered_dense::map&lt; <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>, <a class="el" href="../../d9/d8a/struct_slic3r_1_1_point_hash.html">PointHash</a> &gt;</td></tr>
<tr class="separator:aed4ab3bdf5b56a95308b7004e04edaa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1730281d5a124e68474a98d8b4dd3845"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a1730281d5a124e68474a98d8b4dd3845">NodeSet</a> = ankerl::unordered_dense::set&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> * &gt;</td></tr>
<tr class="separator:a1730281d5a124e68474a98d8b4dd3845"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d4d69e9ba0fbc2deed3d2dedb0efac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4d4d69e9ba0fbc2deed3d2dedb0efac9">SkeletalTrapezoidation</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;polys, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html">BeadingStrategy</a> &amp;<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>, double <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a>, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a>, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">allowed_filter_deviation</a>, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">beading_propagation_transition_dist</a>)</td></tr>
<tr class="separator:a4d4d69e9ba0fbc2deed3d2dedb0efac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43aa3d018c9e707833b7be167fd97660"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a43aa3d018c9e707833b7be167fd97660">generateToolpaths</a> (std::vector&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a200d5189c89cf0f559997e0a68918bfe">VariableWidthLines</a> &gt; &amp;generated_toolpaths, bool filter_outermost_central_edges=false)</td></tr>
<tr class="separator:a43aa3d018c9e707833b7be167fd97660"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9572ca0ce89293e225061bbcd5e73d57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a34620c5188bfd3f8405ef5eada90b072">graph_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a></td></tr>
<tr class="separator:a9572ca0ce89293e225061bbcd5e73d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3410b9a03fd08d89605d3e083ff37191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3410b9a03fd08d89605d3e083ff37191">constructFromPolygons</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;polys)</td></tr>
<tr class="separator:a3410b9a03fd08d89605d3e083ff37191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4f0724cafe8729989122e4f2be894c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a4f0724cafe8729989122e4f2be894c">makeNode</a> (vd_t::vertex_type &amp;vd_node, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> p)</td></tr>
<tr class="memdesc:a8a4f0724cafe8729989122e4f2be894c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the node which the VD node maps to, or create a new mapping if there wasn't any yet.  <br /></td></tr>
<tr class="separator:a8a4f0724cafe8729989122e4f2be894c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40327127e6fe656b1e8574945373f4e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40327127e6fe656b1e8574945373f4e2">transferEdge</a> (<a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> from, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> to, vd_t::edge_type &amp;vd_edge, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&amp;prev_edge, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;start_source_point, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;end_source_point, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;segments)</td></tr>
<tr class="separator:a40327127e6fe656b1e8574945373f4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac264c3e8afbc89dd57418e06fa29b923"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac264c3e8afbc89dd57418e06fa29b923">discretize</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> vd_t::edge_type &amp;<a class="el" href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a>, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;segments)</td></tr>
<tr class="separator:ac264c3e8afbc89dd57418e06fa29b923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2cfa0b845e614bbe6d0bd4bd2a3eabf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aa2cfa0b845e614bbe6d0bd4bd2a3eabf">separatePointyQuadEndNodes</a> ()</td></tr>
<tr class="separator:aa2cfa0b845e614bbe6d0bd4bd2a3eabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7f337db19af2dc583bca2667b24147"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aff7f337db19af2dc583bca2667b24147">updateIsCentral</a> ()</td></tr>
<tr class="separator:aff7f337db19af2dc583bca2667b24147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80e4f8224733b34fa0c4b5b11543a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af80e4f8224733b34fa0c4b5b11543a78">filterCentral</a> (<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_length)</td></tr>
<tr class="separator:af80e4f8224733b34fa0c4b5b11543a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f5dd9bf46c6c6b0f78d2a798c74451"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a89f5dd9bf46c6c6b0f78d2a798c74451">filterCentral</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *starting_edge, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> traveled_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_length)</td></tr>
<tr class="separator:a89f5dd9bf46c6c6b0f78d2a798c74451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da87679c9c72c5002c4de72532970c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7da87679c9c72c5002c4de72532970c1">filterOuterCentral</a> ()</td></tr>
<tr class="separator:a7da87679c9c72c5002c4de72532970c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaede8f0b3f5e1902ba7e477b75bbec44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aaede8f0b3f5e1902ba7e477b75bbec44">updateBeadCount</a> ()</td></tr>
<tr class="separator:aaede8f0b3f5e1902ba7e477b75bbec44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2afa55487c0876d73b53bc398a88b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">filterNoncentralRegions</a> ()</td></tr>
<tr class="separator:a9a2afa55487c0876d73b53bc398a88b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82552ebb395ba9a6e5ccb5ddaacf0c53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a82552ebb395ba9a6e5ccb5ddaacf0c53">filterNoncentralRegions</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *to_edge, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> bead_count, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> traveled_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_dist)</td></tr>
<tr class="separator:a82552ebb395ba9a6e5ccb5ddaacf0c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abafa5cb311d3baca882217b68ef6bf8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#abafa5cb311d3baca882217b68ef6bf8b">generateTransitionMids</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a> &gt; &gt; &amp;edge_transitions)</td></tr>
<tr class="separator:abafa5cb311d3baca882217b68ef6bf8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf41f4a4c6d50a4df5f8b9926a7383f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aecf41f4a4c6d50a4df5f8b9926a7383f">filterTransitionMids</a> ()</td></tr>
<tr class="separator:aecf41f4a4c6d50a4df5f8b9926a7383f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6980cb34fff06acb7b51fc4d59432ce7"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="../../df/d18/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_1_1_transition_mid_ref.html">TransitionMidRef</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6980cb34fff06acb7b51fc4d59432ce7">dissolveNearbyTransitions</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *edge_to_start, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a> &amp;origin_transition, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> traveled_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_dist, bool going_up)</td></tr>
<tr class="separator:a6980cb34fff06acb7b51fc4d59432ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bff28e077b2bbe8dde81150dc2d4a06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8bff28e077b2bbe8dde81150dc2d4a06">dissolveBeadCountRegion</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *edge_to_start, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> from_bead_count, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> to_bead_count)</td></tr>
<tr class="separator:a8bff28e077b2bbe8dde81150dc2d4a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea36e60c2a5f5cd4642864b725fa4167"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aea36e60c2a5f5cd4642864b725fa4167">filterEndOfCentralTransition</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *edge_to_start, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> traveled_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> replacing_bead_count)</td></tr>
<tr class="separator:aea36e60c2a5f5cd4642864b725fa4167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f1fa425cc686b47bcafa4ea431d823"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54f1fa425cc686b47bcafa4ea431d823">generateAllTransitionEnds</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;edge_transition_ends)</td></tr>
<tr class="separator:a54f1fa425cc686b47bcafa4ea431d823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7687b1e6903b420f78f71cd5277c9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ade7687b1e6903b420f78f71cd5277c9f">applyTransitions</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;edge_transition_ends)</td></tr>
<tr class="separator:ade7687b1e6903b420f78f71cd5277c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9cba41d57d911ff7752d3c18833611"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a2b9cba41d57d911ff7752d3c18833611">generateTransitioningRibs</a> ()</td></tr>
<tr class="separator:a2b9cba41d57d911ff7752d3c18833611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccedc3fb7c61774fa3ac830d36298a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adccedc3fb7c61774fa3ac830d36298a8">generateTransitionEnds</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;edge, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> mid_R, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_lower_bead_count, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;edge_transition_ends)</td></tr>
<tr class="separator:adccedc3fb7c61774fa3ac830d36298a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e4c9acfa45218f47ab7ee106b9445b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">generateTransitionEnd</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;edge, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_pos, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_pos, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_half_length, double start_rest, double end_rest, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_lower_bead_count, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;edge_transition_ends)</td></tr>
<tr class="separator:a08e4c9acfa45218f47ab7ee106b9445b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c386be91af30e010f99f84d0559f417"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7c386be91af30e010f99f84d0559f417">isGoingDown</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *outgoing, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> traveled_dist, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_half_length, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> lower_bead_count) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a7c386be91af30e010f99f84d0559f417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d815ed5462c44b1a4c14a91b31b092b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7d815ed5462c44b1a4c14a91b31b092b">isEndOfCentral</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;edge) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a7d815ed5462c44b1a4c14a91b31b092b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe83c3b786f1505a1cce8d589ddbce49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#afe83c3b786f1505a1cce8d589ddbce49">generateExtraRibs</a> ()</td></tr>
<tr class="separator:afe83c3b786f1505a1cce8d589ddbce49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6176968039cf1c50ed4ba10741d9aade"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6176968039cf1c50ed4ba10741d9aade">generateSegments</a> ()</td></tr>
<tr class="separator:a6176968039cf1c50ed4ba10741d9aade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b4f2553c8f4ee719ba064f2de1647d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a21b4f2553c8f4ee719ba064f2de1647d">getQuadMaxRedgeTo</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *quad_start_edge)</td></tr>
<tr class="separator:a21b4f2553c8f4ee719ba064f2de1647d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea293b6b92da5950f3cd4881da02ac7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a0ea293b6b92da5950f3cd4881da02ac7">propagateBeadingsUpward</a> (std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> * &gt; &amp;upward_quad_mids, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;node_beadings)</td></tr>
<tr class="separator:a0ea293b6b92da5950f3cd4881da02ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea119c85d3d3969f4b9f8ca6b34abe6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward</a> (std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> * &gt; &amp;upward_quad_mids, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;node_beadings)</td></tr>
<tr class="separator:a4ea119c85d3d3969f4b9f8ca6b34abe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f3ec33587efd4ab87546367f225b73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a76f3ec33587efd4ab87546367f225b73">propagateBeadingsDownward</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *edge_to_peak, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;node_beadings)</td></tr>
<tr class="separator:a76f3ec33587efd4ab87546367f225b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a960cb4d40bd43f54ff94fd0cac9a49a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">interpolate</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;left, double ratio_left_to_whole, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;right, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> switching_radius) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a960cb4d40bd43f54ff94fd0cac9a49a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d9d6f08795b1e2c865e75c8d9b59e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a33d9d6f08795b1e2c865e75c8d9b59e0">interpolate</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;left, double ratio_left_to_whole, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;right) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a33d9d6f08795b1e2c865e75c8d9b59e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3297724870a1d9cee31f9b39ee547ccb"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3297724870a1d9cee31f9b39ee547ccb">getOrCreateBeading</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> *node, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;node_beadings)</td></tr>
<tr class="separator:a3297724870a1d9cee31f9b39ee547ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54365f123e131d6395cfc4d2374ada1c"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54365f123e131d6395cfc4d2374ada1c">getNearestBeading</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> *node, <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_dist)</td></tr>
<tr class="separator:a54365f123e131d6395cfc4d2374ada1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9482aea992d74f9aff9afda2b245d25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af9482aea992d74f9aff9afda2b245d25">generateJunctions</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;node_beadings, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> &gt; &amp;edge_junctions)</td></tr>
<tr class="separator:af9482aea992d74f9aff9afda2b245d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1d2c96e8335b0a13b8e3bbb474c534"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3f1d2c96e8335b0a13b8e3bbb474c534">addToolpathSegment</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/dbb/struct_slic3r_1_1_arachne_1_1_extrusion_junction.html">ExtrusionJunction</a> &amp;from, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/dbb/struct_slic3r_1_1_arachne_1_1_extrusion_junction.html">ExtrusionJunction</a> &amp;to, bool is_odd, bool force_new_path, bool from_is_3way, bool to_is_3way)</td></tr>
<tr class="separator:a3f1d2c96e8335b0a13b8e3bbb474c534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d4633b5b27c9639196665a837a7695"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a42d4633b5b27c9639196665a837a7695">connectJunctions</a> (<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> &gt; &amp;edge_junctions)</td></tr>
<tr class="separator:a42d4633b5b27c9639196665a837a7695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432d4e82257559af6c676fce9a387305"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a432d4e82257559af6c676fce9a387305">generateLocalMaximaSingleBeads</a> ()</td></tr>
<tr class="separator:a432d4e82257559af6c676fce9a387305"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a691297a7db1adc72819e373e491128d4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a691297a7db1adc72819e373e491128d4">computePointCellRange</a> (vd_t::cell_type &amp;cell, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;start_source_point, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;end_source_point, vd_t::edge_type *&amp;starting_vd_edge, vd_t::edge_type *&amp;ending_vd_edge, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;segments)</td></tr>
<tr class="separator:a691297a7db1adc72819e373e491128d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41badcb918fc0d75743356fd1a8b235e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a41badcb918fc0d75743356fd1a8b235e">computeSegmentCellRange</a> (vd_t::cell_type &amp;cell, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;start_source_point, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;end_source_point, vd_t::edge_type *&amp;starting_vd_edge, vd_t::edge_type *&amp;ending_vd_edge, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;segments)</td></tr>
<tr class="separator:a41badcb918fc0d75743356fd1a8b235e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a65f39ad79dfc255c3438f2b9b3e788a3"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; vd_t::edge_type *, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a></td></tr>
<tr class="separator:a65f39ad79dfc255c3438f2b9b3e788a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e03e4859c4ac371972c6562ab9cf70d"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; vd_t::vertex_type *, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a></td></tr>
<tr class="separator:a4e03e4859c4ac371972c6562ab9cf70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc111880bb6f889f5a632b55229fb9d8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a200d5189c89cf0f559997e0a68918bfe">VariableWidthLines</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adc111880bb6f889f5a632b55229fb9d8">p_generated_toolpaths</a></td></tr>
<tr class="separator:adc111880bb6f889f5a632b55229fb9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a4baca2f7c0966524cb9617426c9830bd"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4baca2f7c0966524cb9617426c9830bd">pos_t</a> = double</td></tr>
<tr class="separator:a4baca2f7c0966524cb9617426c9830bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b76144a7347416dcf765ca93c5cea1a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a5b76144a7347416dcf765ca93c5cea1a">vd_t</a> = boost::polygon::voronoi_diagram&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4baca2f7c0966524cb9617426c9830bd">pos_t</a> &gt;</td></tr>
<tr class="separator:a5b76144a7347416dcf765ca93c5cea1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34620c5188bfd3f8405ef5eada90b072"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a34620c5188bfd3f8405ef5eada90b072">graph_t</a> = <a class="el" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html">SkeletalTrapezoidationGraph</a></td></tr>
<tr class="separator:a34620c5188bfd3f8405ef5eada90b072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ddfce1c7872552170079b0a37ef338"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> = <a class="el" href="../../d9/da5/class_slic3r_1_1_arachne_1_1_s_t_half_edge.html">STHalfEdge</a></td></tr>
<tr class="separator:a40ddfce1c7872552170079b0a37ef338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b3c67cd9a38d03b5b92d7e1d063ff2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> = <a class="el" href="../../dc/d63/class_slic3r_1_1_arachne_1_1_s_t_half_edge_node.html">STHalfEdgeNode</a></td></tr>
<tr class="separator:a39b3c67cd9a38d03b5b92d7e1d063ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39c0fa4c53afe35d7f0d4ea19c7c153"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> = <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#d2/d5b/struct_slic3r_1_1_arachne_1_1_beading_strategy_1_1_beading">BeadingStrategy::Beading</a></td></tr>
<tr class="separator:af39c0fa4c53afe35d7f0d4ea19c7c153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb7d7e1819a17516b676900f0e40955"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> = <a class="el" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html">SkeletalTrapezoidationJoint::BeadingPropagation</a></td></tr>
<tr class="separator:a9cb7d7e1819a17516b676900f0e40955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfe7a0ff50af21c5e0b0fde4d7c06c9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a> = <a class="el" href="../../d6/d9c/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge_1_1_transition_middle.html">SkeletalTrapezoidationEdge::TransitionMiddle</a></td></tr>
<tr class="separator:a9dfe7a0ff50af21c5e0b0fde4d7c06c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4595b50faf0bc42a2ead82a46db6b9f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> = <a class="el" href="../../d0/d76/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge_1_1_transition_end.html">SkeletalTrapezoidationEdge::TransitionEnd</a></td></tr>
<tr class="separator:ab4595b50faf0bc42a2ead82a46db6b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc916684037a3325e5a74f41d544bce"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3fc916684037a3325e5a74f41d544bce"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a> = std::vector&lt; std::shared_ptr&lt; T &gt; &gt;</td></tr>
<tr class="separator:a3fc916684037a3325e5a74f41d544bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a562c5b746ce6ec773d00448304bf6b3a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a></td></tr>
<tr class="memdesc:a562c5b746ce6ec773d00448304bf6b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">How pointy a region should be before we apply the method. Equals 180* - limit_bisector_angle.  <br /></td></tr>
<tr class="separator:a562c5b746ce6ec773d00448304bf6b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a918c05560f9a4a6382dbe1d127333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a></td></tr>
<tr class="memdesc:a53a918c05560f9a4a6382dbe1d127333"><td class="mdescLeft">&#160;</td><td class="mdescRight">approximate size of segments when parabolic VD edges get discretized (and vertex-vertex edges)  <br /></td></tr>
<tr class="separator:a53a918c05560f9a4a6382dbe1d127333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68e15ef1038c2514ccb6b8d2d2c768b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a></td></tr>
<tr class="memdesc:ac68e15ef1038c2514ccb6b8d2d2c768b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter transition mids (i.e. anchors) closer together than this.  <br /></td></tr>
<tr class="separator:ac68e15ef1038c2514ccb6b8d2d2c768b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0e5584c90ddb117397c279963758c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">allowed_filter_deviation</a></td></tr>
<tr class="memdesc:a8a0e5584c90ddb117397c279963758c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The allowed line width deviation induced by filtering.  <br /></td></tr>
<tr class="separator:a8a0e5584c90ddb117397c279963758c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d756450bd612ff1dbde0c8eb791de7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">beading_propagation_transition_dist</a></td></tr>
<tr class="memdesc:a67d756450bd612ff1dbde0c8eb791de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">When there are different beadings propagated from below and from above, use this transitioning distance.  <br /></td></tr>
<tr class="separator:a67d756450bd612ff1dbde0c8eb791de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0c4603835116ea310c853df10e897a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html">BeadingStrategy</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a></td></tr>
<tr class="separator:a4e0c4603835116ea310c853df10e897a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab1a76df433555222d35c30fae92be960"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab1a76df433555222d35c30fae92be960">central_filter_dist</a> = <a class="el" href="../../de/db8/namespace_slic3r.html#a20c9ce8050ad12a2fbc3d2e07937a1e8">scaled</a>&lt;<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(0.02)</td></tr>
<tr class="memdesc:ab1a76df433555222d35c30fae92be960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter areas marked as 'central' smaller than this.  <br /></td></tr>
<tr class="separator:ab1a76df433555222d35c30fae92be960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921de2b3963aa119f42d50395dcf90cd"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a921de2b3963aa119f42d50395dcf90cd">snap_dist</a> = <a class="el" href="../../de/db8/namespace_slic3r.html#a20c9ce8050ad12a2fbc3d2e07937a1e8">scaled</a>&lt;<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(0.02)</td></tr>
<tr class="memdesc:a921de2b3963aa119f42d50395dcf90cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic arithmatic inaccuracy. Only used to determine whether a transition really needs to insert an extra edge.  <br /></td></tr>
<tr class="separator:a921de2b3963aa119f42d50395dcf90cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a198eb75c6be9818a118a2743270cbb58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a198eb75c6be9818a118a2743270cbb58">detect_voronoi_edge_intersecting_input_segment</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d32/class_slic3r_1_1_geometry_1_1_voronoi_diagram.html">Geometry::VoronoiDiagram</a> &amp;voronoi_diagram, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a28495d689d23331af553a943bc74cc10">VoronoiUtils::Segment</a> &gt; &amp;segments)</td></tr>
<tr class="separator:a198eb75c6be9818a118a2743270cbb58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main class of the dynamic beading strategies.</p>
<p>The input polygon region is decomposed into trapezoids and represented as a half-edge data-structure.</p>
<p>We determine which edges are 'central' accordinding to the transitioning_angle of the beading strategy, and determine the bead count for these central regions and apply them outward when generating toolpaths. [oversimplified]</p>
<p>The method can be visually explained as generating the 3D union of cones surface on the outline polygons, and changing the heights along central regions of that surface so that they are flat. For more info, please consult the paper "A framework for adaptive width control of dense contour-parallel toolpaths in fused
deposition modeling" by Kuipers et al. This visual explanation aid explains the use of "upward", "lower" etc, i.e. the radial distance and/or the bead count are used as heights of this visualization, there is no coordinate called 'Z'.</p>
<p>TODO: split this class into two:</p><ol type="1">
<li>Class for generating the decomposition and aux functions for performing updates</li>
<li>Class for editing the structure for our purposes. </li>
</ol>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="af39c0fa4c53afe35d7f0d4ea19c7c153" name="af39c0fa4c53afe35d7f0d4ea19c7c153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39c0fa4c53afe35d7f0d4ea19c7c153">&#9670;&#160;</a></span>Beading</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Slic3r::Arachne::SkeletalTrapezoidation::Beading</a> =  <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#d2/d5b/struct_slic3r_1_1_arachne_1_1_beading_strategy_1_1_beading">BeadingStrategy::Beading</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9cb7d7e1819a17516b676900f0e40955" name="a9cb7d7e1819a17516b676900f0e40955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb7d7e1819a17516b676900f0e40955">&#9670;&#160;</a></span>BeadingPropagation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">Slic3r::Arachne::SkeletalTrapezoidation::BeadingPropagation</a> =  <a class="el" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html">SkeletalTrapezoidationJoint::BeadingPropagation</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a40ddfce1c7872552170079b0a37ef338" name="a40ddfce1c7872552170079b0a37ef338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ddfce1c7872552170079b0a37ef338">&#9670;&#160;</a></span>edge_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">Slic3r::Arachne::SkeletalTrapezoidation::edge_t</a> =  <a class="el" href="../../d9/da5/class_slic3r_1_1_arachne_1_1_s_t_half_edge.html">STHalfEdge</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a34620c5188bfd3f8405ef5eada90b072" name="a34620c5188bfd3f8405ef5eada90b072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34620c5188bfd3f8405ef5eada90b072">&#9670;&#160;</a></span>graph_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a34620c5188bfd3f8405ef5eada90b072">Slic3r::Arachne::SkeletalTrapezoidation::graph_t</a> =  <a class="el" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html">SkeletalTrapezoidationGraph</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a39b3c67cd9a38d03b5b92d7e1d063ff2" name="a39b3c67cd9a38d03b5b92d7e1d063ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b3c67cd9a38d03b5b92d7e1d063ff2">&#9670;&#160;</a></span>node_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">Slic3r::Arachne::SkeletalTrapezoidation::node_t</a> =  <a class="el" href="../../dc/d63/class_slic3r_1_1_arachne_1_1_s_t_half_edge_node.html">STHalfEdgeNode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1730281d5a124e68474a98d8b4dd3845" name="a1730281d5a124e68474a98d8b4dd3845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1730281d5a124e68474a98d8b4dd3845">&#9670;&#160;</a></span>NodeSet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a1730281d5a124e68474a98d8b4dd3845">Slic3r::Arachne::SkeletalTrapezoidation::NodeSet</a> =  ankerl::unordered_dense::set&lt;<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>*&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed4ab3bdf5b56a95308b7004e04edaa6" name="aed4ab3bdf5b56a95308b7004e04edaa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4ab3bdf5b56a95308b7004e04edaa6">&#9670;&#160;</a></span>PointMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aed4ab3bdf5b56a95308b7004e04edaa6">Slic3r::Arachne::SkeletalTrapezoidation::PointMap</a> =  ankerl::unordered_dense::map&lt;<a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>, <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>, <a class="el" href="../../d9/d8a/struct_slic3r_1_1_point_hash.html">PointHash</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4baca2f7c0966524cb9617426c9830bd" name="a4baca2f7c0966524cb9617426c9830bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4baca2f7c0966524cb9617426c9830bd">&#9670;&#160;</a></span>pos_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4baca2f7c0966524cb9617426c9830bd">Slic3r::Arachne::SkeletalTrapezoidation::pos_t</a> =  double</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3fc916684037a3325e5a74f41d544bce" name="a3fc916684037a3325e5a74f41d544bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc916684037a3325e5a74f41d544bce">&#9670;&#160;</a></span>ptr_vector_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">Slic3r::Arachne::SkeletalTrapezoidation::ptr_vector_t</a> =  std::vector&lt;std::shared_ptr&lt;T&gt; &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4eae0ffe69e5a5684b190239116536b" name="ac4eae0ffe69e5a5684b190239116536b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4eae0ffe69e5a5684b190239116536b">&#9670;&#160;</a></span>Segment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Slic3r::Arachne::SkeletalTrapezoidation::Segment</a> =  <a class="el" href="../../d4/da3/class_slic3r_1_1_arachne_1_1_polygons_segment_index.html">PolygonsSegmentIndex</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab4595b50faf0bc42a2ead82a46db6b9f" name="ab4595b50faf0bc42a2ead82a46db6b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4595b50faf0bc42a2ead82a46db6b9f">&#9670;&#160;</a></span>TransitionEnd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">Slic3r::Arachne::SkeletalTrapezoidation::TransitionEnd</a> =  <a class="el" href="../../d0/d76/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge_1_1_transition_end.html">SkeletalTrapezoidationEdge::TransitionEnd</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9dfe7a0ff50af21c5e0b0fde4d7c06c9" name="a9dfe7a0ff50af21c5e0b0fde4d7c06c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">&#9670;&#160;</a></span>TransitionMiddle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">Slic3r::Arachne::SkeletalTrapezoidation::TransitionMiddle</a> =  <a class="el" href="../../d6/d9c/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge_1_1_transition_middle.html">SkeletalTrapezoidationEdge::TransitionMiddle</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b76144a7347416dcf765ca93c5cea1a" name="a5b76144a7347416dcf765ca93c5cea1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b76144a7347416dcf765ca93c5cea1a">&#9670;&#160;</a></span>vd_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a5b76144a7347416dcf765ca93c5cea1a">Slic3r::Arachne::SkeletalTrapezoidation::vd_t</a> =  boost::polygon::voronoi_diagram&lt;<a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4baca2f7c0966524cb9617426c9830bd">pos_t</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d4d69e9ba0fbc2deed3d2dedb0efac9" name="a4d4d69e9ba0fbc2deed3d2dedb0efac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d4d69e9ba0fbc2deed3d2dedb0efac9">&#9670;&#160;</a></span>SkeletalTrapezoidation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::Arachne::SkeletalTrapezoidation::SkeletalTrapezoidation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html">BeadingStrategy</a> &amp;&#160;</td>
          <td class="paramname"><em>beading_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>transitioning_angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>discretization_step_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>transition_filter_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>allowed_filter_deviation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>beading_propagation_transition_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new trapezoidation problem to solve. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">polys</td><td>The shapes to fill with walls. </td></tr>
    <tr><td class="paramname">beading_strategy</td><td>The strategy to use to fill these shapes. </td></tr>
    <tr><td class="paramname">transitioning_angle</td><td>Where we transition to a different number of walls, how steep should this transition be? A lower angle means that the transition will be longer. </td></tr>
    <tr><td class="paramname">discretization_step_size</td><td>Since g-code can't represent smooth transitions in line width, the line width must change with discretized steps. This indicates how long the line segments between those steps will be. </td></tr>
    <tr><td class="paramname">transition_filter_dist</td><td>The minimum length of transitions. Transitions shorter than this will be considered for dissolution. </td></tr>
    <tr><td class="paramname">beading_propagation_transition_dist</td><td>When there are different beadings propagated from below and from above, use this transitioning distance. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  443</span>     : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a>),</div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>),</div>
<div class="line"><span class="lineno">  445</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a>),</div>
<div class="line"><span class="lineno">  446</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">allowed_filter_deviation</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">allowed_filter_deviation</a>),</div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">beading_propagation_transition_dist</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">beading_propagation_transition_dist</a>),</div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>)</div>
<div class="line"><span class="lineno">  449</span>{</div>
<div class="line"><span class="lineno">  450</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3410b9a03fd08d89605d3e083ff37191">constructFromPolygons</a>(polys);</div>
<div class="line"><span class="lineno">  451</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a3410b9a03fd08d89605d3e083ff37191"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3410b9a03fd08d89605d3e083ff37191">Slic3r::Arachne::SkeletalTrapezoidation::constructFromPolygons</a></div><div class="ttdeci">void constructFromPolygons(const Polygons &amp;polys)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:642</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a4e0c4603835116ea310c853df10e897a"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">Slic3r::Arachne::SkeletalTrapezoidation::beading_strategy</a></div><div class="ttdeci">const BeadingStrategy &amp; beading_strategy</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:82</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a53a918c05560f9a4a6382dbe1d127333"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">Slic3r::Arachne::SkeletalTrapezoidation::discretization_step_size</a></div><div class="ttdeci">coord_t discretization_step_size</div><div class="ttdoc">approximate size of segments when parabolic VD edges get discretized (and vertex-vertex edges)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:67</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a562c5b746ce6ec773d00448304bf6b3a"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">Slic3r::Arachne::SkeletalTrapezoidation::transitioning_angle</a></div><div class="ttdeci">double transitioning_angle</div><div class="ttdoc">How pointy a region should be before we apply the method. Equals 180* - limit_bisector_angle.</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:66</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a67d756450bd612ff1dbde0c8eb791de7"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">Slic3r::Arachne::SkeletalTrapezoidation::beading_propagation_transition_dist</a></div><div class="ttdeci">coord_t beading_propagation_transition_dist</div><div class="ttdoc">When there are different beadings propagated from below and from above, use this transitioning distan...</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:70</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a8a0e5584c90ddb117397c279963758c5"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">Slic3r::Arachne::SkeletalTrapezoidation::allowed_filter_deviation</a></div><div class="ttdeci">coord_t allowed_filter_deviation</div><div class="ttdoc">The allowed line width deviation induced by filtering.</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:69</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ac68e15ef1038c2514ccb6b8d2d2c768b"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">Slic3r::Arachne::SkeletalTrapezoidation::transition_filter_dist</a></div><div class="ttdeci">coord_t transition_filter_dist</div><div class="ttdoc">Filter transition mids (i.e. anchors) closer together than this.</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:68</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00642">constructFromPolygons()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a4d4d69e9ba0fbc2deed3d2dedb0efac9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3f1d2c96e8335b0a13b8e3bbb474c534" name="a3f1d2c96e8335b0a13b8e3bbb474c534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1d2c96e8335b0a13b8e3bbb474c534">&#9670;&#160;</a></span>addToolpathSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::addToolpathSegment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/dbb/struct_slic3r_1_1_arachne_1_1_extrusion_junction.html">ExtrusionJunction</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/dbb/struct_slic3r_1_1_arachne_1_1_extrusion_junction.html">ExtrusionJunction</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_odd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_new_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>from_is_3way</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_is_3way</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a new toolpath segment, defined between two extrusion-juntions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>The junction from which to add a segment. </td></tr>
    <tr><td class="paramname">to</td><td>The junction to which to add a segment. </td></tr>
    <tr><td class="paramname">is_odd</td><td>Whether this segment is an odd gap filler along the middle of the skeleton. </td></tr>
    <tr><td class="paramname">force_new_path</td><td>Whether to prevent adding this path to an existing path which ends in <code>from</code> </td></tr>
    <tr><td class="paramname">from_is_3way</td><td>Whether the <code>from</code> junction is a splitting junction where two normal wall lines and a gap filler line come together. </td></tr>
    <tr><td class="paramname">to_is_3way</td><td>Whether the <code>to</code> junction is a splitting junction where two normal wall lines and a gap filler line come together. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 2243</span>{</div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">if</span> (from == to) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2245</span> </div>
<div class="line"><span class="lineno"> 2246</span>    std::vector&lt;VariableWidthLines&gt; &amp;generated_toolpaths = *<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adc111880bb6f889f5a632b55229fb9d8">p_generated_toolpaths</a>;</div>
<div class="line"><span class="lineno"> 2247</span> </div>
<div class="line"><span class="lineno"> 2248</span>    <span class="keywordtype">size_t</span> inset_idx = from.perimeter_index;</div>
<div class="line"><span class="lineno"> 2249</span>    <span class="keywordflow">if</span> (inset_idx &gt;= generated_toolpaths.size())</div>
<div class="line"><span class="lineno"> 2250</span>    {</div>
<div class="line"><span class="lineno"> 2251</span>        generated_toolpaths.resize(inset_idx + 1);</div>
<div class="line"><span class="lineno"> 2252</span>    }</div>
<div class="line"><span class="lineno"> 2253</span>    assert((generated_toolpaths[inset_idx].<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>() || !generated_toolpaths[inset_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().junctions.empty()) &amp;&amp; <span class="stringliteral">&quot;empty extrusion lines should never have been generated&quot;</span>);</div>
<div class="line"><span class="lineno"> 2254</span>    <span class="keywordflow">if</span> (generated_toolpaths[inset_idx].<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">empty</a>()</div>
<div class="line"><span class="lineno"> 2255</span>        || generated_toolpaths[inset_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().is_odd != is_odd</div>
<div class="line"><span class="lineno"> 2256</span>        || generated_toolpaths[inset_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().junctions.back().perimeter_index != inset_idx <span class="comment">// inset_idx should always be consistent</span></div>
<div class="line"><span class="lineno"> 2257</span>    )</div>
<div class="line"><span class="lineno"> 2258</span>    {</div>
<div class="line"><span class="lineno"> 2259</span>        force_new_path = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2260</span>    }</div>
<div class="line"><span class="lineno"> 2261</span>    <span class="keywordflow">if</span> (!force_new_path</div>
<div class="line"><span class="lineno"> 2262</span>        &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(generated_toolpaths[inset_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().junctions.back().p - from.p, scaled&lt;coord_t&gt;(0.010))</div>
<div class="line"><span class="lineno"> 2263</span>        &amp;&amp; std::abs(generated_toolpaths[inset_idx].back().junctions.back().w - from.w) &lt; scaled&lt;coord_t&gt;(0.010)</div>
<div class="line"><span class="lineno"> 2264</span>        &amp;&amp; ! from_is_3way <span class="comment">// force new path at 3way intersection</span></div>
<div class="line"><span class="lineno"> 2265</span>    )</div>
<div class="line"><span class="lineno"> 2266</span>    {</div>
<div class="line"><span class="lineno"> 2267</span>        generated_toolpaths[inset_idx].back().junctions.push_back(to);</div>
<div class="line"><span class="lineno"> 2268</span>    }</div>
<div class="line"><span class="lineno"> 2269</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!force_new_path</div>
<div class="line"><span class="lineno"> 2270</span>             &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(generated_toolpaths[inset_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">back</a>().junctions.back().p - to.p, scaled&lt;coord_t&gt;(0.010))</div>
<div class="line"><span class="lineno"> 2271</span>             &amp;&amp; std::abs(generated_toolpaths[inset_idx].back().junctions.back().w - to.w) &lt; scaled&lt;coord_t&gt;(0.010)</div>
<div class="line"><span class="lineno"> 2272</span>             &amp;&amp; ! to_is_3way <span class="comment">// force new path at 3way intersection</span></div>
<div class="line"><span class="lineno"> 2273</span>    )</div>
<div class="line"><span class="lineno"> 2274</span>    {</div>
<div class="line"><span class="lineno"> 2275</span>        <span class="keywordflow">if</span> ( ! is_odd)</div>
<div class="line"><span class="lineno"> 2276</span>        {</div>
<div class="line"><span class="lineno"> 2277</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Reversing even wall line causes it to be printed CCW instead of CW!&quot;</span>;</div>
<div class="line"><span class="lineno"> 2278</span>        }</div>
<div class="line"><span class="lineno"> 2279</span>        generated_toolpaths[inset_idx].back().junctions.push_back(from);</div>
<div class="line"><span class="lineno"> 2280</span>    }</div>
<div class="line"><span class="lineno"> 2281</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2282</span>    {</div>
<div class="line"><span class="lineno"> 2283</span>        generated_toolpaths[inset_idx].emplace_back(inset_idx, is_odd);</div>
<div class="line"><span class="lineno"> 2284</span>        generated_toolpaths[inset_idx].back().junctions.push_back(from);</div>
<div class="line"><span class="lineno"> 2285</span>        generated_toolpaths[inset_idx].back().junctions.push_back(to);</div>
<div class="line"><span class="lineno"> 2286</span>    }</div>
<div class="line"><span class="lineno"> 2287</span>};</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_adc111880bb6f889f5a632b55229fb9d8"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adc111880bb6f889f5a632b55229fb9d8">Slic3r::Arachne::SkeletalTrapezoidation::p_generated_toolpaths</a></div><div class="ttdeci">std::vector&lt; VariableWidthLines &gt; * p_generated_toolpaths</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:178</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1dcd909c9d0672f15148c8a4c1667f85"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">Slic3r::shorter_then</a></div><div class="ttdeci">bool shorter_then(const Point &amp;p0, const coord_t len)</div><div class="ttdef"><b>Definition</b> Point.hpp:301</div></div>
<div class="ttc" id="anamespace_slic3r_html_aecabe174ebbb0e9cc7be41dafc297ef7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aecabe174ebbb0e9cc7be41dafc297ef7">Slic3r::empty</a></div><div class="ttdeci">bool empty(const BoundingBoxBase&lt; PointType, PointsType &gt; &amp;bb)</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:229</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a46b7df127ea55a76bc6f42c30a06d0da"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a46b7df127ea55a76bc6f42c30a06d0da">libnest2d::shapelike::back</a></div><div class="ttdeci">TPoint&lt; P &gt; back(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:873</div></div>
<div class="ttc" id="atga_8cpp_html_adbb625a19574e9e39e1d07df31b00b06"><div class="ttname"><a href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a></div><div class="ttdeci">static char error[256]</div><div class="ttdef"><b>Definition</b> tga.cpp:50</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00229">Slic3r::empty()</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::ExtrusionJunction::p</a>, <a class="el" href="../../#l00038">Slic3r::Arachne::ExtrusionJunction::perimeter_index</a>, <a class="el" href="../../#l00301">Slic3r::shorter_then()</a>, and <a class="el" href="../../#l00030">Slic3r::Arachne::ExtrusionJunction::w</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a3f1d2c96e8335b0a13b8e3bbb474c534_cgraph.svg" width="558" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ade7687b1e6903b420f78f71cd5277c9f" name="ade7687b1e6903b420f78f71cd5277c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7687b1e6903b420f78f71cd5277c9f">&#9670;&#160;</a></span>applyTransitions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::applyTransitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_transition_ends</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Also set the rest values at nodes in between the transition ends </p>
<div class="fragment"><div class="line"><span class="lineno"> 1628</span>{</div>
<div class="line"><span class="lineno"> 1629</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1630</span>    {</div>
<div class="line"><span class="lineno"> 1631</span>        <span class="keywordflow">if</span> (edge.twin-&gt;data.hasTransitionEnds())</div>
<div class="line"><span class="lineno"> 1632</span>        {</div>
<div class="line"><span class="lineno"> 1633</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (edge.from-&gt;p - edge.to-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1634</span>            <span class="keyword">auto</span>&amp; twin_transition_ends = *edge.twin-&gt;data.getTransitionEnds();</div>
<div class="line"><span class="lineno"> 1635</span>            <span class="keywordflow">if</span> (! edge.data.hasTransitionEnds())</div>
<div class="line"><span class="lineno"> 1636</span>            {</div>
<div class="line"><span class="lineno"> 1637</span>                edge_transition_ends.emplace_back(std::make_shared&lt;std::list&lt;TransitionEnd&gt;&gt;());</div>
<div class="line"><span class="lineno"> 1638</span>                edge.data.setTransitionEnds(edge_transition_ends.back());</div>
<div class="line"><span class="lineno"> 1639</span>            }</div>
<div class="line"><span class="lineno"> 1640</span>            <span class="keyword">auto</span>&amp; transition_ends = *edge.data.getTransitionEnds();</div>
<div class="line"><span class="lineno"> 1641</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a>&amp; end : twin_transition_ends)</div>
<div class="line"><span class="lineno"> 1642</span>            {</div>
<div class="line"><span class="lineno"> 1643</span>                transition_ends.emplace_back(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> - <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>.pos, <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>.lower_bead_count, <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>.is_lower_end);</div>
<div class="line"><span class="lineno"> 1644</span>            }</div>
<div class="line"><span class="lineno"> 1645</span>            twin_transition_ends.clear();</div>
<div class="line"><span class="lineno"> 1646</span>        }</div>
<div class="line"><span class="lineno"> 1647</span>    }</div>
<div class="line"><span class="lineno"> 1648</span>    </div>
<div class="line"><span class="lineno"> 1649</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1650</span>    {</div>
<div class="line"><span class="lineno"> 1651</span>        <span class="keywordflow">if</span> (! edge.data.hasTransitionEnds())</div>
<div class="line"><span class="lineno"> 1652</span>        {</div>
<div class="line"><span class="lineno"> 1653</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1654</span>        }</div>
<div class="line"><span class="lineno"> 1655</span> </div>
<div class="line"><span class="lineno"> 1656</span>        assert(edge.data.isCentral());</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>        <span class="keyword">auto</span>&amp; transitions = *edge.data.getTransitionEnds();</div>
<div class="line"><span class="lineno"> 1659</span>        transitions.sort([](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a>&amp; a, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a>&amp; b) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.pos &lt; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.pos; } );</div>
<div class="line"><span class="lineno"> 1660</span> </div>
<div class="line"><span class="lineno"> 1661</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* from = edge.from;</div>
<div class="line"><span class="lineno"> 1662</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* to = edge.to;</div>
<div class="line"><span class="lineno"> 1663</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = from-&gt;p;</div>
<div class="line"><span class="lineno"> 1664</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = to-&gt;p;</div>
<div class="line"><span class="lineno"> 1665</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1666</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* last_edge_replacing_input = &amp;edge;</div>
<div class="line"><span class="lineno"> 1669</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a>&amp; transition_end : transitions)</div>
<div class="line"><span class="lineno"> 1670</span>        {</div>
<div class="line"><span class="lineno"> 1671</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> new_node_bead_count = transition_end.is_lower_end? transition_end.lower_bead_count : transition_end.lower_bead_count + 1;</div>
<div class="line"><span class="lineno"> 1672</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_pos = transition_end.pos;</div>
<div class="line"><span class="lineno"> 1673</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* close_node = (end_pos &lt; ab_size / 2)? from : to;</div>
<div class="line"><span class="lineno"> 1674</span>            <span class="keywordflow">if</span> ((end_pos &lt; snap_dist || end_pos &gt; ab_size - <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a921de2b3963aa119f42d50395dcf90cd">snap_dist</a>)</div>
<div class="line"><span class="lineno"> 1675</span>                &amp;&amp; close_node-&gt;data.bead_count == new_node_bead_count</div>
<div class="line"><span class="lineno"> 1676</span>            )</div>
<div class="line"><span class="lineno"> 1677</span>            {</div>
<div class="line"><span class="lineno"> 1678</span>                assert(end_pos &lt;= ab_size);</div>
<div class="line"><span class="lineno"> 1679</span>                close_node-&gt;data.transition_ratio = 0;</div>
<div class="line"><span class="lineno"> 1680</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1681</span>            }</div>
<div class="line"><span class="lineno"> 1682</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> mid = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> + <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ace185656a6f43768ff1ad821e3cd50b0">normal</a>(ab, end_pos);</div>
<div class="line"><span class="lineno"> 1683</span>            </div>
<div class="line"><span class="lineno"> 1684</span>            assert(last_edge_replacing_input-&gt;data.isCentral());</div>
<div class="line"><span class="lineno"> 1685</span>            assert(last_edge_replacing_input-&gt;data.type != <a class="code hl_enumvalue" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a>);</div>
<div class="line"><span class="lineno"> 1686</span>            last_edge_replacing_input = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#aa172659cabcb561bb08904c78ab05403">insertNode</a>(last_edge_replacing_input, mid, new_node_bead_count);</div>
<div class="line"><span class="lineno"> 1687</span>            assert(last_edge_replacing_input-&gt;data.type != <a class="code hl_enumvalue" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a>);</div>
<div class="line"><span class="lineno"> 1688</span>            assert(last_edge_replacing_input-&gt;data.isCentral());</div>
<div class="line"><span class="lineno"> 1689</span>        }</div>
<div class="line"><span class="lineno"> 1690</span>    }</div>
<div class="line"><span class="lineno"> 1691</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge_html_a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12"><div class="ttname"><a href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">Slic3r::Arachne::SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a></div><div class="ttdeci">@ EXTRA_VD</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph_html_aa172659cabcb561bb08904c78ab05403"><div class="ttname"><a href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#aa172659cabcb561bb08904c78ab05403">Slic3r::Arachne::SkeletalTrapezoidationGraph::insertNode</a></div><div class="ttdeci">edge_t * insertNode(edge_t *edge, Point mid, coord_t mide_node_bead_count)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationGraph.cpp:428</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a39b3c67cd9a38d03b5b92d7e1d063ff2"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">Slic3r::Arachne::SkeletalTrapezoidation::node_t</a></div><div class="ttdeci">STHalfEdgeNode node_t</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:57</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a40ddfce1c7872552170079b0a37ef338"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">Slic3r::Arachne::SkeletalTrapezoidation::edge_t</a></div><div class="ttdeci">STHalfEdge edge_t</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:56</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a921de2b3963aa119f42d50395dcf90cd"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a921de2b3963aa119f42d50395dcf90cd">Slic3r::Arachne::SkeletalTrapezoidation::snap_dist</a></div><div class="ttdeci">static constexpr coord_t snap_dist</div><div class="ttdoc">Generic arithmatic inaccuracy. Only used to determine whether a transition really needs to insert an ...</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:72</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a9572ca0ce89293e225061bbcd5e73d57"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">Slic3r::Arachne::SkeletalTrapezoidation::graph</a></div><div class="ttdeci">graph_t graph</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:122</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ab4595b50faf0bc42a2ead82a46db6b9f"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">Slic3r::Arachne::SkeletalTrapezoidation::TransitionEnd</a></div><div class="ttdeci">SkeletalTrapezoidationEdge::TransitionEnd TransitionEnd</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:61</div></div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:39</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ace185656a6f43768ff1ad821e3cd50b0"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ace185656a6f43768ff1ad821e3cd50b0">Slic3r::Arachne::normal</a></div><div class="ttdeci">static Point normal(const Point &amp;p0, coord_t len)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1619</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1eea52f5cabe9f6172fcec07fb0fed76"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">Slic3r::length</a></div><div class="ttdeci">double length(const Points &amp;pts)</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:116</div></div>
<div class="ttc" id="anamespaceigl_html_a6956b0660e4ee6448f77813e4bfdc871"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">igl::edges</a></div><div class="ttdeci">IGL_INLINE void edges(const Eigen::MatrixBase&lt; DerivedF &gt; &amp;F, Eigen::PlainObjectBase&lt; DerivedE &gt; &amp;E)</div><div class="ttdef"><b>Definition</b> edges.cpp:13</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ac9b51e95f63e38d00e5fc46bb96927c3"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">libnest2d::shapelike::end</a></div><div class="ttdeci">S::iterator end(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:620</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">marchsq::__impl::SquareTag::ab</a></div><div class="ttdeci">@ ab</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">Slic3r::Arachne::SkeletalTrapezoidationEdge::EXTRA_VD</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00428">Slic3r::Arachne::SkeletalTrapezoidationGraph::insertNode()</a>, <a class="el" href="../../#l00060">Slic3r::Arachne::SkeletalTrapezoidationEdge::isCentral()</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l01619">Slic3r::Arachne::normal()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00072">snap_dist</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00055">Slic3r::Arachne::SkeletalTrapezoidationEdge::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01104">generateTransitioningRibs()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_ade7687b1e6903b420f78f71cd5277c9f_cgraph.svg" width="100%" height="529"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_ade7687b1e6903b420f78f71cd5277c9f_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a691297a7db1adc72819e373e491128d4" name="a691297a7db1adc72819e373e491128d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691297a7db1adc72819e373e491128d4">&#9670;&#160;</a></span>computePointCellRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::computePointCellRange </td>
          <td>(</td>
          <td class="paramtype">vd_t::cell_type &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>start_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>end_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vd_t::edge_type *&amp;&#160;</td>
          <td class="paramname"><em>starting_vd_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vd_t::edge_type *&amp;&#160;</td>
          <td class="paramname"><em>ending_vd_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the range of line segments that surround a cell of the skeletal graph that belongs to a point on the medial axis.</p>
<p>This should only be used on cells that belong to a corner in the skeletal graph, e.g. triangular cells, not trapezoid cells.</p>
<p>The resulting line segments is just the first and the last segment. They are linked to the neighboring segments, so you can iterate over the segments until you reach the last segment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">cell</td><td>The cell to compute the range of line segments for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">start_source_point</td><td>The start point of the source segment of this cell. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">end_source_point</td><td>The end point of the source segment of this cell. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">starting_vd_edge</td><td>The edge of the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> diagram where the loop around the cell starts. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ending_vd_edge</td><td>The edge of the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> diagram where the loop around the cell ends. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>All vertices of the input Polygons. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">segments</td><td>All edges of the input Polygons. /return Whether the cell is inside of the polygon. If it's outside of the polygon we should skip processing it altogether. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  354</span>{</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">if</span> (cell.incident_edge()-&gt;is_infinite())</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//Infinite edges only occur outside of the polygon. Don&#39;t copy any part of this cell.</span></div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">// Check if any point of the cell is inside or outside polygon</span></div>
<div class="line"><span class="lineno">  359</span>    <span class="comment">// Copy whole cell into graph or not at all</span></div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="comment">// If the cell.incident_edge()-&gt;vertex0() is far away so much that it doesn&#39;t even fit into Vec2i64, then there is no way that it will be inside the input polygon.</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> vd_t::vertex_type &amp;vert = *cell.incident_edge()-&gt;vertex0();</div>
<div class="line"><span class="lineno">  363</span>        vert.x() &gt;= double(std::numeric_limits&lt;int64_t&gt;::max()) || vert.x() &lt;= double(std::numeric_limits&lt;int64_t&gt;::lowest()) ||</div>
<div class="line"><span class="lineno">  364</span>        vert.y() &gt;= double(std::numeric_limits&lt;int64_t&gt;::max()) || vert.y() &lt;= double(std::numeric_limits&lt;int64_t&gt;::lowest()))</div>
<div class="line"><span class="lineno">  365</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Don&#39;t copy any part of this cell</span></div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> source_point = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a0d025ec9798defe1e31a50115fd0de19">VoronoiUtils::getSourcePoint</a>(cell, segments);</div>
<div class="line"><span class="lineno">  368</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a514e53bfde04309d8136ee4db2171e68">PolygonsPointIndex</a> source_point_index = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a59e27aa4fb9ff9410f90f568d6256872">VoronoiUtils::getSourcePointIndex</a>(cell, segments);</div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a22593b4c09aae0a8b85d1c1befc2ce27">Vec2i64</a> some_point = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(cell.incident_edge()-&gt;vertex0());</div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">if</span> (some_point == source_point.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;())</div>
<div class="line"><span class="lineno">  371</span>        some_point = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(cell.incident_edge()-&gt;vertex1());</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    <span class="comment">//Test if the some_point is even inside the polygon.</span></div>
<div class="line"><span class="lineno">  374</span>    <span class="comment">//The edge leading out of a polygon must have an endpoint that&#39;s not in the corner following the contour of the polygon at that vertex.</span></div>
<div class="line"><span class="lineno">  375</span>    <span class="comment">//So if it&#39;s inside the corner formed by the polygon vertex, it&#39;s all fine.</span></div>
<div class="line"><span class="lineno">  376</span>    <span class="comment">//But if it&#39;s outside of the corner, it must be a vertex of the Voronoi diagram that goes outside of the polygon towards infinity.</span></div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dd/d3a/namespace_slic3r_1_1_arachne_1_1_linear_alg2_d.html#a99e3edde08902613f75f2b95b8ee5217">LinearAlg2D::isInsideCorner</a>(source_point_index.prev().p(), source_point_index.p(), source_point_index.next().p(), some_point))</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Don&#39;t copy any part of this cell</span></div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    vd_t::edge_type* vd_edge = cell.incident_edge();</div>
<div class="line"><span class="lineno">  381</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  382</span>        assert(vd_edge-&gt;is_finite());</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a22593b4c09aae0a8b85d1c1befc2ce27">Vec2i64</a> p1 = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()); p1 == source_point.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;()) {</div>
<div class="line"><span class="lineno">  384</span>            start_source_point = source_point;</div>
<div class="line"><span class="lineno">  385</span>            end_source_point = source_point;</div>
<div class="line"><span class="lineno">  386</span>            starting_vd_edge = vd_edge-&gt;next();</div>
<div class="line"><span class="lineno">  387</span>            ending_vd_edge = vd_edge;</div>
<div class="line"><span class="lineno">  388</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  389</span>            assert((<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()) == source_point.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() || !vd_edge-&gt;is_secondary()) &amp;&amp; <span class="stringliteral">&quot;point cells must end in the point! They cannot cross the point with an edge, because collinear edges are not allowed in the input.&quot;</span>);</div>
<div class="line"><span class="lineno">  390</span>        }</div>
<div class="line"><span class="lineno">  391</span>    }</div>
<div class="line"><span class="lineno">  392</span>    <span class="keywordflow">while</span> (vd_edge = vd_edge-&gt;next(), vd_edge != cell.incident_edge());</div>
<div class="line"><span class="lineno">  393</span>    assert(starting_vd_edge &amp;&amp; ending_vd_edge);</div>
<div class="line"><span class="lineno">  394</span>    assert(starting_vd_edge != ending_vd_edge);</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  396</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a0d025ec9798defe1e31a50115fd0de19"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a0d025ec9798defe1e31a50115fd0de19">Slic3r::Arachne::VoronoiUtils::getSourcePoint</a></div><div class="ttdeci">static Point getSourcePoint(const vd_t::cell_type &amp;cell, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> VoronoiUtils.cpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a59e27aa4fb9ff9410f90f568d6256872"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a59e27aa4fb9ff9410f90f568d6256872">Slic3r::Arachne::VoronoiUtils::getSourcePointIndex</a></div><div class="ttdeci">static PolygonsPointIndex getSourcePointIndex(const vd_t::cell_type &amp;cell, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> VoronoiUtils.cpp:53</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a6d7054b19bf5b061c052552ff693144d"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">Slic3r::Arachne::VoronoiUtils::p</a></div><div class="ttdeci">static Vec2i64 p(const vd_t::vertex_type *node)</div><div class="ttdef"><b>Definition</b> VoronoiUtils.cpp:14</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_1_1_linear_alg2_d_html_a99e3edde08902613f75f2b95b8ee5217"><div class="ttname"><a href="../../dd/d3a/namespace_slic3r_1_1_arachne_1_1_linear_alg2_d.html#a99e3edde08902613f75f2b95b8ee5217">Slic3r::Arachne::LinearAlg2D::isInsideCorner</a></div><div class="ttdeci">static bool isInsideCorner(const Point &amp;a, const Point &amp;b, const Point &amp;c, const Vec2i64 &amp;query_point)</div><div class="ttdef"><b>Definition</b> linearAlg2D.hpp:19</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a514e53bfde04309d8136ee4db2171e68"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a514e53bfde04309d8136ee4db2171e68">Slic3r::Arachne::PolygonsPointIndex</a></div><div class="ttdeci">PathsPointIndex&lt; Polygons &gt; PolygonsPointIndex</div><div class="ttdef"><b>Definition</b> PolygonsPointIndex.hpp:130</div></div>
<div class="ttc" id="anamespace_slic3r_html_a22593b4c09aae0a8b85d1c1befc2ce27"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a22593b4c09aae0a8b85d1c1befc2ce27">Slic3r::Vec2i64</a></div><div class="ttdeci">Eigen::Matrix&lt; int64_t, 2, 1, Eigen::DontAlign &gt; Vec2i64</div><div class="ttdef"><b>Definition</b> Point.hpp:43</div></div>
<div class="ttc" id="aunistd_8h_html_a67a9885ef4908cb72ce26d75b694386c"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a></div><div class="ttdeci">__int64 int64_t</div><div class="ttdef"><b>Definition</b> unistd.h:76</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00024">Slic3r::Arachne::VoronoiUtils::getSourcePoint()</a>, <a class="el" href="../../#l00053">Slic3r::Arachne::VoronoiUtils::getSourcePointIndex()</a>, <a class="el" href="../../#l00019">Slic3r::Arachne::LinearAlg2D::isInsideCorner()</a>, <a class="el" href="../../#l00115">Slic3r::Arachne::PathsPointIndex&lt; Paths &gt;::next()</a>, <a class="el" href="../../#l00057">Slic3r::Arachne::PathsPointIndex&lt; Paths &gt;::p()</a>, <a class="el" href="../../#l00014">Slic3r::Arachne::VoronoiUtils::p()</a>, and <a class="el" href="../../#l00122">Slic3r::Arachne::PathsPointIndex&lt; Paths &gt;::prev()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a691297a7db1adc72819e373e491128d4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a691297a7db1adc72819e373e491128d4_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a41badcb918fc0d75743356fd1a8b235e" name="a41badcb918fc0d75743356fd1a8b235e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41badcb918fc0d75743356fd1a8b235e">&#9670;&#160;</a></span>computeSegmentCellRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::computeSegmentCellRange </td>
          <td>(</td>
          <td class="paramtype">vd_t::cell_type &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>start_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>end_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vd_t::edge_type *&amp;&#160;</td>
          <td class="paramname"><em>starting_vd_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vd_t::edge_type *&amp;&#160;</td>
          <td class="paramname"><em>ending_vd_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the range of line segments that surround a cell of the skeletal graph that belongs to a line segment of the medial axis.</p>
<p>This should only be used on cells that belong to a central line segment of the skeletal graph, e.g. trapezoid cells, not triangular cells.</p>
<p>The resulting line segments is just the first and the last segment. They are linked to the neighboring segments, so you can iterate over the segments until you reach the last segment. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">cell</td><td>The cell to compute the range of line segments for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">start_source_point</td><td>The start point of the source segment of this cell. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">end_source_point</td><td>The end point of the source segment of this cell. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">starting_vd_edge</td><td>The edge of the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> diagram where the loop around the cell starts. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ending_vd_edge</td><td>The edge of the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> diagram where the loop around the cell ends. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">points</td><td>All vertices of the input Polygons. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">segments</td><td>All edges of the input Polygons. /return Whether the cell is inside of the polygon. If it's outside of the polygon we should skip processing it altogether. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  399</span>{</div>
<div class="line"><span class="lineno">  400</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &amp;source_segment = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a7ea690fb5f7e9df8f33263e7b2c5425c">VoronoiUtils::getSourceSegment</a>(cell, segments);</div>
<div class="line"><span class="lineno">  401</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>    from           = source_segment.from();</div>
<div class="line"><span class="lineno">  402</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>    to             = source_segment.to();</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="comment">// Find starting edge</span></div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">// Find end edge</span></div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordtype">bool</span> seen_possible_start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordtype">bool</span> after_start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordtype">bool</span> ending_edge_is_set_before_start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  409</span>    vd_t::edge_type* edge = cell.incident_edge();</div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">if</span> (edge-&gt;is_infinite())</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a22593b4c09aae0a8b85d1c1befc2ce27">Vec2i64</a> v0 = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(edge-&gt;vertex0());</div>
<div class="line"><span class="lineno">  415</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a22593b4c09aae0a8b85d1c1befc2ce27">Vec2i64</a> v1 = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(edge-&gt;vertex1());</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>        assert(!(v0 == to.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() &amp;&amp; v1 == from.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() ));</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">if</span> (v0 == to.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;()  &amp;&amp; !after_start) { <span class="comment">// Use the last edge which starts in source_segment.to</span></div>
<div class="line"><span class="lineno">  419</span>            starting_vd_edge = edge;</div>
<div class="line"><span class="lineno">  420</span>            seen_possible_start = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (seen_possible_start) {</div>
<div class="line"><span class="lineno">  423</span>            after_start = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  424</span>        }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">if</span> (v1 == from.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;()  &amp;&amp; (!ending_vd_edge || ending_edge_is_set_before_start)) {</div>
<div class="line"><span class="lineno">  427</span>            ending_edge_is_set_before_start = !after_start;</div>
<div class="line"><span class="lineno">  428</span>            ending_vd_edge = edge;</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span>    } <span class="keywordflow">while</span> (edge = edge-&gt;next(), edge != cell.incident_edge());</div>
<div class="line"><span class="lineno">  431</span>    </div>
<div class="line"><span class="lineno">  432</span>    assert(starting_vd_edge &amp;&amp; ending_vd_edge);</div>
<div class="line"><span class="lineno">  433</span>    assert(starting_vd_edge != ending_vd_edge);</div>
<div class="line"><span class="lineno">  434</span>    </div>
<div class="line"><span class="lineno">  435</span>    start_source_point = source_segment.to();</div>
<div class="line"><span class="lineno">  436</span>    end_source_point = source_segment.from();</div>
<div class="line"><span class="lineno">  437</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ac4eae0ffe69e5a5684b190239116536b"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Slic3r::Arachne::SkeletalTrapezoidation::Segment</a></div><div class="ttdeci">PolygonsSegmentIndex Segment</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:85</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a7ea690fb5f7e9df8f33263e7b2c5425c"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a7ea690fb5f7e9df8f33263e7b2c5425c">Slic3r::Arachne::VoronoiUtils::getSourceSegment</a></div><div class="ttdeci">static const Segment &amp; getSourceSegment(const vd_t::cell_type &amp;cell, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> VoronoiUtils.cpp:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00023">Slic3r::Arachne::PolygonsSegmentIndex::from()</a>, <a class="el" href="../../#l00081">Slic3r::Arachne::VoronoiUtils::getSourceSegment()</a>, <a class="el" href="../../#l00014">Slic3r::Arachne::VoronoiUtils::p()</a>, and <a class="el" href="../../#l00025">Slic3r::Arachne::PolygonsSegmentIndex::to()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a41badcb918fc0d75743356fd1a8b235e_cgraph.svg" width="100%" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a41badcb918fc0d75743356fd1a8b235e_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a42d4633b5b27c9639196665a837a7695" name="a42d4633b5b27c9639196665a837a7695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d4633b5b27c9639196665a837a7695">&#9670;&#160;</a></span>connectJunctions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::connectJunctions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_junctions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>connect junctions in each quad </p>
<div class="fragment"><div class="line"><span class="lineno"> 2290</span>{</div>
<div class="line"><span class="lineno"> 2291</span>    <span class="keyword">using </span>EdgeSet = ankerl::unordered_dense::set&lt;edge_t*&gt;;</div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>    EdgeSet unprocessed_quad_starts(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.size() * 5 / 2);</div>
<div class="line"><span class="lineno"> 2294</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 2295</span>    {</div>
<div class="line"><span class="lineno"> 2296</span>        <span class="keywordflow">if</span> (!edge.prev)</div>
<div class="line"><span class="lineno"> 2297</span>        {</div>
<div class="line"><span class="lineno"> 2298</span>            unprocessed_quad_starts.emplace(&amp;edge);</div>
<div class="line"><span class="lineno"> 2299</span>        }</div>
<div class="line"><span class="lineno"> 2300</span>    }</div>
<div class="line"><span class="lineno"> 2301</span> </div>
<div class="line"><span class="lineno"> 2302</span>    EdgeSet passed_odd_edges;</div>
<div class="line"><span class="lineno"> 2303</span> </div>
<div class="line"><span class="lineno"> 2304</span>    <span class="keywordflow">while</span> (!unprocessed_quad_starts.empty())</div>
<div class="line"><span class="lineno"> 2305</span>    {</div>
<div class="line"><span class="lineno"> 2306</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* poly_domain_start = *unprocessed_quad_starts.begin();</div>
<div class="line"><span class="lineno"> 2307</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* quad_start = poly_domain_start;</div>
<div class="line"><span class="lineno"> 2308</span>        <span class="keywordtype">bool</span> new_domain_start = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2309</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2310</span>        {</div>
<div class="line"><span class="lineno"> 2311</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* quad_end = quad_start;</div>
<div class="line"><span class="lineno"> 2312</span>            <span class="keywordflow">while</span> (quad_end-&gt;next)</div>
<div class="line"><span class="lineno"> 2313</span>            {</div>
<div class="line"><span class="lineno"> 2314</span>                quad_end = quad_end-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>;</div>
<div class="line"><span class="lineno"> 2315</span>            }</div>
<div class="line"><span class="lineno"> 2316</span> </div>
<div class="line"><span class="lineno"> 2317</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge_to_peak = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a21b4f2553c8f4ee719ba064f2de1647d">getQuadMaxRedgeTo</a>(quad_start);</div>
<div class="line"><span class="lineno"> 2318</span>            <span class="comment">// walk down on both sides and connect junctions</span></div>
<div class="line"><span class="lineno"> 2319</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge_from_peak = edge_to_peak-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; assert(edge_from_peak);</div>
<div class="line"><span class="lineno"> 2320</span> </div>
<div class="line"><span class="lineno"> 2321</span>            unprocessed_quad_starts.erase(quad_start);</div>
<div class="line"><span class="lineno"> 2322</span> </div>
<div class="line"><span class="lineno"> 2323</span>            <span class="keywordflow">if</span> (! edge_to_peak-&gt;data.hasExtrusionJunctions())</div>
<div class="line"><span class="lineno"> 2324</span>            {</div>
<div class="line"><span class="lineno"> 2325</span>                edge_junctions.emplace_back(std::make_shared&lt;LineJunctions&gt;());</div>
<div class="line"><span class="lineno"> 2326</span>                edge_to_peak-&gt;data.setExtrusionJunctions(edge_junctions.back());</div>
<div class="line"><span class="lineno"> 2327</span>            }</div>
<div class="line"><span class="lineno"> 2328</span>            <span class="comment">// The junctions on the edge(s) from the start of the quad to the node with highest R</span></div>
<div class="line"><span class="lineno"> 2329</span>            <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> from_junctions = *edge_to_peak-&gt;data.getExtrusionJunctions();</div>
<div class="line"><span class="lineno"> 2330</span>            <span class="keywordflow">if</span> (! edge_from_peak-&gt;twin-&gt;data.hasExtrusionJunctions())</div>
<div class="line"><span class="lineno"> 2331</span>            {</div>
<div class="line"><span class="lineno"> 2332</span>                edge_junctions.emplace_back(std::make_shared&lt;LineJunctions&gt;());</div>
<div class="line"><span class="lineno"> 2333</span>                edge_from_peak-&gt;twin-&gt;data.setExtrusionJunctions(edge_junctions.back());</div>
<div class="line"><span class="lineno"> 2334</span>            }</div>
<div class="line"><span class="lineno"> 2335</span>            <span class="comment">// The junctions on the edge(s) from the end of the quad to the node with highest R</span></div>
<div class="line"><span class="lineno"> 2336</span>            <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> to_junctions = *edge_from_peak-&gt;twin-&gt;data.getExtrusionJunctions();</div>
<div class="line"><span class="lineno"> 2337</span>            <span class="keywordflow">if</span> (edge_to_peak-&gt;prev)</div>
<div class="line"><span class="lineno"> 2338</span>            {</div>
<div class="line"><span class="lineno"> 2339</span>                <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> from_prev_junctions = *edge_to_peak-&gt;prev-&gt;data.getExtrusionJunctions();</div>
<div class="line"><span class="lineno"> 2340</span>                <span class="keywordflow">while</span> (!from_junctions.empty() &amp;&amp; !from_prev_junctions.empty() &amp;&amp; from_junctions.back().perimeter_index &lt;= from_prev_junctions.front().perimeter_index)</div>
<div class="line"><span class="lineno"> 2341</span>                {</div>
<div class="line"><span class="lineno"> 2342</span>                    from_junctions.pop_back();</div>
<div class="line"><span class="lineno"> 2343</span>                }</div>
<div class="line"><span class="lineno"> 2344</span>                from_junctions.reserve(from_junctions.size() + from_prev_junctions.size());</div>
<div class="line"><span class="lineno"> 2345</span>                from_junctions.insert(from_junctions.end(), from_prev_junctions.begin(), from_prev_junctions.end());</div>
<div class="line"><span class="lineno"> 2346</span>                assert(!edge_to_peak-&gt;prev-&gt;prev);</div>
<div class="line"><span class="lineno"> 2347</span>                <span class="keywordflow">if</span>(edge_to_peak-&gt;prev-&gt;prev)</div>
<div class="line"><span class="lineno"> 2348</span>                {</div>
<div class="line"><span class="lineno"> 2349</span>                    BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;The edge we&#39;re about to connect is already connected.&quot;</span>;</div>
<div class="line"><span class="lineno"> 2350</span>                }</div>
<div class="line"><span class="lineno"> 2351</span>            }</div>
<div class="line"><span class="lineno"> 2352</span>            <span class="keywordflow">if</span> (edge_from_peak-&gt;next)</div>
<div class="line"><span class="lineno"> 2353</span>            {</div>
<div class="line"><span class="lineno"> 2354</span>                <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> to_next_junctions = *edge_from_peak-&gt;next-&gt;twin-&gt;data.getExtrusionJunctions();</div>
<div class="line"><span class="lineno"> 2355</span>                <span class="keywordflow">while</span> (!to_junctions.empty() &amp;&amp; !to_next_junctions.empty() &amp;&amp; to_junctions.back().perimeter_index &lt;= to_next_junctions.front().perimeter_index)</div>
<div class="line"><span class="lineno"> 2356</span>                {</div>
<div class="line"><span class="lineno"> 2357</span>                    to_junctions.pop_back();</div>
<div class="line"><span class="lineno"> 2358</span>                }</div>
<div class="line"><span class="lineno"> 2359</span>                to_junctions.reserve(to_junctions.size() + to_next_junctions.size());</div>
<div class="line"><span class="lineno"> 2360</span>                to_junctions.insert(to_junctions.end(), to_next_junctions.begin(), to_next_junctions.end());</div>
<div class="line"><span class="lineno"> 2361</span>                assert(!edge_from_peak-&gt;next-&gt;next);</div>
<div class="line"><span class="lineno"> 2362</span>                <span class="keywordflow">if</span>(edge_from_peak-&gt;next-&gt;next)</div>
<div class="line"><span class="lineno"> 2363</span>                {</div>
<div class="line"><span class="lineno"> 2364</span>                    BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;The edge we&#39;re about to connect is already connected!&quot;</span>;</div>
<div class="line"><span class="lineno"> 2365</span>                }</div>
<div class="line"><span class="lineno"> 2366</span>            }</div>
<div class="line"><span class="lineno"> 2367</span>            assert(std::abs(<span class="keywordtype">int</span>(from_junctions.size()) - <span class="keywordtype">int</span>(to_junctions.size())) &lt;= 1); <span class="comment">// at transitions one end has more beads</span></div>
<div class="line"><span class="lineno"> 2368</span>            <span class="keywordflow">if</span>(std::abs(<span class="keywordtype">int</span>(from_junctions.size()) - <span class="keywordtype">int</span>(to_junctions.size())) &gt; 1)</div>
<div class="line"><span class="lineno"> 2369</span>            {</div>
<div class="line"><span class="lineno"> 2370</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Can&#39;t create a transition when connecting two perimeters where the number of beads differs too much! &quot;</span> &lt;&lt; from_junctions.size() &lt;&lt; <span class="stringliteral">&quot; vs. &quot;</span> &lt;&lt; to_junctions.size();</div>
<div class="line"><span class="lineno"> 2371</span>            }</div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>            <span class="keywordtype">size_t</span> segment_count = std::min(from_junctions.size(), to_junctions.size());</div>
<div class="line"><span class="lineno"> 2374</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> junction_rev_idx = 0; junction_rev_idx &lt; segment_count; junction_rev_idx++)</div>
<div class="line"><span class="lineno"> 2375</span>            {</div>
<div class="line"><span class="lineno"> 2376</span>                ExtrusionJunction&amp; from = from_junctions[from_junctions.size() - 1 - junction_rev_idx];</div>
<div class="line"><span class="lineno"> 2377</span>                ExtrusionJunction&amp; to = to_junctions[to_junctions.size() - 1 - junction_rev_idx];</div>
<div class="line"><span class="lineno"> 2378</span>                assert(from.perimeter_index == to.perimeter_index);</div>
<div class="line"><span class="lineno"> 2379</span>                <span class="keywordflow">if</span>(from.perimeter_index != to.perimeter_index)</div>
<div class="line"><span class="lineno"> 2380</span>                {</div>
<div class="line"><span class="lineno"> 2381</span>                    BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Connecting two perimeters with different indices! Perimeter &quot;</span> &lt;&lt; from.perimeter_index &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; to.perimeter_index;</div>
<div class="line"><span class="lineno"> 2382</span>                }</div>
<div class="line"><span class="lineno"> 2383</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> from_is_odd =</div>
<div class="line"><span class="lineno"> 2384</span>                    quad_start-&gt;to-&gt;data.bead_count &gt; 0 &amp;&amp; quad_start-&gt;to-&gt;data.bead_count % 2 == 1 <span class="comment">// quad contains single bead segment</span></div>
<div class="line"><span class="lineno"> 2385</span>                    &amp;&amp; quad_start-&gt;to-&gt;data.transition_ratio == 0 <span class="comment">// We&#39;re not in a transition</span></div>
<div class="line"><span class="lineno"> 2386</span>                    &amp;&amp; junction_rev_idx == segment_count - 1 <span class="comment">// Is single bead segment</span></div>
<div class="line"><span class="lineno"> 2387</span>                    &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(from.p - quad_start-&gt;to-&gt;p, scaled&lt;coord_t&gt;(0.005));</div>
<div class="line"><span class="lineno"> 2388</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> to_is_odd =</div>
<div class="line"><span class="lineno"> 2389</span>                    quad_end-&gt;from-&gt;data.bead_count &gt; 0 &amp;&amp; quad_end-&gt;from-&gt;data.bead_count % 2 == 1 <span class="comment">// quad contains single bead segment</span></div>
<div class="line"><span class="lineno"> 2390</span>                    &amp;&amp; quad_end-&gt;from-&gt;data.transition_ratio == 0 <span class="comment">// We&#39;re not in a transition</span></div>
<div class="line"><span class="lineno"> 2391</span>                    &amp;&amp; junction_rev_idx == segment_count - 1 <span class="comment">// Is single bead segment</span></div>
<div class="line"><span class="lineno"> 2392</span>                    &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(to.p - quad_end-&gt;from-&gt;p, scaled&lt;coord_t&gt;(0.005));</div>
<div class="line"><span class="lineno"> 2393</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_odd_segment = from_is_odd &amp;&amp; to_is_odd;</div>
<div class="line"><span class="lineno"> 2394</span>                <span class="keywordflow">if</span> (is_odd_segment</div>
<div class="line"><span class="lineno"> 2395</span>                    &amp;&amp; passed_odd_edges.count(quad_start-&gt;next-&gt;twin) &gt; 0) <span class="comment">// Only generate toolpath for odd segments once</span></div>
<div class="line"><span class="lineno"> 2396</span>                {</div>
<div class="line"><span class="lineno"> 2397</span>                    <span class="keywordflow">continue</span>; <span class="comment">// Prevent duplication of single bead segments</span></div>
<div class="line"><span class="lineno"> 2398</span>                }</div>
<div class="line"><span class="lineno"> 2399</span>                <span class="keywordtype">bool</span> from_is_3way = from_is_odd &amp;&amp; quad_start-&gt;to-&gt;isMultiIntersection();</div>
<div class="line"><span class="lineno"> 2400</span>                <span class="keywordtype">bool</span> to_is_3way = to_is_odd &amp;&amp; quad_end-&gt;from-&gt;isMultiIntersection();</div>
<div class="line"><span class="lineno"> 2401</span>                passed_odd_edges.emplace(quad_start-&gt;next);</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>                <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3f1d2c96e8335b0a13b8e3bbb474c534">addToolpathSegment</a>(from, to, is_odd_segment, new_domain_start, from_is_3way, to_is_3way);</div>
<div class="line"><span class="lineno"> 2404</span>            }</div>
<div class="line"><span class="lineno"> 2405</span>            new_domain_start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2406</span>        }</div>
<div class="line"><span class="lineno"> 2407</span>        <span class="keywordflow">while</span>(quad_start = quad_start-&gt;getNextUnconnected(), quad_start != poly_domain_start);</div>
<div class="line"><span class="lineno"> 2408</span>    }</div>
<div class="line"><span class="lineno"> 2409</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_ab71a672f92221d472ba0242af5f319b9"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">Slic3r::Arachne::HalfEdge::next</a></div><div class="ttdeci">edge_t * next</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:25</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a21b4f2553c8f4ee719ba064f2de1647d"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a21b4f2553c8f4ee719ba064f2de1647d">Slic3r::Arachne::SkeletalTrapezoidation::getQuadMaxRedgeTo</a></div><div class="ttdeci">edge_t * getQuadMaxRedgeTo(edge_t *quad_start_edge)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1892</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a3f1d2c96e8335b0a13b8e3bbb474c534"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3f1d2c96e8335b0a13b8e3bbb474c534">Slic3r::Arachne::SkeletalTrapezoidation::addToolpathSegment</a></div><div class="ttdeci">void addToolpathSegment(const ExtrusionJunction &amp;from, const ExtrusionJunction &amp;to, bool is_odd, bool force_new_path, bool from_is_3way, bool to_is_3way)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2242</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a05d5cdf0ea42ad57c160d8646672ffa7"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">Slic3r::Arachne::LineJunctions</a></div><div class="ttdeci">std::vector&lt; ExtrusionJunction &gt; LineJunctions</div><div class="ttdef"><b>Definition</b> ExtrusionJunction.hpp:56</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a60152e7ce64796c99924179ecfc5a269"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">Slic3r::Arachne::HalfEdgeGraph::edges</a></div><div class="ttdeci">Edges edges</div><div class="ttdef"><b>Definition</b> HalfEdgeGraph.hpp:26</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00108">Slic3r::Arachne::SkeletalTrapezoidationEdge::getExtrusionJunctions()</a>, <a class="el" href="../../#l00110">Slic3r::Arachne::STHalfEdge::getNextUnconnected()</a>, <a class="el" href="../../#l00100">Slic3r::Arachne::SkeletalTrapezoidationEdge::hasExtrusionJunctions()</a>, <a class="el" href="../../#l00126">Slic3r::Arachne::STHalfEdgeNode::isMultiIntersection()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::ExtrusionJunction::p</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00038">Slic3r::Arachne::ExtrusionJunction::perimeter_index</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::prev</a>, <a class="el" href="../../#l00104">Slic3r::Arachne::SkeletalTrapezoidationEdge::setExtrusionJunctions()</a>, <a class="el" href="../../#l00301">Slic3r::shorter_then()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a42d4633b5b27c9639196665a837a7695_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3410b9a03fd08d89605d3e083ff37191" name="a3410b9a03fd08d89605d3e083ff37191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3410b9a03fd08d89605d3e083ff37191">&#9670;&#160;</a></span>constructFromPolygons()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::constructFromPolygons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the skeletal trapezoidation decomposition of the input shape.</p>
<p>Compute the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> Diagram (VD) and transfer all inside edges into our half-edge (HE) datastructure.</p>
<p>The algorithm is currently a bit overcomplicated, because the discretization of parabolic edges is performed at the same time as all edges are being transfered, which means that there is no one-to-one mapping from VD edges to HE edges. Instead we map from a VD edge to the last HE edge. This could be cimplified by recording the edges which should be discretized and discretizing the mafterwards.</p>
<p>Another complication arises because the VD uses floating logic, which can result in zero-length segments after rounding to integers. We therefore collapse edges and their whole cells afterwards. </p>
<div class="fragment"><div class="line"><span class="lineno">  643</span>{</div>
<div class="line"><span class="lineno">  644</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  645</span>    this-&gt;outline = polys;</div>
<div class="line"><span class="lineno">  646</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="comment">// Check self intersections.</span></div>
<div class="line"><span class="lineno">  649</span>    assert([&amp;polys]() -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">  650</span>        EdgeGrid::Grid <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>;</div>
<div class="line"><span class="lineno">  651</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.set_bbox(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">get_extents</a>(polys));</div>
<div class="line"><span class="lineno">  652</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.create(polys, scaled&lt;coord_t&gt;(10.));</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">return</span> !<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.has_intersecting_edges();</div>
<div class="line"><span class="lineno">  654</span>    }());</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a>.clear();</div>
<div class="line"><span class="lineno">  657</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.clear();</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>    std::vector&lt;Segment&gt; segments;</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> poly_idx = 0; poly_idx &lt; polys.size(); poly_idx++)</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> point_idx = 0; point_idx &lt; polys[poly_idx].size(); point_idx++)</div>
<div class="line"><span class="lineno">  662</span>            segments.emplace_back(&amp;polys, poly_idx, point_idx);</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  665</span>    {</div>
<div class="line"><span class="lineno">  666</span>        <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">  667</span>        BoundingBox bbox = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">get_extents</a>(polys);</div>
<div class="line"><span class="lineno">  668</span>        <a class="code hl_enumvalue" href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">SVG</a> svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;arachne_voronoi-input-%d.svg&quot;</span>, iRun++).c_str(), bbox);</div>
<div class="line"><span class="lineno">  669</span>        svg.draw_outline(polys, <span class="stringliteral">&quot;black&quot;</span>, scaled&lt;coordf_t&gt;(0.03f));</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="line"><span class="lineno">  671</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>    Geometry::VoronoiDiagram voronoi_diagram;</div>
<div class="line"><span class="lineno">  674</span>    construct_voronoi(segments.begin(), segments.end(), &amp;voronoi_diagram);</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span><span class="preprocessor">#ifdef ARACHNE_DEBUG_VORONOI</span></div>
<div class="line"><span class="lineno">  677</span>    {</div>
<div class="line"><span class="lineno">  678</span>        <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">  679</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a786a31f8307b3d772ae885e1e4590f21">dump_voronoi_to_svg</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;arachne_voronoi-diagram-%d.svg&quot;</span>, iRun++).c_str(), voronoi_diagram, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ad15465925cebad24aeb551e245ae6530">to_points</a>(polys), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a61e88a2d1ff0bec5ec86a23273dda52a">to_lines</a>(polys));</div>
<div class="line"><span class="lineno">  680</span>    }</div>
<div class="line"><span class="lineno">  681</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="comment">// When any Voronoi vertex is missing, the Voronoi diagram is not planar, or some voronoi edge is</span></div>
<div class="line"><span class="lineno">  684</span>    <span class="comment">// intersecting input segment, rotate the input polygon and try again.</span></div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_enumeration" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1">VoronoiDiagramStatus</a>      status         = <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ad1b0fdd33c44e3e241b012a4d4091fa9">detect_voronoi_diagram_known_issues</a>(voronoi_diagram, segments);</div>
<div class="line"><span class="lineno">  686</span>    <span class="keyword">const</span> std::vector&lt;double&gt; fix_angles     = {<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 6, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 5, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 7, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 11};</div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordtype">double</span>                    fixed_by_angle = fix_angles.front();</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aed4ab3bdf5b56a95308b7004e04edaa6">PointMap</a> vertex_mapping;</div>
<div class="line"><span class="lineno">  690</span>    <span class="comment">// polys_copy is referenced through items stored in the std::vector segments.</span></div>
<div class="line"><span class="lineno">  691</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>                                    polys_copy = polys;</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">VoronoiDiagramStatus::NO_ISSUE_DETECTED</a>) {</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1ab4ade307290bfdb080c818ccb0776cd0">VoronoiDiagramStatus::MISSING_VORONOI_VERTEX</a>)</div>
<div class="line"><span class="lineno">  694</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Detected missing Voronoi vertex, input polygons will be rotated back and forth.&quot;</span>;</div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a9d1ffa7b503548e0e73f2212564b5c5b">VoronoiDiagramStatus::NON_PLANAR_VORONOI_DIAGRAM</a>)</div>
<div class="line"><span class="lineno">  696</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Detected non-planar Voronoi diagram, input polygons will be rotated back and forth.&quot;</span>;</div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a5a641038844b5eace26f963ba2cac1ab">VoronoiDiagramStatus::VORONOI_EDGE_INTERSECTING_INPUT_SEGMENT</a>)</div>
<div class="line"><span class="lineno">  698</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Detected Voronoi edge intersecting input segment, input polygons will be rotated back and forth.&quot;</span>;</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>        std::tie(vertex_mapping, fixed_by_angle) = <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#aac9d87f5f51362dff973840aa2492741">try_to_fix_degenerated_voronoi_diagram_by_rotation</a>(voronoi_diagram, polys, polys_copy, segments, fix_angles);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <a class="code hl_enumeration" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1">VoronoiDiagramStatus</a> status_after_fix = <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ad1b0fdd33c44e3e241b012a4d4091fa9">detect_voronoi_diagram_known_issues</a>(voronoi_diagram, segments);</div>
<div class="line"><span class="lineno">  703</span>        assert(status_after_fix == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">VoronoiDiagramStatus::NO_ISSUE_DETECTED</a>);</div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">if</span> (status_after_fix == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1ab4ade307290bfdb080c818ccb0776cd0">VoronoiDiagramStatus::MISSING_VORONOI_VERTEX</a>)</div>
<div class="line"><span class="lineno">  705</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Detected missing Voronoi vertex even after the rotation of input.&quot;</span>;</div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status_after_fix == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a9d1ffa7b503548e0e73f2212564b5c5b">VoronoiDiagramStatus::NON_PLANAR_VORONOI_DIAGRAM</a>)</div>
<div class="line"><span class="lineno">  707</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Detected non-planar Voronoi diagram even after the rotation of input.&quot;</span>;</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status_after_fix == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a5a641038844b5eace26f963ba2cac1ab">VoronoiDiagramStatus::VORONOI_EDGE_INTERSECTING_INPUT_SEGMENT</a>)</div>
<div class="line"><span class="lineno">  709</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Detected Voronoi edge intersecting input segment even after the rotation of input.&quot;</span>;</div>
<div class="line"><span class="lineno">  710</span>    }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>process_voronoi_diagram:</div>
<div class="line"><span class="lineno">  713</span>    assert(this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.empty() &amp;&amp; this-&gt;graph.nodes.empty() &amp;&amp; this-&gt;vd_edge_to_he_edge.empty() &amp;&amp; this-&gt;vd_node_to_he_node.empty());</div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">for</span> (vd_t::cell_type cell : voronoi_diagram.cells()) {</div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">if</span> (!cell.incident_edge())</div>
<div class="line"><span class="lineno">  716</span>            <span class="keywordflow">continue</span>; <span class="comment">// There is no spoon</span></div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> start_source_point;</div>
<div class="line"><span class="lineno">  719</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> end_source_point;</div>
<div class="line"><span class="lineno">  720</span>        vd_t::edge_type* starting_voronoi_edge = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  721</span>        vd_t::edge_type* ending_voronoi_edge   = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  722</span>        <span class="comment">// Compute and store result in above variables</span></div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span> (cell.contains_point()) {</div>
<div class="line"><span class="lineno">  725</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> keep_going = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a691297a7db1adc72819e373e491128d4">computePointCellRange</a>(cell, start_source_point, end_source_point, starting_voronoi_edge, ending_voronoi_edge, segments);</div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">if</span> (!keep_going)</div>
<div class="line"><span class="lineno">  727</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  728</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  729</span>            assert(cell.contains_segment());</div>
<div class="line"><span class="lineno">  730</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a41badcb918fc0d75743356fd1a8b235e">computeSegmentCellRange</a>(cell, start_source_point, end_source_point, starting_voronoi_edge, ending_voronoi_edge, segments);</div>
<div class="line"><span class="lineno">  731</span>        }</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>        <span class="keywordflow">if</span> (!starting_voronoi_edge || !ending_voronoi_edge) {</div>
<div class="line"><span class="lineno">  734</span>            assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Each cell should start / end in a polygon vertex&quot;</span>);</div>
<div class="line"><span class="lineno">  735</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  736</span>        }</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>        <span class="comment">// Copy start to end edge to graph</span></div>
<div class="line"><span class="lineno">  739</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* prev_edge = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  740</span>        assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex1()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex1()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  741</span>        assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex1()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex1()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  742</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40327127e6fe656b1e8574945373f4e2">transferEdge</a>(start_source_point, <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex1()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(), *starting_voronoi_edge, prev_edge, start_source_point, end_source_point, segments);</div>
<div class="line"><span class="lineno">  743</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* starting_node = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>[starting_voronoi_edge-&gt;vertex0()];</div>
<div class="line"><span class="lineno">  744</span>        starting_node-&gt;data.distance_to_boundary = 0;</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_next_to_start_or_end = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  747</span>        <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#a92c9b708cda581b243f5ff8245ed0b2a">makeRib</a>(prev_edge, start_source_point, end_source_point, is_next_to_start_or_end);</div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">for</span> (vd_t::edge_type* vd_edge = starting_voronoi_edge-&gt;next(); vd_edge != ending_voronoi_edge; vd_edge = vd_edge-&gt;next()) {</div>
<div class="line"><span class="lineno">  749</span>            assert(vd_edge-&gt;is_finite());</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>            assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  752</span>            assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  753</span>            assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  754</span>            assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> v1 = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex0()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  757</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> v2 = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge-&gt;vertex1()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  758</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40327127e6fe656b1e8574945373f4e2">transferEdge</a>(v1, v2, *vd_edge, prev_edge, start_source_point, end_source_point, segments);</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>            <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#a92c9b708cda581b243f5ff8245ed0b2a">makeRib</a>(prev_edge, start_source_point, end_source_point, vd_edge-&gt;next() == ending_voronoi_edge);</div>
<div class="line"><span class="lineno">  761</span>        }</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>        assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex0()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex0()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  764</span>        assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex0()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(starting_voronoi_edge-&gt;vertex0()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  765</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40327127e6fe656b1e8574945373f4e2">transferEdge</a>(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(ending_voronoi_edge-&gt;vertex0()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(), end_source_point, *ending_voronoi_edge, prev_edge, start_source_point, end_source_point, segments);</div>
<div class="line"><span class="lineno">  766</span>        prev_edge-&gt;to-&gt;data.distance_to_boundary = 0;</div>
<div class="line"><span class="lineno">  767</span>    }</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    <span class="comment">// For some input polygons, as in GH issues #8474 and #8514 resulting Voronoi diagram is degenerated because it is not planar.</span></div>
<div class="line"><span class="lineno">  770</span>    <span class="comment">// When this degenerated Voronoi diagram is processed, the resulting half-edge structure contains some edges that don&#39;t have</span></div>
<div class="line"><span class="lineno">  771</span>    <span class="comment">// a twin edge. Based on this, we created a fast mechanism that detects those causes and tries to recompute the Voronoi</span></div>
<div class="line"><span class="lineno">  772</span>    <span class="comment">// diagram on slightly rotated input polygons that usually make the Voronoi generator generate a non-degenerated Voronoi diagram.</span></div>
<div class="line"><span class="lineno">  773</span>    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">VoronoiDiagramStatus::NO_ISSUE_DETECTED</a> &amp;&amp; <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a51981f82263560d5408a9fd31846f241">has_missing_twin_edge</a>(this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>)) {</div>
<div class="line"><span class="lineno">  774</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Detected degenerated Voronoi diagram, input polygons will be rotated back and forth.&quot;</span>;</div>
<div class="line"><span class="lineno">  775</span>        status                                   = <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a6d707efa7a4569613694127cc0f09b87">VoronoiDiagramStatus::OTHER_TYPE_OF_VORONOI_DIAGRAM_DEGENERATION</a>;</div>
<div class="line"><span class="lineno">  776</span>        std::tie(vertex_mapping, fixed_by_angle) = <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#aac9d87f5f51362dff973840aa2492741">try_to_fix_degenerated_voronoi_diagram_by_rotation</a>(voronoi_diagram, polys, polys_copy, segments, fix_angles);</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>        assert(!<a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a33b0180d566c77b6ed60051979caf4cf">detect_missing_voronoi_vertex</a>(voronoi_diagram, segments));</div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a33b0180d566c77b6ed60051979caf4cf">detect_missing_voronoi_vertex</a>(voronoi_diagram, segments))</div>
<div class="line"><span class="lineno">  780</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Detected missing Voronoi vertex after the rotation of input.&quot;</span>;</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>        assert(<a class="code hl_function" href="../../d3/de1/class_slic3r_1_1_geometry_1_1_voronoi_utils_cgal.html#a0d699569e6c15001db757145cad30173">Geometry::VoronoiUtilsCgal::is_voronoi_diagram_planar_intersection</a>(voronoi_diagram));</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>        this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.clear();</div>
<div class="line"><span class="lineno">  785</span>        this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.clear();</div>
<div class="line"><span class="lineno">  786</span>        this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a>.clear();</div>
<div class="line"><span class="lineno">  787</span>        this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.clear();</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">goto</span> process_voronoi_diagram;</div>
<div class="line"><span class="lineno">  790</span>    }</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">VoronoiDiagramStatus::NO_ISSUE_DETECTED</a>) {</div>
<div class="line"><span class="lineno">  793</span>        assert(!<a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a51981f82263560d5408a9fd31846f241">has_missing_twin_edge</a>(this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>));</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a51981f82263560d5408a9fd31846f241">has_missing_twin_edge</a>(this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>))</div>
<div class="line"><span class="lineno">  796</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Detected degenerated Voronoi diagram even after the rotation of input.&quot;</span>;</div>
<div class="line"><span class="lineno">  797</span>    }</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">VoronoiDiagramStatus::NO_ISSUE_DETECTED</a>)</div>
<div class="line"><span class="lineno">  800</span>        <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a3afd6b959a1e0e9c5edaebe8f1310d5f">rotate_back_skeletal_trapezoidation_graph_after_fix</a>(this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, fixed_by_angle, vertex_mapping);</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  803</span>    assert(<a class="code hl_function" href="../../d3/de1/class_slic3r_1_1_geometry_1_1_voronoi_utils_cgal.html#a0d699569e6c15001db757145cad30173">Geometry::VoronoiUtilsCgal::is_voronoi_diagram_planar_intersection</a>(voronoi_diagram));</div>
<div class="line"><span class="lineno">  804</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aa2cfa0b845e614bbe6d0bd4bd2a3eabf">separatePointyQuadEndNodes</a>();</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#ab7bb0cbfe72b5dced2d4b95db0feca13">collapseSmallEdges</a>();</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="comment">// Set [incident_edge] the first possible edge that way we can iterate over all reachable edges from node.incident_edge,</span></div>
<div class="line"><span class="lineno">  811</span>    <span class="comment">// without needing to iterate backward</span></div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno">  813</span>        <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (!edge.prev)</div>
<div class="line"><span class="lineno">  814</span>            edge.from-&gt;incident_edge = &amp;edge;</div>
<div class="line"><span class="lineno">  815</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph_html_a92c9b708cda581b243f5ff8245ed0b2a"><div class="ttname"><a href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#a92c9b708cda581b243f5ff8245ed0b2a">Slic3r::Arachne::SkeletalTrapezoidationGraph::makeRib</a></div><div class="ttdeci">void makeRib(edge_t *&amp;prev_edge, Point start_source_point, Point end_source_point, bool is_next_to_start_or_end)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationGraph.cpp:317</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph_html_ab7bb0cbfe72b5dced2d4b95db0feca13"><div class="ttname"><a href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#ab7bb0cbfe72b5dced2d4b95db0feca13">Slic3r::Arachne::SkeletalTrapezoidationGraph::collapseSmallEdges</a></div><div class="ttdeci">void collapseSmallEdges(coord_t snap_dist=5)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationGraph.cpp:182</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a40327127e6fe656b1e8574945373f4e2"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40327127e6fe656b1e8574945373f4e2">Slic3r::Arachne::SkeletalTrapezoidation::transferEdge</a></div><div class="ttdeci">void transferEdge(Point from, Point to, vd_t::edge_type &amp;vd_edge, edge_t *&amp;prev_edge, Point &amp;start_source_point, Point &amp;end_source_point, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:127</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a41badcb918fc0d75743356fd1a8b235e"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a41badcb918fc0d75743356fd1a8b235e">Slic3r::Arachne::SkeletalTrapezoidation::computeSegmentCellRange</a></div><div class="ttdeci">static void computeSegmentCellRange(vd_t::cell_type &amp;cell, Point &amp;start_source_point, Point &amp;end_source_point, vd_t::edge_type *&amp;starting_vd_edge, vd_t::edge_type *&amp;ending_vd_edge, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:398</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a4e03e4859c4ac371972c6562ab9cf70d"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">Slic3r::Arachne::SkeletalTrapezoidation::vd_node_to_he_node</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; vd_t::vertex_type *, node_t * &gt; vd_node_to_he_node</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:172</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a65f39ad79dfc255c3438f2b9b3e788a3"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">Slic3r::Arachne::SkeletalTrapezoidation::vd_edge_to_he_edge</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; vd_t::edge_type *, edge_t * &gt; vd_edge_to_he_edge</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:171</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a691297a7db1adc72819e373e491128d4"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a691297a7db1adc72819e373e491128d4">Slic3r::Arachne::SkeletalTrapezoidation::computePointCellRange</a></div><div class="ttdeci">static bool computePointCellRange(vd_t::cell_type &amp;cell, Point &amp;start_source_point, Point &amp;end_source_point, vd_t::edge_type *&amp;starting_vd_edge, vd_t::edge_type *&amp;ending_vd_edge, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:353</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aa2cfa0b845e614bbe6d0bd4bd2a3eabf"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aa2cfa0b845e614bbe6d0bd4bd2a3eabf">Slic3r::Arachne::SkeletalTrapezoidation::separatePointyQuadEndNodes</a></div><div class="ttdeci">void separatePointyQuadEndNodes()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:819</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aed4ab3bdf5b56a95308b7004e04edaa6"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aed4ab3bdf5b56a95308b7004e04edaa6">Slic3r::Arachne::SkeletalTrapezoidation::PointMap</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; Point, Point, PointHash &gt; PointMap</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:86</div></div>
<div class="ttc" id="aclass_slic3r_1_1_geometry_1_1_voronoi_utils_cgal_html_a0d699569e6c15001db757145cad30173"><div class="ttname"><a href="../../d3/de1/class_slic3r_1_1_geometry_1_1_voronoi_utils_cgal.html#a0d699569e6c15001db757145cad30173">Slic3r::Geometry::VoronoiUtilsCgal::is_voronoi_diagram_planar_intersection</a></div><div class="ttdeci">static bool is_voronoi_diagram_planar_intersection(const VoronoiDiagram &amp;voronoi_diagram)</div><div class="ttdef"><b>Definition</b> VoronoiUtilsCgal.cpp:134</div></div>
<div class="ttc" id="alexer_8c_html_ad4a65b873df5c05570846b5413b41dfd"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a></div><div class="ttdeci">if(!(yy_init))</div><div class="ttdef"><b>Definition</b> lexer.c:1190</div></div>
<div class="ttc" id="alibslic3r_8h_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">static constexpr double PI</div><div class="ttdef"><b>Definition</b> libslic3r.h:58</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a33b0180d566c77b6ed60051979caf4cf"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a33b0180d566c77b6ed60051979caf4cf">Slic3r::Arachne::detect_missing_voronoi_vertex</a></div><div class="ttdeci">static bool detect_missing_voronoi_vertex(const Geometry::VoronoiDiagram &amp;voronoi_diagram, const std::vector&lt; SkeletalTrapezoidation::Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:466</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a3afd6b959a1e0e9c5edaebe8f1310d5f"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a3afd6b959a1e0e9c5edaebe8f1310d5f">Slic3r::Arachne::rotate_back_skeletal_trapezoidation_graph_after_fix</a></div><div class="ttdeci">static void rotate_back_skeletal_trapezoidation_graph_after_fix(SkeletalTrapezoidationGraph &amp;graph, const double fix_angle, const PointMap &amp;vertex_mapping)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:526</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_a51981f82263560d5408a9fd31846f241"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a51981f82263560d5408a9fd31846f241">Slic3r::Arachne::has_missing_twin_edge</a></div><div class="ttdeci">static bool has_missing_twin_edge(const SkeletalTrapezoidationGraph &amp;graph)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:516</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_aac9d87f5f51362dff973840aa2492741"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#aac9d87f5f51362dff973840aa2492741">Slic3r::Arachne::try_to_fix_degenerated_voronoi_diagram_by_rotation</a></div><div class="ttdeci">static std::pair&lt; PointMap, double &gt; try_to_fix_degenerated_voronoi_diagram_by_rotation(Geometry::VoronoiDiagram &amp;voronoi_diagram, const Polygons &amp;polys, Polygons &amp;polys_rotated, std::vector&lt; SkeletalTrapezoidation::Segment &gt; &amp;segments, const std::vector&lt; double &gt; &amp;fix_angles)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:592</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1">Slic3r::Arachne::VoronoiDiagramStatus</a></div><div class="ttdeci">VoronoiDiagramStatus</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:567</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1a5a641038844b5eace26f963ba2cac1ab"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a5a641038844b5eace26f963ba2cac1ab">Slic3r::Arachne::VoronoiDiagramStatus::VORONOI_EDGE_INTERSECTING_INPUT_SEGMENT</a></div><div class="ttdeci">@ VORONOI_EDGE_INTERSECTING_INPUT_SEGMENT</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1a6d707efa7a4569613694127cc0f09b87"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a6d707efa7a4569613694127cc0f09b87">Slic3r::Arachne::VoronoiDiagramStatus::OTHER_TYPE_OF_VORONOI_DIAGRAM_DEGENERATION</a></div><div class="ttdeci">@ OTHER_TYPE_OF_VORONOI_DIAGRAM_DEGENERATION</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">Slic3r::Arachne::VoronoiDiagramStatus::NO_ISSUE_DETECTED</a></div><div class="ttdeci">@ NO_ISSUE_DETECTED</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1a9d1ffa7b503548e0e73f2212564b5c5b"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a9d1ffa7b503548e0e73f2212564b5c5b">Slic3r::Arachne::VoronoiDiagramStatus::NON_PLANAR_VORONOI_DIAGRAM</a></div><div class="ttdeci">@ NON_PLANAR_VORONOI_DIAGRAM</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ac3527b03fd9dbedfb028169056cca8e1ab4ade307290bfdb080c818ccb0776cd0"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1ab4ade307290bfdb080c818ccb0776cd0">Slic3r::Arachne::VoronoiDiagramStatus::MISSING_VORONOI_VERTEX</a></div><div class="ttdeci">@ MISSING_VORONOI_VERTEX</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_ad1b0fdd33c44e3e241b012a4d4091fa9"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ad1b0fdd33c44e3e241b012a4d4091fa9">Slic3r::Arachne::detect_voronoi_diagram_known_issues</a></div><div class="ttdeci">VoronoiDiagramStatus detect_voronoi_diagram_known_issues(const Geometry::VoronoiDiagram &amp;voronoi_diagram, const std::vector&lt; SkeletalTrapezoidation::Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:577</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_arachne_html_afe484dc3c9c240ccafe53f953867a5fc"><div class="ttname"><a href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">Slic3r::Arachne::HalfEdgeGraph::nodes</a></div><div class="ttdeci">Nodes nodes</div><div class="ttdef"><b>Definition</b> HalfEdgeGraph.hpp:27</div></div>
<div class="ttc" id="anamespace_slic3r_html_a00eaa65faeaecea2aec629f311ce5a1c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon, PointsAllocator&lt; Polygon &gt; &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespace_slic3r_html_a61e88a2d1ff0bec5ec86a23273dda52a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a61e88a2d1ff0bec5ec86a23273dda52a">Slic3r::to_lines</a></div><div class="ttdeci">Lines to_lines(const ExPolygon &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:117</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6e3ba75aef7600dbb0a294a47d88ecb8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">Slic3r::get_extents</a></div><div class="ttdeci">BoundingBox get_extents(const ExPolygon &amp;expolygon)</div><div class="ttdef"><b>Definition</b> ExPolygon.cpp:352</div></div>
<div class="ttc" id="anamespace_slic3r_html_a786a31f8307b3d772ae885e1e4590f21"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a786a31f8307b3d772ae885e1e4590f21">Slic3r::dump_voronoi_to_svg</a></div><div class="ttdeci">static void dump_voronoi_to_svg(const char *path, const Geometry::VoronoiDiagram &amp;vd, const Points &amp;points, const Lines &amp;lines, const Polygons &amp;offset_curves=Polygons(), const Lines &amp;helper_lines=Lines(), double scale=0)</div><div class="ttdef"><b>Definition</b> VoronoiVisualUtils.hpp:296</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7fbf8086aa6866b37be593872e09e169"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">Slic3r::grid</a></div><div class="ttdeci">std::vector&lt; ArithmeticOnly&lt; T &gt; &gt; grid(const T &amp;start, const T &amp;stop, const T &amp;stride)</div><div class="ttdoc">A set of equidistant values starting from 'start' (inclusive), ending in the closest multiple of 'str...</div><div class="ttdef"><b>Definition</b> MTUtils.hpp:125</div></div>
<div class="ttc" id="anamespace_slic3r_html_ad15465925cebad24aeb551e245ae6530"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ad15465925cebad24aeb551e245ae6530">Slic3r::to_points</a></div><div class="ttdeci">Points to_points(const ExPolygons &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:196</div></div>
<div class="ttc" id="anamespacelibnest2d_html_af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3"><div class="ttname"><a href="../../df/ddf/namespacelibnest2d.html#af597612c78e3eb318a885f34ddafa180acd15a75c26008696647b31a3f0de43b3">libnest2d::Formats::SVG</a></div><div class="ttdeci">@ SVG</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00182">Slic3r::Arachne::SkeletalTrapezoidationGraph::collapseSmallEdges()</a>, <a class="el" href="../../#l00353">computePointCellRange()</a>, <a class="el" href="../../#l00398">computeSegmentCellRange()</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00466">Slic3r::Arachne::detect_missing_voronoi_vertex()</a>, <a class="el" href="../../#l00577">Slic3r::Arachne::detect_voronoi_diagram_known_issues()</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00096">Slic3r::SVG::draw_outline()</a>, <a class="el" href="../../#l00296">Slic3r::dump_voronoi_to_svg()</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../#l00352">Slic3r::get_extents()</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00125">Slic3r::grid()</a>, <a class="el" href="../../#l00516">Slic3r::Arachne::has_missing_twin_edge()</a>, <a class="el" href="../../#l00134">Slic3r::Geometry::VoronoiUtilsCgal::is_voronoi_diagram_planar_intersection()</a>, <a class="el" href="../../#l00317">Slic3r::Arachne::SkeletalTrapezoidationGraph::makeRib()</a>, <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1ab4ade307290bfdb080c818ccb0776cd0">Slic3r::Arachne::MISSING_VORONOI_VERTEX</a>, <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a7d801d7bcc70676d283eede538f85712">Slic3r::Arachne::NO_ISSUE_DETECTED</a>, <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a9d1ffa7b503548e0e73f2212564b5c5b">Slic3r::Arachne::NON_PLANAR_VORONOI_DIAGRAM</a>, <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a6d707efa7a4569613694127cc0f09b87">Slic3r::Arachne::OTHER_TYPE_OF_VORONOI_DIAGRAM_DEGENERATION</a>, <a class="el" href="../../#l00014">Slic3r::Arachne::VoronoiUtils::p()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00526">Slic3r::Arachne::rotate_back_skeletal_trapezoidation_graph_after_fix()</a>, <a class="el" href="../../#l00819">separatePointyQuadEndNodes()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00117">Slic3r::to_lines()</a>, <a class="el" href="../../#l00196">Slic3r::to_points()</a>, <a class="el" href="../../#l00127">transferEdge()</a>, <a class="el" href="../../#l00592">Slic3r::Arachne::try_to_fix_degenerated_voronoi_diagram_by_rotation()</a>, <a class="el" href="../../#l00171">vd_edge_to_he_edge</a>, <a class="el" href="../../#l00172">vd_node_to_he_node</a>, and <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ac3527b03fd9dbedfb028169056cca8e1a5a641038844b5eace26f963ba2cac1ab">Slic3r::Arachne::VORONOI_EDGE_INTERSECTING_INPUT_SEGMENT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00439">SkeletalTrapezoidation()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a3410b9a03fd08d89605d3e083ff37191_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a3410b9a03fd08d89605d3e083ff37191_icgraph.svg" width="558" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac264c3e8afbc89dd57418e06fa29b923" name="ac264c3e8afbc89dd57418e06fa29b923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac264c3e8afbc89dd57418e06fa29b923">&#9670;&#160;</a></span>discretize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> Slic3r::Arachne::SkeletalTrapezoidation::discretize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> vd_t::edge_type &amp;&#160;</td>
          <td class="paramname"><em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Discretize a <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> edge that represents the medial axis of a vertex- line region or vertex-vertex region into small segments that can be considered to have a straight medial axis and a linear line width transition.</p>
<p>The medial axis between a point and a line is a parabola. The rest of the algorithm doesn't want to have to deal with parabola, so this discretises the parabola into straight line segments. This is necessary if there is a sharp inner corner (acts as a point) that comes close to a straight edge.</p>
<p>The medial axis between a point and a point is a straight line segment. However the distance from the medial axis to either of those points draws a parabola as you go along the medial axis. That means that the resulting line width along the medial axis would not be linearly increasing or linearly decreasing, but needs to take the shape of a parabola. Instead, we'll break this edge up into tiny line segments that can approximate the parabola with tiny linear increases or decreases in line width. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment</td><td>The variable-width <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a> edge to discretize. </td></tr>
    <tr><td class="paramname">points</td><td>All vertices of the original Polygons to fill with beads. </td></tr>
    <tr><td class="paramname">segments</td><td>All line segments of the original Polygons to fill with beads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A number of coordinates along the edge where the edge is broken up into discrete pieces. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  239</span>{</div>
<div class="line"><span class="lineno">  240</span>    <span class="comment">/*Terminology in this function assumes that the edge moves horizontally from</span></div>
<div class="line"><span class="lineno">  241</span><span class="comment">    left to right. This is not necessarily the case; the edge can go in any</span></div>
<div class="line"><span class="lineno">  242</span><span class="comment">    direction, but it helps to picture it in a certain direction in your head.*/</span></div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="keyword">const</span> vd_t::cell_type* left_cell = vd_edge.cell();</div>
<div class="line"><span class="lineno">  245</span>    <span class="keyword">const</span> vd_t::cell_type* right_cell = vd_edge.twin()-&gt;cell();</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex0()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex0()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  248</span>    assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex0()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex0()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  249</span>    assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex1()).x() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex1()).x() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  250</span>    assert(<a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex1()).y() &lt;= std::numeric_limits&lt;coord_t&gt;::max() &amp;&amp; <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex1()).y() &gt;= std::numeric_limits&lt;coord_t&gt;::lowest());</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> start = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex0()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a> = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6d7054b19bf5b061c052552ff693144d">VoronoiUtils::p</a>(vd_edge.vertex1()).cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;();</div>
<div class="line"><span class="lineno">  254</span>    </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordtype">bool</span> point_left = left_cell-&gt;contains_point();</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordtype">bool</span> point_right = right_cell-&gt;contains_point();</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> ((!point_left &amp;&amp; !point_right) || vd_edge.is_secondary()) <span class="comment">// Source vert is directly connected to source segment</span></div>
<div class="line"><span class="lineno">  258</span>    {</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a>({ start, <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a> });</div>
<div class="line"><span class="lineno">  260</span>    }</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (point_left != point_right) <span class="comment">//This is a parabolic edge between a point and a line.</span></div>
<div class="line"><span class="lineno">  262</span>    {</div>
<div class="line"><span class="lineno">  263</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> p = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a0d025ec9798defe1e31a50115fd0de19">VoronoiUtils::getSourcePoint</a>(*(point_left ? left_cell : right_cell), segments);</div>
<div class="line"><span class="lineno">  264</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a>&amp; s = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a7ea690fb5f7e9df8f33263e7b2c5425c">VoronoiUtils::getSourceSegment</a>(*(point_left ? right_cell : left_cell), segments);</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6594ddcf022a18db6118f03249aedfaa">VoronoiUtils::discretizeParabola</a>(p, s, start, end, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a>);</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">else</span> <span class="comment">//This is a straight edge between two points.</span></div>
<div class="line"><span class="lineno">  268</span>    {</div>
<div class="line"><span class="lineno">  269</span>        <span class="comment">/*While the edge is straight, it is still discretized since the part</span></div>
<div class="line"><span class="lineno">  270</span><span class="comment">        becomes narrower between the two points. As such it may need different</span></div>
<div class="line"><span class="lineno">  271</span><span class="comment">        beadings along the way.*/</span></div>
<div class="line"><span class="lineno">  272</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> left_point = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a0d025ec9798defe1e31a50115fd0de19">VoronoiUtils::getSourcePoint</a>(*left_cell, segments);</div>
<div class="line"><span class="lineno">  273</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> right_point = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a0d025ec9798defe1e31a50115fd0de19">VoronoiUtils::getSourcePoint</a>(*right_cell, segments);</div>
<div class="line"><span class="lineno">  274</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = (right_point - left_point).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno">  275</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> middle = (left_point + right_point) / 2;</div>
<div class="line"><span class="lineno">  276</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> x_axis_dir = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3a60f4dc53697088bcef0c6ef6a86c31">perp</a>(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(right_point - left_point));</div>
<div class="line"><span class="lineno">  277</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> x_axis_length = x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <span class="keyword">const</span> <span class="keyword">auto</span> projected_x = [x_axis_dir, x_axis_length, middle](<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> from) <span class="comment">//Project a point on the edge.</span></div>
<div class="line"><span class="lineno">  280</span>        {</div>
<div class="line"><span class="lineno">  281</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> vec = from - middle;</div>
<div class="line"><span class="lineno">  282</span>            assert(( vec.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().dot(x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;())/ <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)) &lt;= std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno">  283</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a> = vec.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#adb8a52f0ebfe5a551577b3e530b40c47">dot</a>(x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;()) / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length);</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>;</div>
<div class="line"><span class="lineno">  285</span>        };</div>
<div class="line"><span class="lineno">  286</span>        </div>
<div class="line"><span class="lineno">  287</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_x = projected_x(start);</div>
<div class="line"><span class="lineno">  288</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_x = projected_x(end);</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>        <span class="comment">//Part of the edge will be bound to the markings on the endpoints of the edge. Calculate how far that is.</span></div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordtype">float</span> <a class="code hl_function" href="../../db/dc1/namespacelibnest2d_1_1opt.html#a48bc52499f480a196baa45d9bce112d3">bound</a> = 0.5 / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a>((<a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> - <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a562c5b746ce6ec773d00448304bf6b3a">transitioning_angle</a>) * 0.5);</div>
<div class="line"><span class="lineno">  292</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> marking_start_x = - <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(d) * <a class="code hl_function" href="../../db/dc1/namespacelibnest2d_1_1opt.html#a48bc52499f480a196baa45d9bce112d3">bound</a>;</div>
<div class="line"><span class="lineno">  293</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> marking_end_x = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(d) * <a class="code hl_function" href="../../db/dc1/namespacelibnest2d_1_1opt.html#a48bc52499f480a196baa45d9bce112d3">bound</a>;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        assert((middle.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() + x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_start_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>() &lt;= std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno">  296</span>        assert((middle.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() + x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_start_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>() &lt;= std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno">  297</span>        assert((middle.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() + x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_end_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).<a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>() &lt;= std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno">  298</span>        assert((middle.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() + x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_end_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).<a class="code hl_variable" href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">y</a>() &lt;= std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno">  299</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> marking_start = middle + (x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_start_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> marking_end = middle + (x_axis_dir.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * marking_end_x / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_axis_length)).cast&lt;coord_t&gt;();</div>
<div class="line"><span class="lineno">  301</span>        <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> direction = 1;</div>
<div class="line"><span class="lineno">  302</span>        </div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">if</span> (start_x &gt; end_x) <span class="comment">//Oops, the Voronoi edge is the other way around.</span></div>
<div class="line"><span class="lineno">  304</span>        {</div>
<div class="line"><span class="lineno">  305</span>            direction = -1;</div>
<div class="line"><span class="lineno">  306</span>            std::swap(marking_start, marking_end);</div>
<div class="line"><span class="lineno">  307</span>            std::swap(marking_start_x, marking_end_x);</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>        <span class="comment">//Start generating points along the edge.</span></div>
<div class="line"><span class="lineno">  311</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = start;</div>
<div class="line"><span class="lineno">  312</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>;</div>
<div class="line"><span class="lineno">  313</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> ret;</div>
<div class="line"><span class="lineno">  314</span>        ret.emplace_back(a);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        <span class="comment">//Introduce an extra edge at the borders of the markings?</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordtype">bool</span> add_marking_start = marking_start_x * direction &gt; <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(start_x) * direction;</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordtype">bool</span> add_marking_end = marking_end_x * direction &gt; <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(start_x) * direction;</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="comment">//The edge&#39;s length may not be divisible by the step size, so calculate an integer step count and evenly distribute the vertices among those.</span></div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno">  322</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> step_count = (ab_size + <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a> / 2) / <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>;</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">if</span> (step_count % 2 == 1)</div>
<div class="line"><span class="lineno">  325</span>        {</div>
<div class="line"><span class="lineno">  326</span>            step_count++; <span class="comment">// enforce a discretization point being added in the middle</span></div>
<div class="line"><span class="lineno">  327</span>        }</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> step = 1; <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> &lt; step_count; <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>++)</div>
<div class="line"><span class="lineno">  329</span>        {</div>
<div class="line"><span class="lineno">  330</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> here = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> + (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(step) / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(step_count)).cast&lt;coord_t&gt;(); <span class="comment">//Now simply interpolate the coordinates to get the new vertices!</span></div>
<div class="line"><span class="lineno">  331</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> x_here = projected_x(here); <span class="comment">//If we&#39;ve surpassed the position of the extra markings, we may need to insert them first.</span></div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">if</span> (add_marking_start &amp;&amp; marking_start_x * direction &lt; <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_here) * direction)</div>
<div class="line"><span class="lineno">  333</span>            {</div>
<div class="line"><span class="lineno">  334</span>                ret.emplace_back(marking_start);</div>
<div class="line"><span class="lineno">  335</span>                add_marking_start = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  336</span>            }</div>
<div class="line"><span class="lineno">  337</span>            <span class="keywordflow">if</span> (add_marking_end &amp;&amp; marking_end_x * direction &lt; <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(x_here) * direction)</div>
<div class="line"><span class="lineno">  338</span>            {</div>
<div class="line"><span class="lineno">  339</span>                ret.emplace_back(marking_end);</div>
<div class="line"><span class="lineno">  340</span>                add_marking_end = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  341</span>            }</div>
<div class="line"><span class="lineno">  342</span>            ret.emplace_back(here);</div>
<div class="line"><span class="lineno">  343</span>        }</div>
<div class="line"><span class="lineno">  344</span>        <span class="keywordflow">if</span> (add_marking_end &amp;&amp; marking_end_x * direction &lt; <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(end_x) * direction)</div>
<div class="line"><span class="lineno">  345</span>        {</div>
<div class="line"><span class="lineno">  346</span>            ret.emplace_back(marking_end);</div>
<div class="line"><span class="lineno">  347</span>        }</div>
<div class="line"><span class="lineno">  348</span>        ret.emplace_back(b);</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a0c32a3874bfc5438d11b75c9f40256d1"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const TanReturnType tan() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:234</div></div>
<div class="ttc" id="a_extrusion_simulator_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a6594ddcf022a18db6118f03249aedfaa"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a6594ddcf022a18db6118f03249aedfaa">Slic3r::Arachne::VoronoiUtils::discretizeParabola</a></div><div class="ttdeci">static Points discretizeParabola(const Point &amp;source_point, const Segment &amp;source_segment, Point start, Point end, coord_t approximate_step_size, float transitioning_angle)</div><div class="ttdef"><b>Definition</b> VoronoiUtils.cpp:141</div></div>
<div class="ttc" id="anamespace_eigen_1_1internal_html_a3cc80fc03610837da180f7e6d8e7b3ec"><div class="ttname"><a href="../../d7/dc9/namespace_eigen_1_1internal.html#a3cc80fc03610837da180f7e6d8e7b3ec">Eigen::internal::y</a></div><div class="ttdeci">const Scalar &amp; y</div><div class="ttdef"><b>Definition</b> MathFunctions.h:552</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3a60f4dc53697088bcef0c6ef6a86c31"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3a60f4dc53697088bcef0c6ef6a86c31">Slic3r::perp</a></div><div class="ttdeci">Eigen::Matrix&lt; typename Derived::Scalar, 2, 1, Eigen::DontAlign &gt; perp(const Eigen::MatrixBase&lt; Derived &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> Point.hpp:104</div></div>
<div class="ttc" id="anamespace_slic3r_html_adb8a52f0ebfe5a551577b3e530b40c47"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#adb8a52f0ebfe5a551577b3e530b40c47">Slic3r::dot</a></div><div class="ttdeci">T dot(const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v1, const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:143</div></div>
<div class="ttc" id="anamespace_slic3r_html_aee987cbd1647986a9ac92226daffa4d7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Slic3r::Points</a></div><div class="ttdeci">std::vector&lt; Point, PointsAllocator&lt; Point &gt; &gt; Points</div><div class="ttdef"><b>Definition</b> Point.hpp:58</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1opt_html_a48bc52499f480a196baa45d9bce112d3"><div class="ttname"><a href="../../db/dc1/namespacelibnest2d_1_1opt.html#a48bc52499f480a196baa45d9bce112d3">libnest2d::opt::bound</a></div><div class="ttdeci">Bound&lt; T &gt; bound(const T &amp;min, const T &amp;max)</div><div class="ttdef"><b>Definition</b> optimizer.hpp:45</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:297</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a6ceea497872e0323516dbb68ef605a21"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">marchsq::__impl::step</a></div><div class="ttdeci">Coord step(const Coord &amp;crd, Dir d)</div><div class="ttdef"><b>Definition</b> MarchingSquares.hpp:137</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00067">discretization_step_size</a>, <a class="el" href="../../#l00141">Slic3r::Arachne::VoronoiUtils::discretizeParabola()</a>, <a class="el" href="../../#l00143">Slic3r::dot()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::VoronoiUtils::getSourcePoint()</a>, <a class="el" href="../../#l00081">Slic3r::Arachne::VoronoiUtils::getSourceSegment()</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00014">Slic3r::Arachne::VoronoiUtils::p()</a>, <a class="el" href="../../#l00104">Slic3r::perp()</a>, <a class="el" href="../../#l00234">tan()</a>, and <a class="el" href="../../#l00066">transitioning_angle</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00127">transferEdge()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_ac264c3e8afbc89dd57418e06fa29b923_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_ac264c3e8afbc89dd57418e06fa29b923_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8bff28e077b2bbe8dde81150dc2d4a06" name="a8bff28e077b2bbe8dde81150dc2d4a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bff28e077b2bbe8dde81150dc2d4a06">&#9670;&#160;</a></span>dissolveBeadCountRegion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::dissolveBeadCountRegion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>edge_to_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>from_bead_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>to_bead_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Spread a certain bead count over a region in the graph. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">edge_to_start</td><td>One edge of the region to spread the bead count in. </td></tr>
    <tr><td class="paramname">from_bead_count</td><td>All edges with this bead count will be changed. </td></tr>
    <tr><td class="paramname">to_bead_count</td><td>The new bead count for those edges. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1352</span>{</div>
<div class="line"><span class="lineno"> 1353</span>    assert(from_bead_count != to_bead_count);</div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keywordflow">if</span> (edge_to_start-&gt;to-&gt;data.bead_count != from_bead_count)</div>
<div class="line"><span class="lineno"> 1355</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>    edge_to_start-&gt;to-&gt;data.bead_count = to_bead_count;</div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = edge_to_start-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; edge &amp;&amp; edge != edge_to_start-&gt;twin; edge = edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1359</span>    {</div>
<div class="line"><span class="lineno"> 1360</span>        <span class="keywordflow">if</span> (!edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1361</span>        {</div>
<div class="line"><span class="lineno"> 1362</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1363</span>        }</div>
<div class="line"><span class="lineno"> 1364</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8bff28e077b2bbe8dde81150dc2d4a06">dissolveBeadCountRegion</a>(edge, from_bead_count, to_bead_count);</div>
<div class="line"><span class="lineno"> 1365</span>    }</div>
<div class="line"><span class="lineno"> 1366</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a8bff28e077b2bbe8dde81150dc2d4a06"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8bff28e077b2bbe8dde81150dc2d4a06">Slic3r::Arachne::SkeletalTrapezoidation::dissolveBeadCountRegion</a></div><div class="ttdeci">void dissolveBeadCountRegion(edge_t *edge_to_start, coord_t from_bead_count, coord_t to_bead_count)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1351</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l01351">dissolveBeadCountRegion()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01351">dissolveBeadCountRegion()</a>, and <a class="el" href="../../#l01222">filterTransitionMids()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a8bff28e077b2bbe8dde81150dc2d4a06_cgraph.svg" width="239" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a8bff28e077b2bbe8dde81150dc2d4a06_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6980cb34fff06acb7b51fc4d59432ce7" name="a6980cb34fff06acb7b51fc4d59432ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6980cb34fff06acb7b51fc4d59432ce7">&#9670;&#160;</a></span>dissolveNearbyTransitions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="../../df/d18/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_1_1_transition_mid_ref.html">SkeletalTrapezoidation::TransitionMidRef</a> &gt; Slic3r::Arachne::SkeletalTrapezoidation::dissolveNearbyTransitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>edge_to_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a> &amp;&#160;</td>
          <td class="paramname"><em>origin_transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>traveled_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>going_up</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Merge transitions that are too close together. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">edge_to_start</td><td>Edge pointing to the node from which to start traveling in all directions except along <code>edge_to_start</code> . </td></tr>
    <tr><td class="paramname">origin_transition</td><td>The transition for which we are checking nearby transitions. </td></tr>
    <tr><td class="paramname">traveled_dist</td><td>The distance traveled before we came to <code>edge_to_start.to</code> . </td></tr>
    <tr><td class="paramname">going_up</td><td>Whether we are traveling in the upward direction as seen from the <code>origin_transition</code>. If this doesn't align with the direction according to the R diff on a consecutive edge we know there was a local optimum. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the origin transition should be dissolved. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1292</span>{</div>
<div class="line"><span class="lineno"> 1293</span>    std::list&lt;TransitionMidRef&gt; to_be_dissolved;</div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> (traveled_dist &gt; max_dist)</div>
<div class="line"><span class="lineno"> 1295</span>        <span class="keywordflow">return</span> to_be_dissolved;</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <span class="keywordtype">bool</span> should_dissolve = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = edge_to_start-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; edge &amp;&amp; edge != edge_to_start-&gt;twin; edge = edge-&gt;twin-&gt;next){</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordflow">if</span> (!edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1300</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge-&gt;from-&gt;p;</div>
<div class="line"><span class="lineno"> 1303</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge-&gt;to-&gt;p;</div>
<div class="line"><span class="lineno"> 1304</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1305</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordtype">bool</span> is_aligned = edge-&gt;isUpward();</div>
<div class="line"><span class="lineno"> 1307</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* aligned_edge = is_aligned? edge : edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a2d9763e9ccc81e482a103f062ff12fdb">twin</a>;</div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keywordtype">bool</span> seen_transition_on_this_edge = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> origin_radius          = origin_transition.feature_radius;</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> radius_here            = edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ace3a52c67d2f02d8e3e1e999cf1927df">from</a>-&gt;<a class="code hl_variable" href="../../db/d78/class_slic3r_1_1_arachne_1_1_half_edge_node.html#a6ac6b5db9ee5265260a5715f93357b56">data</a>.<a class="code hl_variable" href="../../db/dc5/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint.html#a9ed30341bbafc62acd15e74da209542d">distance_to_boundary</a>;</div>
<div class="line"><span class="lineno"> 1312</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span>    dissolve_result_is_odd = bool(origin_transition.lower_bead_count % 2) == going_up;</div>
<div class="line"><span class="lineno"> 1313</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> width_deviation        = std::abs(origin_radius - radius_here) * 2; <span class="comment">// times by two because the deviation happens at both sides of the significant edge</span></div>
<div class="line"><span class="lineno"> 1314</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> line_width_deviation = dissolve_result_is_odd ? width_deviation : width_deviation / 2; <span class="comment">// assume the deviation will be split over either 1 or 2 lines, i.e. assume wall_distribution_count = 1</span></div>
<div class="line"><span class="lineno"> 1315</span>        <span class="keywordflow">if</span> (line_width_deviation &gt; <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a0e5584c90ddb117397c279963758c5">allowed_filter_deviation</a>)</div>
<div class="line"><span class="lineno"> 1316</span>            should_dissolve = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>        <span class="keywordflow">if</span> (should_dissolve &amp;&amp; aligned_edge-&gt;data.hasTransitions()) {</div>
<div class="line"><span class="lineno"> 1319</span>            <span class="keyword">auto</span>&amp; transitions = *aligned_edge-&gt;data.getTransitions();</div>
<div class="line"><span class="lineno"> 1320</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> transition_it = transitions.begin(); transition_it != transitions.end(); ++ transition_it) { <span class="comment">// Note: this is not necessarily iterating in the traveling direction!</span></div>
<div class="line"><span class="lineno"> 1321</span>                <span class="comment">// Check whether we should dissolve</span></div>
<div class="line"><span class="lineno"> 1322</span>                <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = is_aligned? transition_it-&gt;pos : ab_size - transition_it-&gt;pos;</div>
<div class="line"><span class="lineno"> 1323</span>                <span class="keywordflow">if</span> (traveled_dist + pos &lt; max_dist &amp;&amp; transition_it-&gt;lower_bead_count == origin_transition.lower_bead_count) { <span class="comment">// Only dissolve local optima</span></div>
<div class="line"><span class="lineno"> 1324</span>                    <span class="keywordflow">if</span> (traveled_dist + pos &lt; <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a71f7903c6766764748567e92ad0ab619">getTransitioningLength</a>(transition_it-&gt;lower_bead_count)) {</div>
<div class="line"><span class="lineno"> 1325</span>                        <span class="comment">// Consecutive transitions both in/decreasing in bead count should never be closer together than the transition distance</span></div>
<div class="line"><span class="lineno"> 1326</span>                        assert(going_up != is_aligned || transition_it-&gt;lower_bead_count == 0); </div>
<div class="line"><span class="lineno"> 1327</span>                    }</div>
<div class="line"><span class="lineno"> 1328</span>                    to_be_dissolved.emplace_back(aligned_edge, transition_it);</div>
<div class="line"><span class="lineno"> 1329</span>                    seen_transition_on_this_edge = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1330</span>                }</div>
<div class="line"><span class="lineno"> 1331</span>            }</div>
<div class="line"><span class="lineno"> 1332</span>        }</div>
<div class="line"><span class="lineno"> 1333</span>        <span class="keywordflow">if</span> (should_dissolve &amp;&amp; !seen_transition_on_this_edge) {</div>
<div class="line"><span class="lineno"> 1334</span>            std::list&lt;SkeletalTrapezoidation::TransitionMidRef&gt; to_be_dissolved_here = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6980cb34fff06acb7b51fc4d59432ce7">dissolveNearbyTransitions</a>(edge, origin_transition, traveled_dist + ab_size, max_dist, going_up);</div>
<div class="line"><span class="lineno"> 1335</span>            <span class="keywordflow">if</span> (to_be_dissolved_here.empty()) { <span class="comment">// The region is too long to be dissolved in this direction, so it cannot be dissolved in any direction.</span></div>
<div class="line"><span class="lineno"> 1336</span>                to_be_dissolved.clear();</div>
<div class="line"><span class="lineno"> 1337</span>                <span class="keywordflow">return</span> to_be_dissolved;</div>
<div class="line"><span class="lineno"> 1338</span>            }</div>
<div class="line"><span class="lineno"> 1339</span>            to_be_dissolved.splice(to_be_dissolved.end(), to_be_dissolved_here); <span class="comment">// Transfer to_be_dissolved_here into to_be_dissolved</span></div>
<div class="line"><span class="lineno"> 1340</span>            should_dissolve = should_dissolve &amp;&amp; !to_be_dissolved.empty();</div>
<div class="line"><span class="lineno"> 1341</span>        }</div>
<div class="line"><span class="lineno"> 1342</span>    }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">if</span> (!should_dissolve)</div>
<div class="line"><span class="lineno"> 1345</span>        to_be_dissolved.clear();</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>    <span class="keywordflow">return</span> to_be_dissolved;</div>
<div class="line"><span class="lineno"> 1348</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_a71f7903c6766764748567e92ad0ab619"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a71f7903c6766764748567e92ad0ab619">Slic3r::Arachne::BeadingStrategy::getTransitioningLength</a></div><div class="ttdeci">virtual coord_t getTransitioningLength(coord_t lower_bead_count) const</div><div class="ttdef"><b>Definition</b> BeadingStrategy.cpp:31</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_a2d9763e9ccc81e482a103f062ff12fdb"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a2d9763e9ccc81e482a103f062ff12fdb">Slic3r::Arachne::HalfEdge::twin</a></div><div class="ttdeci">edge_t * twin</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_ace3a52c67d2f02d8e3e1e999cf1927df"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ace3a52c67d2f02d8e3e1e999cf1927df">Slic3r::Arachne::HalfEdge::from</a></div><div class="ttdeci">node_t * from</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:27</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_node_html_a6ac6b5db9ee5265260a5715f93357b56"><div class="ttname"><a href="../../db/d78/class_slic3r_1_1_arachne_1_1_half_edge_node.html#a6ac6b5db9ee5265260a5715f93357b56">Slic3r::Arachne::HalfEdgeNode::data</a></div><div class="ttdeci">node_data_t data</div><div class="ttdef"><b>Definition</b> HalfEdgeNode.hpp:23</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a6980cb34fff06acb7b51fc4d59432ce7"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6980cb34fff06acb7b51fc4d59432ce7">Slic3r::Arachne::SkeletalTrapezoidation::dissolveNearbyTransitions</a></div><div class="ttdeci">std::list&lt; TransitionMidRef &gt; dissolveNearbyTransitions(edge_t *edge_to_start, TransitionMiddle &amp;origin_transition, coord_t traveled_dist, coord_t max_dist, bool going_up)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1291</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_html_a9ed30341bbafc62acd15e74da209542d"><div class="ttname"><a href="../../db/dc5/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint.html#a9ed30341bbafc62acd15e74da209542d">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a></div><div class="ttdeci">coord_t distance_to_boundary</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationJoint.hpp:32</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a2d49c0885f5562f98fbb19cbe6590d11"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">Slic3r::sla::pos</a></div><div class="ttdeci">Vec3d pos(const Pt &amp;p)</div><div class="ttdef"><b>Definition</b> ReprojectPointsOnMesh.hpp:14</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00069">allowed_filter_deviation</a>, <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l01291">dissolveNearbyTransitions()</a>, <a class="el" href="../../#l00029">Slic3r::Arachne::SkeletalTrapezoidationEdge::TransitionMiddle::feature_radius</a>, <a class="el" href="../../#l00031">Slic3r::Arachne::BeadingStrategy::getTransitioningLength()</a>, <a class="el" href="../../#l00082">Slic3r::Arachne::SkeletalTrapezoidationEdge::getTransitions()</a>, <a class="el" href="../../#l00074">Slic3r::Arachne::SkeletalTrapezoidationEdge::hasTransitions()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::SkeletalTrapezoidationEdge::TransitionMiddle::lower_bead_count</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01291">dissolveNearbyTransitions()</a>, and <a class="el" href="../../#l01222">filterTransitionMids()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a6980cb34fff06acb7b51fc4d59432ce7_cgraph.svg" width="492" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a6980cb34fff06acb7b51fc4d59432ce7_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af80e4f8224733b34fa0c4b5b11543a78" name="af80e4f8224733b34fa0c4b5b11543a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80e4f8224733b34fa0c4b5b11543a78">&#9670;&#160;</a></span>filterCentral() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::filterCentral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Filter out small central areas.</p>
<p>Only used to get rid of small edges which get marked as central because of rounding errors because the region is so small. </p>
<div class="fragment"><div class="line"><span class="lineno">  963</span>{</div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno">  965</span>    {</div>
<div class="line"><span class="lineno">  966</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7d815ed5462c44b1a4c14a91b31b092b">isEndOfCentral</a>(edge) &amp;&amp; edge.to-&gt;isLocalMaximum() &amp;&amp; !edge.to-&gt;isLocalMaximum())</div>
<div class="line"><span class="lineno">  967</span>        {</div>
<div class="line"><span class="lineno">  968</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af80e4f8224733b34fa0c4b5b11543a78">filterCentral</a>(edge.twin, 0, max_length);</div>
<div class="line"><span class="lineno">  969</span>        }</div>
<div class="line"><span class="lineno">  970</span>    }</div>
<div class="line"><span class="lineno">  971</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a7d815ed5462c44b1a4c14a91b31b092b"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7d815ed5462c44b1a4c14a91b31b092b">Slic3r::Arachne::SkeletalTrapezoidation::isEndOfCentral</a></div><div class="ttdeci">bool isEndOfCentral(const edge_t &amp;edge) const</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1693</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_af80e4f8224733b34fa0c4b5b11543a78"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af80e4f8224733b34fa0c4b5b11543a78">Slic3r::Arachne::SkeletalTrapezoidation::filterCentral</a></div><div class="ttdeci">void filterCentral(coord_t max_length)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:962</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00962">filterCentral()</a>, <a class="el" href="../../#l00122">graph</a>, and <a class="el" href="../../#l01693">isEndOfCentral()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00962">filterCentral()</a>, <a class="el" href="../../#l00973">filterCentral()</a>, and <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_af80e4f8224733b34fa0c4b5b11543a78_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_af80e4f8224733b34fa0c4b5b11543a78_icgraph.svg" width="100%" height="412"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a89f5dd9bf46c6c6b0f78d2a798c74451" name="a89f5dd9bf46c6c6b0f78d2a798c74451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f5dd9bf46c6c6b0f78d2a798c74451">&#9670;&#160;</a></span>filterCentral() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::filterCentral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>starting_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>traveled_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Filter central areas connected to starting_edge recursively. </p><dl class="section return"><dt>Returns</dt><dd>Whether we should unmark this section marked as central, on the way back out of the recursion. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  974</span>{</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (starting_edge-&gt;from-&gt;p - starting_edge-&gt;to-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno">  976</span>    <span class="keywordflow">if</span> (traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> &gt; max_length)</div>
<div class="line"><span class="lineno">  977</span>    {</div>
<div class="line"><span class="lineno">  978</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  979</span>    }</div>
<div class="line"><span class="lineno">  980</span>    </div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordtype">bool</span> should_dissolve = <span class="keyword">true</span>; <span class="comment">//Should we unmark this as central and propagate that?</span></div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* next_edge = starting_edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; next_edge &amp;&amp; next_edge != starting_edge-&gt;twin; next_edge = next_edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno">  983</span>    {</div>
<div class="line"><span class="lineno">  984</span>        <span class="keywordflow">if</span> (next_edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno">  985</span>        {</div>
<div class="line"><span class="lineno">  986</span>            should_dissolve &amp;= <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af80e4f8224733b34fa0c4b5b11543a78">filterCentral</a>(next_edge, traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>, max_length);</div>
<div class="line"><span class="lineno">  987</span>        }</div>
<div class="line"><span class="lineno">  988</span>    }</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>    should_dissolve &amp;= !starting_edge-&gt;to-&gt;isLocalMaximum(); <span class="comment">// Don&#39;t filter central regions with a local maximum!</span></div>
<div class="line"><span class="lineno">  991</span>    <span class="keywordflow">if</span> (should_dissolve)</div>
<div class="line"><span class="lineno">  992</span>    {</div>
<div class="line"><span class="lineno">  993</span>        starting_edge-&gt;data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  994</span>        starting_edge-&gt;twin-&gt;data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  995</span>    }</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">return</span> should_dissolve;</div>
<div class="line"><span class="lineno">  997</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00962">filterCentral()</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00158">Slic3r::Arachne::STHalfEdgeNode::isLocalMaximum()</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00065">Slic3r::Arachne::SkeletalTrapezoidationEdge::setIsCentral()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a89f5dd9bf46c6c6b0f78d2a798c74451_cgraph.svg" width="100%" height="492"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aea36e60c2a5f5cd4642864b725fa4167" name="aea36e60c2a5f5cd4642864b725fa4167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea36e60c2a5f5cd4642864b725fa4167">&#9670;&#160;</a></span>filterEndOfCentralTransition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::filterEndOfCentralTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>edge_to_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>traveled_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>replacing_bead_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Change the bead count if the given edge is at the end of a central region.</p>
<p>This is necessary to provide a transitioning bead count to the edges of a central region to transition more smoothly from a high bead count in the central region to a lower bead count at the edge. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">edge_to_start</td><td>One edge from a zone that needs to be filtered. </td></tr>
    <tr><td class="paramname">traveled_dist</td><td>The distance along the edges we've traveled so far. </td></tr>
    <tr><td class="paramname">max_distance</td><td>Don't filter beyond this range. </td></tr>
    <tr><td class="paramname">replacing_bead_count</td><td>The new bead count for this region. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the bead count of this edge was changed. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1369</span>{</div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (traveled_dist &gt; max_dist)</div>
<div class="line"><span class="lineno"> 1371</span>    {</div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1373</span>    }</div>
<div class="line"><span class="lineno"> 1374</span>    </div>
<div class="line"><span class="lineno"> 1375</span>    <span class="keywordtype">bool</span> is_end_of_central = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1376</span>    <span class="keywordtype">bool</span> should_dissolve = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* next_edge = edge_to_start-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; next_edge &amp;&amp; next_edge != edge_to_start-&gt;twin; next_edge = next_edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1378</span>    {</div>
<div class="line"><span class="lineno"> 1379</span>        <span class="keywordflow">if</span> (next_edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1380</span>        {</div>
<div class="line"><span class="lineno"> 1381</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (next_edge-&gt;to-&gt;p - next_edge-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1382</span>            should_dissolve |= <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aea36e60c2a5f5cd4642864b725fa4167">filterEndOfCentralTransition</a>(next_edge, traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>, max_dist, replacing_bead_count);</div>
<div class="line"><span class="lineno"> 1383</span>            is_end_of_central = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1384</span>        }</div>
<div class="line"><span class="lineno"> 1385</span>    }</div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keywordflow">if</span> (is_end_of_central &amp;&amp; traveled_dist &lt; max_dist)</div>
<div class="line"><span class="lineno"> 1387</span>    {</div>
<div class="line"><span class="lineno"> 1388</span>        should_dissolve = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1389</span>    }</div>
<div class="line"><span class="lineno"> 1390</span>    </div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordflow">if</span> (should_dissolve)</div>
<div class="line"><span class="lineno"> 1392</span>    {</div>
<div class="line"><span class="lineno"> 1393</span>        edge_to_start-&gt;to-&gt;data.bead_count = replacing_bead_count;</div>
<div class="line"><span class="lineno"> 1394</span>    }</div>
<div class="line"><span class="lineno"> 1395</span>    <span class="keywordflow">return</span> should_dissolve;</div>
<div class="line"><span class="lineno"> 1396</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aea36e60c2a5f5cd4642864b725fa4167"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aea36e60c2a5f5cd4642864b725fa4167">Slic3r::Arachne::SkeletalTrapezoidation::filterEndOfCentralTransition</a></div><div class="ttdeci">bool filterEndOfCentralTransition(edge_t *edge_to_start, coord_t traveled_dist, coord_t max_dist, coord_t replacing_bead_count)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1368</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l01368">filterEndOfCentralTransition()</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01368">filterEndOfCentralTransition()</a>, and <a class="el" href="../../#l01222">filterTransitionMids()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aea36e60c2a5f5cd4642864b725fa4167_cgraph.svg" width="375" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aea36e60c2a5f5cd4642864b725fa4167_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9a2afa55487c0876d73b53bc398a88b2" name="a9a2afa55487c0876d73b53bc398a88b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2afa55487c0876d73b53bc398a88b2">&#9670;&#160;</a></span>filterNoncentralRegions() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::filterNoncentralRegions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add central regions and set bead counts where there is an end of the central area and when traveling upward we get to another region with the same bead count. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1043</span>{</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1045</span>    {</div>
<div class="line"><span class="lineno"> 1046</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7d815ed5462c44b1a4c14a91b31b092b">isEndOfCentral</a>(edge))</div>
<div class="line"><span class="lineno"> 1047</span>        {</div>
<div class="line"><span class="lineno"> 1048</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1049</span>        }</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">if</span>(edge.to-&gt;data.bead_count &lt; 0 &amp;&amp; edge.to-&gt;data.distance_to_boundary != 0)</div>
<div class="line"><span class="lineno"> 1051</span>        {</div>
<div class="line"><span class="lineno"> 1052</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Encountered an uninitialized bead at the boundary!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1053</span>        }</div>
<div class="line"><span class="lineno"> 1054</span>        assert(edge.to-&gt;data.bead_count &gt;= 0 || edge.to-&gt;data.distance_to_boundary == 0);</div>
<div class="line"><span class="lineno"> 1055</span>        <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_dist = scaled&lt;coord_t&gt;(0.4);</div>
<div class="line"><span class="lineno"> 1056</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">filterNoncentralRegions</a>(&amp;edge, edge.to-&gt;data.bead_count, 0, max_dist);</div>
<div class="line"><span class="lineno"> 1057</span>    }</div>
<div class="line"><span class="lineno"> 1058</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a9a2afa55487c0876d73b53bc398a88b2"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">Slic3r::Arachne::SkeletalTrapezoidation::filterNoncentralRegions</a></div><div class="ttdeci">void filterNoncentralRegions()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1042</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l01042">filterNoncentralRegions()</a>, <a class="el" href="../../#l00122">graph</a>, and <a class="el" href="../../#l01693">isEndOfCentral()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01042">filterNoncentralRegions()</a>, <a class="el" href="../../#l01060">filterNoncentralRegions()</a>, and <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a9a2afa55487c0876d73b53bc398a88b2_cgraph.svg" width="100%" height="368"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a9a2afa55487c0876d73b53bc398a88b2_icgraph.svg" width="100%" height="422"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a82552ebb395ba9a6e5ccb5ddaacf0c53" name="a82552ebb395ba9a6e5ccb5ddaacf0c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82552ebb395ba9a6e5ccb5ddaacf0c53">&#9670;&#160;</a></span>filterNoncentralRegions() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::filterNoncentralRegions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>to_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>bead_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>traveled_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add central regions and set bead counts for a particular edge and all of its adjacent edges.</p>
<p>Recursive subroutine for <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">filterNoncentralRegions()</a>. </p><dl class="section return"><dt>Returns</dt><dd>Whether to set the bead count on the way back </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1061</span>{</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = to_edge-&gt;to-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* next_edge = to_edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>;</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">for</span> (; next_edge &amp;&amp; next_edge != to_edge-&gt;twin; next_edge = next_edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1066</span>    {</div>
<div class="line"><span class="lineno"> 1067</span>        <span class="keywordflow">if</span> (next_edge-&gt;to-&gt;data.distance_to_boundary &gt;= r || <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(next_edge-&gt;to-&gt;p - next_edge-&gt;from-&gt;p, scaled&lt;coord_t&gt;(0.01)))</div>
<div class="line"><span class="lineno"> 1068</span>        {</div>
<div class="line"><span class="lineno"> 1069</span>            <span class="keywordflow">break</span>; <span class="comment">// Only walk upward</span></div>
<div class="line"><span class="lineno"> 1070</span>        }</div>
<div class="line"><span class="lineno"> 1071</span>    }</div>
<div class="line"><span class="lineno"> 1072</span>    <span class="keywordflow">if</span> (next_edge == to_edge-&gt;twin || ! next_edge)</div>
<div class="line"><span class="lineno"> 1073</span>    {</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1075</span>    }</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (next_edge-&gt;to-&gt;p - next_edge-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keywordtype">bool</span> dissolve = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (next_edge-&gt;to-&gt;data.bead_count == bead_count)</div>
<div class="line"><span class="lineno"> 1081</span>    {</div>
<div class="line"><span class="lineno"> 1082</span>        dissolve = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1083</span>    }</div>
<div class="line"><span class="lineno"> 1084</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (next_edge-&gt;to-&gt;data.bead_count &lt; 0)</div>
<div class="line"><span class="lineno"> 1085</span>    {</div>
<div class="line"><span class="lineno"> 1086</span>        dissolve = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">filterNoncentralRegions</a>(next_edge, bead_count, traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>, max_dist);</div>
<div class="line"><span class="lineno"> 1087</span>    }</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">else</span> <span class="comment">// Upward bead count is different</span></div>
<div class="line"><span class="lineno"> 1089</span>    {</div>
<div class="line"><span class="lineno"> 1090</span>        <span class="comment">// Dissolve if two central regions with different bead count are closer together than the max_dist (= transition distance)</span></div>
<div class="line"><span class="lineno"> 1091</span>        dissolve = (traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> &lt; max_dist) &amp;&amp; std::abs(next_edge-&gt;to-&gt;data.bead_count - bead_count) == 1;</div>
<div class="line"><span class="lineno"> 1092</span>    }</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordflow">if</span> (dissolve)</div>
<div class="line"><span class="lineno"> 1095</span>    {</div>
<div class="line"><span class="lineno"> 1096</span>        next_edge-&gt;data.setIsCentral(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1097</span>        next_edge-&gt;twin-&gt;data.setIsCentral(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1098</span>        next_edge-&gt;to-&gt;data.bead_count = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(next_edge-&gt;to-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1099</span>        next_edge-&gt;to-&gt;data.transition_ratio = 0;</div>
<div class="line"><span class="lineno"> 1100</span>    }</div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordflow">return</span> dissolve; <span class="comment">// Dissolving only depend on the one edge going upward. There cannot be multiple edges going upward.</span></div>
<div class="line"><span class="lineno"> 1102</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_a1b96202fae11bed6f99787b0f723b8d9"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">Slic3r::Arachne::BeadingStrategy::getOptimalBeadCount</a></div><div class="ttdeci">virtual coord_t getOptimalBeadCount(coord_t thickness) const =0</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l01042">filterNoncentralRegions()</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">Slic3r::Arachne::BeadingStrategy::getOptimalBeadCount()</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00065">Slic3r::Arachne::SkeletalTrapezoidationEdge::setIsCentral()</a>, <a class="el" href="../../#l00301">Slic3r::shorter_then()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a82552ebb395ba9a6e5ccb5ddaacf0c53_cgraph.svg" width="100%" height="540"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7da87679c9c72c5002c4de72532970c1" name="a7da87679c9c72c5002c4de72532970c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da87679c9c72c5002c4de72532970c1">&#9670;&#160;</a></span>filterOuterCentral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::filterOuterCentral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unmark the outermost edges directly connected to the outline, as not being central.</p>
<p>Only used to emulate some related literature.</p>
<p>The paper shows that this function is bad for the stability of the framework. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1000</span>{</div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1002</span>    {</div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">if</span> (!edge.prev)</div>
<div class="line"><span class="lineno"> 1004</span>        {</div>
<div class="line"><span class="lineno"> 1005</span>            edge.data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1006</span>            edge.twin-&gt;data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1007</span>        }</div>
<div class="line"><span class="lineno"> 1008</span>    }</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, and <a class="el" href="../../#l00122">graph</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a7da87679c9c72c5002c4de72532970c1_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aecf41f4a4c6d50a4df5f8b9926a7383f" name="aecf41f4a4c6d50a4df5f8b9926a7383f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf41f4a4c6d50a4df5f8b9926a7383f">&#9670;&#160;</a></span>filterTransitionMids()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::filterTransitionMids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes some transition middle points.</p>
<p>Transitions can be removed if there are multiple intersecting transitions that are too close together. If transitions have opposite effects, both are removed. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1223</span>{</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1225</span>    {</div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> (! edge.data.hasTransitions())</div>
<div class="line"><span class="lineno"> 1227</span>        {</div>
<div class="line"><span class="lineno"> 1228</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1229</span>        }</div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keyword">auto</span>&amp; transitions = *edge.data.getTransitions();</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>        <span class="comment">// This is how stuff should be stored in transitions</span></div>
<div class="line"><span class="lineno"> 1233</span>        assert(transitions.front().lower_bead_count &lt;= transitions.back().lower_bead_count);</div>
<div class="line"><span class="lineno"> 1234</span>        assert(edge.from-&gt;data.distance_to_boundary &lt;= edge.to-&gt;data.distance_to_boundary);</div>
<div class="line"><span class="lineno"> 1235</span>        </div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge.from-&gt;p;</div>
<div class="line"><span class="lineno"> 1237</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge.to-&gt;p;</div>
<div class="line"><span class="lineno"> 1238</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1239</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>        <span class="keywordtype">bool</span> going_up = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1242</span>        std::list&lt;TransitionMidRef&gt; to_be_dissolved_back = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6980cb34fff06acb7b51fc4d59432ce7">dissolveNearbyTransitions</a>(&amp;edge, transitions.back(), ab_size - transitions.back().pos, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a>, going_up);</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordtype">bool</span> should_dissolve_back = !to_be_dissolved_back.empty();</div>
<div class="line"><span class="lineno"> 1244</span>        <span class="keywordflow">for</span> (TransitionMidRef&amp; ref : to_be_dissolved_back)</div>
<div class="line"><span class="lineno"> 1245</span>        {</div>
<div class="line"><span class="lineno"> 1246</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8bff28e077b2bbe8dde81150dc2d4a06">dissolveBeadCountRegion</a>(&amp;edge, transitions.back().lower_bead_count + 1, transitions.back().lower_bead_count);</div>
<div class="line"><span class="lineno"> 1247</span>            ref.edge-&gt;data.getTransitions()-&gt;erase(ref.transition_it);</div>
<div class="line"><span class="lineno"> 1248</span>        }</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>        {</div>
<div class="line"><span class="lineno"> 1251</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> trans_bead_count = transitions.back().lower_bead_count;</div>
<div class="line"><span class="lineno"> 1252</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> upper_transition_half_length = (1.0 - <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#afd5b6e98d9b6ab274a5aeffe59ea97dd">getTransitionAnchorPos</a>(trans_bead_count)) * <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a71f7903c6766764748567e92ad0ab619">getTransitioningLength</a>(trans_bead_count);</div>
<div class="line"><span class="lineno"> 1253</span>            should_dissolve_back |= <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aea36e60c2a5f5cd4642864b725fa4167">filterEndOfCentralTransition</a>(&amp;edge, ab_size - transitions.back().pos, upper_transition_half_length, trans_bead_count);</div>
<div class="line"><span class="lineno"> 1254</span>        }</div>
<div class="line"><span class="lineno"> 1255</span>        </div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keywordflow">if</span> (should_dissolve_back)</div>
<div class="line"><span class="lineno"> 1257</span>        {</div>
<div class="line"><span class="lineno"> 1258</span>            transitions.pop_back();</div>
<div class="line"><span class="lineno"> 1259</span>        }</div>
<div class="line"><span class="lineno"> 1260</span>        <span class="keywordflow">if</span> (transitions.empty())</div>
<div class="line"><span class="lineno"> 1261</span>        { <span class="comment">// FilterEndOfCentralTransition gives inconsistent new bead count when executing for the same transition in two directions.</span></div>
<div class="line"><span class="lineno"> 1262</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1263</span>        }</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>        going_up = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1266</span>        std::list&lt;TransitionMidRef&gt; to_be_dissolved_front = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6980cb34fff06acb7b51fc4d59432ce7">dissolveNearbyTransitions</a>(edge.twin, transitions.front(), transitions.front().pos, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac68e15ef1038c2514ccb6b8d2d2c768b">transition_filter_dist</a>, going_up);</div>
<div class="line"><span class="lineno"> 1267</span>        <span class="keywordtype">bool</span> should_dissolve_front = !to_be_dissolved_front.empty();</div>
<div class="line"><span class="lineno"> 1268</span>        <span class="keywordflow">for</span> (TransitionMidRef&amp; ref : to_be_dissolved_front)</div>
<div class="line"><span class="lineno"> 1269</span>        {</div>
<div class="line"><span class="lineno"> 1270</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8bff28e077b2bbe8dde81150dc2d4a06">dissolveBeadCountRegion</a>(edge.twin, transitions.front().lower_bead_count, transitions.front().lower_bead_count + 1);</div>
<div class="line"><span class="lineno"> 1271</span>            ref.edge-&gt;data.getTransitions()-&gt;erase(ref.transition_it);</div>
<div class="line"><span class="lineno"> 1272</span>        }</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>        {</div>
<div class="line"><span class="lineno"> 1275</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> trans_bead_count = transitions.front().lower_bead_count;</div>
<div class="line"><span class="lineno"> 1276</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> lower_transition_half_length = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#afd5b6e98d9b6ab274a5aeffe59ea97dd">getTransitionAnchorPos</a>(trans_bead_count) * <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a71f7903c6766764748567e92ad0ab619">getTransitioningLength</a>(trans_bead_count);</div>
<div class="line"><span class="lineno"> 1277</span>            should_dissolve_front |= <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aea36e60c2a5f5cd4642864b725fa4167">filterEndOfCentralTransition</a>(edge.twin, transitions.front().pos, lower_transition_half_length, trans_bead_count + 1);</div>
<div class="line"><span class="lineno"> 1278</span>        }</div>
<div class="line"><span class="lineno"> 1279</span>        </div>
<div class="line"><span class="lineno"> 1280</span>        <span class="keywordflow">if</span> (should_dissolve_front)</div>
<div class="line"><span class="lineno"> 1281</span>        {</div>
<div class="line"><span class="lineno"> 1282</span>            transitions.pop_front();</div>
<div class="line"><span class="lineno"> 1283</span>        }</div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keywordflow">if</span> (transitions.empty())</div>
<div class="line"><span class="lineno"> 1285</span>        { <span class="comment">// FilterEndOfCentralTransition gives inconsistent new bead count when executing for the same transition in two directions.</span></div>
<div class="line"><span class="lineno"> 1286</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1287</span>        }</div>
<div class="line"><span class="lineno"> 1288</span>    }</div>
<div class="line"><span class="lineno"> 1289</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_afd5b6e98d9b6ab274a5aeffe59ea97dd"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#afd5b6e98d9b6ab274a5aeffe59ea97dd">Slic3r::Arachne::BeadingStrategy::getTransitionAnchorPos</a></div><div class="ttdeci">virtual float getTransitionAnchorPos(coord_t lower_bead_count) const</div><div class="ttdef"><b>Definition</b> BeadingStrategy.cpp:38</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l01351">dissolveBeadCountRegion()</a>, <a class="el" href="../../#l01291">dissolveNearbyTransitions()</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l01368">filterEndOfCentralTransition()</a>, <a class="el" href="../../#l00038">Slic3r::Arachne::BeadingStrategy::getTransitionAnchorPos()</a>, <a class="el" href="../../#l00031">Slic3r::Arachne::BeadingStrategy::getTransitioningLength()</a>, <a class="el" href="../../#l00122">graph</a>, and <a class="el" href="../../#l00068">transition_filter_dist</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01104">generateTransitioningRibs()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aecf41f4a4c6d50a4df5f8b9926a7383f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aecf41f4a4c6d50a4df5f8b9926a7383f_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a54f1fa425cc686b47bcafa4ea431d823" name="a54f1fa425cc686b47bcafa4ea431d823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f1fa425cc686b47bcafa4ea431d823">&#9670;&#160;</a></span>generateAllTransitionEnds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateAllTransitionEnds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_transition_ends</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate the endpoints of all transitions for all edges in the graph. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">edge_transition_ends</td><td>The resulting transition endpoints. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1399</span>{</div>
<div class="line"><span class="lineno"> 1400</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1401</span>    {</div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keywordflow">if</span> (! edge.data.hasTransitions())</div>
<div class="line"><span class="lineno"> 1403</span>        {</div>
<div class="line"><span class="lineno"> 1404</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1405</span>        }</div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keyword">auto</span>&amp; transition_positions = *edge.data.getTransitions();</div>
<div class="line"><span class="lineno"> 1407</span> </div>
<div class="line"><span class="lineno"> 1408</span>        assert(edge.from-&gt;data.distance_to_boundary &lt;= edge.to-&gt;data.distance_to_boundary);</div>
<div class="line"><span class="lineno"> 1409</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a>&amp; transition_middle : transition_positions)</div>
<div class="line"><span class="lineno"> 1410</span>        {</div>
<div class="line"><span class="lineno"> 1411</span>            assert(transition_positions.front().pos &lt;= transition_middle.pos);</div>
<div class="line"><span class="lineno"> 1412</span>            assert(transition_middle.pos &lt;= transition_positions.back().pos);</div>
<div class="line"><span class="lineno"> 1413</span>            <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adccedc3fb7c61774fa3ac830d36298a8">generateTransitionEnds</a>(edge, transition_middle.pos, transition_middle.lower_bead_count, edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1414</span>        }</div>
<div class="line"><span class="lineno"> 1415</span>    }</div>
<div class="line"><span class="lineno"> 1416</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a9dfe7a0ff50af21c5e0b0fde4d7c06c9"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">Slic3r::Arachne::SkeletalTrapezoidation::TransitionMiddle</a></div><div class="ttdeci">SkeletalTrapezoidationEdge::TransitionMiddle TransitionMiddle</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:60</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_adccedc3fb7c61774fa3ac830d36298a8"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adccedc3fb7c61774fa3ac830d36298a8">Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionEnds</a></div><div class="ttdeci">void generateTransitionEnds(edge_t &amp;edge, coord_t mid_R, coord_t transition_lower_bead_count, ptr_vector_t&lt; std::list&lt; TransitionEnd &gt; &gt; &amp;edge_transition_ends)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1418</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l01418">generateTransitionEnds()</a>, and <a class="el" href="../../#l00122">graph</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01104">generateTransitioningRibs()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a54f1fa425cc686b47bcafa4ea431d823_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a54f1fa425cc686b47bcafa4ea431d823_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afe83c3b786f1505a1cce8d589ddbce49" name="afe83c3b786f1505a1cce8d589ddbce49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe83c3b786f1505a1cce8d589ddbce49">&#9670;&#160;</a></span>generateExtraRibs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateExtraRibs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create extra ribs in the graph where the graph contains a parabolic arc or a straight between two inner corners.</p>
<p>There might be transitions there as the beads go through a narrow bottleneck in the polygon. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1715</span>{</div>
<div class="line"><span class="lineno"> 1716</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> edge_it = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.begin(); edge_it != <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.end(); ++edge_it)</div>
<div class="line"><span class="lineno"> 1717</span>    {</div>
<div class="line"><span class="lineno"> 1718</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge = *edge_it;</div>
<div class="line"><span class="lineno"> 1719</span>        </div>
<div class="line"><span class="lineno"> 1720</span>        <span class="keywordflow">if</span> (!edge.data.isCentral() </div>
<div class="line"><span class="lineno"> 1721</span>            || <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(edge.to-&gt;p - edge.from-&gt;p, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a53a918c05560f9a4a6382dbe1d127333">discretization_step_size</a>)</div>
<div class="line"><span class="lineno"> 1722</span>            || edge.from-&gt;data.distance_to_boundary &gt;= edge.to-&gt;data.distance_to_boundary) </div>
<div class="line"><span class="lineno"> 1723</span>        {</div>
<div class="line"><span class="lineno"> 1724</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1725</span>        }</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>        std::vector&lt;coord_t&gt; rib_thicknesses = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a70c40ea9f8f14cdd50b45a855331d86d">getNonlinearThicknesses</a>(edge.from-&gt;data.bead_count);</div>
<div class="line"><span class="lineno"> 1729</span> </div>
<div class="line"><span class="lineno"> 1730</span>        <span class="keywordflow">if</span> (rib_thicknesses.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1731</span> </div>
<div class="line"><span class="lineno"> 1732</span>        <span class="comment">// Preload some variables before [edge] gets changed</span></div>
<div class="line"><span class="lineno"> 1733</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* from = edge.from;</div>
<div class="line"><span class="lineno"> 1734</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* to = edge.to;</div>
<div class="line"><span class="lineno"> 1735</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = from-&gt;p;</div>
<div class="line"><span class="lineno"> 1736</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = to-&gt;p;</div>
<div class="line"><span class="lineno"> 1737</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1738</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno"> 1739</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> a_R = edge.from-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1740</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> b_R = edge.to-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1741</span>        </div>
<div class="line"><span class="lineno"> 1742</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* last_edge_replacing_input = &amp;edge;</div>
<div class="line"><span class="lineno"> 1743</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> rib_thickness : rib_thicknesses)</div>
<div class="line"><span class="lineno"> 1744</span>        {</div>
<div class="line"><span class="lineno"> 1745</span>            <span class="keywordflow">if</span> (rib_thickness / 2 &lt;= a_R) </div>
<div class="line"><span class="lineno"> 1746</span>            {</div>
<div class="line"><span class="lineno"> 1747</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1748</span>            }</div>
<div class="line"><span class="lineno"> 1749</span>            <span class="keywordflow">if</span> (rib_thickness / 2 &gt;= b_R) </div>
<div class="line"><span class="lineno"> 1750</span>            {</div>
<div class="line"><span class="lineno"> 1751</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1752</span>            }</div>
<div class="line"><span class="lineno"> 1753</span>            </div>
<div class="line"><span class="lineno"> 1754</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> new_node_bead_count = std::min(edge.from-&gt;data.bead_count, edge.to-&gt;data.bead_count);</div>
<div class="line"><span class="lineno"> 1755</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_pos = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(ab_size) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(rib_thickness / 2 - a_R) / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(b_R - a_R);</div>
<div class="line"><span class="lineno"> 1756</span>            assert(end_pos &gt; 0);</div>
<div class="line"><span class="lineno"> 1757</span>            assert(end_pos &lt; ab_size);</div>
<div class="line"><span class="lineno"> 1758</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* close_node = (end_pos &lt; ab_size / 2)? from : to;</div>
<div class="line"><span class="lineno"> 1759</span>            <span class="keywordflow">if</span> ((end_pos &lt; snap_dist || end_pos &gt; ab_size - <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a921de2b3963aa119f42d50395dcf90cd">snap_dist</a>)</div>
<div class="line"><span class="lineno"> 1760</span>                &amp;&amp; close_node-&gt;data.bead_count == new_node_bead_count</div>
<div class="line"><span class="lineno"> 1761</span>            )</div>
<div class="line"><span class="lineno"> 1762</span>            {</div>
<div class="line"><span class="lineno"> 1763</span>                assert(end_pos &lt;= ab_size);</div>
<div class="line"><span class="lineno"> 1764</span>                close_node-&gt;data.transition_ratio = 0;</div>
<div class="line"><span class="lineno"> 1765</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1766</span>            }</div>
<div class="line"><span class="lineno"> 1767</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> mid = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> + <a class="code hl_function" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#ace185656a6f43768ff1ad821e3cd50b0">normal</a>(ab, end_pos);</div>
<div class="line"><span class="lineno"> 1768</span>            </div>
<div class="line"><span class="lineno"> 1769</span>            assert(last_edge_replacing_input-&gt;data.isCentral());</div>
<div class="line"><span class="lineno"> 1770</span>            assert(last_edge_replacing_input-&gt;data.type != <a class="code hl_enumvalue" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a>);</div>
<div class="line"><span class="lineno"> 1771</span>            last_edge_replacing_input = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#aa172659cabcb561bb08904c78ab05403">insertNode</a>(last_edge_replacing_input, mid, new_node_bead_count);</div>
<div class="line"><span class="lineno"> 1772</span>            assert(last_edge_replacing_input-&gt;data.type != <a class="code hl_enumvalue" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a>);</div>
<div class="line"><span class="lineno"> 1773</span>            assert(last_edge_replacing_input-&gt;data.isCentral());</div>
<div class="line"><span class="lineno"> 1774</span>        }</div>
<div class="line"><span class="lineno"> 1775</span>    }</div>
<div class="line"><span class="lineno"> 1776</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_a70c40ea9f8f14cdd50b45a855331d86d"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a70c40ea9f8f14cdd50b45a855331d86d">Slic3r::Arachne::BeadingStrategy::getNonlinearThicknesses</a></div><div class="ttdeci">virtual std::vector&lt; coord_t &gt; getNonlinearThicknesses(coord_t lower_bead_count) const</div><div class="ttdef"><b>Definition</b> BeadingStrategy.cpp:46</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00067">discretization_step_size</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">Slic3r::Arachne::SkeletalTrapezoidationEdge::EXTRA_VD</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00046">Slic3r::Arachne::BeadingStrategy::getNonlinearThicknesses()</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00428">Slic3r::Arachne::SkeletalTrapezoidationGraph::insertNode()</a>, <a class="el" href="../../#l00060">Slic3r::Arachne::SkeletalTrapezoidationEdge::isCentral()</a>, <a class="el" href="../../#l01619">Slic3r::Arachne::normal()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00301">Slic3r::shorter_then()</a>, <a class="el" href="../../#l00072">snap_dist</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00055">Slic3r::Arachne::SkeletalTrapezoidationEdge::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_afe83c3b786f1505a1cce8d589ddbce49_cgraph.svg" width="100%" height="529"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_afe83c3b786f1505a1cce8d589ddbce49_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="af9482aea992d74f9aff9afda2b245d25" name="af9482aea992d74f9aff9afda2b245d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9482aea992d74f9aff9afda2b245d25">&#9670;&#160;</a></span>generateJunctions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateJunctions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_beadings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_junctions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>generate junctions for each bone </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">edge_to_junctions</td><td>junctions ordered high R to low R </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 2083</span>{</div>
<div class="line"><span class="lineno"> 2084</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge_ : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 2085</span>    {</div>
<div class="line"><span class="lineno"> 2086</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = &amp;edge_;</div>
<div class="line"><span class="lineno"> 2087</span>        <span class="keywordflow">if</span> (edge-&gt;from-&gt;data.distance_to_boundary &gt; edge-&gt;to-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 2088</span>        { <span class="comment">// Only consider the upward half-edges</span></div>
<div class="line"><span class="lineno"> 2089</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2090</span>        }</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_R = edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ad052b2bbcdfa7628fafa0a71adef9677">to</a>-&gt;<a class="code hl_variable" href="../../db/d78/class_slic3r_1_1_arachne_1_1_half_edge_node.html#a6ac6b5db9ee5265260a5715f93357b56">data</a>.<a class="code hl_variable" href="../../db/dc5/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint.html#a9ed30341bbafc62acd15e74da209542d">distance_to_boundary</a>; <span class="comment">// higher R</span></div>
<div class="line"><span class="lineno"> 2093</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_R = edge-&gt;from-&gt;data.distance_to_boundary; <span class="comment">// lower R</span></div>
<div class="line"><span class="lineno"> 2094</span> </div>
<div class="line"><span class="lineno"> 2095</span>        <span class="keywordflow">if</span> ((edge-&gt;from-&gt;data.bead_count == edge-&gt;to-&gt;data.bead_count &amp;&amp; edge-&gt;from-&gt;data.bead_count &gt;= 0)</div>
<div class="line"><span class="lineno"> 2096</span>            || end_R &gt;= start_R)</div>
<div class="line"><span class="lineno"> 2097</span>        { <span class="comment">// No beads to generate</span></div>
<div class="line"><span class="lineno"> 2098</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2099</span>        }</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a>* beading = &amp;<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3297724870a1d9cee31f9b39ee547ccb">getOrCreateBeading</a>(edge-&gt;to, node_beadings)-&gt;beading;</div>
<div class="line"><span class="lineno"> 2102</span>        edge_junctions.emplace_back(std::make_shared&lt;LineJunctions&gt;());</div>
<div class="line"><span class="lineno"> 2103</span>        edge_.data.setExtrusionJunctions(edge_junctions.back());  <span class="comment">// initialization</span></div>
<div class="line"><span class="lineno"> 2104</span>        <a class="code hl_typedef" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a05d5cdf0ea42ad57c160d8646672ffa7">LineJunctions</a>&amp; ret = *edge_junctions.back();</div>
<div class="line"><span class="lineno"> 2105</span> </div>
<div class="line"><span class="lineno"> 2106</span>        assert(beading-&gt;total_thickness &gt;= edge-&gt;to-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 2107</span>        <span class="keywordflow">if</span>(beading-&gt;total_thickness &lt; edge-&gt;to-&gt;data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 2108</span>        {</div>
<div class="line"><span class="lineno"> 2109</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Generated junction is beyond the center of total width.&quot;</span>;</div>
<div class="line"><span class="lineno"> 2110</span>        }</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge-&gt;to-&gt;p;</div>
<div class="line"><span class="lineno"> 2113</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge-&gt;from-&gt;p;</div>
<div class="line"><span class="lineno"> 2114</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_junctions = beading-&gt;toolpath_locations.size();</div>
<div class="line"><span class="lineno"> 2117</span>        <span class="keywordtype">size_t</span> junction_idx;</div>
<div class="line"><span class="lineno"> 2118</span>        <span class="comment">// Compute starting junction_idx for this segment</span></div>
<div class="line"><span class="lineno"> 2119</span>        <span class="keywordflow">for</span> (junction_idx = (std::max(<span class="keywordtype">size_t</span>(1), beading-&gt;toolpath_locations.size()) - 1) / 2; junction_idx &lt; num_junctions; junction_idx--)</div>
<div class="line"><span class="lineno"> 2120</span>        {</div>
<div class="line"><span class="lineno"> 2121</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> bead_R = beading-&gt;toolpath_locations[junction_idx];</div>
<div class="line"><span class="lineno"> 2122</span>            <span class="comment">// toolpath_locations computed inside DistributedBeadingStrategy could be off by 1 because of rounding errors.</span></div>
<div class="line"><span class="lineno"> 2123</span>            <span class="comment">// In GH issue #8472, these roundings errors caused missing the middle extrusion.</span></div>
<div class="line"><span class="lineno"> 2124</span>            <span class="comment">// Adding small epsilon should help resolve those cases.</span></div>
<div class="line"><span class="lineno"> 2125</span>            <span class="keywordflow">if</span> (bead_R &lt;= start_R + 1)</div>
<div class="line"><span class="lineno"> 2126</span>            { <span class="comment">// Junction coinciding with start node is used in this function call</span></div>
<div class="line"><span class="lineno"> 2127</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2128</span>            }</div>
<div class="line"><span class="lineno"> 2129</span>        }</div>
<div class="line"><span class="lineno"> 2130</span> </div>
<div class="line"><span class="lineno"> 2131</span>        <span class="comment">// Robustness against odd segments which might lie just slightly outside of the range due to rounding errors</span></div>
<div class="line"><span class="lineno"> 2132</span>        <span class="comment">// not sure if this is really needed (TODO)</span></div>
<div class="line"><span class="lineno"> 2133</span>        <span class="keywordflow">if</span> (junction_idx + 1 &lt; num_junctions</div>
<div class="line"><span class="lineno"> 2134</span>            &amp;&amp; beading-&gt;toolpath_locations[junction_idx + 1] &lt;= start_R + scaled&lt;coord_t&gt;(0.005)</div>
<div class="line"><span class="lineno"> 2135</span>            &amp;&amp; beading-&gt;total_thickness &lt; start_R + scaled&lt;coord_t&gt;(0.005)</div>
<div class="line"><span class="lineno"> 2136</span>        )</div>
<div class="line"><span class="lineno"> 2137</span>        {</div>
<div class="line"><span class="lineno"> 2138</span>            junction_idx++;</div>
<div class="line"><span class="lineno"> 2139</span>        }</div>
<div class="line"><span class="lineno"> 2140</span> </div>
<div class="line"><span class="lineno"> 2141</span>        <span class="keywordflow">for</span> (; junction_idx &lt; num_junctions; junction_idx--) <span class="comment">//When junction_idx underflows, it&#39;ll be more than num_junctions too.</span></div>
<div class="line"><span class="lineno"> 2142</span>        {</div>
<div class="line"><span class="lineno"> 2143</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> bead_R = beading-&gt;toolpath_locations[junction_idx];</div>
<div class="line"><span class="lineno"> 2144</span>            assert(bead_R &gt;= 0);</div>
<div class="line"><span class="lineno"> 2145</span>            <span class="keywordflow">if</span> (bead_R &lt; end_R)</div>
<div class="line"><span class="lineno"> 2146</span>            { <span class="comment">// Junction coinciding with a node is handled by the next segment</span></div>
<div class="line"><span class="lineno"> 2147</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2148</span>            }</div>
<div class="line"><span class="lineno"> 2149</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> junction(a + (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;() * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(bead_R - start_R) / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(end_R - start_R)).cast&lt;coord_t&gt;());</div>
<div class="line"><span class="lineno"> 2150</span>            <span class="keywordflow">if</span> (bead_R &gt; start_R - scaled&lt;coord_t&gt;(0.005))</div>
<div class="line"><span class="lineno"> 2151</span>            { <span class="comment">// Snap to start node if it is really close, in order to be able to see 3-way intersection later on more robustly</span></div>
<div class="line"><span class="lineno"> 2152</span>                junction = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 2153</span>            }</div>
<div class="line"><span class="lineno"> 2154</span>            ret.emplace_back(junction, beading-&gt;bead_widths[junction_idx], junction_idx);</div>
<div class="line"><span class="lineno"> 2155</span>        }</div>
<div class="line"><span class="lineno"> 2156</span>    }</div>
<div class="line"><span class="lineno"> 2157</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_ad052b2bbcdfa7628fafa0a71adef9677"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ad052b2bbcdfa7628fafa0a71adef9677">Slic3r::Arachne::HalfEdge::to</a></div><div class="ttdeci">node_t * to</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:28</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a3297724870a1d9cee31f9b39ee547ccb"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3297724870a1d9cee31f9b39ee547ccb">Slic3r::Arachne::SkeletalTrapezoidation::getOrCreateBeading</a></div><div class="ttdeci">std::shared_ptr&lt; BeadingPropagation &gt; getOrCreateBeading(node_t *node, ptr_vector_t&lt; BeadingPropagation &gt; &amp;node_beadings)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2159</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_af39c0fa4c53afe35d7f0d4ea19c7c153"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Slic3r::Arachne::SkeletalTrapezoidation::Beading</a></div><div class="ttdeci">BeadingStrategy::Beading Beading</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::BeadingStrategy::Beading::bead_widths</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00035">Slic3r::Arachne::BeadingStrategy::Beading::toolpath_locations</a>, and <a class="el" href="../../#l00033">Slic3r::Arachne::BeadingStrategy::Beading::total_thickness</a>.</p>

</div>
</div>
<a id="a432d4e82257559af6c676fce9a387305" name="a432d4e82257559af6c676fce9a387305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a432d4e82257559af6c676fce9a387305">&#9670;&#160;</a></span>generateLocalMaximaSingleBeads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateLocalMaximaSingleBeads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Genrate small segments for local maxima where the beading would only result in a single bead </p>
<div class="fragment"><div class="line"><span class="lineno"> 2412</span>{</div>
<div class="line"><span class="lineno"> 2413</span>    std::vector&lt;VariableWidthLines&gt; &amp;generated_toolpaths = *<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adc111880bb6f889f5a632b55229fb9d8">p_generated_toolpaths</a>;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; node : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.nodes)</div>
<div class="line"><span class="lineno"> 2416</span>    {</div>
<div class="line"><span class="lineno"> 2417</span>        <span class="keywordflow">if</span> (! node.data.hasBeading())</div>
<div class="line"><span class="lineno"> 2418</span>        {</div>
<div class="line"><span class="lineno"> 2419</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2420</span>        }</div>
<div class="line"><span class="lineno"> 2421</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a>&amp; beading = node.data.getBeading()-&gt;beading;</div>
<div class="line"><span class="lineno"> 2422</span>        <span class="keywordflow">if</span> (beading.bead_widths.size() % 2 == 1 &amp;&amp; node.isLocalMaximum(<span class="keyword">true</span>) &amp;&amp; !node.isCentral())</div>
<div class="line"><span class="lineno"> 2423</span>        {</div>
<div class="line"><span class="lineno"> 2424</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> inset_index = beading.<a class="code hl_variable" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#aa5e885c57f5bbb9e8b88fb5e6120d35c">bead_widths</a>.size() / 2;</div>
<div class="line"><span class="lineno"> 2425</span>            <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_odd = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2426</span>            <span class="keywordflow">if</span> (inset_index &gt;= generated_toolpaths.size())</div>
<div class="line"><span class="lineno"> 2427</span>            {</div>
<div class="line"><span class="lineno"> 2428</span>                generated_toolpaths.resize(inset_index + 1);</div>
<div class="line"><span class="lineno"> 2429</span>            }</div>
<div class="line"><span class="lineno"> 2430</span>            generated_toolpaths[inset_index].emplace_back(inset_index, is_odd);</div>
<div class="line"><span class="lineno"> 2431</span>            ExtrusionLine&amp; line = generated_toolpaths[inset_index].back();</div>
<div class="line"><span class="lineno"> 2432</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a33f0b7d9bab3e419c4d2d41d06b21093">width</a> = beading.bead_widths[inset_index];</div>
<div class="line"><span class="lineno"> 2433</span>            <span class="comment">// total area to be extruded is pi*(w/2)^2 = pi*w*w/4</span></div>
<div class="line"><span class="lineno"> 2434</span>            <span class="comment">// Width a constant extrusion width w, that would be a length of pi*w/4</span></div>
<div class="line"><span class="lineno"> 2435</span>            <span class="comment">// If we make a small circle to fill up the hole, then that circle would have a circumference of 2*pi*r</span></div>
<div class="line"><span class="lineno"> 2436</span>            <span class="comment">// So our circle needs to be such that r=w/8</span></div>
<div class="line"><span class="lineno"> 2437</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>     r          = <a class="code hl_function" href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a33f0b7d9bab3e419c4d2d41d06b21093">width</a> / 8;</div>
<div class="line"><span class="lineno"> 2438</span>            <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> n_segments = 6;</div>
<div class="line"><span class="lineno"> 2439</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a> = 0; <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a> &lt; n_segments; <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a>++) {</div>
<div class="line"><span class="lineno"> 2440</span>                <span class="keywordtype">float</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = 2.0 * <a class="code hl_define" href="../../de/ddd/_extrusion_simulator_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / n_segments * <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a>;</div>
<div class="line"><span class="lineno"> 2441</span>                line.junctions.emplace_back(node.p + <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(r * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a>(a), r * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(a)), width, inset_index);</div>
<div class="line"><span class="lineno"> 2442</span>            }</div>
<div class="line"><span class="lineno"> 2443</span>        }</div>
<div class="line"><span class="lineno"> 2444</span>    }</div>
<div class="line"><span class="lineno"> 2445</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a92b03396990b0e9eea0731aa406e31a4"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const CosReturnType cos() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:202</div></div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a9cfb0ea58bd813510a9e2db18a5e49f0"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SinReturnType sin() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:220</div></div>
<div class="ttc" id="a_block_methods_8h_html_a3c8d2bfe6f857a2a270b78759487e3a8"><div class="ttname"><a href="../../d6/d4f/_block_methods_8h.html#a3c8d2bfe6f857a2a270b78759487e3a8">segment</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC SegmentReturnType segment(Index start, Index n)</div><div class="ttdoc">This is the const version of segment(Index,Index).</div><div class="ttdef"><b>Definition</b> BlockMethods.h:888</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_aa5e885c57f5bbb9e8b88fb5e6120d35c"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#aa5e885c57f5bbb9e8b88fb5e6120d35c">Slic3r::Arachne::BeadingStrategy::Beading::bead_widths</a></div><div class="ttdeci">std::vector&lt; coord_t &gt; bead_widths</div><div class="ttdef"><b>Definition</b> BeadingStrategy.hpp:34</div></div>
<div class="ttc" id="anamespace_slic3r_1_1arrangement_html_a33f0b7d9bab3e419c4d2d41d06b21093"><div class="ttname"><a href="../../d0/d25/namespace_slic3r_1_1arrangement.html#a33f0b7d9bab3e419c4d2d41d06b21093">Slic3r::arrangement::width</a></div><div class="ttdeci">coord_t width(const BoundingBox &amp;box)</div><div class="ttdef"><b>Definition</b> Arrange.cpp:539</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00098">Slic3r::Arachne::ExtrusionLine::back()</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::BeadingStrategy::Beading::bead_widths</a>, <a class="el" href="../../#l00202">cos()</a>, <a class="el" href="../../#l00069">Slic3r::Arachne::ExtrusionLine::junctions</a>, <a class="el" href="../../#l00020">M_PI</a>, <a class="el" href="../../#l00888">segment()</a>, and <a class="el" href="../../#l00220">sin()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a432d4e82257559af6c676fce9a387305_cgraph.svg" width="474" height="200"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6176968039cf1c50ed4ba10741d9aade" name="a6176968039cf1c50ed4ba10741d9aade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6176968039cf1c50ed4ba10741d9aade">&#9670;&#160;</a></span>generateSegments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateSegments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">segments</td><td>the generated segments </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1787</span>{</div>
<div class="line"><span class="lineno"> 1788</span>    std::vector&lt;edge_t*&gt; upward_quad_mids;</div>
<div class="line"><span class="lineno"> 1789</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1790</span>    {</div>
<div class="line"><span class="lineno"> 1791</span>        <span class="keywordflow">if</span> (edge.prev &amp;&amp; edge.next &amp;&amp; edge.isUpward())</div>
<div class="line"><span class="lineno"> 1792</span>        {</div>
<div class="line"><span class="lineno"> 1793</span>            upward_quad_mids.emplace_back(&amp;edge);</div>
<div class="line"><span class="lineno"> 1794</span>        }</div>
<div class="line"><span class="lineno"> 1795</span>    }</div>
<div class="line"><span class="lineno"> 1796</span>    </div>
<div class="line"><span class="lineno"> 1797</span>    std::sort(upward_quad_mids.begin(), upward_quad_mids.end(), [](<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* a, <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* b)</div>
<div class="line"><span class="lineno"> 1798</span>    {</div>
<div class="line"><span class="lineno"> 1799</span>        if (a-&gt;to-&gt;data.distance_to_boundary == b-&gt;to-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 1800</span>        { <span class="comment">// Ordering between two &#39;upward&#39; edges of the same distance is important when one of the edges is flat and connected to the other</span></div>
<div class="line"><span class="lineno"> 1801</span>            if (a-&gt;from-&gt;data.distance_to_boundary == a-&gt;to-&gt;data.distance_to_boundary</div>
<div class="line"><span class="lineno"> 1802</span>                &amp;&amp; b-&gt;from-&gt;data.distance_to_boundary == b-&gt;to-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 1803</span>            {</div>
<div class="line"><span class="lineno"> 1804</span>                coord_t max = std::numeric_limits&lt;coord_t&gt;::max();</div>
<div class="line"><span class="lineno"> 1805</span>                coord_t a_dist_from_up = std::min(a-&gt;distToGoUp().value_or(max), a-&gt;twin-&gt;distToGoUp().value_or(max)) - (a-&gt;to-&gt;p - a-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1806</span>                coord_t b_dist_from_up = std::min(b-&gt;distToGoUp().value_or(max), b-&gt;twin-&gt;distToGoUp().value_or(max)) - (b-&gt;to-&gt;p - b-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1807</span>                return a_dist_from_up &lt; b_dist_from_up;</div>
<div class="line"><span class="lineno"> 1808</span>            }</div>
<div class="line"><span class="lineno"> 1809</span>            else if (a-&gt;from-&gt;data.distance_to_boundary == a-&gt;to-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 1810</span>            {</div>
<div class="line"><span class="lineno"> 1811</span>                return true; <span class="comment">// Edge a might be &#39;above&#39; edge b</span></div>
<div class="line"><span class="lineno"> 1812</span>            }</div>
<div class="line"><span class="lineno"> 1813</span>            else if (b-&gt;from-&gt;data.distance_to_boundary == b-&gt;to-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 1814</span>            {</div>
<div class="line"><span class="lineno"> 1815</span>                return false; <span class="comment">// Edge b might be &#39;above&#39; edge a</span></div>
<div class="line"><span class="lineno"> 1816</span>            }</div>
<div class="line"><span class="lineno"> 1817</span>            else</div>
<div class="line"><span class="lineno"> 1818</span>            {</div>
<div class="line"><span class="lineno"> 1819</span>                <span class="comment">// Ordering is not important</span></div>
<div class="line"><span class="lineno"> 1820</span>            }</div>
<div class="line"><span class="lineno"> 1821</span>        }</div>
<div class="line"><span class="lineno"> 1822</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>-&gt;to-&gt;data.distance_to_boundary &gt; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>-&gt;to-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1823</span>    });</div>
<div class="line"><span class="lineno"> 1824</span> </div>
<div class="line"><span class="lineno"> 1825</span>    ptr_vector_t&lt;BeadingPropagation&gt; node_beadings;</div>
<div class="line"><span class="lineno"> 1826</span>    { <span class="comment">// Store beading</span></div>
<div class="line"><span class="lineno"> 1827</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>&amp; node : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.nodes)</div>
<div class="line"><span class="lineno"> 1828</span>        {</div>
<div class="line"><span class="lineno"> 1829</span>            <span class="keywordflow">if</span> (node.data.bead_count &lt;= 0)</div>
<div class="line"><span class="lineno"> 1830</span>            {</div>
<div class="line"><span class="lineno"> 1831</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1832</span>            }</div>
<div class="line"><span class="lineno"> 1833</span>            <span class="keywordflow">if</span> (node.data.transition_ratio == 0)</div>
<div class="line"><span class="lineno"> 1834</span>            {</div>
<div class="line"><span class="lineno"> 1835</span>                node_beadings.emplace_back(<span class="keyword">new</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a9d62894965a2fbaa8f88662602c84097">compute</a>(node.data.distance_to_boundary * 2, node.data.bead_count)));</div>
<div class="line"><span class="lineno"> 1836</span>                node.data.setBeading(node_beadings.back());</div>
<div class="line"><span class="lineno"> 1837</span>                assert(node_beadings.back()-&gt;beading.total_thickness == node.data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1838</span>                <span class="keywordflow">if</span>(node_beadings.back()-&gt;beading.total_thickness != node.data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 1839</span>                {</div>
<div class="line"><span class="lineno"> 1840</span>                    BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;If transitioning to an endpoint (ratio 0), the node should be exactly in the middle.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1841</span>                }</div>
<div class="line"><span class="lineno"> 1842</span>            }</div>
<div class="line"><span class="lineno"> 1843</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1844</span>            {</div>
<div class="line"><span class="lineno"> 1845</span>                <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> low_count_beading = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a9d62894965a2fbaa8f88662602c84097">compute</a>(node.data.distance_to_boundary * 2, node.data.bead_count);</div>
<div class="line"><span class="lineno"> 1846</span>                <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> high_count_beading = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a9d62894965a2fbaa8f88662602c84097">compute</a>(node.data.distance_to_boundary * 2, node.data.bead_count + 1);</div>
<div class="line"><span class="lineno"> 1847</span>                <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> merged = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">interpolate</a>(low_count_beading, 1.0 - node.data.transition_ratio, high_count_beading);</div>
<div class="line"><span class="lineno"> 1848</span>                node_beadings.emplace_back(<span class="keyword">new</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(merged));</div>
<div class="line"><span class="lineno"> 1849</span>                node.data.setBeading(node_beadings.back());</div>
<div class="line"><span class="lineno"> 1850</span>                assert(merged.total_thickness == node.data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1851</span>                <span class="keywordflow">if</span>(merged.total_thickness != node.data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 1852</span>                {</div>
<div class="line"><span class="lineno"> 1853</span>                    BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;If merging two beads, the new bead must be exactly in the middle.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1854</span>                }</div>
<div class="line"><span class="lineno"> 1855</span>            }</div>
<div class="line"><span class="lineno"> 1856</span>        }</div>
<div class="line"><span class="lineno"> 1857</span>    }</div>
<div class="line"><span class="lineno"> 1858</span> </div>
<div class="line"><span class="lineno"> 1859</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1860</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno"> 1861</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateSegments-before-propagation-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno"> 1862</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1863</span> </div>
<div class="line"><span class="lineno"> 1864</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a0ea293b6b92da5950f3cd4881da02ac7">propagateBeadingsUpward</a>(upward_quad_mids, node_beadings);</div>
<div class="line"><span class="lineno"> 1865</span> </div>
<div class="line"><span class="lineno"> 1866</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1867</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateSegments-upward-propagation-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno"> 1868</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1869</span> </div>
<div class="line"><span class="lineno"> 1870</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward</a>(upward_quad_mids, node_beadings);</div>
<div class="line"><span class="lineno"> 1871</span> </div>
<div class="line"><span class="lineno"> 1872</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1873</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateSegments-downward-propagation-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno"> 1874</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1875</span> </div>
<div class="line"><span class="lineno"> 1876</span>    ptr_vector_t&lt;LineJunctions&gt; edge_junctions; <span class="comment">// junctions ordered high R to low R</span></div>
<div class="line"><span class="lineno"> 1877</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af9482aea992d74f9aff9afda2b245d25">generateJunctions</a>(node_beadings, edge_junctions);</div>
<div class="line"><span class="lineno"> 1878</span> </div>
<div class="line"><span class="lineno"> 1879</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1880</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateSegments-junctions-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline, edge_junctions);</div>
<div class="line"><span class="lineno"> 1881</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1882</span> </div>
<div class="line"><span class="lineno"> 1883</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a42d4633b5b27c9639196665a837a7695">connectJunctions</a>(edge_junctions);</div>
<div class="line"><span class="lineno"> 1884</span> </div>
<div class="line"><span class="lineno"> 1885</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a432d4e82257559af6c676fce9a387305">generateLocalMaximaSingleBeads</a>();</div>
<div class="line"><span class="lineno"> 1886</span> </div>
<div class="line"><span class="lineno"> 1887</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1888</span>    ++iRun;</div>
<div class="line"><span class="lineno"> 1889</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1890</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_a9d62894965a2fbaa8f88662602c84097"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a9d62894965a2fbaa8f88662602c84097">Slic3r::Arachne::BeadingStrategy::compute</a></div><div class="ttdeci">virtual Beading compute(coord_t thickness, coord_t bead_count) const =0</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a0ea293b6b92da5950f3cd4881da02ac7"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a0ea293b6b92da5950f3cd4881da02ac7">Slic3r::Arachne::SkeletalTrapezoidation::propagateBeadingsUpward</a></div><div class="ttdeci">void propagateBeadingsUpward(std::vector&lt; edge_t * &gt; &amp;upward_quad_mids, ptr_vector_t&lt; BeadingPropagation &gt; &amp;node_beadings)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1917</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a42d4633b5b27c9639196665a837a7695"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a42d4633b5b27c9639196665a837a7695">Slic3r::Arachne::SkeletalTrapezoidation::connectJunctions</a></div><div class="ttdeci">void connectJunctions(ptr_vector_t&lt; LineJunctions &gt; &amp;edge_junctions)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2289</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a432d4e82257559af6c676fce9a387305"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a432d4e82257559af6c676fce9a387305">Slic3r::Arachne::SkeletalTrapezoidation::generateLocalMaximaSingleBeads</a></div><div class="ttdeci">void generateLocalMaximaSingleBeads()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2411</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a4ea119c85d3d3969f4b9f8ca6b34abe6"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">Slic3r::Arachne::SkeletalTrapezoidation::propagateBeadingsDownward</a></div><div class="ttdeci">void propagateBeadingsDownward(std::vector&lt; edge_t * &gt; &amp;upward_quad_mids, ptr_vector_t&lt; BeadingPropagation &gt; &amp;node_beadings)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1946</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a960cb4d40bd43f54ff94fd0cac9a49a0"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">Slic3r::Arachne::SkeletalTrapezoidation::interpolate</a></div><div class="ttdeci">Beading interpolate(const Beading &amp;left, double ratio_left_to_whole, const Beading &amp;right, coord_t switching_radius) const</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2018</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a9cb7d7e1819a17516b676900f0e40955"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">Slic3r::Arachne::SkeletalTrapezoidation::BeadingPropagation</a></div><div class="ttdeci">SkeletalTrapezoidationJoint::BeadingPropagation BeadingPropagation</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:59</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_af9482aea992d74f9aff9afda2b245d25"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af9482aea992d74f9aff9afda2b245d25">Slic3r::Arachne::SkeletalTrapezoidation::generateJunctions</a></div><div class="ttdeci">void generateJunctions(ptr_vector_t&lt; BeadingPropagation &gt; &amp;node_beadings, ptr_vector_t&lt; LineJunctions &gt; &amp;edge_junctions)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2082</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, and <a class="el" href="../../#l00122">graph</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a6176968039cf1c50ed4ba10741d9aade_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a43aa3d018c9e707833b7be167fd97660" name="a43aa3d018c9e707833b7be167fd97660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43aa3d018c9e707833b7be167fd97660">&#9670;&#160;</a></span>generateToolpaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateToolpaths </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a200d5189c89cf0f559997e0a68918bfe">VariableWidthLines</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>generated_toolpaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>filter_outermost_central_edges</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate the paths that the printer must extrude, to print the outlines in the input polygons. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter_outermost_central_edges</td><td>Some edges are "central" but still touch the outside of the polygon. If enabled, don't treat these as "central" but as if it's a obtuse corner. As a result, sharp corners will no longer end in a single line but will just loop. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  855</span>{</div>
<div class="line"><span class="lineno">  856</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  857</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">  858</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>    <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#adc111880bb6f889f5a632b55229fb9d8">p_generated_toolpaths</a> = &amp;generated_toolpaths;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aff7f337db19af2dc583bca2667b24147">updateIsCentral</a>();</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  865</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-updateIsCentral-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  866</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af80e4f8224733b34fa0c4b5b11543a78">filterCentral</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab1a76df433555222d35c30fae92be960">central_filter_dist</a>);</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  871</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-filterCentral-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  872</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span> (filter_outermost_central_edges)</div>
<div class="line"><span class="lineno">  875</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7da87679c9c72c5002c4de72532970c1">filterOuterCentral</a>();</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aaede8f0b3f5e1902ba7e477b75bbec44">updateBeadCount</a>();</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  880</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-updateBeadCount-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  881</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9a2afa55487c0876d73b53bc398a88b2">filterNoncentralRegions</a>();</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  886</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-filterNoncentralRegions-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  887</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a2b9cba41d57d911ff7752d3c18833611">generateTransitioningRibs</a>();</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  892</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateTransitioningRibs-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  893</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#afe83c3b786f1505a1cce8d589ddbce49">generateExtraRibs</a>();</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  898</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateExtraRibs-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  899</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6176968039cf1c50ed4ba10741d9aade">generateSegments</a>();</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  904</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateSegments-final-%d.svg&quot;</span>, iRun), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno">  905</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno">  908</span>    ++iRun;</div>
<div class="line"><span class="lineno">  909</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  910</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a2b9cba41d57d911ff7752d3c18833611"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a2b9cba41d57d911ff7752d3c18833611">Slic3r::Arachne::SkeletalTrapezoidation::generateTransitioningRibs</a></div><div class="ttdeci">void generateTransitioningRibs()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1104</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a6176968039cf1c50ed4ba10741d9aade"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a6176968039cf1c50ed4ba10741d9aade">Slic3r::Arachne::SkeletalTrapezoidation::generateSegments</a></div><div class="ttdeci">void generateSegments()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1786</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a7da87679c9c72c5002c4de72532970c1"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7da87679c9c72c5002c4de72532970c1">Slic3r::Arachne::SkeletalTrapezoidation::filterOuterCentral</a></div><div class="ttdeci">void filterOuterCentral()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:999</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aaede8f0b3f5e1902ba7e477b75bbec44"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aaede8f0b3f5e1902ba7e477b75bbec44">Slic3r::Arachne::SkeletalTrapezoidation::updateBeadCount</a></div><div class="ttdeci">void updateBeadCount()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1011</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ab1a76df433555222d35c30fae92be960"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab1a76df433555222d35c30fae92be960">Slic3r::Arachne::SkeletalTrapezoidation::central_filter_dist</a></div><div class="ttdeci">static constexpr coord_t central_filter_dist</div><div class="ttdoc">Filter areas marked as 'central' smaller than this.</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:71</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_afe83c3b786f1505a1cce8d589ddbce49"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#afe83c3b786f1505a1cce8d589ddbce49">Slic3r::Arachne::SkeletalTrapezoidation::generateExtraRibs</a></div><div class="ttdeci">void generateExtraRibs()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1714</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aff7f337db19af2dc583bca2667b24147"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aff7f337db19af2dc583bca2667b24147">Slic3r::Arachne::SkeletalTrapezoidation::updateIsCentral</a></div><div class="ttdeci">void updateIsCentral()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:912</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00071">central_filter_dist</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00962">filterCentral()</a>, <a class="el" href="../../#l01042">filterNoncentralRegions()</a>, <a class="el" href="../../#l00999">filterOuterCentral()</a>, <a class="el" href="../../#l01714">generateExtraRibs()</a>, <a class="el" href="../../#l01786">generateSegments()</a>, <a class="el" href="../../#l01104">generateTransitioningRibs()</a>, <a class="el" href="../../#l00178">p_generated_toolpaths</a>, <a class="el" href="../../#l01011">updateBeadCount()</a>, and <a class="el" href="../../#l00912">updateIsCentral()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00450">Slic3r::Arachne::WallToolPaths::generate()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a43aa3d018c9e707833b7be167fd97660_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a43aa3d018c9e707833b7be167fd97660_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a08e4c9acfa45218f47ab7ee106b9445b" name="a08e4c9acfa45218f47ab7ee106b9445b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e4c9acfa45218f47ab7ee106b9445b">&#9670;&#160;</a></span>generateTransitionEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionEnd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>start_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>end_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>transition_half_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_rest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_rest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>transition_lower_bead_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_transition_ends</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute a single endpoint of a transition. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">edge</td><td>The edge to generate the endpoint for. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">start_pos</td><td>The position where the transition starts. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">end_pos</td><td>The position where the transition ends on the other side. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transition_half_length</td><td>The distance to the transition middle point. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">start_rest</td><td>The gap between the start of the transition and the starting endpoint, as ratio of the inner bead width at the high end of the transition. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">end_rest</td><td>The gap between the end of the transition and the ending endpoint, as ratio of the inner bead width at the high end of the transition. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transition_lower_bead_count</td><td>The bead count at the lower end of the transition. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">edge_transition_ends</td><td>The list to put the resulting endpoints in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the given edge is going downward (i.e. towards a thinner region of the polygon). </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1456</span>{</div>
<div class="line"><span class="lineno"> 1457</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge.from-&gt;p;</div>
<div class="line"><span class="lineno"> 1458</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge.to-&gt;p;</div>
<div class="line"><span class="lineno"> 1459</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1460</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm(); <span class="comment">// TODO: prevent recalculation of these values</span></div>
<div class="line"><span class="lineno"> 1461</span> </div>
<div class="line"><span class="lineno"> 1462</span>    assert(start_pos &lt;= ab_size);</div>
<div class="line"><span class="lineno"> 1463</span>    <span class="keywordflow">if</span>(start_pos &gt; ab_size)</div>
<div class="line"><span class="lineno"> 1464</span>    {</div>
<div class="line"><span class="lineno"> 1465</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Start position of edge is beyond edge range.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1466</span>    }</div>
<div class="line"><span class="lineno"> 1467</span> </div>
<div class="line"><span class="lineno"> 1468</span>    <span class="keywordtype">bool</span> going_up = end_rest &gt; start_rest;</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    assert(edge.data.isCentral());</div>
<div class="line"><span class="lineno"> 1471</span>    <span class="keywordflow">if</span> (!edge.data.isCentral())</div>
<div class="line"><span class="lineno"> 1472</span>    {</div>
<div class="line"><span class="lineno"> 1473</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;This function shouldn&#39;t generate ends in or beyond non-central regions.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1475</span>    }</div>
<div class="line"><span class="lineno"> 1476</span> </div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">if</span> (end_pos &gt; ab_size)</div>
<div class="line"><span class="lineno"> 1478</span>    { <span class="comment">// Recurse on all further edges</span></div>
<div class="line"><span class="lineno"> 1479</span>        <span class="keywordtype">float</span> rest = end_rest - (start_rest - end_rest) * (end_pos - ab_size) / (start_pos - end_pos);</div>
<div class="line"><span class="lineno"> 1480</span>        assert(rest &gt;= 0);</div>
<div class="line"><span class="lineno"> 1481</span>        assert(rest &lt;= std::max(end_rest, start_rest));</div>
<div class="line"><span class="lineno"> 1482</span>        assert(rest &gt;= std::min(end_rest, start_rest));</div>
<div class="line"><span class="lineno"> 1483</span> </div>
<div class="line"><span class="lineno"> 1484</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> central_edge_count = 0;</div>
<div class="line"><span class="lineno"> 1485</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* outgoing = edge.<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; outgoing &amp;&amp; outgoing != edge.twin; outgoing = outgoing-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1486</span>        {</div>
<div class="line"><span class="lineno"> 1487</span>            <span class="keywordflow">if</span> (!outgoing-&gt;data.isCentral()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1488</span>            central_edge_count++;</div>
<div class="line"><span class="lineno"> 1489</span>        }</div>
<div class="line"><span class="lineno"> 1490</span> </div>
<div class="line"><span class="lineno"> 1491</span>        <span class="keywordtype">bool</span> is_only_going_down = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1492</span>        <span class="keywordtype">bool</span> has_recursed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1493</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* outgoing = edge.<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; outgoing &amp;&amp; outgoing != edge.twin;)</div>
<div class="line"><span class="lineno"> 1494</span>        {</div>
<div class="line"><span class="lineno"> 1495</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* next = outgoing-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a2d9763e9ccc81e482a103f062ff12fdb">twin</a>-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; <span class="comment">// Before we change the outgoing edge itself</span></div>
<div class="line"><span class="lineno"> 1496</span>            <span class="keywordflow">if</span> (!outgoing-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1497</span>            {</div>
<div class="line"><span class="lineno"> 1498</span>                outgoing = next;</div>
<div class="line"><span class="lineno"> 1499</span>                <span class="keywordflow">continue</span>; <span class="comment">// Don&#39;t put transition ends in non-central regions</span></div>
<div class="line"><span class="lineno"> 1500</span>            }</div>
<div class="line"><span class="lineno"> 1501</span>            <span class="keywordflow">if</span> (central_edge_count &gt; 1 &amp;&amp; going_up &amp;&amp; <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7c386be91af30e010f99f84d0559f417">isGoingDown</a>(outgoing, 0, end_pos - ab_size + transition_half_length, lower_bead_count))</div>
<div class="line"><span class="lineno"> 1502</span>            { <span class="comment">// We&#39;re after a 3-way_all-central_junction-node and going in the direction of lower bead count</span></div>
<div class="line"><span class="lineno"> 1503</span>                <span class="comment">// don&#39;t introduce a transition end along this central direction, because this direction is the downward direction</span></div>
<div class="line"><span class="lineno"> 1504</span>                <span class="comment">// while we are supposed to be [going_up]</span></div>
<div class="line"><span class="lineno"> 1505</span>                outgoing = next;</div>
<div class="line"><span class="lineno"> 1506</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1507</span>            }</div>
<div class="line"><span class="lineno"> 1508</span>            <span class="keywordtype">bool</span> is_going_down = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">generateTransitionEnd</a>(*outgoing, 0, end_pos - ab_size, transition_half_length, rest, end_rest, lower_bead_count, edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1509</span>            is_only_going_down &amp;= is_going_down;</div>
<div class="line"><span class="lineno"> 1510</span>            outgoing = next;</div>
<div class="line"><span class="lineno"> 1511</span>            has_recursed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1512</span>        }</div>
<div class="line"><span class="lineno"> 1513</span>        <span class="keywordflow">if</span> (!going_up || (has_recursed &amp;&amp; !is_only_going_down))</div>
<div class="line"><span class="lineno"> 1514</span>        {</div>
<div class="line"><span class="lineno"> 1515</span>            edge.to-&gt;data.transition_ratio = rest;</div>
<div class="line"><span class="lineno"> 1516</span>            edge.to-&gt;data.bead_count = lower_bead_count;</div>
<div class="line"><span class="lineno"> 1517</span>        }</div>
<div class="line"><span class="lineno"> 1518</span>        <span class="keywordflow">return</span> is_only_going_down;</div>
<div class="line"><span class="lineno"> 1519</span>    }</div>
<div class="line"><span class="lineno"> 1520</span>    <span class="keywordflow">else</span> <span class="comment">// end_pos &lt; ab_size</span></div>
<div class="line"><span class="lineno"> 1521</span>    { <span class="comment">// Add transition end point here</span></div>
<div class="line"><span class="lineno"> 1522</span>        <span class="keywordtype">bool</span> is_lower_end = end_rest == 0; <span class="comment">// TODO collapse this parameter into the bool for which it is used here!</span></div>
<div class="line"><span class="lineno"> 1523</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = -1;</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* upward_edge = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1526</span>        <span class="keywordflow">if</span> (edge.isUpward())</div>
<div class="line"><span class="lineno"> 1527</span>        {</div>
<div class="line"><span class="lineno"> 1528</span>            upward_edge = &amp;edge;</div>
<div class="line"><span class="lineno"> 1529</span>            <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = end_pos;</div>
<div class="line"><span class="lineno"> 1530</span>        }</div>
<div class="line"><span class="lineno"> 1531</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1532</span>        {</div>
<div class="line"><span class="lineno"> 1533</span>            upward_edge = edge.twin;</div>
<div class="line"><span class="lineno"> 1534</span>            <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a2d49c0885f5562f98fbb19cbe6590d11">pos</a> = ab_size - end_pos;</div>
<div class="line"><span class="lineno"> 1535</span>        }</div>
<div class="line"><span class="lineno"> 1536</span> </div>
<div class="line"><span class="lineno"> 1537</span>        <span class="keywordflow">if</span>(!upward_edge-&gt;data.hasTransitionEnds())</div>
<div class="line"><span class="lineno"> 1538</span>        {</div>
<div class="line"><span class="lineno"> 1539</span>            <span class="comment">//This edge doesn&#39;t have a data structure yet for the transition ends. Make one.</span></div>
<div class="line"><span class="lineno"> 1540</span>            edge_transition_ends.emplace_back(std::make_shared&lt;std::list&lt;TransitionEnd&gt;&gt;());</div>
<div class="line"><span class="lineno"> 1541</span>            upward_edge-&gt;<a class="code hl_function" href="../../da/d8d/class_eigen_1_1_plain_object_base.html#a322d4d48cc285b60e0dff100db522342">data</a>.setTransitionEnds(edge_transition_ends.back());</div>
<div class="line"><span class="lineno"> 1542</span>        }</div>
<div class="line"><span class="lineno"> 1543</span>        <span class="keyword">auto</span> transitions = upward_edge-&gt;data.getTransitionEnds();</div>
<div class="line"><span class="lineno"> 1544</span> </div>
<div class="line"><span class="lineno"> 1545</span>        <span class="comment">//Add a transition to it (on the correct side).</span></div>
<div class="line"><span class="lineno"> 1546</span>        assert(ab_size == (edge.twin-&gt;from-&gt;p - edge.twin-&gt;to-&gt;p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm());</div>
<div class="line"><span class="lineno"> 1547</span>        assert(pos &lt;= ab_size);</div>
<div class="line"><span class="lineno"> 1548</span>        <span class="keywordflow">if</span> (transitions-&gt;empty() || pos &lt; transitions-&gt;<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">front</a>().pos)</div>
<div class="line"><span class="lineno"> 1549</span>        { <span class="comment">// Preorder so that sorting later on is faster</span></div>
<div class="line"><span class="lineno"> 1550</span>            transitions-&gt;emplace_front(pos, lower_bead_count, is_lower_end);</div>
<div class="line"><span class="lineno"> 1551</span>        }</div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1553</span>        {</div>
<div class="line"><span class="lineno"> 1554</span>            transitions-&gt;emplace_back(pos, lower_bead_count, is_lower_end);</div>
<div class="line"><span class="lineno"> 1555</span>        }</div>
<div class="line"><span class="lineno"> 1556</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1557</span>    }</div>
<div class="line"><span class="lineno"> 1558</span>}</div>
<div class="ttc" id="aclass_eigen_1_1_plain_object_base_html_a322d4d48cc285b60e0dff100db522342"><div class="ttname"><a href="../../da/d8d/class_eigen_1_1_plain_object_base.html#a322d4d48cc285b60e0dff100db522342">Eigen::PlainObjectBase::data</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC EIGEN_STRONG_INLINE const Scalar * data() const</div><div class="ttdef"><b>Definition</b> PlainObjectBase.h:255</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a08e4c9acfa45218f47ab7ee106b9445b"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionEnd</a></div><div class="ttdeci">bool generateTransitionEnd(edge_t &amp;edge, coord_t start_pos, coord_t end_pos, coord_t transition_half_length, double start_rest, double end_rest, coord_t transition_lower_bead_count, ptr_vector_t&lt; std::list&lt; TransitionEnd &gt; &gt; &amp;edge_transition_ends)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1455</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a7c386be91af30e010f99f84d0559f417"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7c386be91af30e010f99f84d0559f417">Slic3r::Arachne::SkeletalTrapezoidation::isGoingDown</a></div><div class="ttdeci">bool isGoingDown(edge_t *outgoing, coord_t traveled_dist, coord_t transition_half_length, coord_t lower_bead_count) const</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1561</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a9bbafef5b59a31bd6049a3aee20d760b"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a9bbafef5b59a31bd6049a3aee20d760b">libnest2d::shapelike::front</a></div><div class="ttdeci">TPoint&lt; P &gt; front(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:872</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l01455">generateTransitionEnd()</a>, <a class="el" href="../../#l00095">Slic3r::Arachne::SkeletalTrapezoidationEdge::getTransitionEnds()</a>, <a class="el" href="../../#l00087">Slic3r::Arachne::SkeletalTrapezoidationEdge::hasTransitionEnds()</a>, <a class="el" href="../../#l00060">Slic3r::Arachne::SkeletalTrapezoidationEdge::isCentral()</a>, <a class="el" href="../../#l01561">isGoingDown()</a>, <a class="el" href="../../#l00042">Slic3r::Arachne::STHalfEdge::isUpward()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00091">Slic3r::Arachne::SkeletalTrapezoidationEdge::setTransitionEnds()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01455">generateTransitionEnd()</a>, and <a class="el" href="../../#l01418">generateTransitionEnds()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a08e4c9acfa45218f47ab7ee106b9445b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a08e4c9acfa45218f47ab7ee106b9445b_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adccedc3fb7c61774fa3ac830d36298a8" name="adccedc3fb7c61774fa3ac830d36298a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adccedc3fb7c61774fa3ac830d36298a8">&#9670;&#160;</a></span>generateTransitionEnds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionEnds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>mid_R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>transition_lower_bead_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab4595b50faf0bc42a2ead82a46db6b9f">TransitionEnd</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_transition_ends</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate the endpoints of a specific transition midpoint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">edge</td><td>The edge to create transitions on. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">mid_R</td><td>The radius of the transition middle point. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transition_lower_bead_count</td><td>The bead count at the lower end of the transition. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">edge_transition_ends</td><td>A list of endpoints to add the new endpoints to. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1419</span>{</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge.from-&gt;p;</div>
<div class="line"><span class="lineno"> 1421</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge.to-&gt;p;</div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno"> 1423</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> ab_size = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_length = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a71f7903c6766764748567e92ad0ab619">getTransitioningLength</a>(lower_bead_count);</div>
<div class="line"><span class="lineno"> 1426</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> transition_mid_position = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#afd5b6e98d9b6ab274a5aeffe59ea97dd">getTransitionAnchorPos</a>(lower_bead_count);</div>
<div class="line"><span class="lineno"> 1427</span>    <span class="keyword">constexpr</span> <span class="keywordtype">float</span> inner_bead_width_ratio_after_transition = 1.0;</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_rest = 0;</div>
<div class="line"><span class="lineno"> 1430</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> mid_rest = transition_mid_position * inner_bead_width_ratio_after_transition;</div>
<div class="line"><span class="lineno"> 1431</span>    <span class="keyword">constexpr</span> <span class="keywordtype">float</span> end_rest = inner_bead_width_ratio_after_transition;</div>
<div class="line"><span class="lineno"> 1432</span> </div>
<div class="line"><span class="lineno"> 1433</span>    { <span class="comment">// Lower bead count transition end</span></div>
<div class="line"><span class="lineno"> 1434</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_pos = ab_size - mid_pos;</div>
<div class="line"><span class="lineno"> 1435</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_half_length = transition_mid_position * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(transition_length);</div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_pos = start_pos + transition_half_length;</div>
<div class="line"><span class="lineno"> 1437</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">generateTransitionEnd</a>(*edge.twin, start_pos, end_pos, transition_half_length, mid_rest, start_rest, lower_bead_count, edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1438</span>    }</div>
<div class="line"><span class="lineno"> 1439</span> </div>
<div class="line"><span class="lineno"> 1440</span>    { <span class="comment">// Upper bead count transition end</span></div>
<div class="line"><span class="lineno"> 1441</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_pos = mid_pos;</div>
<div class="line"><span class="lineno"> 1442</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> transition_half_length = (1.0 - transition_mid_position) * transition_length;</div>
<div class="line"><span class="lineno"> 1443</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_pos = mid_pos + transition_half_length;</div>
<div class="line"><span class="lineno"> 1444</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><span class="lineno"> 1445</span>        <span class="keywordflow">if</span> (! <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">generateTransitionEnd</a>(edge, start_pos, end_pos, transition_half_length, mid_rest, end_rest, lower_bead_count, edge_transition_ends))</div>
<div class="line"><span class="lineno"> 1446</span>        {</div>
<div class="line"><span class="lineno"> 1447</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;There must have been at least one direction in which the bead count is increasing enough for the transition to happen!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1448</span>        }</div>
<div class="line"><span class="lineno"> 1449</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1450</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a08e4c9acfa45218f47ab7ee106b9445b">generateTransitionEnd</a>(edge, start_pos, end_pos, transition_half_length, mid_rest, end_rest, lower_bead_count, edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1451</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1452</span>    }</div>
<div class="line"><span class="lineno"> 1453</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l01455">generateTransitionEnd()</a>, <a class="el" href="../../#l00038">Slic3r::Arachne::BeadingStrategy::getTransitionAnchorPos()</a>, <a class="el" href="../../#l00031">Slic3r::Arachne::BeadingStrategy::getTransitioningLength()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01398">generateAllTransitionEnds()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_adccedc3fb7c61774fa3ac830d36298a8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_adccedc3fb7c61774fa3ac830d36298a8_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2b9cba41d57d911ff7752d3c18833611" name="a2b9cba41d57d911ff7752d3c18833611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9cba41d57d911ff7752d3c18833611">&#9670;&#160;</a></span>generateTransitioningRibs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateTransitioningRibs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create extra edges along all edges, where it needs to transition from one bead count to another.</p>
<p>For example, if an edge of the graph goes from a bead count of 6 to a bead count of 1, it needs to generate 5 places where the beads around this line transition to a lower bead count. These are the "ribs". They reach from the edge to the border of the polygon. Where the beads hit those ribs the beads know to make a transition. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1105</span>{</div>
<div class="line"><span class="lineno"> 1106</span>    <span class="comment">// Store the upward edges to the transitions.</span></div>
<div class="line"><span class="lineno"> 1107</span>    <span class="comment">// We only store the halfedge for which the distance_to_boundary is higher at the end than at the beginning.</span></div>
<div class="line"><span class="lineno"> 1108</span>    ptr_vector_t&lt;std::list&lt;TransitionMiddle&gt;&gt; edge_transitions;</div>
<div class="line"><span class="lineno"> 1109</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#abafa5cb311d3baca882217b68ef6bf8b">generateTransitionMids</a>(edge_transitions);</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1112</span>    { <span class="comment">// Check if there is a transition in between nodes with different bead counts</span></div>
<div class="line"><span class="lineno"> 1113</span>        <span class="keywordflow">if</span> (edge.data.isCentral() &amp;&amp; edge.from-&gt;data.bead_count != edge.to-&gt;data.bead_count)</div>
<div class="line"><span class="lineno"> 1114</span>        {</div>
<div class="line"><span class="lineno"> 1115</span>            assert(edge.data.hasTransitions() || edge.twin-&gt;data.hasTransitions());</div>
<div class="line"><span class="lineno"> 1116</span>        }</div>
<div class="line"><span class="lineno"> 1117</span>    }</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aecf41f4a4c6d50a4df5f8b9926a7383f">filterTransitionMids</a>();</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno"> 1123</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateTransitioningRibs-mids-%d.svg&quot;</span>, iRun++), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno"> 1124</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    ptr_vector_t&lt;std::list&lt;TransitionEnd&gt;&gt; edge_transition_ends; <span class="comment">// We only map the half edge in the upward direction. mapped items are not sorted</span></div>
<div class="line"><span class="lineno"> 1127</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54f1fa425cc686b47bcafa4ea431d823">generateAllTransitionEnds</a>(edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1130</span>    export_graph_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;ST-generateTransitioningRibs-ends-%d.svg&quot;</span>, iRun++), this-&gt;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>, this-&gt;outline);</div>
<div class="line"><span class="lineno"> 1131</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>    <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ade7687b1e6903b420f78f71cd5277c9f">applyTransitions</a>(edge_transition_ends);</div>
<div class="line"><span class="lineno"> 1134</span>    <span class="comment">// Note that the shared pointer lists will be out of scope and thus destroyed here, since the remaining refs are weak_ptr.</span></div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span><span class="preprocessor">#ifdef ARACHNE_DEBUG</span></div>
<div class="line"><span class="lineno"> 1137</span>    ++iRun;</div>
<div class="line"><span class="lineno"> 1138</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1139</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a54f1fa425cc686b47bcafa4ea431d823"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54f1fa425cc686b47bcafa4ea431d823">Slic3r::Arachne::SkeletalTrapezoidation::generateAllTransitionEnds</a></div><div class="ttdeci">void generateAllTransitionEnds(ptr_vector_t&lt; std::list&lt; TransitionEnd &gt; &gt; &amp;edge_transition_ends)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1398</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_abafa5cb311d3baca882217b68ef6bf8b"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#abafa5cb311d3baca882217b68ef6bf8b">Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionMids</a></div><div class="ttdeci">void generateTransitionMids(ptr_vector_t&lt; std::list&lt; TransitionMiddle &gt; &gt; &amp;edge_transitions)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1142</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ade7687b1e6903b420f78f71cd5277c9f"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ade7687b1e6903b420f78f71cd5277c9f">Slic3r::Arachne::SkeletalTrapezoidation::applyTransitions</a></div><div class="ttdeci">void applyTransitions(ptr_vector_t&lt; std::list&lt; TransitionEnd &gt; &gt; &amp;edge_transition_ends)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1627</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_aecf41f4a4c6d50a4df5f8b9926a7383f"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#aecf41f4a4c6d50a4df5f8b9926a7383f">Slic3r::Arachne::SkeletalTrapezoidation::filterTransitionMids</a></div><div class="ttdeci">void filterTransitionMids()</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:1222</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01627">applyTransitions()</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l01222">filterTransitionMids()</a>, <a class="el" href="../../#l01398">generateAllTransitionEnds()</a>, <a class="el" href="../../#l01142">generateTransitionMids()</a>, and <a class="el" href="../../#l00122">graph</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a2b9cba41d57d911ff7752d3c18833611_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a2b9cba41d57d911ff7752d3c18833611_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abafa5cb311d3baca882217b68ef6bf8b" name="abafa5cb311d3baca882217b68ef6bf8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abafa5cb311d3baca882217b68ef6bf8b">&#9670;&#160;</a></span>generateTransitionMids()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::generateTransitionMids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; std::list&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>edge_transitions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate middle points of all transitions on edges.</p>
<p>The transition middle points are saved in the graph itself. They are also returned via the output parameter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">edge_transitions</td><td>A list of transitions that were generated. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1143</span>{</div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1145</span>    {</div>
<div class="line"><span class="lineno"> 1146</span>        assert(edge.data.centralIsSet());</div>
<div class="line"><span class="lineno"> 1147</span>        <span class="keywordflow">if</span> (!edge.data.isCentral())</div>
<div class="line"><span class="lineno"> 1148</span>        { <span class="comment">// Only central regions introduce transitions</span></div>
<div class="line"><span class="lineno"> 1149</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1150</span>        }</div>
<div class="line"><span class="lineno"> 1151</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> start_R = edge.from-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1152</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> end_R = edge.to-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1153</span>        <span class="keywordtype">int</span> start_bead_count = edge.from-&gt;data.bead_count;</div>
<div class="line"><span class="lineno"> 1154</span>        <span class="keywordtype">int</span> end_bead_count = edge.to-&gt;data.bead_count;</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">if</span> (start_R == end_R)</div>
<div class="line"><span class="lineno"> 1157</span>        { <span class="comment">// No transitions occur when both end points have the same distance_to_boundary</span></div>
<div class="line"><span class="lineno"> 1158</span>            assert(edge.from-&gt;data.bead_count == edge.to-&gt;data.bead_count);</div>
<div class="line"><span class="lineno"> 1159</span>            <span class="keywordflow">if</span>(edge.from-&gt;data.bead_count != edge.to-&gt;data.bead_count)</div>
<div class="line"><span class="lineno"> 1160</span>            {</div>
<div class="line"><span class="lineno"> 1161</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Bead count &quot;</span> &lt;&lt; edge.from-&gt;data.bead_count &lt;&lt; <span class="stringliteral">&quot; is different from &quot;</span> &lt;&lt; edge.to-&gt;data.bead_count &lt;&lt; <span class="stringliteral">&quot; even though distance to boundary is the same.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1162</span>            }</div>
<div class="line"><span class="lineno"> 1163</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1164</span>        }</div>
<div class="line"><span class="lineno"> 1165</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (start_R &gt; end_R)</div>
<div class="line"><span class="lineno"> 1166</span>        { <span class="comment">// Only consider those half-edges which are going from a lower to a higher distance_to_boundary</span></div>
<div class="line"><span class="lineno"> 1167</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1168</span>        }</div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span>        <span class="keywordflow">if</span> (edge.from-&gt;data.bead_count == edge.to-&gt;data.bead_count)</div>
<div class="line"><span class="lineno"> 1171</span>        { <span class="comment">// No transitions should occur according to the enforced bead counts</span></div>
<div class="line"><span class="lineno"> 1172</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1173</span>        }</div>
<div class="line"><span class="lineno"> 1174</span> </div>
<div class="line"><span class="lineno"> 1175</span>        <span class="keywordflow">if</span> (start_bead_count &gt; <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(start_R * 2)</div>
<div class="line"><span class="lineno"> 1176</span>            || end_bead_count &gt; <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(end_R * 2))</div>
<div class="line"><span class="lineno"> 1177</span>        { <span class="comment">// Wasn&#39;t the case earlier in this function because of already introduced transitions</span></div>
<div class="line"><span class="lineno"> 1178</span>            BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;transitioning segment overlap! (?)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1179</span>        }</div>
<div class="line"><span class="lineno"> 1180</span>        assert(start_R &lt; end_R);</div>
<div class="line"><span class="lineno"> 1181</span>        <span class="keywordflow">if</span>(start_R &gt;= end_R)</div>
<div class="line"><span class="lineno"> 1182</span>        {</div>
<div class="line"><span class="lineno"> 1183</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Transitioning the wrong way around! This function expects to transition from small R to big R, but was transitioning from &quot;</span> &lt;&lt; start_R &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; end_R;</div>
<div class="line"><span class="lineno"> 1184</span>        }</div>
<div class="line"><span class="lineno"> 1185</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> edge_size = (edge.from-&gt;p - edge.to-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1186</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> transition_lower_bead_count = start_bead_count; transition_lower_bead_count &lt; end_bead_count; transition_lower_bead_count++)</div>
<div class="line"><span class="lineno"> 1187</span>        {</div>
<div class="line"><span class="lineno"> 1188</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> mid_R = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#ac5d83351ec34bc882ff180397a95c380">getTransitionThickness</a>(transition_lower_bead_count) / 2;</div>
<div class="line"><span class="lineno"> 1189</span>            <span class="keywordflow">if</span> (mid_R &gt; end_R)</div>
<div class="line"><span class="lineno"> 1190</span>            {</div>
<div class="line"><span class="lineno"> 1191</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;transition on segment lies outside of segment!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1192</span>                mid_R = end_R;</div>
<div class="line"><span class="lineno"> 1193</span>            }</div>
<div class="line"><span class="lineno"> 1194</span>            <span class="keywordflow">if</span> (mid_R &lt; start_R)</div>
<div class="line"><span class="lineno"> 1195</span>            {</div>
<div class="line"><span class="lineno"> 1196</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;transition on segment lies outside of segment!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1197</span>                mid_R = start_R;</div>
<div class="line"><span class="lineno"> 1198</span>            }</div>
<div class="line"><span class="lineno"> 1199</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> mid_pos = <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(edge_size) * <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(mid_R - start_R) / <a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(end_R - start_R);</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>            assert(mid_pos &gt;= 0);</div>
<div class="line"><span class="lineno"> 1202</span>            assert(mid_pos &lt;= edge_size);</div>
<div class="line"><span class="lineno"> 1203</span>            <span class="keywordflow">if</span>(mid_pos &lt; 0 || mid_pos &gt; edge_size)</div>
<div class="line"><span class="lineno"> 1204</span>            {</div>
<div class="line"><span class="lineno"> 1205</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Transition mid is out of bounds of the edge.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1206</span>            }</div>
<div class="line"><span class="lineno"> 1207</span>            <span class="keyword">auto</span> transitions = edge.data.getTransitions();</div>
<div class="line"><span class="lineno"> 1208</span>            <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> ignore_empty = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1209</span>            assert((! edge.data.hasTransitions(ignore_empty)) || mid_pos &gt;= transitions-&gt;back().pos);</div>
<div class="line"><span class="lineno"> 1210</span>            <span class="keywordflow">if</span> (! edge.data.hasTransitions(ignore_empty))</div>
<div class="line"><span class="lineno"> 1211</span>            {</div>
<div class="line"><span class="lineno"> 1212</span>                edge_transitions.emplace_back(std::make_shared&lt;std::list&lt;TransitionMiddle&gt;&gt;());</div>
<div class="line"><span class="lineno"> 1213</span>                edge.data.setTransitions(edge_transitions.back());  <span class="comment">// initialization</span></div>
<div class="line"><span class="lineno"> 1214</span>                transitions = edge.data.getTransitions();</div>
<div class="line"><span class="lineno"> 1215</span>            }</div>
<div class="line"><span class="lineno"> 1216</span>            transitions-&gt;emplace_back(mid_pos, transition_lower_bead_count, mid_R);</div>
<div class="line"><span class="lineno"> 1217</span>        }</div>
<div class="line"><span class="lineno"> 1218</span>        assert((edge.from-&gt;data.bead_count == edge.to-&gt;data.bead_count) || edge.data.hasTransitions());</div>
<div class="line"><span class="lineno"> 1219</span>    }</div>
<div class="line"><span class="lineno"> 1220</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_ac5d83351ec34bc882ff180397a95c380"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#ac5d83351ec34bc882ff180397a95c380">Slic3r::Arachne::BeadingStrategy::getTransitionThickness</a></div><div class="ttdeci">virtual coord_t getTransitionThickness(coord_t lower_bead_count) const</div><div class="ttdef"><b>Definition</b> BeadingStrategy.cpp:71</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">Slic3r::Arachne::BeadingStrategy::getOptimalBeadCount()</a>, <a class="el" href="../../#l00071">Slic3r::Arachne::BeadingStrategy::getTransitionThickness()</a>, and <a class="el" href="../../#l00122">graph</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01104">generateTransitioningRibs()</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_abafa5cb311d3baca882217b68ef6bf8b_cgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_abafa5cb311d3baca882217b68ef6bf8b_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a54365f123e131d6395cfc4d2374ada1c" name="a54365f123e131d6395cfc4d2374ada1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54365f123e131d6395cfc4d2374ada1c">&#9670;&#160;</a></span>getNearestBeading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html">SkeletalTrapezoidationJoint::BeadingPropagation</a> &gt; Slic3r::Arachne::SkeletalTrapezoidation::getNearestBeading </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>max_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>In case we cannot find the beading of a node, get a beading from the nearest node. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node to attempt to get a beading from. The actual node that the returned beading is from may be a different, nearby node. </td></tr>
    <tr><td class="paramname">max_dist</td><td>The maximum distance to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A beading for the node, or <code>nullptr</code> if there is no node nearby with a beading. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2202</span>{</div>
<div class="line"><span class="lineno"> 2203</span>    <span class="keyword">struct </span>DistEdge</div>
<div class="line"><span class="lineno"> 2204</span>    {</div>
<div class="line"><span class="lineno"> 2205</span>        edge_t* edge_to;</div>
<div class="line"><span class="lineno"> 2206</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>;</div>
<div class="line"><span class="lineno"> 2207</span>        DistEdge(edge_t* edge_to, <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dist)</div>
<div class="line"><span class="lineno"> 2208</span>        : edge_to(edge_to), <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>(<a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>)</div>
<div class="line"><span class="lineno"> 2209</span>        {}</div>
<div class="line"><span class="lineno"> 2210</span>    };</div>
<div class="line"><span class="lineno"> 2211</span> </div>
<div class="line"><span class="lineno"> 2212</span>    <span class="keyword">auto</span> compare = [](<span class="keyword">const</span> DistEdge&amp; l, <span class="keyword">const</span> DistEdge&amp; r) -&gt; <span class="keywordtype">bool</span> { <span class="keywordflow">return</span> l.dist &gt; r.dist; };</div>
<div class="line"><span class="lineno"> 2213</span>    std::priority_queue&lt;DistEdge, std::vector&lt;DistEdge&gt;, <span class="keyword">decltype</span>(compare)&gt; further_edges(compare);</div>
<div class="line"><span class="lineno"> 2214</span>    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2215</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* outgoing = node-&gt;incident_edge; outgoing &amp;&amp; (first || outgoing != node-&gt;incident_edge); outgoing = outgoing-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 2216</span>    {</div>
<div class="line"><span class="lineno"> 2217</span>        further_edges.emplace(outgoing, (outgoing-&gt;to-&gt;p - outgoing-&gt;from-&gt;p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm());</div>
<div class="line"><span class="lineno"> 2218</span>        first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2219</span>    }</div>
<div class="line"><span class="lineno"> 2220</span> </div>
<div class="line"><span class="lineno"> 2221</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> counter = 0; counter &lt; <a class="code hl_define" href="../../d9/d95/_skeletal_trapezoidation_8cpp.html#a6234ef5618894ec1fc077bb43e8e28eb">SKELETAL_TRAPEZOIDATION_BEAD_SEARCH_MAX</a>; counter++)</div>
<div class="line"><span class="lineno"> 2222</span>    { <span class="comment">// Prevent endless recursion</span></div>
<div class="line"><span class="lineno"> 2223</span>        <span class="keywordflow">if</span> (further_edges.empty()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2224</span>        DistEdge here = further_edges.top();</div>
<div class="line"><span class="lineno"> 2225</span>        further_edges.pop();</div>
<div class="line"><span class="lineno"> 2226</span>        <span class="keywordflow">if</span> (here.dist &gt; max_dist) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2227</span>        <span class="keywordflow">if</span> (here.edge_to-&gt;to-&gt;data.hasBeading())</div>
<div class="line"><span class="lineno"> 2228</span>        {</div>
<div class="line"><span class="lineno"> 2229</span>            <span class="keywordflow">return</span> here.edge_to-&gt;to-&gt;data.getBeading();</div>
<div class="line"><span class="lineno"> 2230</span>        }</div>
<div class="line"><span class="lineno"> 2231</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2232</span>        { <span class="comment">// recurse</span></div>
<div class="line"><span class="lineno"> 2233</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* further_edge = here.edge_to-&gt;next; further_edge &amp;&amp; further_edge != here.edge_to-&gt;twin; further_edge = further_edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 2234</span>            {</div>
<div class="line"><span class="lineno"> 2235</span>                further_edges.emplace(further_edge, here.dist + (further_edge-&gt;to-&gt;p - further_edge-&gt;from-&gt;p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm());</div>
<div class="line"><span class="lineno"> 2236</span>            }</div>
<div class="line"><span class="lineno"> 2237</span>        }</div>
<div class="line"><span class="lineno"> 2238</span>    }</div>
<div class="line"><span class="lineno"> 2239</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2240</span>}</div>
<div class="ttc" id="a_skeletal_trapezoidation_8cpp_html_a6234ef5618894ec1fc077bb43e8e28eb"><div class="ttname"><a href="../../d9/d95/_skeletal_trapezoidation_8cpp.html#a6234ef5618894ec1fc077bb43e8e28eb">SKELETAL_TRAPEZOIDATION_BEAD_SEARCH_MAX</a></div><div class="ttdeci">#define SKELETAL_TRAPEZOIDATION_BEAD_SEARCH_MAX</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:22</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:280</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::incident_edge</a>, and <a class="el" href="../../#l00022">SKELETAL_TRAPEZOIDATION_BEAD_SEARCH_MAX</a>.</p>

</div>
</div>
<a id="a3297724870a1d9cee31f9b39ee547ccb" name="a3297724870a1d9cee31f9b39ee547ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3297724870a1d9cee31f9b39ee547ccb">&#9670;&#160;</a></span>getOrCreateBeading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html">SkeletalTrapezoidationJoint::BeadingPropagation</a> &gt; Slic3r::Arachne::SkeletalTrapezoidation::getOrCreateBeading </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_beadings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the beading at a certain node of the skeletal graph, or create one if it doesn't have one yet.</p>
<p>This is a lazy get. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node to get the beading from. </td></tr>
    <tr><td class="paramname">node_beadings</td><td>A list of all beadings for nodes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The beading of that node. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2160</span>{</div>
<div class="line"><span class="lineno"> 2161</span>    <span class="keywordflow">if</span> (! node-&gt;data.hasBeading())</div>
<div class="line"><span class="lineno"> 2162</span>    {</div>
<div class="line"><span class="lineno"> 2163</span>        <span class="keywordflow">if</span> (node-&gt;data.bead_count == -1)</div>
<div class="line"><span class="lineno"> 2164</span>        { <span class="comment">// This bug is due to too small central edges</span></div>
<div class="line"><span class="lineno"> 2165</span>            <span class="keyword">constexpr</span> <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> nearby_dist = scaled&lt;coord_t&gt;(0.1);</div>
<div class="line"><span class="lineno"> 2166</span>            <span class="keyword">auto</span> nearest_beading = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54365f123e131d6395cfc4d2374ada1c">getNearestBeading</a>(node, nearby_dist);</div>
<div class="line"><span class="lineno"> 2167</span>            <span class="keywordflow">if</span> (nearest_beading)</div>
<div class="line"><span class="lineno"> 2168</span>            {</div>
<div class="line"><span class="lineno"> 2169</span>                <span class="keywordflow">return</span> nearest_beading;</div>
<div class="line"><span class="lineno"> 2170</span>            }</div>
<div class="line"><span class="lineno"> 2171</span>            </div>
<div class="line"><span class="lineno"> 2172</span>            <span class="comment">// Else make a new beading:</span></div>
<div class="line"><span class="lineno"> 2173</span>            <span class="keywordtype">bool</span> has_central_edge = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2174</span>            <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2175</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = std::numeric_limits&lt;coord_t&gt;::max();</div>
<div class="line"><span class="lineno"> 2176</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = node-&gt;incident_edge; edge &amp;&amp; (first || edge != node-&gt;incident_edge); edge = edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 2177</span>            {</div>
<div class="line"><span class="lineno"> 2178</span>                <span class="keywordflow">if</span> (edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 2179</span>                {</div>
<div class="line"><span class="lineno"> 2180</span>                    has_central_edge = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2181</span>                }</div>
<div class="line"><span class="lineno"> 2182</span>                assert(edge-&gt;to-&gt;data.distance_to_boundary &gt;= 0);</div>
<div class="line"><span class="lineno"> 2183</span>                <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = std::min(dist, edge-&gt;to-&gt;data.distance_to_boundary + <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((edge-&gt;to-&gt;p - edge-&gt;from-&gt;p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm()));</div>
<div class="line"><span class="lineno"> 2184</span>                first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2185</span>            }</div>
<div class="line"><span class="lineno"> 2186</span>            <span class="keywordflow">if</span> (!has_central_edge)</div>
<div class="line"><span class="lineno"> 2187</span>            {</div>
<div class="line"><span class="lineno"> 2188</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Unknown beading for non-central node!&quot;</span>;</div>
<div class="line"><span class="lineno"> 2189</span>            }</div>
<div class="line"><span class="lineno"> 2190</span>            assert(dist != std::numeric_limits&lt;coord_t&gt;::max());</div>
<div class="line"><span class="lineno"> 2191</span>            node-&gt;data.bead_count = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(dist * 2);</div>
<div class="line"><span class="lineno"> 2192</span>        }</div>
<div class="line"><span class="lineno"> 2193</span>        assert(node-&gt;data.bead_count != -1);</div>
<div class="line"><span class="lineno"> 2194</span>        node_beadings.emplace_back(<span class="keyword">new</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a9d62894965a2fbaa8f88662602c84097">compute</a>(node-&gt;data.distance_to_boundary * 2, node-&gt;data.bead_count)));</div>
<div class="line"><span class="lineno"> 2195</span>        node-&gt;data.setBeading(node_beadings.back());</div>
<div class="line"><span class="lineno"> 2196</span>    }</div>
<div class="line"><span class="lineno"> 2197</span>    assert(node-&gt;data.hasBeading());</div>
<div class="line"><span class="lineno"> 2198</span>    <span class="keywordflow">return</span> node-&gt;data.getBeading();</div>
<div class="line"><span class="lineno"> 2199</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a54365f123e131d6395cfc4d2374ada1c"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a54365f123e131d6395cfc4d2374ada1c">Slic3r::Arachne::SkeletalTrapezoidation::getNearestBeading</a></div><div class="ttdeci">std::shared_ptr&lt; BeadingPropagation &gt; getNearestBeading(node_t *node, coord_t max_dist)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:2201</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../#l00049">Slic3r::Arachne::SkeletalTrapezoidationJoint::getBeading()</a>, <a class="el" href="../../#l00041">Slic3r::Arachne::SkeletalTrapezoidationJoint::hasBeading()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::incident_edge</a>, and <a class="el" href="../../#l00045">Slic3r::Arachne::SkeletalTrapezoidationJoint::setBeading()</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a3297724870a1d9cee31f9b39ee547ccb_cgraph.svg" width="502" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a21b4f2553c8f4ee719ba064f2de1647d" name="a21b4f2553c8f4ee719ba064f2de1647d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b4f2553c8f4ee719ba064f2de1647d">&#9670;&#160;</a></span>getQuadMaxRedgeTo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">SkeletalTrapezoidation::edge_t</a> * Slic3r::Arachne::SkeletalTrapezoidation::getQuadMaxRedgeTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>quad_start_edge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>From a quad (a group of linked edges in one cell of the <a class="el" href="../../df/d35/namespace_slic3r_1_1_voronoi.html">Voronoi</a>), find the edge pointing to the node that is furthest away from the border of the polygon. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">quad_start_edge</td><td>The first edge of the quad. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The edge of the quad that is furthest away from the border. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1893</span>{</div>
<div class="line"><span class="lineno"> 1894</span>    assert(quad_start_edge-&gt;prev == <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1895</span>    assert(quad_start_edge-&gt;from-&gt;data.distance_to_boundary == 0);</div>
<div class="line"><span class="lineno"> 1896</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> max_R = -1;</div>
<div class="line"><span class="lineno"> 1897</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* ret = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1898</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = quad_start_edge; edge; edge = edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>)</div>
<div class="line"><span class="lineno"> 1899</span>    {</div>
<div class="line"><span class="lineno"> 1900</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> r = edge-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ad052b2bbcdfa7628fafa0a71adef9677">to</a>-&gt;<a class="code hl_variable" href="../../db/d78/class_slic3r_1_1_arachne_1_1_half_edge_node.html#a6ac6b5db9ee5265260a5715f93357b56">data</a>.<a class="code hl_variable" href="../../db/dc5/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint.html#a9ed30341bbafc62acd15e74da209542d">distance_to_boundary</a>;</div>
<div class="line"><span class="lineno"> 1901</span>        <span class="keywordflow">if</span> (r &gt; max_R)</div>
<div class="line"><span class="lineno"> 1902</span>        {</div>
<div class="line"><span class="lineno"> 1903</span>            max_R = r;</div>
<div class="line"><span class="lineno"> 1904</span>            ret = edge;</div>
<div class="line"><span class="lineno"> 1905</span>        }</div>
<div class="line"><span class="lineno"> 1906</span>    }</div>
<div class="line"><span class="lineno"> 1907</span> </div>
<div class="line"><span class="lineno"> 1908</span>    <span class="keywordflow">if</span> (!ret-&gt;next &amp;&amp; ret-&gt;to-&gt;data.distance_to_boundary - scaled&lt;coord_t&gt;(0.005) &lt; ret-&gt;from-&gt;data.distance_to_boundary)</div>
<div class="line"><span class="lineno"> 1909</span>    {</div>
<div class="line"><span class="lineno"> 1910</span>        ret = ret-&gt;prev;</div>
<div class="line"><span class="lineno"> 1911</span>    }</div>
<div class="line"><span class="lineno"> 1912</span>    assert(ret);</div>
<div class="line"><span class="lineno"> 1913</span>    assert(ret-&gt;next);</div>
<div class="line"><span class="lineno"> 1914</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1915</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::prev</a>, and <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>.</p>

</div>
</div>
<a id="a33d9d6f08795b1e2c865e75c8d9b59e0" name="a33d9d6f08795b1e2c865e75c8d9b59e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d9d6f08795b1e2c865e75c8d9b59e0">&#9670;&#160;</a></span>interpolate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">SkeletalTrapezoidation::Beading</a> Slic3r::Arachne::SkeletalTrapezoidation::interpolate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ratio_left_to_whole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Subroutine of interpolate(const Beading&amp;, Ratio, const Beading&amp;, coord_t)</p>
<p>This creates a new Beading between two beadings, assuming that both have the same number of beads. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>One of the beadings to interpolate between. </td></tr>
    <tr><td class="paramname">ratio_left_to_whole</td><td>The position within the two beadings to sample an interpolation. Should be a ratio between 0 and 1. </td></tr>
    <tr><td class="paramname">right</td><td>One of the beadings to interpolate between. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The beading at the interpolated location. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2062</span>{</div>
<div class="line"><span class="lineno"> 2063</span>    assert(ratio_left_to_whole &gt;= 0.0 &amp;&amp; ratio_left_to_whole &lt;= 1.0);</div>
<div class="line"><span class="lineno"> 2064</span>    <span class="keywordtype">float</span> ratio_right_to_whole = 1.0 - ratio_left_to_whole;</div>
<div class="line"><span class="lineno"> 2065</span> </div>
<div class="line"><span class="lineno"> 2066</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> ret = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.total_thickness &gt; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.total_thickness)? left : <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>;</div>
<div class="line"><span class="lineno"> 2067</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> inset_idx = 0; inset_idx &lt; std::min(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.bead_widths.size(), <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.bead_widths.size()); inset_idx++)</div>
<div class="line"><span class="lineno"> 2068</span>    {</div>
<div class="line"><span class="lineno"> 2069</span>        <span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.bead_widths[inset_idx] == 0 || <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.bead_widths[inset_idx] == 0)</div>
<div class="line"><span class="lineno"> 2070</span>        {</div>
<div class="line"><span class="lineno"> 2071</span>            ret.bead_widths[inset_idx] = 0; <span class="comment">//0-width wall markers stay 0-width.</span></div>
<div class="line"><span class="lineno"> 2072</span>        }</div>
<div class="line"><span class="lineno"> 2073</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2074</span>        {</div>
<div class="line"><span class="lineno"> 2075</span>            ret.bead_widths[inset_idx] = ratio_left_to_whole * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.bead_widths[inset_idx] + ratio_right_to_whole * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.bead_widths[inset_idx];</div>
<div class="line"><span class="lineno"> 2076</span>        }</div>
<div class="line"><span class="lineno"> 2077</span>        ret.toolpath_locations[inset_idx] = ratio_left_to_whole * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations[inset_idx] + ratio_right_to_whole * <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.toolpath_locations[inset_idx];</div>
<div class="line"><span class="lineno"> 2078</span>    }</div>
<div class="line"><span class="lineno"> 2079</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2080</span>}</div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">marchsq::__impl::Dir::right</a></div><div class="ttdeci">@ right</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">marchsq::__impl::Dir::left</a></div><div class="ttdeci">@ left</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">Slic3r::Arachne::BeadingStrategy::Beading::bead_widths</a>, and <a class="el" href="../../#l00035">Slic3r::Arachne::BeadingStrategy::Beading::toolpath_locations</a>.</p>

</div>
</div>
<a id="a960cb4d40bd43f54ff94fd0cac9a49a0" name="a960cb4d40bd43f54ff94fd0cac9a49a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a960cb4d40bd43f54ff94fd0cac9a49a0">&#9670;&#160;</a></span>interpolate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">SkeletalTrapezoidation::Beading</a> Slic3r::Arachne::SkeletalTrapezoidation::interpolate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ratio_left_to_whole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> &amp;&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>switching_radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find a beading in between two other beadings.</p>
<p>This creates a new beading. With this we can find the coordinates of the endpoints of the actual line segments to draw.</p>
<p>The parameters <code>left</code> and <code>right</code> are not actually always left or right but just arbitrary directions to visually indicate the difference. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>One of the beadings to interpolate between. </td></tr>
    <tr><td class="paramname">ratio_left_to_whole</td><td>The position within the two beadings to sample an interpolation. Should be a ratio between 0 and 1. </td></tr>
    <tr><td class="paramname">right</td><td>One of the beadings to interpolate between. </td></tr>
    <tr><td class="paramname">switching_radius</td><td>The bead radius at which we switch from the left beading to the merged beading, if the beadings have a different number of beads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The beading at the interpolated location. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2019</span>{</div>
<div class="line"><span class="lineno"> 2020</span>    assert(ratio_left_to_whole &gt;= 0.0 &amp;&amp; ratio_left_to_whole &lt;= 1.0);</div>
<div class="line"><span class="lineno"> 2021</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> ret = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">interpolate</a>(left, ratio_left_to_whole, right);</div>
<div class="line"><span class="lineno"> 2022</span> </div>
<div class="line"><span class="lineno"> 2023</span>    <span class="comment">// TODO: don&#39;t use toolpath locations past the middle!</span></div>
<div class="line"><span class="lineno"> 2024</span>    <span class="comment">// TODO: stretch bead widths and locations of the higher bead count beading to fit in the left over space</span></div>
<div class="line"><span class="lineno"> 2025</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> next_inset_idx;</div>
<div class="line"><span class="lineno"> 2026</span>    <span class="keywordflow">for</span> (next_inset_idx = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations.size() - 1; next_inset_idx &gt;= 0; next_inset_idx--)</div>
<div class="line"><span class="lineno"> 2027</span>    {</div>
<div class="line"><span class="lineno"> 2028</span>        <span class="keywordflow">if</span> (switching_radius &gt; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations[next_inset_idx])</div>
<div class="line"><span class="lineno"> 2029</span>        {</div>
<div class="line"><span class="lineno"> 2030</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2031</span>        }</div>
<div class="line"><span class="lineno"> 2032</span>    }</div>
<div class="line"><span class="lineno"> 2033</span>    <span class="keywordflow">if</span> (next_inset_idx &lt; 0)</div>
<div class="line"><span class="lineno"> 2034</span>    { <span class="comment">// There is no next inset, because there is only one</span></div>
<div class="line"><span class="lineno"> 2035</span>        assert(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations.empty() || <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations.front() &gt;= switching_radius);</div>
<div class="line"><span class="lineno"> 2036</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2037</span>    }</div>
<div class="line"><span class="lineno"> 2038</span>    <span class="keywordflow">if</span> (next_inset_idx + 1 == <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations.size()))</div>
<div class="line"><span class="lineno"> 2039</span>    { <span class="comment">// We cant adjust to fit the next edge because there is no previous one?!</span></div>
<div class="line"><span class="lineno"> 2040</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2041</span>    }</div>
<div class="line"><span class="lineno"> 2042</span>    assert(next_inset_idx &lt; <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations.size()));</div>
<div class="line"><span class="lineno"> 2043</span>    assert(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations[next_inset_idx] &lt;= switching_radius);</div>
<div class="line"><span class="lineno"> 2044</span>    assert(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations[next_inset_idx + 1] &gt;= switching_radius);</div>
<div class="line"><span class="lineno"> 2045</span>    <span class="keywordflow">if</span> (ret.toolpath_locations[next_inset_idx] &gt; switching_radius)</div>
<div class="line"><span class="lineno"> 2046</span>    { <span class="comment">// One inset disappeared between left and the merged one</span></div>
<div class="line"><span class="lineno"> 2047</span>        <span class="comment">// solve for ratio f:</span></div>
<div class="line"><span class="lineno"> 2048</span>        <span class="comment">// f*l + (1-f)*r = s</span></div>
<div class="line"><span class="lineno"> 2049</span>        <span class="comment">// f*l + r - f*r = s</span></div>
<div class="line"><span class="lineno"> 2050</span>        <span class="comment">// f*(l-r) + r = s</span></div>
<div class="line"><span class="lineno"> 2051</span>        <span class="comment">// f*(l-r) = s - r</span></div>
<div class="line"><span class="lineno"> 2052</span>        <span class="comment">// f = (s-r) / (l-r)</span></div>
<div class="line"><span class="lineno"> 2053</span>        <span class="keywordtype">float</span> new_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(switching_radius - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.toolpath_locations[next_inset_idx]) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a811882fecd5c7618d7099ebbd39ea254">left</a>.toolpath_locations[next_inset_idx] - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#ad1b266b182e7c12ec61378819e3785f1a7c4f29407893c334a6cb7a87bf045c0d">right</a>.toolpath_locations[next_inset_idx]);</div>
<div class="line"><span class="lineno"> 2054</span>        new_ratio = std::min(1.0, new_ratio + 0.1);</div>
<div class="line"><span class="lineno"> 2055</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">interpolate</a>(left, new_ratio, right);</div>
<div class="line"><span class="lineno"> 2056</span>    }</div>
<div class="line"><span class="lineno"> 2057</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 2058</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00035">Slic3r::Arachne::BeadingStrategy::Beading::toolpath_locations</a>.</p>

</div>
</div>
<a id="a7d815ed5462c44b1a4c14a91b31b092b" name="a7d815ed5462c44b1a4c14a91b31b092b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d815ed5462c44b1a4c14a91b31b092b">&#9670;&#160;</a></span>isEndOfCentral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::isEndOfCentral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> &amp;&#160;</td>
          <td class="paramname"><em>edge</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether this edge marks the end of the central region. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">edge</td><td>The edge to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if this edge goes from a central region to a non-central region, or <code>false</code> in every other case (central to central, non-central to non-central, non-central to central, or end-of-the-line). </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1694</span>{</div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">if</span> (!edge_to.data.isCentral())</div>
<div class="line"><span class="lineno"> 1696</span>    {</div>
<div class="line"><span class="lineno"> 1697</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1698</span>    }</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="keywordflow">if</span> (!edge_to.next)</div>
<div class="line"><span class="lineno"> 1700</span>    {</div>
<div class="line"><span class="lineno"> 1701</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1702</span>    }</div>
<div class="line"><span class="lineno"> 1703</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = edge_to.<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; edge &amp;&amp; edge != edge_to.twin; edge = edge-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1704</span>    {</div>
<div class="line"><span class="lineno"> 1705</span>        <span class="keywordflow">if</span> (edge-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1706</span>        {</div>
<div class="line"><span class="lineno"> 1707</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1708</span>        }</div>
<div class="line"><span class="lineno"> 1709</span>        assert(edge-&gt;twin);</div>
<div class="line"><span class="lineno"> 1710</span>    }</div>
<div class="line"><span class="lineno"> 1711</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1712</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00060">Slic3r::Arachne::SkeletalTrapezoidationEdge::isCentral()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00962">filterCentral()</a>, and <a class="el" href="../../#l01042">filterNoncentralRegions()</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a7d815ed5462c44b1a4c14a91b31b092b_cgraph.svg" width="459" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a7d815ed5462c44b1a4c14a91b31b092b_icgraph.svg" width="100%" height="449"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7c386be91af30e010f99f84d0559f417" name="a7c386be91af30e010f99f84d0559f417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c386be91af30e010f99f84d0559f417">&#9670;&#160;</a></span>isGoingDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::Arachne::SkeletalTrapezoidation::isGoingDown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>outgoing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>traveled_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>transition_half_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td>
          <td class="paramname"><em>lower_bead_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines whether an edge is going downwards or upwards in the graph.</p>
<p>An edge is said to go "downwards" if it's going towards a narrower part of the polygon. The notion of "downwards" comes from the conical representation of the graph, where the polygon is filled with a cone of maximum radius.</p>
<p>This function works by recursively checking adjacent edges until the edge is reached. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outgoing</td><td>The edge to check. </td></tr>
    <tr><td class="paramname">traveled_dist</td><td>The distance traversed so far. </td></tr>
    <tr><td class="paramname">transition_half_length</td><td>The radius of the transition width. </td></tr>
    <tr><td class="paramname">lower_bead_count</td><td>The bead count at the lower end of the edge. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if this edge is going down, or <code>false</code> if it's going up. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1562</span>{</div>
<div class="line"><span class="lineno"> 1563</span>    <span class="comment">// NOTE: the logic below is not fully thought through.</span></div>
<div class="line"><span class="lineno"> 1564</span>    <span class="comment">// TODO: take transition mids into account</span></div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keywordflow">if</span> (outgoing-&gt;to-&gt;data.distance_to_boundary == 0)</div>
<div class="line"><span class="lineno"> 1566</span>    {</div>
<div class="line"><span class="lineno"> 1567</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1568</span>    }</div>
<div class="line"><span class="lineno"> 1569</span>    <span class="keywordtype">bool</span> is_upward = outgoing-&gt;to-&gt;data.distance_to_boundary &gt;= outgoing-&gt;from-&gt;data.distance_to_boundary;</div>
<div class="line"><span class="lineno"> 1570</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* upward_edge = is_upward? outgoing : outgoing-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a2d9763e9ccc81e482a103f062ff12fdb">twin</a>;</div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keywordflow">if</span> (outgoing-&gt;to-&gt;data.bead_count &gt; lower_bead_count + 1)</div>
<div class="line"><span class="lineno"> 1572</span>    {</div>
<div class="line"><span class="lineno"> 1573</span>        assert(upward_edge-&gt;data.hasTransitions() &amp;&amp; <span class="stringliteral">&quot;If the bead count is going down there has to be a transition mid!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1574</span>        <span class="keywordflow">if</span>(!upward_edge-&gt;data.hasTransitions())</div>
<div class="line"><span class="lineno"> 1575</span>        {</div>
<div class="line"><span class="lineno"> 1576</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;If the bead count is going down there has to be a transition mid!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1577</span>        }</div>
<div class="line"><span class="lineno"> 1578</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1579</span>    }</div>
<div class="line"><span class="lineno"> 1580</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (outgoing-&gt;to-&gt;p - outgoing-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (upward_edge-&gt;data.hasTransitions())</div>
<div class="line"><span class="lineno"> 1582</span>    {</div>
<div class="line"><span class="lineno"> 1583</span>        <span class="keyword">auto</span>&amp; transition_mids = *upward_edge-&gt;data.getTransitions();</div>
<div class="line"><span class="lineno"> 1584</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9dfe7a0ff50af21c5e0b0fde4d7c06c9">TransitionMiddle</a>&amp; mid = is_upward? transition_mids.front() : transition_mids.back();</div>
<div class="line"><span class="lineno"> 1585</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno"> 1586</span>            mid.lower_bead_count == lower_bead_count &amp;&amp;</div>
<div class="line"><span class="lineno"> 1587</span>            ((is_upward &amp;&amp; mid.pos + traveled_dist &lt; max_dist)</div>
<div class="line"><span class="lineno"> 1588</span>                || (!is_upward &amp;&amp; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> - mid.pos + traveled_dist &lt; max_dist))</div>
<div class="line"><span class="lineno"> 1589</span>        )</div>
<div class="line"><span class="lineno"> 1590</span>        {</div>
<div class="line"><span class="lineno"> 1591</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1592</span>        }</div>
<div class="line"><span class="lineno"> 1593</span>    }</div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keywordflow">if</span> (traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> &gt; max_dist)</div>
<div class="line"><span class="lineno"> 1595</span>    {</div>
<div class="line"><span class="lineno"> 1596</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1597</span>    }</div>
<div class="line"><span class="lineno"> 1598</span>    <span class="keywordflow">if</span> (outgoing-&gt;to-&gt;data.bead_count &lt;= lower_bead_count</div>
<div class="line"><span class="lineno"> 1599</span>        &amp;&amp; !(outgoing-&gt;to-&gt;data.bead_count == lower_bead_count &amp;&amp; outgoing-&gt;to-&gt;data.transition_ratio &gt; 0.0))</div>
<div class="line"><span class="lineno"> 1600</span>    {</div>
<div class="line"><span class="lineno"> 1601</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1602</span>    }</div>
<div class="line"><span class="lineno"> 1603</span>    </div>
<div class="line"><span class="lineno"> 1604</span>    <span class="keywordtype">bool</span> is_only_going_down = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1605</span>    <span class="keywordtype">bool</span> has_recursed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1606</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* next = outgoing-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#ab71a672f92221d472ba0242af5f319b9">next</a>; next &amp;&amp; next != outgoing-&gt;twin; next = next-&gt;twin-&gt;next)</div>
<div class="line"><span class="lineno"> 1607</span>    {</div>
<div class="line"><span class="lineno"> 1608</span>        <span class="keywordflow">if</span> (!next-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1609</span>        {</div>
<div class="line"><span class="lineno"> 1610</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1611</span>        }</div>
<div class="line"><span class="lineno"> 1612</span>        <span class="keywordtype">bool</span> is_going_down = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a7c386be91af30e010f99f84d0559f417">isGoingDown</a>(next, traveled_dist + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>, max_dist, lower_bead_count);</div>
<div class="line"><span class="lineno"> 1613</span>        is_only_going_down &amp;= is_going_down;</div>
<div class="line"><span class="lineno"> 1614</span>        has_recursed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1615</span>    }</div>
<div class="line"><span class="lineno"> 1616</span>    <span class="keywordflow">return</span> has_recursed &amp;&amp; is_only_going_down;</div>
<div class="line"><span class="lineno"> 1617</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00082">Slic3r::Arachne::SkeletalTrapezoidationEdge::getTransitions()</a>, <a class="el" href="../../#l00074">Slic3r::Arachne::SkeletalTrapezoidationEdge::hasTransitions()</a>, <a class="el" href="../../#l01561">isGoingDown()</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::SkeletalTrapezoidationEdge::TransitionMiddle::lower_bead_count</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::SkeletalTrapezoidationEdge::TransitionMiddle::pos</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00034">Slic3r::Arachne::SkeletalTrapezoidationJoint::transition_ratio</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01455">generateTransitionEnd()</a>, and <a class="el" href="../../#l01561">isGoingDown()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a7c386be91af30e010f99f84d0559f417_cgraph.svg" width="480" height="167"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a7c386be91af30e010f99f84d0559f417_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8a4f0724cafe8729989122e4f2be894c" name="a8a4f0724cafe8729989122e4f2be894c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4f0724cafe8729989122e4f2be894c">&#9670;&#160;</a></span>makeNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">SkeletalTrapezoidation::node_t</a> &amp; Slic3r::Arachne::SkeletalTrapezoidation::makeNode </td>
          <td>(</td>
          <td class="paramtype">vd_t::vertex_type &amp;&#160;</td>
          <td class="paramname"><em>vd_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the node which the VD node maps to, or create a new mapping if there wasn't any yet. </p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>{</div>
<div class="line"><span class="lineno">  113</span>    <span class="keyword">auto</span> he_node_it = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.find(&amp;vd_node);</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">if</span> (he_node_it == <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.end())</div>
<div class="line"><span class="lineno">  115</span>    {</div>
<div class="line"><span class="lineno">  116</span>        <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.emplace_front(SkeletalTrapezoidationJoint(), p);</div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>&amp; node = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.front();</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.emplace(&amp;vd_node, &amp;node);</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">return</span> node;</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  122</span>    {</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">return</span> *he_node_it-&gt;second;</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="line"><span class="lineno">  125</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::nodes</a>, and <a class="el" href="../../#l00172">vd_node_to_he_node</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00127">transferEdge()</a>.</p>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a8a4f0724cafe8729989122e4f2be894c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a76f3ec33587efd4ab87546367f225b73" name="a76f3ec33587efd4ab87546367f225b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f3ec33587efd4ab87546367f225b73">&#9670;&#160;</a></span>propagateBeadingsDownward() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::propagateBeadingsDownward </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&#160;</td>
          <td class="paramname"><em>edge_to_peak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_beadings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Subroutine of <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward(std::vector&lt;edge_t*&gt;&amp;, ptr_vector_t&lt;BeadingPropagation&gt;&amp;)</a> </p>
<div class="fragment"><div class="line"><span class="lineno"> 1970</span>{</div>
<div class="line"><span class="lineno"> 1971</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (edge_to_peak-&gt;to-&gt;p - edge_to_peak-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1972</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>&amp; top_beading = *<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3297724870a1d9cee31f9b39ee547ccb">getOrCreateBeading</a>(edge_to_peak-&gt;to, node_beadings);</div>
<div class="line"><span class="lineno"> 1973</span>    assert(top_beading.beading.total_thickness &gt;= edge_to_peak-&gt;to-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1974</span>    <span class="keywordflow">if</span>(top_beading.beading.total_thickness &lt; edge_to_peak-&gt;to-&gt;data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 1975</span>    {</div>
<div class="line"><span class="lineno"> 1976</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Top bead is beyond the center of the total width.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1977</span>    }</div>
<div class="line"><span class="lineno"> 1978</span>    assert(!top_beading.is_upward_propagated_only);</div>
<div class="line"><span class="lineno"> 1979</span> </div>
<div class="line"><span class="lineno"> 1980</span>    <span class="keywordflow">if</span>(!edge_to_peak-&gt;from-&gt;data.hasBeading())</div>
<div class="line"><span class="lineno"> 1981</span>    { <span class="comment">// Set new beading if there is no beading associated with the node yet</span></div>
<div class="line"><span class="lineno"> 1982</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> propagated_beading = top_beading;</div>
<div class="line"><span class="lineno"> 1983</span>        propagated_beading.<a class="code hl_variable" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html#a2066ddf9bbb966335f7b14e17b62dba1">dist_from_top_source</a> += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>;</div>
<div class="line"><span class="lineno"> 1984</span>        node_beadings.emplace_back(<span class="keyword">new</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(propagated_beading));</div>
<div class="line"><span class="lineno"> 1985</span>        edge_to_peak-&gt;from-&gt;data.setBeading(node_beadings.back());</div>
<div class="line"><span class="lineno"> 1986</span>        assert(propagated_beading.beading.total_thickness &gt;= edge_to_peak-&gt;from-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1987</span>        <span class="keywordflow">if</span>(propagated_beading.beading.total_thickness &lt; edge_to_peak-&gt;from-&gt;data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 1988</span>        {</div>
<div class="line"><span class="lineno"> 1989</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Propagated bead is beyond the center of the total width.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1990</span>        }</div>
<div class="line"><span class="lineno"> 1991</span>    }</div>
<div class="line"><span class="lineno"> 1992</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1993</span>    {</div>
<div class="line"><span class="lineno"> 1994</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>&amp; bottom_beading = *edge_to_peak-&gt;from-&gt;data.getBeading();</div>
<div class="line"><span class="lineno"> 1995</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> total_dist = top_beading.<a class="code hl_variable" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html#a2066ddf9bbb966335f7b14e17b62dba1">dist_from_top_source</a> + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> + bottom_beading.dist_to_bottom_source;</div>
<div class="line"><span class="lineno"> 1996</span>        <span class="keywordtype">double</span> ratio_of_top = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(bottom_beading.dist_to_bottom_source) / std::min(total_dist, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a67d756450bd612ff1dbde0c8eb791de7">beading_propagation_transition_dist</a>);</div>
<div class="line"><span class="lineno"> 1997</span>        ratio_of_top = std::max(0.0, ratio_of_top);</div>
<div class="line"><span class="lineno"> 1998</span>        <span class="keywordflow">if</span> (ratio_of_top &gt;= 1.0)</div>
<div class="line"><span class="lineno"> 1999</span>        {</div>
<div class="line"><span class="lineno"> 2000</span>            bottom_beading = top_beading;</div>
<div class="line"><span class="lineno"> 2001</span>            bottom_beading.dist_from_top_source += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>;</div>
<div class="line"><span class="lineno"> 2002</span>        }</div>
<div class="line"><span class="lineno"> 2003</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2004</span>        {</div>
<div class="line"><span class="lineno"> 2005</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#af39c0fa4c53afe35d7f0d4ea19c7c153">Beading</a> merged_beading = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a960cb4d40bd43f54ff94fd0cac9a49a0">interpolate</a>(top_beading.beading, ratio_of_top, bottom_beading.beading, edge_to_peak-&gt;from-&gt;data.distance_to_boundary);</div>
<div class="line"><span class="lineno"> 2006</span>            bottom_beading = <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(merged_beading);</div>
<div class="line"><span class="lineno"> 2007</span>            bottom_beading.is_upward_propagated_only = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2008</span>            assert(merged_beading.total_thickness &gt;= edge_to_peak-&gt;from-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 2009</span>            <span class="keywordflow">if</span>(merged_beading.total_thickness &lt; edge_to_peak-&gt;from-&gt;data.distance_to_boundary * 2)</div>
<div class="line"><span class="lineno"> 2010</span>            {</div>
<div class="line"><span class="lineno"> 2011</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Merged bead is beyond the center of the total width.&quot;</span>;</div>
<div class="line"><span class="lineno"> 2012</span>            }</div>
<div class="line"><span class="lineno"> 2013</span>        }</div>
<div class="line"><span class="lineno"> 2014</span>    }</div>
<div class="line"><span class="lineno"> 2015</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation_html_a2066ddf9bbb966335f7b14e17b62dba1"><div class="ttname"><a href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html#a2066ddf9bbb966335f7b14e17b62dba1">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::dist_from_top_source</a></div><div class="ttdeci">coord_t dist_from_top_source</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationJoint.hpp:22</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00020">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::beading</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00022">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::dist_from_top_source</a>, <a class="el" href="../../#l00021">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::dist_to_bottom_source</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00049">Slic3r::Arachne::SkeletalTrapezoidationJoint::getBeading()</a>, <a class="el" href="../../#l00041">Slic3r::Arachne::SkeletalTrapezoidationJoint::hasBeading()</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::is_upward_propagated_only</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00045">Slic3r::Arachne::SkeletalTrapezoidationJoint::setBeading()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00033">Slic3r::Arachne::BeadingStrategy::Beading::total_thickness</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a76f3ec33587efd4ab87546367f225b73_cgraph.svg" width="495" height="232"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4ea119c85d3d3969f4b9f8ca6b34abe6" name="a4ea119c85d3d3969f4b9f8ca6b34abe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea119c85d3d3969f4b9f8ca6b34abe6">&#9670;&#160;</a></span>propagateBeadingsDownward() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::propagateBeadingsDownward </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>upward_quad_mids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_beadings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>propagate beading info from higher R nodes to lower R nodes</p>
<p>merge with upward propagated beadings if they are encountered</p>
<p>don't transfer to nodes which lie on the outline polygon</p>
<p>edges are sorted so that we can do a depth-first walk without employing a recursive algorithm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">upward_quad_mids</td><td>all upward halfedges of the inner skeletal edges (not directly connected to the outline) sorted on their highest [distance_to_boundary]. Higher dist first. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1947</span>{</div>
<div class="line"><span class="lineno"> 1948</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* upward_quad_mid : upward_quad_mids)</div>
<div class="line"><span class="lineno"> 1949</span>    {</div>
<div class="line"><span class="lineno"> 1950</span>        <span class="comment">// Transfer beading information to lower nodes</span></div>
<div class="line"><span class="lineno"> 1951</span>        <span class="keywordflow">if</span> (!upward_quad_mid-&gt;data.isCentral())</div>
<div class="line"><span class="lineno"> 1952</span>        {</div>
<div class="line"><span class="lineno"> 1953</span>            <span class="comment">// for equidistant edge: propagate from known beading to node with unknown beading</span></div>
<div class="line"><span class="lineno"> 1954</span>            <span class="keywordflow">if</span> (upward_quad_mid-&gt;from-&gt;data.distance_to_boundary == upward_quad_mid-&gt;to-&gt;data.distance_to_boundary</div>
<div class="line"><span class="lineno"> 1955</span>                &amp;&amp; upward_quad_mid-&gt;from-&gt;data.hasBeading()</div>
<div class="line"><span class="lineno"> 1956</span>                &amp;&amp; ! upward_quad_mid-&gt;to-&gt;data.hasBeading()</div>
<div class="line"><span class="lineno"> 1957</span>            )</div>
<div class="line"><span class="lineno"> 1958</span>            {</div>
<div class="line"><span class="lineno"> 1959</span>                <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward</a>(upward_quad_mid-&gt;twin, node_beadings);</div>
<div class="line"><span class="lineno"> 1960</span>            }</div>
<div class="line"><span class="lineno"> 1961</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1962</span>            {</div>
<div class="line"><span class="lineno"> 1963</span>                <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward</a>(upward_quad_mid, node_beadings);</div>
<div class="line"><span class="lineno"> 1964</span>            }</div>
<div class="line"><span class="lineno"> 1965</span>        }</div>
<div class="line"><span class="lineno"> 1966</span>    }</div>
<div class="line"><span class="lineno"> 1967</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ea293b6b92da5950f3cd4881da02ac7" name="a0ea293b6b92da5950f3cd4881da02ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea293b6b92da5950f3cd4881da02ac7">&#9670;&#160;</a></span>propagateBeadingsUpward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::propagateBeadingsUpward </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>upward_quad_mids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a3fc916684037a3325e5a74f41d544bce">ptr_vector_t</a>&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_beadings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Propagate beading information from nodes that are closer to the edge (low radius R) to nodes that are farther from the edge (high R).</p>
<p>only propagate from nodes with beading info upward to nodes without beading info</p>
<p>Edges are sorted by their radius, so that we can do a depth-first walk without employing a recursive algorithm.</p>
<p>In upward propagated beadings we store the distance traveled, so that we can merge these beadings with the downward propagated beadings in <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4ea119c85d3d3969f4b9f8ca6b34abe6">propagateBeadingsDownward</a>(.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">upward_quad_mids</td><td>all upward halfedges of the inner skeletal edges (not directly connected to the outline) sorted on their highest [distance_to_boundary]. Higher dist first. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno"> 1918</span>{</div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> upward_quad_mids_it = upward_quad_mids.rbegin(); upward_quad_mids_it != upward_quad_mids.rend(); ++upward_quad_mids_it)</div>
<div class="line"><span class="lineno"> 1920</span>    {</div>
<div class="line"><span class="lineno"> 1921</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* upward_edge = *upward_quad_mids_it;</div>
<div class="line"><span class="lineno"> 1922</span>        <span class="keywordflow">if</span> (upward_edge-&gt;to-&gt;data.bead_count &gt;= 0)</div>
<div class="line"><span class="lineno"> 1923</span>        { <span class="comment">// Don&#39;t override local beading</span></div>
<div class="line"><span class="lineno"> 1924</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1925</span>        }</div>
<div class="line"><span class="lineno"> 1926</span>        <span class="keywordflow">if</span> (! upward_edge-&gt;from-&gt;data.hasBeading())</div>
<div class="line"><span class="lineno"> 1927</span>        { <span class="comment">// Only propagate if we have something to propagate</span></div>
<div class="line"><span class="lineno"> 1928</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1929</span>        }</div>
<div class="line"><span class="lineno"> 1930</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>&amp; lower_beading = *upward_edge-&gt;from-&gt;data.getBeading();</div>
<div class="line"><span class="lineno"> 1931</span>        <span class="keywordflow">if</span> (upward_edge-&gt;to-&gt;data.hasBeading())</div>
<div class="line"><span class="lineno"> 1932</span>        { <span class="comment">// Only propagate to places where there is place</span></div>
<div class="line"><span class="lineno"> 1933</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1934</span>        }</div>
<div class="line"><span class="lineno"> 1935</span>        assert((upward_edge-&gt;from-&gt;data.distance_to_boundary != upward_edge-&gt;to-&gt;data.distance_to_boundary || <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1dcd909c9d0672f15148c8a4c1667f85">shorter_then</a>(upward_edge-&gt;to-&gt;p - upward_edge-&gt;from-&gt;p, <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ab1a76df433555222d35c30fae92be960">central_filter_dist</a>)) &amp;&amp; <span class="stringliteral">&quot;zero difference R edges should always be central&quot;</span>);</div>
<div class="line"><span class="lineno"> 1936</span>        <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a> = (upward_edge-&gt;to-&gt;p - upward_edge-&gt;from-&gt;p).cast&lt;int64_t&gt;().norm();</div>
<div class="line"><span class="lineno"> 1937</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a> upper_beading = lower_beading;</div>
<div class="line"><span class="lineno"> 1938</span>        upper_beading.<a class="code hl_variable" href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html#ac9d2a6ce7bb5f04b870ba7cf08d46850">dist_to_bottom_source</a> += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1eea52f5cabe9f6172fcec07fb0fed76">length</a>;</div>
<div class="line"><span class="lineno"> 1939</span>        upper_beading.is_upward_propagated_only = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1940</span>        node_beadings.emplace_back(<span class="keyword">new</span> <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9cb7d7e1819a17516b676900f0e40955">BeadingPropagation</a>(upper_beading));</div>
<div class="line"><span class="lineno"> 1941</span>        upward_edge-&gt;to-&gt;data.setBeading(node_beadings.back());</div>
<div class="line"><span class="lineno"> 1942</span>        assert(upper_beading.beading.total_thickness &lt;= upward_edge-&gt;to-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1943</span>    }</div>
<div class="line"><span class="lineno"> 1944</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation_html_ac9d2a6ce7bb5f04b870ba7cf08d46850"><div class="ttname"><a href="../../d4/dde/struct_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_joint_1_1_beading_propagation.html#ac9d2a6ce7bb5f04b870ba7cf08d46850">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::dist_to_bottom_source</a></div><div class="ttdeci">coord_t dist_to_bottom_source</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidationJoint.hpp:21</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::Arachne::SkeletalTrapezoidationJoint::bead_count</a>, <a class="el" href="../../#l00020">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::beading</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00021">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::dist_to_bottom_source</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00049">Slic3r::Arachne::SkeletalTrapezoidationJoint::getBeading()</a>, <a class="el" href="../../#l00041">Slic3r::Arachne::SkeletalTrapezoidationJoint::hasBeading()</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::SkeletalTrapezoidationJoint::BeadingPropagation::is_upward_propagated_only</a>, <a class="el" href="../../#l00116">Slic3r::length()</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00045">Slic3r::Arachne::SkeletalTrapezoidationJoint::setBeading()</a>, <a class="el" href="../../#l00301">Slic3r::shorter_then()</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00033">Slic3r::Arachne::BeadingStrategy::Beading::total_thickness</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a0ea293b6b92da5950f3cd4881da02ac7_cgraph.svg" width="623" height="282"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa2cfa0b845e614bbe6d0bd4bd2a3eabf" name="aa2cfa0b845e614bbe6d0bd4bd2a3eabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2cfa0b845e614bbe6d0bd4bd2a3eabf">&#9670;&#160;</a></span>separatePointyQuadEndNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::separatePointyQuadEndNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For VD cells associated with an input polygon vertex, we need to separate the node at the end and start of the cell into two That way we can reach both the quad_start and the quad_end from the [incident_edge] of the two new nodes Otherwise if node.incident_edge = quad_start you couldnt reach quad_end.twin by normal iteration (i.e. it = it.twin.next) </p>
<div class="fragment"><div class="line"><span class="lineno">  820</span>{</div>
<div class="line"><span class="lineno">  821</span>    <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a1730281d5a124e68474a98d8b4dd3845">NodeSet</a> visited_nodes;</div>
<div class="line"><span class="lineno">  822</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno">  823</span>    {</div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> (edge.prev) </div>
<div class="line"><span class="lineno">  825</span>        {</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  827</span>        }</div>
<div class="line"><span class="lineno">  828</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* quad_start = &amp;edge;</div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span> (visited_nodes.find(quad_start-&gt;from) == visited_nodes.end())</div>
<div class="line"><span class="lineno">  830</span>        {</div>
<div class="line"><span class="lineno">  831</span>            visited_nodes.emplace(quad_start-&gt;from);</div>
<div class="line"><span class="lineno">  832</span>        }</div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  834</span>        { <span class="comment">// Needs to be duplicated</span></div>
<div class="line"><span class="lineno">  835</span>            <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.emplace_back(*quad_start-&gt;from);</div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* new_node = &amp;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.back();</div>
<div class="line"><span class="lineno">  837</span>            new_node-&gt;incident_edge = quad_start;</div>
<div class="line"><span class="lineno">  838</span>            quad_start-&gt;from = new_node;</div>
<div class="line"><span class="lineno">  839</span>            quad_start-&gt;twin-&gt;to = new_node;</div>
<div class="line"><span class="lineno">  840</span>        }</div>
<div class="line"><span class="lineno">  841</span>    }</div>
<div class="line"><span class="lineno">  842</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a1730281d5a124e68474a98d8b4dd3845"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a1730281d5a124e68474a98d8b4dd3845">Slic3r::Arachne::SkeletalTrapezoidation::NodeSet</a></div><div class="ttdeci">ankerl::unordered_dense::set&lt; node_t * &gt; NodeSet</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.hpp:87</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::incident_edge</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::nodes</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aa2cfa0b845e614bbe6d0bd4bd2a3eabf_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a40327127e6fe656b1e8574945373f4e2" name="a40327127e6fe656b1e8574945373f4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40327127e6fe656b1e8574945373f4e2">&#9670;&#160;</a></span>transferEdge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::transferEdge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vd_t::edge_type &amp;&#160;</td>
          <td class="paramname"><em>vd_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a> *&amp;&#160;</td>
          <td class="paramname"><em>prev_edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>start_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>end_source_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac4eae0ffe69e5a5684b190239116536b">Segment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transfer an edge from the VD to the HE and perform discretization of parabolic edges (and vertex-vertex edges) <code>prev_edge</code> serves as input and output. May be null as input. </p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>{</div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">auto</span> he_edge_it = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a>.find(vd_edge.twin());</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (he_edge_it != <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a>.end())</div>
<div class="line"><span class="lineno">  131</span>    { <span class="comment">// Twin segment(s) have already been made</span></div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* source_twin = he_edge_it-&gt;second;</div>
<div class="line"><span class="lineno">  133</span>        assert(source_twin);</div>
<div class="line"><span class="lineno">  134</span>        <span class="keyword">auto</span> end_node_it = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.find(vd_edge.vertex1());</div>
<div class="line"><span class="lineno">  135</span>        assert(end_node_it != <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e03e4859c4ac371972c6562ab9cf70d">vd_node_to_he_node</a>.end());</div>
<div class="line"><span class="lineno">  136</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* end_node = end_node_it-&gt;second;</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* twin = source_twin; ;twin = twin-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a48251e713aed24be8d7bd0e150b113d7">prev</a>-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a2d9763e9ccc81e482a103f062ff12fdb">twin</a>-&gt;<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a48251e713aed24be8d7bd0e150b113d7">prev</a>)</div>
<div class="line"><span class="lineno">  138</span>        {</div>
<div class="line"><span class="lineno">  139</span>            <span class="keywordflow">if</span>(!twin)</div>
<div class="line"><span class="lineno">  140</span>            {</div>
<div class="line"><span class="lineno">  141</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Encountered a voronoi edge without twin.&quot;</span>;</div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">continue</span>; <span class="comment">//Prevent reading unallocated memory.</span></div>
<div class="line"><span class="lineno">  143</span>            }</div>
<div class="line"><span class="lineno">  144</span>            assert(twin);</div>
<div class="line"><span class="lineno">  145</span>            <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.emplace_front(SkeletalTrapezoidationEdge());</div>
<div class="line"><span class="lineno">  146</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = &amp;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.front();</div>
<div class="line"><span class="lineno">  147</span>            edge-&gt;from = twin-&gt;to;</div>
<div class="line"><span class="lineno">  148</span>            edge-&gt;to = twin-&gt;from;</div>
<div class="line"><span class="lineno">  149</span>            edge-&gt;twin = twin;</div>
<div class="line"><span class="lineno">  150</span>            twin-&gt;twin = edge;</div>
<div class="line"><span class="lineno">  151</span>            edge-&gt;from-&gt;incident_edge = edge;</div>
<div class="line"><span class="lineno">  152</span>            </div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordflow">if</span> (prev_edge)</div>
<div class="line"><span class="lineno">  154</span>            {</div>
<div class="line"><span class="lineno">  155</span>                edge-&gt;prev = prev_edge;</div>
<div class="line"><span class="lineno">  156</span>                prev_edge-&gt;next = edge;</div>
<div class="line"><span class="lineno">  157</span>            }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>            prev_edge = edge;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>            <span class="keywordflow">if</span> (prev_edge-&gt;to == end_node)</div>
<div class="line"><span class="lineno">  162</span>            {</div>
<div class="line"><span class="lineno">  163</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  164</span>            }</div>
<div class="line"><span class="lineno">  165</span>            </div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">if</span> (!twin-&gt;prev || !twin-&gt;prev-&gt;twin || !twin-&gt;prev-&gt;twin-&gt;prev)</div>
<div class="line"><span class="lineno">  167</span>            {</div>
<div class="line"><span class="lineno">  168</span>                BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>) &lt;&lt; <span class="stringliteral">&quot;Discretized segment behaves oddly!&quot;</span>;</div>
<div class="line"><span class="lineno">  169</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  170</span>            }</div>
<div class="line"><span class="lineno">  171</span>            </div>
<div class="line"><span class="lineno">  172</span>            assert(twin-&gt;prev); <span class="comment">// Forth rib</span></div>
<div class="line"><span class="lineno">  173</span>            assert(twin-&gt;prev-&gt;twin); <span class="comment">// Back rib</span></div>
<div class="line"><span class="lineno">  174</span>            assert(twin-&gt;prev-&gt;twin-&gt;prev); <span class="comment">// Prev segment along parabola</span></div>
<div class="line"><span class="lineno">  175</span>            </div>
<div class="line"><span class="lineno">  176</span>            <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_not_next_to_start_or_end = <span class="keyword">false</span>; <span class="comment">// Only ribs at the end of a cell should be skipped</span></div>
<div class="line"><span class="lineno">  177</span>            <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#a92c9b708cda581b243f5ff8245ed0b2a">makeRib</a>(prev_edge, start_source_point, end_source_point, is_not_next_to_start_or_end);</div>
<div class="line"><span class="lineno">  178</span>        }</div>
<div class="line"><span class="lineno">  179</span>        assert(prev_edge);</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  182</span>    {</div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> discretized = <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac264c3e8afbc89dd57418e06fa29b923">discretize</a>(vd_edge, segments);</div>
<div class="line"><span class="lineno">  184</span>        assert(discretized.size() &gt;= 2);</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span>(discretized.size() &lt; 2)</div>
<div class="line"><span class="lineno">  186</span>        {</div>
<div class="line"><span class="lineno">  187</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Discretized Voronoi edge is degenerate.&quot;</span>;</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span>        </div>
<div class="line"><span class="lineno">  190</span>        assert(!prev_edge || prev_edge-&gt;to);</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span>(prev_edge &amp;&amp; !prev_edge-&gt;to)</div>
<div class="line"><span class="lineno">  192</span>        {</div>
<div class="line"><span class="lineno">  193</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Previous edge doesn&#39;t go anywhere.&quot;</span>;</div>
<div class="line"><span class="lineno">  194</span>        }</div>
<div class="line"><span class="lineno">  195</span>        <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* v0 = (prev_edge)? prev_edge-&gt;to : &amp;<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a4f0724cafe8729989122e4f2be894c">makeNode</a>(*vd_edge.vertex0(), from); <span class="comment">// TODO: investigate whether boost:voronoi can produce multiple verts and violates consistency</span></div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> p0 = discretized.front();</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> p1_idx = 1; p1_idx &lt; discretized.size(); p1_idx++)</div>
<div class="line"><span class="lineno">  198</span>        {</div>
<div class="line"><span class="lineno">  199</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> p1 = discretized[p1_idx];</div>
<div class="line"><span class="lineno">  200</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>* v1;</div>
<div class="line"><span class="lineno">  201</span>            <span class="keywordflow">if</span> (p1_idx &lt; discretized.size() - 1)</div>
<div class="line"><span class="lineno">  202</span>            {</div>
<div class="line"><span class="lineno">  203</span>                <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.emplace_front(SkeletalTrapezoidationJoint(), p1);</div>
<div class="line"><span class="lineno">  204</span>                v1 = &amp;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#afe484dc3c9c240ccafe53f953867a5fc">nodes</a>.front();</div>
<div class="line"><span class="lineno">  205</span>            }</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  207</span>            {</div>
<div class="line"><span class="lineno">  208</span>                v1 = &amp;<a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a4f0724cafe8729989122e4f2be894c">makeNode</a>(*vd_edge.vertex1(), to);</div>
<div class="line"><span class="lineno">  209</span>            }</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>            <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.emplace_front(SkeletalTrapezoidationEdge());</div>
<div class="line"><span class="lineno">  212</span>            <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = &amp;<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_variable" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a60152e7ce64796c99924179ecfc5a269">edges</a>.front();</div>
<div class="line"><span class="lineno">  213</span>            edge-&gt;from = v0;</div>
<div class="line"><span class="lineno">  214</span>            edge-&gt;to = v1;</div>
<div class="line"><span class="lineno">  215</span>            edge-&gt;from-&gt;incident_edge = edge;</div>
<div class="line"><span class="lineno">  216</span>            </div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordflow">if</span> (prev_edge)</div>
<div class="line"><span class="lineno">  218</span>            {</div>
<div class="line"><span class="lineno">  219</span>                edge-&gt;prev = prev_edge;</div>
<div class="line"><span class="lineno">  220</span>                prev_edge-&gt;next = edge;</div>
<div class="line"><span class="lineno">  221</span>            }</div>
<div class="line"><span class="lineno">  222</span>            </div>
<div class="line"><span class="lineno">  223</span>            prev_edge = edge;</div>
<div class="line"><span class="lineno">  224</span>            p0 = p1;</div>
<div class="line"><span class="lineno">  225</span>            v0 = v1;</div>
<div class="line"><span class="lineno">  226</span>            </div>
<div class="line"><span class="lineno">  227</span>            <span class="keywordflow">if</span> (p1_idx &lt; discretized.size() - 1)</div>
<div class="line"><span class="lineno">  228</span>            { <span class="comment">// Rib for last segment gets introduced outside this function!</span></div>
<div class="line"><span class="lineno">  229</span>                <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_not_next_to_start_or_end = <span class="keyword">false</span>; <span class="comment">// Only ribs at the end of a cell should be skipped</span></div>
<div class="line"><span class="lineno">  230</span>                <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../d0/dcc/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_graph.html#a92c9b708cda581b243f5ff8245ed0b2a">makeRib</a>(prev_edge, start_source_point, end_source_point, is_not_next_to_start_or_end);</div>
<div class="line"><span class="lineno">  231</span>            }</div>
<div class="line"><span class="lineno">  232</span>        }</div>
<div class="line"><span class="lineno">  233</span>        assert(prev_edge);</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a65f39ad79dfc255c3438f2b9b3e788a3">vd_edge_to_he_edge</a>.emplace(&amp;vd_edge, prev_edge);</div>
<div class="line"><span class="lineno">  235</span>    }</div>
<div class="line"><span class="lineno">  236</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_a48251e713aed24be8d7bd0e150b113d7"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#a48251e713aed24be8d7bd0e150b113d7">Slic3r::Arachne::HalfEdge::prev</a></div><div class="ttdeci">edge_t * prev</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:26</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_a8a4f0724cafe8729989122e4f2be894c"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a8a4f0724cafe8729989122e4f2be894c">Slic3r::Arachne::SkeletalTrapezoidation::makeNode</a></div><div class="ttdeci">node_t &amp; makeNode(vd_t::vertex_type &amp;vd_node, Point p)</div><div class="ttdoc">Get the node which the VD node maps to, or create a new mapping if there wasn't any yet.</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:111</div></div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_html_ac264c3e8afbc89dd57418e06fa29b923"><div class="ttname"><a href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#ac264c3e8afbc89dd57418e06fa29b923">Slic3r::Arachne::SkeletalTrapezoidation::discretize</a></div><div class="ttdeci">Points discretize(const vd_t::edge_type &amp;segment, const std::vector&lt; Segment &gt; &amp;segments)</div><div class="ttdef"><b>Definition</b> SkeletalTrapezoidation.cpp:238</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00238">discretize()</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::incident_edge</a>, <a class="el" href="../../#l00111">makeNode()</a>, <a class="el" href="../../#l00317">Slic3r::Arachne::SkeletalTrapezoidationGraph::makeRib()</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::nodes</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::prev</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>, <a class="el" href="../../#l00171">vd_edge_to_he_edge</a>, and <a class="el" href="../../#l00172">vd_node_to_he_node</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>.</p>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a40327127e6fe656b1e8574945373f4e2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_a40327127e6fe656b1e8574945373f4e2_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaede8f0b3f5e1902ba7e477b75bbec44" name="aaede8f0b3f5e1902ba7e477b75bbec44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaede8f0b3f5e1902ba7e477b75bbec44">&#9670;&#160;</a></span>updateBeadCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::updateBeadCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set bead count in central regions based on the optimal_bead_count of the beading strategy. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1012</span>{</div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno"> 1014</span>    {</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordflow">if</span> (edge.data.isCentral())</div>
<div class="line"><span class="lineno"> 1016</span>        {</div>
<div class="line"><span class="lineno"> 1017</span>            edge.to-&gt;data.bead_count = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(edge.to-&gt;data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1018</span>        }</div>
<div class="line"><span class="lineno"> 1019</span>    }</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="comment">// Fix bead count at locally maximal R, also for central regions!! See TODO s in generateTransitionEnd(.)</span></div>
<div class="line"><span class="lineno"> 1022</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>&amp; node : <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.nodes)</div>
<div class="line"><span class="lineno"> 1023</span>    {</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keywordflow">if</span> (node.isLocalMaximum())</div>
<div class="line"><span class="lineno"> 1025</span>        {</div>
<div class="line"><span class="lineno"> 1026</span>            <span class="keywordflow">if</span> (node.data.distance_to_boundary &lt; 0)</div>
<div class="line"><span class="lineno"> 1027</span>            {</div>
<div class="line"><span class="lineno"> 1028</span>                BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Distance to boundary not yet computed for local maximum!&quot;</span>;</div>
<div class="line"><span class="lineno"> 1029</span>                node.data.distance_to_boundary = std::numeric_limits&lt;coord_t&gt;::max();</div>
<div class="line"><span class="lineno"> 1030</span>                <a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>* edge = node.incident_edge;</div>
<div class="line"><span class="lineno"> 1031</span>                <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1032</span>                {</div>
<div class="line"><span class="lineno"> 1033</span>                    node.<a class="code hl_variable" href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#aa38fc47cfc10da7ea1b879ef1e74555c">data</a>.distance_to_boundary = std::min(node.data.distance_to_boundary, edge-&gt;to-&gt;data.distance_to_boundary + <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>((edge-&gt;from-&gt;p - edge-&gt;to-&gt;p).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm()));</div>
<div class="line"><span class="lineno"> 1034</span>                } <span class="keywordflow">while</span> (edge = edge-&gt;twin-&gt;next, edge != node.incident_edge);</div>
<div class="line"><span class="lineno"> 1035</span>            }</div>
<div class="line"><span class="lineno"> 1036</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> bead_count = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">getOptimalBeadCount</a>(node.data.distance_to_boundary * 2);</div>
<div class="line"><span class="lineno"> 1037</span>            node.data.bead_count = bead_count;</div>
<div class="line"><span class="lineno"> 1038</span>        }</div>
<div class="line"><span class="lineno"> 1039</span>    }</div>
<div class="line"><span class="lineno"> 1040</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_half_edge_html_aa38fc47cfc10da7ea1b879ef1e74555c"><div class="ttname"><a href="../../d0/d7e/class_slic3r_1_1_arachne_1_1_half_edge.html#aa38fc47cfc10da7ea1b879ef1e74555c">Slic3r::Arachne::HalfEdge::data</a></div><div class="ttdeci">edge_data_t data</div><div class="ttdef"><b>Definition</b> HalfEdge.hpp:23</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00023">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::data</a>, <a class="el" href="../../#l00032">Slic3r::Arachne::SkeletalTrapezoidationJoint::distance_to_boundary</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::from</a>, <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a1b96202fae11bed6f99787b0f723b8d9">Slic3r::Arachne::BeadingStrategy::getOptimalBeadCount()</a>, <a class="el" href="../../#l00122">graph</a>, <a class="el" href="../../#l00025">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::next</a>, <a class="el" href="../../#l00027">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::nodes</a>, <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdgeNode&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::p</a>, <a class="el" href="../../#l00028">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::to</a>, and <a class="el" href="../../#l00024">Slic3r::Arachne::HalfEdge&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::twin</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aaede8f0b3f5e1902ba7e477b75bbec44_cgraph.svg" width="484" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aaede8f0b3f5e1902ba7e477b75bbec44_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aff7f337db19af2dc583bca2667b24147" name="aff7f337db19af2dc583bca2667b24147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff7f337db19af2dc583bca2667b24147">&#9670;&#160;</a></span>updateIsCentral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::Arachne::SkeletalTrapezoidation::updateIsCentral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  913</span>{</div>
<div class="line"><span class="lineno">  914</span>    <span class="comment">//                                            _.-&#39;^`      A and B are the endpoints of an edge we&#39;re checking.</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="comment">//                                      _.-&#39;^`            Part of the line AB will be used as a cap,</span></div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">//                                _.-&#39;^` \                because the polygon is too narrow there.</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">//                          _.-&#39;^`        \               If |AB| minus the cap is still bigger than dR,</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="comment">//                    _.-&#39;^`               \ R2           the edge AB is considered central. It&#39;s then</span></div>
<div class="line"><span class="lineno">  919</span>    <span class="comment">//              _.-&#39;^` \              _.-&#39;\`\             significant compared to the edges around it.</span></div>
<div class="line"><span class="lineno">  920</span>    <span class="comment">//        _.-&#39;^`        \R1     _.-&#39;^`     &#39;`\ dR</span></div>
<div class="line"><span class="lineno">  921</span>    <span class="comment">//  _.-&#39;^`a/2            \_.-&#39;^`a             \           Line AR2 is parallel to the polygon contour.</span></div>
<div class="line"><span class="lineno">  922</span>    <span class="comment">//  `^&#39;-._````````````````A```````````v````````B```````   dR is the remaining diameter at B.</span></div>
<div class="line"><span class="lineno">  923</span>    <span class="comment">//        `^&#39;-._                     dD = |AB|            As a result, AB is less often central if the polygon</span></div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">//              `^&#39;-._                                    corner is obtuse.</span></div>
<div class="line"><span class="lineno">  925</span>    <span class="comment">//                             sin a = dR / dD</span></div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> outer_edge_filter_length = <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#ac5d83351ec34bc882ff180397a95c380">getTransitionThickness</a>(0) / 2;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordtype">float</span> cap = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(<a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a4e0c4603835116ea310c853df10e897a">beading_strategy</a>.<a class="code hl_function" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a6c862c4138e5f36825745be7cf2b4cac">getTransitioningAngle</a>() * 0.5); <span class="comment">// = cos(bisector_angle / 2)</span></div>
<div class="line"><span class="lineno">  930</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>&amp; edge: <a class="code hl_variable" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a9572ca0ce89293e225061bbcd5e73d57">graph</a>.<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a6956b0660e4ee6448f77813e4bfdc871">edges</a>)</div>
<div class="line"><span class="lineno">  931</span>    {</div>
<div class="line"><span class="lineno">  932</span>        assert(edge.twin);</div>
<div class="line"><span class="lineno">  933</span>        <span class="keywordflow">if</span>(!edge.twin)</div>
<div class="line"><span class="lineno">  934</span>        {</div>
<div class="line"><span class="lineno">  935</span>            BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Encountered a Voronoi edge without twin!&quot;</span>;</div>
<div class="line"><span class="lineno">  936</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  937</span>        }</div>
<div class="line"><span class="lineno">  938</span>        <span class="keywordflow">if</span>(edge.twin-&gt;data.centralIsSet())</div>
<div class="line"><span class="lineno">  939</span>        {</div>
<div class="line"><span class="lineno">  940</span>            edge.data.setIsCentral(edge.twin-&gt;data.isCentral());</div>
<div class="line"><span class="lineno">  941</span>        }</div>
<div class="line"><span class="lineno">  942</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(edge.data.type == <a class="code hl_enumvalue" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">SkeletalTrapezoidationEdge::EdgeType::EXTRA_VD</a>)</div>
<div class="line"><span class="lineno">  943</span>        {</div>
<div class="line"><span class="lineno">  944</span>            edge.data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  945</span>        }</div>
<div class="line"><span class="lineno">  946</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(std::max(edge.from-&gt;data.distance_to_boundary, edge.to-&gt;data.distance_to_boundary) &lt; outer_edge_filter_length)</div>
<div class="line"><span class="lineno">  947</span>        {</div>
<div class="line"><span class="lineno">  948</span>            edge.data.setIsCentral(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  949</span>        }</div>
<div class="line"><span class="lineno">  950</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  951</span>        {</div>
<div class="line"><span class="lineno">  952</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = edge.from-&gt;p;</div>
<div class="line"><span class="lineno">  953</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = edge.to-&gt;p;</div>
<div class="line"><span class="lineno">  954</span>            <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a> = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>;</div>
<div class="line"><span class="lineno">  955</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dR = std::abs(edge.to-&gt;data.distance_to_boundary - edge.from-&gt;data.distance_to_boundary);</div>
<div class="line"><span class="lineno">  956</span>            <a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> dD = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a187ef4436122d1cc2f40dc2b92f0eba0">ab</a>.cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().norm();</div>
<div class="line"><span class="lineno">  957</span>            edge.data.setIsCentral(dR &lt; dD * cap);</div>
<div class="line"><span class="lineno">  958</span>        }</div>
<div class="line"><span class="lineno">  959</span>    }</div>
<div class="line"><span class="lineno">  960</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_beading_strategy_html_a6c862c4138e5f36825745be7cf2b4cac"><div class="ttname"><a href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html#a6c862c4138e5f36825745be7cf2b4cac">Slic3r::Arachne::BeadingStrategy::getTransitioningAngle</a></div><div class="ttdeci">double getTransitioningAngle() const</div><div class="ttdef"><b>Definition</b> BeadingStrategy.cpp:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00082">beading_strategy</a>, <a class="el" href="../../#l00026">Slic3r::Arachne::HalfEdgeGraph&lt; node_data_t, edge_data_t, derived_node_t, derived_edge_t &gt;::edges</a>, <a class="el" href="../../d7/d9b/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_edge.html#a02fa0ed16610c7bcf30cd932a58c4f12ad4b15c6fb61ff8f0b08344e769000c12">Slic3r::Arachne::SkeletalTrapezoidationEdge::EXTRA_VD</a>, <a class="el" href="../../#l00061">Slic3r::Arachne::BeadingStrategy::getTransitioningAngle()</a>, <a class="el" href="../../#l00071">Slic3r::Arachne::BeadingStrategy::getTransitionThickness()</a>, <a class="el" href="../../#l00122">graph</a>, and <a class="el" href="../../#l00220">sin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aff7f337db19af2dc583bca2667b24147_cgraph.svg" width="100%" height="425"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation_aff7f337db19af2dc583bca2667b24147_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a198eb75c6be9818a118a2743270cbb58" name="a198eb75c6be9818a118a2743270cbb58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198eb75c6be9818a118a2743270cbb58">&#9670;&#160;</a></span>detect_voronoi_edge_intersecting_input_segment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool detect_voronoi_edge_intersecting_input_segment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d9/d32/class_slic3r_1_1_geometry_1_1_voronoi_diagram.html">Geometry::VoronoiDiagram</a> &amp;&#160;</td>
          <td class="paramname"><em>voronoi_diagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a28495d689d23331af553a943bc74cc10">VoronoiUtils::Segment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  540</span>{</div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">for</span> (VoronoiUtils::vd_t::cell_type cell : voronoi_diagram.cells()) {</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">if</span> (!cell.incident_edge())</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">continue</span>; <span class="comment">// Degenerated cell, there is no spoon</span></div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">if</span> (!cell.contains_segment())</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">continue</span>; <span class="comment">// Skip cells that don&#39;t contain segments.</span></div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a28495d689d23331af553a943bc74cc10">VoronoiUtils::Segment</a> &amp;source_segment      = <a class="code hl_function" href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a7ea690fb5f7e9df8f33263e7b2c5425c">VoronoiUtils::getSourceSegment</a>(cell, segments);</div>
<div class="line"><span class="lineno">  549</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>                  source_segment_from = source_segment.from().cast&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><span class="lineno">  550</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>                  source_segment_vec  = source_segment.to().cast&lt;<span class="keywordtype">double</span>&gt;() - source_segment_from;</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>                          start_source_point, end_source_point;</div>
<div class="line"><span class="lineno">  553</span>        VoronoiUtils::vd_t::edge_type *begin_voronoi_edge = <span class="keyword">nullptr</span>, *end_voronoi_edge = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  554</span>        <a class="code hl_function" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a41badcb918fc0d75743356fd1a8b235e">SkeletalTrapezoidation::computeSegmentCellRange</a>(cell, start_source_point, end_source_point, begin_voronoi_edge, end_voronoi_edge, segments);</div>
<div class="line"><span class="lineno">  555</span>        <span class="comment">// All Voronoi vertices must be on left side of the source segment, otherwise Voronoi diagram is invalid.</span></div>
<div class="line"><span class="lineno">  556</span>        <span class="comment">// FIXME Lukas H.: Be aware that begin_voronoi_edge and end_voronoi_edge could be nullptr in some specific cases.</span></div>
<div class="line"><span class="lineno">  557</span>        <span class="comment">//                 It mostly happens when there is some missing Voronoi, for example, in GH issue #8846 (IssuesWithMysteriousPerimeters.3mf).</span></div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">if</span> (begin_voronoi_edge != <span class="keyword">nullptr</span> &amp;&amp; end_voronoi_edge != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  559</span>            <span class="keywordflow">for</span> (VoronoiUtils::vd_t::edge_type *edge = begin_voronoi_edge; edge != end_voronoi_edge; edge = edge-&gt;next())</div>
<div class="line"><span class="lineno">  560</span>                <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> edge_v1(edge-&gt;vertex1()-&gt;x(), edge-&gt;vertex1()-&gt;y()); <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a2cd973ab8e7af30bd57721dfc2859b8f">Slic3r::cross2</a>(source_segment_vec, edge_v1 - source_segment_from) &lt; 0)</div>
<div class="line"><span class="lineno">  561</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  562</span>    }</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  565</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_arachne_1_1_voronoi_utils_html_a28495d689d23331af553a943bc74cc10"><div class="ttname"><a href="../../d5/d7a/class_slic3r_1_1_arachne_1_1_voronoi_utils.html#a28495d689d23331af553a943bc74cc10">Slic3r::Arachne::VoronoiUtils::Segment</a></div><div class="ttdeci">PolygonsSegmentIndex Segment</div><div class="ttdef"><b>Definition</b> VoronoiUtils.hpp:23</div></div>
<div class="ttc" id="anamespace_slic3r_html_a2cd973ab8e7af30bd57721dfc2859b8f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2cd973ab8e7af30bd57721dfc2859b8f">Slic3r::cross2</a></div><div class="ttdeci">Derived::Scalar cross2(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:93</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:51</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8a0e5584c90ddb117397c279963758c5" name="a8a0e5584c90ddb117397c279963758c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0e5584c90ddb117397c279963758c5">&#9670;&#160;</a></span>allowed_filter_deviation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::allowed_filter_deviation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The allowed line width deviation induced by filtering. </p>

<p class="reference">Referenced by <a class="el" href="../../#l01291">dissolveNearbyTransitions()</a>.</p>

</div>
</div>
<a id="a67d756450bd612ff1dbde0c8eb791de7" name="a67d756450bd612ff1dbde0c8eb791de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d756450bd612ff1dbde0c8eb791de7">&#9670;&#160;</a></span>beading_propagation_transition_dist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::beading_propagation_transition_dist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When there are different beadings propagated from below and from above, use this transitioning distance. </p>

</div>
</div>
<a id="a4e0c4603835116ea310c853df10e897a" name="a4e0c4603835116ea310c853df10e897a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e0c4603835116ea310c853df10e897a">&#9670;&#160;</a></span>beading_strategy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/d81/class_slic3r_1_1_arachne_1_1_beading_strategy.html">BeadingStrategy</a>&amp; Slic3r::Arachne::SkeletalTrapezoidation::beading_strategy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The strategy to use to fill a certain shape with lines.</p>
<p>Various BeadingStrategies are available that differ in which lines get to print at their optimal width, where the play is being compensated, and how the joints are handled where we transition to different numbers of lines. </p>

<p class="reference">Referenced by <a class="el" href="../../#l01291">dissolveNearbyTransitions()</a>, <a class="el" href="../../#l01060">filterNoncentralRegions()</a>, <a class="el" href="../../#l01222">filterTransitionMids()</a>, <a class="el" href="../../#l01714">generateExtraRibs()</a>, <a class="el" href="../../#l01418">generateTransitionEnds()</a>, <a class="el" href="../../#l01142">generateTransitionMids()</a>, <a class="el" href="../../#l01011">updateBeadCount()</a>, and <a class="el" href="../../#l00912">updateIsCentral()</a>.</p>

</div>
</div>
<a id="ab1a76df433555222d35c30fae92be960" name="ab1a76df433555222d35c30fae92be960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a76df433555222d35c30fae92be960">&#9670;&#160;</a></span>central_filter_dist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::central_filter_dist = <a class="el" href="../../de/db8/namespace_slic3r.html#a20c9ce8050ad12a2fbc3d2e07937a1e8">scaled</a>&lt;<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(0.02)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Filter areas marked as 'central' smaller than this. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>

</div>
</div>
<a id="a53a918c05560f9a4a6382dbe1d127333" name="a53a918c05560f9a4a6382dbe1d127333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53a918c05560f9a4a6382dbe1d127333">&#9670;&#160;</a></span>discretization_step_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::discretization_step_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>approximate size of segments when parabolic VD edges get discretized (and vertex-vertex edges) </p>

<p class="reference">Referenced by <a class="el" href="../../#l00238">discretize()</a>, and <a class="el" href="../../#l01714">generateExtraRibs()</a>.</p>

</div>
</div>
<a id="a9572ca0ce89293e225061bbcd5e73d57" name="a9572ca0ce89293e225061bbcd5e73d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9572ca0ce89293e225061bbcd5e73d57">&#9670;&#160;</a></span>graph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a34620c5188bfd3f8405ef5eada90b072">graph_t</a> Slic3r::Arachne::SkeletalTrapezoidation::graph</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A skeletal graph through the polygons that we need to fill with beads.</p>
<p>The skeletal graph represents the medial axes through each part of the polygons, and the lines from these medial axes towards each vertex of the polygons. The graph can be used to see what the width is of a polygon in each place and where the width transitions. </p>

<p class="reference">Referenced by <a class="el" href="../../#l01627">applyTransitions()</a>, <a class="el" href="../../#l00642">constructFromPolygons()</a>, <a class="el" href="../../#l00962">filterCentral()</a>, <a class="el" href="../../#l01042">filterNoncentralRegions()</a>, <a class="el" href="../../#l00999">filterOuterCentral()</a>, <a class="el" href="../../#l01222">filterTransitionMids()</a>, <a class="el" href="../../#l01398">generateAllTransitionEnds()</a>, <a class="el" href="../../#l01714">generateExtraRibs()</a>, <a class="el" href="../../#l01786">generateSegments()</a>, <a class="el" href="../../#l01104">generateTransitioningRibs()</a>, <a class="el" href="../../#l01142">generateTransitionMids()</a>, <a class="el" href="../../#l00111">makeNode()</a>, <a class="el" href="../../#l00819">separatePointyQuadEndNodes()</a>, <a class="el" href="../../#l00127">transferEdge()</a>, <a class="el" href="../../#l01011">updateBeadCount()</a>, and <a class="el" href="../../#l00912">updateIsCentral()</a>.</p>

</div>
</div>
<a id="adc111880bb6f889f5a632b55229fb9d8" name="adc111880bb6f889f5a632b55229fb9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc111880bb6f889f5a632b55229fb9d8">&#9670;&#160;</a></span>p_generated_toolpaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html#a200d5189c89cf0f559997e0a68918bfe">VariableWidthLines</a>&gt;* Slic3r::Arachne::SkeletalTrapezoidation::p_generated_toolpaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>(Eventual) returned 'polylines per index' result (from generateToolpaths): </p>

<p class="reference">Referenced by <a class="el" href="../../#l00854">generateToolpaths()</a>.</p>

</div>
</div>
<a id="a921de2b3963aa119f42d50395dcf90cd" name="a921de2b3963aa119f42d50395dcf90cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921de2b3963aa119f42d50395dcf90cd">&#9670;&#160;</a></span>snap_dist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::snap_dist = <a class="el" href="../../de/db8/namespace_slic3r.html#a20c9ce8050ad12a2fbc3d2e07937a1e8">scaled</a>&lt;<a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;(0.02)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generic arithmatic inaccuracy. Only used to determine whether a transition really needs to insert an extra edge. </p>

<p class="reference">Referenced by <a class="el" href="../../#l01627">applyTransitions()</a>, and <a class="el" href="../../#l01714">generateExtraRibs()</a>.</p>

</div>
</div>
<a id="ac68e15ef1038c2514ccb6b8d2d2c768b" name="ac68e15ef1038c2514ccb6b8d2d2c768b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68e15ef1038c2514ccb6b8d2d2c768b">&#9670;&#160;</a></span>transition_filter_dist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::Arachne::SkeletalTrapezoidation::transition_filter_dist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Filter transition mids (i.e. anchors) closer together than this. </p>

<p class="reference">Referenced by <a class="el" href="../../#l01222">filterTransitionMids()</a>.</p>

</div>
</div>
<a id="a562c5b746ce6ec773d00448304bf6b3a" name="a562c5b746ce6ec773d00448304bf6b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562c5b746ce6ec773d00448304bf6b3a">&#9670;&#160;</a></span>transitioning_angle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Slic3r::Arachne::SkeletalTrapezoidation::transitioning_angle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How pointy a region should be before we apply the method. Equals 180* - limit_bisector_angle. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00238">discretize()</a>.</p>

</div>
</div>
<a id="a65f39ad79dfc255c3438f2b9b3e788a3" name="a65f39ad79dfc255c3438f2b9b3e788a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f39ad79dfc255c3438f2b9b3e788a3">&#9670;&#160;</a></span>vd_edge_to_he_edge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;vd_t::edge_type*, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a40ddfce1c7872552170079b0a37ef338">edge_t</a>*&gt; Slic3r::Arachne::SkeletalTrapezoidation::vd_edge_to_he_edge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>mapping each voronoi VD edge to the corresponding halfedge HE edge In case the result segment is discretized, we map the VD edge to the <em>last</em> HE edge </p>

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>, and <a class="el" href="../../#l00127">transferEdge()</a>.</p>

</div>
</div>
<a id="a4e03e4859c4ac371972c6562ab9cf70d" name="a4e03e4859c4ac371972c6562ab9cf70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e03e4859c4ac371972c6562ab9cf70d">&#9670;&#160;</a></span>vd_node_to_he_node</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;vd_t::vertex_type*, <a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html#a39b3c67cd9a38d03b5b92d7e1d063ff2">node_t</a>*&gt; Slic3r::Arachne::SkeletalTrapezoidation::vd_node_to_he_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00642">constructFromPolygons()</a>, <a class="el" href="../../#l00111">makeNode()</a>, and <a class="el" href="../../#l00127">transferEdge()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/Arachne/<a class="el" href="../../">SkeletalTrapezoidation.hpp</a></li>
<li>src/libslic3r/Arachne/<a class="el" href="../../">SkeletalTrapezoidation.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../dc/da5/namespace_slic3r_1_1_arachne.html">Arachne</a></li><li class="navelem"><a class="el" href="../../d9/d17/class_slic3r_1_1_arachne_1_1_skeletal_trapezoidation.html">SkeletalTrapezoidation</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
