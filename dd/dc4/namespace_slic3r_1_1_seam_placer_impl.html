<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::SeamPlacerImpl Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::SeamPlacerImpl Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dac/struct_slic3r_1_1_seam_placer_impl_1_1_coordinate_functor.html">CoordinateFunctor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3f/class_slic3r_1_1_seam_placer_impl_1_1_frame.html">Frame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinate frame.  <a href="../../de/d3f/class_slic3r_1_1_seam_placer_impl_1_1_frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter">Perimeter</a></td></tr>
<tr class="separator:df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/df9/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate_coordinate_functor.html">SeamCandidateCoordinateFunctor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamComparator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac2975fc869bfd94326baa4edaf765eed"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eed">EnforcedBlockedSeamPoint</a> { <a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2">Blocked</a> = 0
, <a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01">Neutral</a> = 1
, <a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d">Enforced</a> = 2
 }</td></tr>
<tr class="separator:ac2975fc869bfd94326baa4edaf765eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1826215ab5a2c6ae312e9bbd78088550"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1826215ab5a2c6ae312e9bbd78088550"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a1826215ab5a2c6ae312e9bbd78088550">sgn</a> (T val)</td></tr>
<tr class="separator:a1826215ab5a2c6ae312e9bbd78088550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb528a911ec93c896a3f45174ecdbab5"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#adb528a911ec93c896a3f45174ecdbab5">gauss</a> (float value, float mean_x_coord, float mean_value, float falloff_speed)</td></tr>
<tr class="separator:adb528a911ec93c896a3f45174ecdbab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80e21ca93bdfbbd3a2a7be43aca9e96"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad80e21ca93bdfbbd3a2a7be43aca9e96">compute_angle_penalty</a> (float ccw_angle)</td></tr>
<tr class="separator:ad80e21ca93bdfbbd3a2a7be43aca9e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af497d75453356aa59a42e39ec659ce3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#af497d75453356aa59a42e39ec659ce3a">sample_sphere_uniform</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;samples)</td></tr>
<tr class="separator:af497d75453356aa59a42e39ec659ce3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeef807293ba9931bafdf438a2d011b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aaeef807293ba9931bafdf438a2d011b4">sample_hemisphere_uniform</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;samples)</td></tr>
<tr class="separator:aaeef807293ba9931bafdf438a2d011b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b854c9b2f8a27de84c89930d737d588"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a6b854c9b2f8a27de84c89930d737d588">sample_power_cosine_hemisphere</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;samples, float power)</td></tr>
<tr class="separator:a6b854c9b2f8a27de84c89930d737d588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dae83c491e5792f601ac969ff0adfda"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a9dae83c491e5792f601ac969ff0adfda">raycast_visibility</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d1d/class_slic3r_1_1_a_a_b_b_tree_indirect_1_1_tree.html">AABBTreeIndirect::Tree</a>&lt; 3, float &gt; &amp;raycasting_tree, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> &amp;triangles, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#dc/d5b/struct_slic3r_1_1_triangle_set_samples">TriangleSetSamples</a> &amp;samples, size_t negative_volumes_start_index)</td></tr>
<tr class="separator:a9dae83c491e5792f601ac969ff0adfda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb8a716326723f875a57186c497f43d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aceb8a716326723f875a57186c497f43d">calculate_polygon_angles_at_vertices</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> &amp;polygon, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; float &gt; &amp;lengths, float min_arm_length)</td></tr>
<tr class="separator:aceb8a716326723f875a57186c497f43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2b1f7fa6ba72ead2fef94f3c430b35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a7b2b1f7fa6ba72ead2fef94f3c430b35">extract_perimeter_polygons</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *layer, std::vector&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> * &gt; &amp;corresponding_regions_out)</td></tr>
<tr class="separator:a7b2b1f7fa6ba72ead2fef94f3c430b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e59daf2bb8ac1ef1569702f82e2253"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a55e59daf2bb8ac1ef1569702f82e2253">process_perimeter_polygon</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> &amp;orig_polygon, float z_coord, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *region, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;global_model_info, <a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#de/d71/struct_slic3r_1_1_print_object_seam_data_1_1_layer_seams">PrintObjectSeamData::LayerSeams</a> &amp;result)</td></tr>
<tr class="separator:a55e59daf2bb8ac1ef1569702f82e2253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7159af7ab1e1f913c88eb855972fb4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a9e7159af7ab1e1f913c88eb855972fb4">find_previous_and_next_perimeter_point</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;perimeter_points, size_t point_index)</td></tr>
<tr class="separator:a9e7159af7ab1e1f913c88eb855972fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac113e45bae9af289fad2b023e23a3afc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac113e45bae9af289fad2b023e23a3afc">compute_global_occlusion</a> (<a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;result, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)&gt; throw_if_canceled)</td></tr>
<tr class="separator:ac113e45bae9af289fad2b023e23a3afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c485d165fe3f79c8cbeb92a91681e42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a8c485d165fe3f79c8cbeb92a91681e42">gather_enforcers_blockers</a> (<a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;result, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po)</td></tr>
<tr class="separator:a8c485d165fe3f79c8cbeb92a91681e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee12d027a31b041855c916ed6f37bbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#afee12d027a31b041855c916ed6f37bbf">pick_seam_point</a> (std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;perimeter_points, size_t start_index, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamComparator</a> &amp;comparator)</td></tr>
<tr class="separator:afee12d027a31b041855c916ed6f37bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ec8689dd52d10fbdfae69ff5c2a0b8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad8ec8689dd52d10fbdfae69ff5c2a0b8">pick_nearest_seam_point_index</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;perimeter_points, size_t start_index, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;preffered_location)</td></tr>
<tr class="separator:ad8ec8689dd52d10fbdfae69ff5c2a0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8585e41edcc09b6401a79fdf5fe22b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a5f8585e41edcc09b6401a79fdf5fe22b">pick_random_seam_point</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;perimeter_points, size_t start_index)</td></tr>
<tr class="separator:a5f8585e41edcc09b6401a79fdf5fe22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter" id="df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter"></a>
<h2 class="memtitle"><span class="permalink"><a href="#df/d5a/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter">&#9670;&#160;</a></span>Slic3r::SeamPlacerImpl::Perimeter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::SeamPlacerImpl::Perimeter</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::SeamPlacerImpl::Perimeter:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dc/d40/struct_slic3r_1_1_seam_placer_impl_1_1_perimeter__coll__graph.svg" width="100%" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a0220f5268e693fa86b2bb6b647edfc53" name="a0220f5268e693fa86b2bb6b647edfc53"></a>size_t</td>
<td class="fieldname">
end_index {}</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a20ad9095341f13e6eeee98221ca90f60" name="a20ad9095341f13e6eeee98221ca90f60"></a><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a></td>
<td class="fieldname">
final_seam_position = Vec3f::Zero()</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8da9b4d1018db31655ecaa14fb488313" name="a8da9b4d1018db31655ecaa14fb488313"></a>bool</td>
<td class="fieldname">
finalized = false</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac1333d60d5d160f31117c7252ad292f9" name="ac1333d60d5d160f31117c7252ad292f9"></a>float</td>
<td class="fieldname">
flow_width {}</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0cdbe04b7218d224641e3ae18b46ac26" name="a0cdbe04b7218d224641e3ae18b46ac26"></a>size_t</td>
<td class="fieldname">
seam_index {}</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7d8da9c0df34fd343938703bea9ed2a1" name="a7d8da9c0df34fd343938703bea9ed2a1"></a>size_t</td>
<td class="fieldname">
start_index {}</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac2975fc869bfd94326baa4edaf765eed" name="ac2975fc869bfd94326baa4edaf765eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2975fc869bfd94326baa4edaf765eed">&#9670;&#160;</a></span>EnforcedBlockedSeamPoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eed">Slic3r::SeamPlacerImpl::EnforcedBlockedSeamPoint</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2" name="ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2"></a>Blocked&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01" name="ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01"></a>Neutral&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d" name="ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d"></a>Enforced&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   34</span>                                    {</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_enumvalue" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2">Blocked</a> = 0,</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_enumvalue" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01">Neutral</a> = 1,</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d">Enforced</a> = 2,</div>
<div class="line"><span class="lineno">   38</span>};</div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda4ecc0d90eec1cea3e9db96583a1bb9c2">Slic3r::SeamPlacerImpl::EnforcedBlockedSeamPoint::Blocked</a></div><div class="ttdeci">@ Blocked</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eeda7c1c7a9d54b57d44f42ffc73dc82619d">Slic3r::SeamPlacerImpl::EnforcedBlockedSeamPoint::Enforced</a></div><div class="ttdeci">@ Enforced</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eedae9bb5320b3890b6747c91b5a71ae5a01">Slic3r::SeamPlacerImpl::EnforcedBlockedSeamPoint::Neutral</a></div><div class="ttdeci">@ Neutral</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aceb8a716326723f875a57186c497f43d" name="aceb8a716326723f875a57186c497f43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceb8a716326723f875a57186c497f43d">&#9670;&#160;</a></span>calculate_polygon_angles_at_vertices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; Slic3r::SeamPlacerImpl::calculate_polygon_angles_at_vertices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> &amp;&#160;</td>
          <td class="paramname"><em>polygon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>lengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_arm_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  225</span>                              {</div>
<div class="line"><span class="lineno">  226</span>    std::vector&lt;float&gt; result(polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>());</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> (polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>() == 1) {</div>
<div class="line"><span class="lineno">  229</span>        result[0] = 0.0f;</div>
<div class="line"><span class="lineno">  230</span>    }</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordtype">size_t</span> idx_prev = 0;</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordtype">size_t</span> idx_curr = 0;</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordtype">size_t</span> idx_next = 0;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordtype">float</span> distance_to_prev = 0;</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordtype">float</span> distance_to_next = 0;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="comment">//push idx_prev far enough back as initialization</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">while</span> (distance_to_prev &lt; min_arm_length) {</div>
<div class="line"><span class="lineno">  241</span>        idx_prev = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a847af524954f881ef5a5f906ca39ab94">Slic3r::prev_idx_modulo</a>(idx_prev, polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>());</div>
<div class="line"><span class="lineno">  242</span>        distance_to_prev += lengths[idx_prev];</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> _i = 0; _i &lt; polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>(); ++_i) {</div>
<div class="line"><span class="lineno">  246</span>        <span class="comment">// pull idx_prev to current as much as possible, while respecting the min_arm_length</span></div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">while</span> (distance_to_prev - lengths[idx_prev] &gt; min_arm_length) {</div>
<div class="line"><span class="lineno">  248</span>            distance_to_prev -= lengths[idx_prev];</div>
<div class="line"><span class="lineno">  249</span>            idx_prev = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">Slic3r::next_idx_modulo</a>(idx_prev, polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>());</div>
<div class="line"><span class="lineno">  250</span>        }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>        <span class="comment">//push idx_next forward as far as needed</span></div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">while</span> (distance_to_next &lt; min_arm_length) {</div>
<div class="line"><span class="lineno">  254</span>            distance_to_next += lengths[idx_next];</div>
<div class="line"><span class="lineno">  255</span>            idx_next = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">Slic3r::next_idx_modulo</a>(idx_next, polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>());</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">// Calculate angle between idx_prev, idx_curr, idx_next.</span></div>
<div class="line"><span class="lineno">  259</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;p0 = polygon.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[idx_prev];</div>
<div class="line"><span class="lineno">  260</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;p1 = polygon.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[idx_curr];</div>
<div class="line"><span class="lineno">  261</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;p2 = polygon.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[idx_next];</div>
<div class="line"><span class="lineno">  262</span>        result[idx_curr] = float(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>(p1 - p0, p2 - p1));</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>        <span class="comment">// increase idx_curr by one</span></div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordtype">float</span> curr_distance = lengths[idx_curr];</div>
<div class="line"><span class="lineno">  266</span>        idx_curr++;</div>
<div class="line"><span class="lineno">  267</span>        distance_to_prev += curr_distance;</div>
<div class="line"><span class="lineno">  268</span>        distance_to_next -= curr_distance;</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  272</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a5f33254e616268f728969886c4ed5d85"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">Slic3r::MultiPoint::points</a></div><div class="ttdeci">Points points</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:18</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_af3d77ee0ed47dc3e2bf8e741d6a1e563"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">Slic3r::MultiPoint::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:39</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7927d0ca1b31b8f9284ea268b11d27d5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">Slic3r::angle</a></div><div class="ttdeci">double angle(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:112</div></div>
<div class="ttc" id="anamespace_slic3r_html_a847af524954f881ef5a5f906ca39ab94"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a847af524954f881ef5a5f906ca39ab94">Slic3r::prev_idx_modulo</a></div><div class="ttdeci">INDEX_TYPE prev_idx_modulo(INDEX_TYPE idx, const INDEX_TYPE count)</div><div class="ttdef"><b>Definition</b> Utils.hpp:195</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9190c2947554e2a44d5c3a13d5dfcbfe"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">Slic3r::next_idx_modulo</a></div><div class="ttdeci">INDEX_TYPE next_idx_modulo(INDEX_TYPE idx, const INDEX_TYPE count)</div><div class="ttdef"><b>Definition</b> Utils.hpp:203</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Slic3r::angle()</a>, <a class="el" href="../../#l00224">calculate_polygon_angles_at_vertices()</a>, <a class="el" href="../../#l00203">Slic3r::next_idx_modulo()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00195">Slic3r::prev_idx_modulo()</a>, and <a class="el" href="../../#l00039">Slic3r::MultiPoint::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">calculate_polygon_angles_at_vertices()</a>, and <a class="el" href="../../#l00451">process_perimeter_polygon()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_aceb8a716326723f875a57186c497f43d_cgraph.svg" width="547" height="200"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_aceb8a716326723f875a57186c497f43d_icgraph.svg" width="426" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad80e21ca93bdfbbd3a2a7be43aca9e96" name="ad80e21ca93bdfbbd3a2a7be43aca9e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80e21ca93bdfbbd3a2a7be43aca9e96">&#9670;&#160;</a></span>compute_angle_penalty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::SeamPlacerImpl::compute_angle_penalty </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ccw_angle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   52</span>                                             {</div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">// This function is used:</span></div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">// ((ℯ^(((1)/(x^(2)*3+1)))-1)/(ℯ-1))*1+((1)/(2+ℯ^(-x)))</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="comment">// looks scary, but it is gaussian combined with sigmoid,</span></div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// so that concave points have much smaller penalty over convex ones</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// https://github.com/prusa3d/PrusaSlicer/tree/master/doc/seam_placement/corner_penalty_function.png</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#adb528a911ec93c896a3f45174ecdbab5">gauss</a>(ccw_angle, 0.0f, 1.0f, 3.0f) +</div>
<div class="line"><span class="lineno">   59</span>            1.0f / (2 + std::exp(-ccw_angle));</div>
<div class="line"><span class="lineno">   60</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_adb528a911ec93c896a3f45174ecdbab5"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#adb528a911ec93c896a3f45174ecdbab5">Slic3r::SeamPlacerImpl::gauss</a></div><div class="ttdeci">float gauss(float value, float mean_x_coord, float mean_value, float falloff_speed)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:45</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00045">gauss()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00792">Slic3r::SeamPlacerImpl::SeamComparator::is_first_not_much_worse()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ad80e21ca93bdfbbd3a2a7be43aca9e96_cgraph.svg" width="384" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ad80e21ca93bdfbbd3a2a7be43aca9e96_icgraph.svg" width="626" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac113e45bae9af289fad2b023e23a3afc" name="ac113e45bae9af289fad2b023e23a3afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac113e45bae9af289fad2b023e23a3afc">&#9670;&#160;</a></span>compute_global_occlusion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacerImpl::compute_global_occlusion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)&gt;&#160;</td>
          <td class="paramname"><em>throw_if_canceled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  621</span>                                                   {</div>
<div class="line"><span class="lineno">  622</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  623</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: gather occlusion meshes: start&quot;</span>;</div>
<div class="line"><span class="lineno">  624</span>    <span class="keyword">auto</span> obj_transform = po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#a7f8a159258fe69edc219fd415f5362d8">trafo_centered</a>();</div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_struct" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> triangle_set;</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_struct" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> negative_volumes_set;</div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">//add all parts</span></div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../d0/d02/class_slic3r_1_1_model_volume.html">ModelVolume</a> *model_volume : po-&gt;model_object()-&gt;volumes) {</div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">if</span> (model_volume-&gt;type() == ModelVolumeType::MODEL_PART</div>
<div class="line"><span class="lineno">  630</span>                || model_volume-&gt;type() == ModelVolumeType::NEGATIVE_VOLUME) {</div>
<div class="line"><span class="lineno">  631</span>            <span class="keyword">auto</span> model_transformation = model_volume-&gt;get_matrix();</div>
<div class="line"><span class="lineno">  632</span>            <a class="code hl_struct" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> model_its = model_volume-&gt;mesh().its;</div>
<div class="line"><span class="lineno">  633</span>            <a class="code hl_function" href="../../d5/d51/stl_8h.html#a9778902b3aa1da8eff2d53ec6f65d638">its_transform</a>(model_its, model_transformation);</div>
<div class="line"><span class="lineno">  634</span>            <span class="keywordflow">if</span> (model_volume-&gt;type() == ModelVolumeType::MODEL_PART) {</div>
<div class="line"><span class="lineno">  635</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">its_merge</a>(triangle_set, model_its);</div>
<div class="line"><span class="lineno">  636</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  637</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">its_merge</a>(negative_volumes_set, model_its);</div>
<div class="line"><span class="lineno">  638</span>            }</div>
<div class="line"><span class="lineno">  639</span>        }</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span>    throw_if_canceled();</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  644</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: gather occlusion meshes: end&quot;</span>;</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  647</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: decimate: start&quot;</span>;</div>
<div class="line"><span class="lineno">  648</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9b98fdfba46cc062d34b807935cdb948">its_short_edge_collpase</a>(triangle_set, SeamPlacer::fast_decimation_triangle_count_target);</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9b98fdfba46cc062d34b807935cdb948">its_short_edge_collpase</a>(negative_volumes_set, SeamPlacer::fast_decimation_triangle_count_target);</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordtype">size_t</span> negative_volumes_start_index = triangle_set.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>.size();</div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">its_merge</a>(triangle_set, negative_volumes_set);</div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_function" href="../../d5/d51/stl_8h.html#a9778902b3aa1da8eff2d53ec6f65d638">its_transform</a>(triangle_set, obj_transform);</div>
<div class="line"><span class="lineno">  654</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  655</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: decimate: end&quot;</span>;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  658</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: Compute visibility sample points: start&quot;</span>;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">mesh_samples</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aab7fc3751fa3077dfdd37f812ecb6c12">sample_its_uniform_parallel</a>(SeamPlacer::raycasting_visibility_samples_count,</div>
<div class="line"><span class="lineno">  661</span>            triangle_set);</div>
<div class="line"><span class="lineno">  662</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad74b21199467b89bd2c6952265adfb0c">mesh_samples_coordinate_functor</a> = CoordinateFunctor(&amp;result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">mesh_samples</a>.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">positions</a>);</div>
<div class="line"><span class="lineno">  663</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a5dff0299dfec1622a74de362c0bea4dd">mesh_samples_tree</a> = KDTreeIndirect&lt;3, float, CoordinateFunctor&gt;(result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad74b21199467b89bd2c6952265adfb0c">mesh_samples_coordinate_functor</a>,</div>
<div class="line"><span class="lineno">  664</span>            result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">mesh_samples</a>.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">positions</a>.size());</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <span class="comment">// The following code determines search area for random visibility samples on the mesh when calculating visibility of each perimeter point</span></div>
<div class="line"><span class="lineno">  667</span>    <span class="comment">// number of random samples in the given radius (area) is approximately poisson distribution</span></div>
<div class="line"><span class="lineno">  668</span>    <span class="comment">// to compute ideal search radius (area), we use exponential distribution (complementary distr to poisson)</span></div>
<div class="line"><span class="lineno">  669</span>    <span class="comment">// parameters of exponential distribution to compute area that will have with probability=&quot;probability&quot; more than given number of samples=&quot;samples&quot;</span></div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordtype">float</span> probability = 0.9f;</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">float</span> samples = 4;</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordtype">float</span> density = SeamPlacer::raycasting_visibility_samples_count / result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">mesh_samples</a>.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a7f12326c4a7d58a27b96186432d9d350">total_area</a>;</div>
<div class="line"><span class="lineno">  673</span>    <span class="comment">// exponential probability distrubtion function is : f(x) = P(X &gt; x) = e^(l*x) where l is the rate parameter (computed as 1/u where u is mean value)</span></div>
<div class="line"><span class="lineno">  674</span>    <span class="comment">// probability that sampled area A with S samples contains more than samples count:</span></div>
<div class="line"><span class="lineno">  675</span>    <span class="comment">//  P(S &gt; samples in A) = e^-(samples/(density*A));   express A:</span></div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordtype">float</span> search_area = samples / (-logf(probability) * density);</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordtype">float</span> search_radius = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(search_area / <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>);</div>
<div class="line"><span class="lineno">  678</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a7264f990fea43712e94158833d74760d">mesh_samples_radius</a> = search_radius;</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  681</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: Compute visiblity sample points: end&quot;</span>;</div>
<div class="line"><span class="lineno">  682</span>    throw_if_canceled();</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  685</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: Mesh sample raidus: &quot;</span> &lt;&lt; result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a7264f990fea43712e94158833d74760d">mesh_samples_radius</a>;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  688</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: build AABB tree: start&quot;</span>;</div>
<div class="line"><span class="lineno">  689</span>    <span class="keyword">auto</span> raycasting_tree = AABBTreeIndirect::build_aabb_tree_over_indexed_triangle_set(triangle_set.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a86d0433f7db7abf0f94c7e3d1302b09c">vertices</a>,</div>
<div class="line"><span class="lineno">  690</span>            triangle_set.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>);</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    throw_if_canceled();</div>
<div class="line"><span class="lineno">  693</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  694</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: build AABB tree: end&quot;</span>;</div>
<div class="line"><span class="lineno">  695</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#aa24267221920af1231543f7e69bfdede">mesh_samples_visibility</a> = <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a9dae83c491e5792f601ac969ff0adfda">raycast_visibility</a>(raycasting_tree, triangle_set, result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">mesh_samples</a>,</div>
<div class="line"><span class="lineno">  696</span>            negative_volumes_start_index);</div>
<div class="line"><span class="lineno">  697</span>    throw_if_canceled();</div>
<div class="line"><span class="lineno">  698</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno">  699</span>    result.debug_export(triangle_set);</div>
<div class="line"><span class="lineno">  700</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  701</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
<div class="ttc" id="aclass_slic3r_1_1_model_volume_html"><div class="ttname"><a href="../../d0/d02/class_slic3r_1_1_model_volume.html">Slic3r::ModelVolume</a></div><div class="ttdef"><b>Definition</b> Model.hpp:753</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_html_a7f8a159258fe69edc219fd415f5362d8"><div class="ttname"><a href="../../de/d87/class_slic3r_1_1_print_object.html#a7f8a159258fe69edc219fd415f5362d8">Slic3r::PrintObject::trafo_centered</a></div><div class="ttdeci">Transform3d trafo_centered() const</div><div class="ttdef"><b>Definition</b> Print.hpp:251</div></div>
<div class="ttc" id="alibslic3r_8h_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">static constexpr double PI</div><div class="ttdef"><b>Definition</b> libslic3r.h:58</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_a9dae83c491e5792f601ac969ff0adfda"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a9dae83c491e5792f601ac969ff0adfda">Slic3r::SeamPlacerImpl::raycast_visibility</a></div><div class="ttdeci">std::vector&lt; float &gt; raycast_visibility(const AABBTreeIndirect::Tree&lt; 3, float &gt; &amp;raycasting_tree, const indexed_triangle_set &amp;triangles, const TriangleSetSamples &amp;samples, size_t negative_volumes_start_index)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:129</div></div>
<div class="ttc" id="anamespace_slic3r_html_a388b5264a1fdfe08ae2659c8b3074a5f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">Slic3r::TriangleSetSamples::positions</a></div><div class="ttdeci">std::vector&lt; Vec3f &gt; positions</div><div class="ttdef"><b>Definition</b> TriangleSetSampling.hpp:11</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7f12326c4a7d58a27b96186432d9d350"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7f12326c4a7d58a27b96186432d9d350">Slic3r::TriangleSetSamples::total_area</a></div><div class="ttdeci">float total_area</div><div class="ttdef"><b>Definition</b> TriangleSetSampling.hpp:10</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9b98fdfba46cc062d34b807935cdb948"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9b98fdfba46cc062d34b807935cdb948">Slic3r::its_short_edge_collpase</a></div><div class="ttdeci">void its_short_edge_collpase(indexed_triangle_set &amp;mesh, size_t target_triangle_count)</div><div class="ttdef"><b>Definition</b> ShortEdgeCollapse.cpp:13</div></div>
<div class="ttc" id="anamespace_slic3r_html_aab7fc3751fa3077dfdd37f812ecb6c12"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aab7fc3751fa3077dfdd37f812ecb6c12">Slic3r::sample_its_uniform_parallel</a></div><div class="ttdeci">TriangleSetSamples sample_its_uniform_parallel(size_t samples_count, const indexed_triangle_set &amp;triangle_set)</div><div class="ttdef"><b>Definition</b> TriangleSetSampling.cpp:9</div></div>
<div class="ttc" id="anamespace_slic3r_html_af6eaa39d039be99914b33e0229e13e82"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">Slic3r::its_merge</a></div><div class="ttdeci">void its_merge(indexed_triangle_set &amp;its, indexed_triangle_set &amp;&amp;its_add)</div><div class="ttdoc">Merge one triangle mesh to another Added triangle set will be consumed.</div><div class="ttdef"><b>Definition</b> TriangleMesh.cpp:1355</div></div>
<div class="ttc" id="astl_8h_html_a9778902b3aa1da8eff2d53ec6f65d638"><div class="ttname"><a href="../../d5/d51/stl_8h.html#a9778902b3aa1da8eff2d53ec6f65d638">its_transform</a></div><div class="ttdeci">void its_transform(indexed_triangle_set &amp;its, T *trafo3x4)</div><div class="ttdef"><b>Definition</b> stl.h:266</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a5dff0299dfec1622a74de362c0bea4dd"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a5dff0299dfec1622a74de362c0bea4dd">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_tree</a></div><div class="ttdeci">KDTreeIndirect&lt; 3, float, CoordinateFunctor &gt; mesh_samples_tree</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:293</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a7264f990fea43712e94158833d74760d"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a7264f990fea43712e94158833d74760d">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_radius</a></div><div class="ttdeci">float mesh_samples_radius</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:294</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_aa24267221920af1231543f7e69bfdede"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#aa24267221920af1231543f7e69bfdede">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_visibility</a></div><div class="ttdeci">std::vector&lt; float &gt; mesh_samples_visibility</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:291</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_ad35aa3e0d53ab4c6bf7f9f3dfd79534e"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad35aa3e0d53ab4c6bf7f9f3dfd79534e">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples</a></div><div class="ttdeci">TriangleSetSamples mesh_samples</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:290</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_ad74b21199467b89bd2c6952265adfb0c"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ad74b21199467b89bd2c6952265adfb0c">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_coordinate_functor</a></div><div class="ttdeci">CoordinateFunctor mesh_samples_coordinate_functor</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:292</div></div>
<div class="ttc" id="astructindexed__triangle__set_html"><div class="ttname"><a href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a></div><div class="ttdef"><b>Definition</b> stl.h:157</div></div>
<div class="ttc" id="astructindexed__triangle__set_html_a86d0433f7db7abf0f94c7e3d1302b09c"><div class="ttname"><a href="../../d0/df2/structindexed__triangle__set.html#a86d0433f7db7abf0f94c7e3d1302b09c">indexed_triangle_set::vertices</a></div><div class="ttdeci">std::vector&lt; stl_vertex &gt; vertices</div><div class="ttdef"><b>Definition</b> stl.h:165</div></div>
<div class="ttc" id="astructindexed__triangle__set_html_a8e9771f92d4834e98a5ed13f131d71f6"><div class="ttname"><a href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indexed_triangle_set::indices</a></div><div class="ttdeci">std::vector&lt; stl_triangle_vertex_indices &gt; indices</div><div class="ttdef"><b>Definition</b> stl.h:164</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00672">Slic3r::AABBTreeIndirect::build_aabb_tree_over_indexed_triangle_set()</a>, <a class="el" href="../../#l00620">compute_global_occlusion()</a>, <a class="el" href="../../#l00113">Slic3r::SeamPlacer::fast_decimation_triangle_count_target</a>, <a class="el" href="../../#l00164">indexed_triangle_set::indices</a>, <a class="el" href="../../#l01355">Slic3r::its_merge()</a>, <a class="el" href="../../#l00013">Slic3r::its_short_edge_collpase()</a>, <a class="el" href="../../#l00266">its_transform()</a>, <a class="el" href="../../#l00290">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples</a>, <a class="el" href="../../#l00292">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_coordinate_functor</a>, <a class="el" href="../../#l00294">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_radius</a>, <a class="el" href="../../#l00293">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_tree</a>, <a class="el" href="../../#l00291">Slic3r::SeamPlacerImpl::GlobalModelInfo::mesh_samples_visibility</a>, <a class="el" href="../../#l00362">Slic3r::PrintObjectBase::model_object()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3cca6f85cc4fd0249d3b85aede67df2ea81026b86a15986d160e41a8e07a6e75d">Slic3r::MODEL_PART</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3cca6f85cc4fd0249d3b85aede67df2ead87c50c80f0ba2851faf38ec6ec8fdbf">Slic3r::NEGATIVE_VOLUME</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00011">Slic3r::TriangleSetSamples::positions</a>, <a class="el" href="../../#l00129">raycast_visibility()</a>, <a class="el" href="../../#l00112">Slic3r::SeamPlacer::raycasting_visibility_samples_count</a>, <a class="el" href="../../#l00009">Slic3r::sample_its_uniform_parallel()</a>, <a class="el" href="../../#l00152">sqrt()</a>, <a class="el" href="../../#l00010">Slic3r::TriangleSetSamples::total_area</a>, <a class="el" href="../../#l00251">Slic3r::PrintObject::trafo_centered()</a>, <a class="el" href="../../#l00165">indexed_triangle_set::vertices</a>, and <a class="el" href="../../#l00337">Slic3r::ModelObject::volumes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00620">compute_global_occlusion()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ac113e45bae9af289fad2b023e23a3afc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ac113e45bae9af289fad2b023e23a3afc_icgraph.svg" width="194" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7b2b1f7fa6ba72ead2fef94f3c430b35" name="a7b2b1f7fa6ba72ead2fef94f3c430b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2b1f7fa6ba72ead2fef94f3c430b35">&#9670;&#160;</a></span>extract_perimeter_polygons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> Slic3r::SeamPlacerImpl::extract_perimeter_polygons </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>corresponding_regions_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  401</span>                                                                                                                  {</div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> polygons;</div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *layer_region : layer-&gt;regions()) {</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *ex_entity : layer_region-&gt;perimeters()) {</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">if</span> (ex_entity-&gt;is_collection()) { <span class="comment">//collection of inner, outer, and overhang perimeters</span></div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *perimeter : static_cast&lt;<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code hl_class" href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html">ExtrusionEntityCollection</a>*&gt;(ex_entity)-&gt;entities) {</div>
<div class="line"><span class="lineno">  407</span>                    <a class="code hl_struct" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html">ExtrusionRole</a> role = perimeter-&gt;role();</div>
<div class="line"><span class="lineno">  408</span>                    <span class="keywordflow">if</span> (perimeter-&gt;is_loop()) {</div>
<div class="line"><span class="lineno">  409</span>                        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">ExtrusionPath</a> &amp;path : static_cast&lt;<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code hl_class" href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">ExtrusionLoop</a>*&gt;(perimeter)-&gt;paths) {</div>
<div class="line"><span class="lineno">  410</span>                            <span class="keywordflow">if</span> (path.role() == ExtrusionRole::ExternalPerimeter) {</div>
<div class="line"><span class="lineno">  411</span>                                role = ExtrusionRole::ExternalPerimeter;</div>
<div class="line"><span class="lineno">  412</span>                            }</div>
<div class="line"><span class="lineno">  413</span>                        }</div>
<div class="line"><span class="lineno">  414</span>                    }</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>                    <span class="keywordflow">if</span> (role == ExtrusionRole::ExternalPerimeter) {</div>
<div class="line"><span class="lineno">  417</span>                        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> p;</div>
<div class="line"><span class="lineno">  418</span>                        perimeter-&gt;collect_points(p);</div>
<div class="line"><span class="lineno">  419</span>                        polygons.emplace_back(std::move(p));</div>
<div class="line"><span class="lineno">  420</span>                        corresponding_regions_out.push_back(layer_region);</div>
<div class="line"><span class="lineno">  421</span>                    }</div>
<div class="line"><span class="lineno">  422</span>                }</div>
<div class="line"><span class="lineno">  423</span>                <span class="keywordflow">if</span> (polygons.empty()) {</div>
<div class="line"><span class="lineno">  424</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> p;</div>
<div class="line"><span class="lineno">  425</span>                    ex_entity-&gt;collect_points(p);</div>
<div class="line"><span class="lineno">  426</span>                    polygons.emplace_back(std::move(p));</div>
<div class="line"><span class="lineno">  427</span>                    corresponding_regions_out.push_back(layer_region);</div>
<div class="line"><span class="lineno">  428</span>                }</div>
<div class="line"><span class="lineno">  429</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  430</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> p;</div>
<div class="line"><span class="lineno">  431</span>                ex_entity-&gt;collect_points(p);</div>
<div class="line"><span class="lineno">  432</span>                polygons.emplace_back(std::move(p));</div>
<div class="line"><span class="lineno">  433</span>                corresponding_regions_out.push_back(layer_region);</div>
<div class="line"><span class="lineno">  434</span>            }</div>
<div class="line"><span class="lineno">  435</span>        }</div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">if</span> (polygons.empty()) { <span class="comment">// If there are no perimeter polygons for whatever reason (disabled perimeters .. ) insert dummy point</span></div>
<div class="line"><span class="lineno">  439</span>        <span class="comment">// it is easier than checking everywhere if the layer is not emtpy, no seam will be placed to this layer anyway</span></div>
<div class="line"><span class="lineno">  440</span>        polygons.emplace_back(Points{ { 0, 0 } });</div>
<div class="line"><span class="lineno">  441</span>        corresponding_regions_out.push_back(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  442</span>    }</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">return</span> polygons;</div>
<div class="line"><span class="lineno">  445</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_collection_html"><div class="ttname"><a href="../../dd/d1d/class_slic3r_1_1_extrusion_entity_collection.html">Slic3r::ExtrusionEntityCollection</a></div><div class="ttdef"><b>Definition</b> ExtrusionEntityCollection.hpp:26</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">Slic3r::ExtrusionEntity</a></div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:21</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_loop_html"><div class="ttname"><a href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">Slic3r::ExtrusionLoop</a></div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:191</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_path_html"><div class="ttname"><a href="../../d7/dbc/class_slic3r_1_1_extrusion_path.html">Slic3r::ExtrusionPath</a></div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:61</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_region_html"><div class="ttname"><a href="../../dd/d90/class_slic3r_1_1_layer_region.html">Slic3r::LayerRegion</a></div><div class="ttdef"><b>Definition</b> Layer.hpp:95</div></div>
<div class="ttc" id="agetopt_8c_html_a2c212835823e3c54a8ab6d95c652660e"><div class="ttname"><a href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></div><div class="ttdeci">#define const</div><div class="ttdef"><b>Definition</b> getopt.c:38</div></div>
<div class="ttc" id="anamespace_slic3r_html_a00eaa65faeaecea2aec629f311ce5a1c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon, PointsAllocator&lt; Polygon &gt; &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_html_aee987cbd1647986a9ac92226daffa4d7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Slic3r::Points</a></div><div class="ttdeci">std::vector&lt; Point, PointsAllocator&lt; Point &gt; &gt; Points</div><div class="ttdef"><b>Definition</b> Point.hpp:58</div></div>
<div class="ttc" id="astruct_slic3r_1_1_extrusion_role_html"><div class="ttname"><a href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html">Slic3r::ExtrusionRole</a></div><div class="ttdef"><b>Definition</b> ExtrusionRole.hpp:43</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00051">Slic3r::ExtrusionRole::ExternalPerimeter</a>, <a class="el" href="../../#l00401">extract_perimeter_polygons()</a>, and <a class="el" href="../../#l00347">Slic3r::Layer::regions()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00401">extract_perimeter_polygons()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a7b2b1f7fa6ba72ead2fef94f3c430b35_cgraph.svg" width="392" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a7b2b1f7fa6ba72ead2fef94f3c430b35_icgraph.svg" width="200" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9e7159af7ab1e1f913c88eb855972fb4" name="a9e7159af7ab1e1f913c88eb855972fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7159af7ab1e1f913c88eb855972fb4">&#9670;&#160;</a></span>find_previous_and_next_perimeter_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; size_t, size_t &gt; Slic3r::SeamPlacerImpl::find_previous_and_next_perimeter_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>perimeter_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>point_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  599</span>                            {</div>
<div class="line"><span class="lineno">  600</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &amp;current = perimeter_points[point_index];</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordtype">int</span> prev = point_index - 1; <span class="comment">//for majority of points, it is true that neighbours lie behind and in front of them in the vector</span></div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordtype">int</span> next = point_index + 1;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span> (point_index == current.<a class="code hl_variable" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html#a420586b2b44a65f861e86b38eb542ee9">perimeter</a>.<a class="code hl_variable" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a7d8da9c0df34fd343938703bea9ed2a1">start_index</a>) {</div>
<div class="line"><span class="lineno">  605</span>        <span class="comment">// if point_index is equal to start, it means that the previous neighbour is at the end</span></div>
<div class="line"><span class="lineno">  606</span>        prev = current.<a class="code hl_variable" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html#a420586b2b44a65f861e86b38eb542ee9">perimeter</a>.<a class="code hl_variable" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a0220f5268e693fa86b2bb6b647edfc53">end_index</a>;</div>
<div class="line"><span class="lineno">  607</span>    }</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (point_index == current.<a class="code hl_variable" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html#a420586b2b44a65f861e86b38eb542ee9">perimeter</a>.<a class="code hl_variable" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a0220f5268e693fa86b2bb6b647edfc53">end_index</a> - 1) {</div>
<div class="line"><span class="lineno">  610</span>        <span class="comment">// if point_index is equal to end, than next neighbour is at the start</span></div>
<div class="line"><span class="lineno">  611</span>        next = current.<a class="code hl_variable" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html#a420586b2b44a65f861e86b38eb542ee9">perimeter</a>.<a class="code hl_variable" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a7d8da9c0df34fd343938703bea9ed2a1">start_index</a>;</div>
<div class="line"><span class="lineno">  612</span>    }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    assert(prev &gt;= 0);</div>
<div class="line"><span class="lineno">  615</span>    assert(next &gt;= 0);</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">return</span> {size_t(prev),size_t(next)};</div>
<div class="line"><span class="lineno">  617</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_a0220f5268e693fa86b2bb6b647edfc53"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a0220f5268e693fa86b2bb6b647edfc53">Slic3r::SeamPlacerImpl::Perimeter::end_index</a></div><div class="ttdeci">size_t end_index</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:43</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_a7d8da9c0df34fd343938703bea9ed2a1"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a7d8da9c0df34fd343938703bea9ed2a1">Slic3r::SeamPlacerImpl::Perimeter::start_index</a></div><div class="ttdeci">size_t start_index</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:42</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate_html"><div class="ttname"><a href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">Slic3r::SeamPlacerImpl::SeamCandidate</a></div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:57</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate_html_a420586b2b44a65f861e86b38eb542ee9"><div class="ttname"><a href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html#a420586b2b44a65f861e86b38eb542ee9">Slic3r::SeamPlacerImpl::SeamCandidate::perimeter</a></div><div class="ttdeci">Perimeter &amp; perimeter</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00043">Slic3r::SeamPlacerImpl::Perimeter::end_index</a>, <a class="el" href="../../#l00598">find_previous_and_next_perimeter_point()</a>, <a class="el" href="../../#l00066">Slic3r::SeamPlacerImpl::SeamCandidate::perimeter</a>, and <a class="el" href="../../#l00042">Slic3r::SeamPlacerImpl::Perimeter::start_index</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00598">find_previous_and_next_perimeter_point()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a9e7159af7ab1e1f913c88eb855972fb4_cgraph.svg" width="178" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a9e7159af7ab1e1f913c88eb855972fb4_icgraph.svg" width="178" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8c485d165fe3f79c8cbeb92a91681e42" name="a8c485d165fe3f79c8cbeb92a91681e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c485d165fe3f79c8cbeb92a91681e42">&#9670;&#160;</a></span>gather_enforcers_blockers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacerImpl::gather_enforcers_blockers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  703</span>                                                                               {</div>
<div class="line"><span class="lineno">  704</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  705</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: build AABB trees for raycasting enforcers/blockers: start&quot;</span>;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="keyword">auto</span> obj_transform = po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#a7f8a159258fe69edc219fd415f5362d8">trafo_centered</a>();</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../d0/d02/class_slic3r_1_1_model_volume.html">ModelVolume</a> *mv : po-&gt;model_object()-&gt;volumes) {</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">if</span> (mv-&gt;is_seam_painted()) {</div>
<div class="line"><span class="lineno">  711</span>            <span class="keyword">auto</span> model_transformation = obj_transform * mv-&gt;get_matrix();</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>            <a class="code hl_struct" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> enforcers = mv-&gt;seam_facets.get_facets(*mv, EnforcerBlockerType::ENFORCER);</div>
<div class="line"><span class="lineno">  714</span>            <a class="code hl_function" href="../../d5/d51/stl_8h.html#a9778902b3aa1da8eff2d53ec6f65d638">its_transform</a>(enforcers, model_transformation);</div>
<div class="line"><span class="lineno">  715</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">its_merge</a>(result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a002b15a045f7d11db10bcdd6ee5572ec">enforcers</a>, enforcers);</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>            <a class="code hl_struct" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> blockers = mv-&gt;seam_facets.get_facets(*mv, EnforcerBlockerType::BLOCKER);</div>
<div class="line"><span class="lineno">  718</span>            <a class="code hl_function" href="../../d5/d51/stl_8h.html#a9778902b3aa1da8eff2d53ec6f65d638">its_transform</a>(blockers, model_transformation);</div>
<div class="line"><span class="lineno">  719</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#af6eaa39d039be99914b33e0229e13e82">its_merge</a>(result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ae0f5cc8e308ca5e94346e8052d7af692">blockers</a>, blockers);</div>
<div class="line"><span class="lineno">  720</span>        }</div>
<div class="line"><span class="lineno">  721</span>    }</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a1fd115c469705e89629f23cc7ef3bfb3">enforcers_tree</a> = AABBTreeIndirect::build_aabb_tree_over_indexed_triangle_set(result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a002b15a045f7d11db10bcdd6ee5572ec">enforcers</a>.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a86d0433f7db7abf0f94c7e3d1302b09c">vertices</a>,</div>
<div class="line"><span class="lineno">  724</span>            result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a002b15a045f7d11db10bcdd6ee5572ec">enforcers</a>.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>);</div>
<div class="line"><span class="lineno">  725</span>    result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a0c20a9dd2dbfe2082d4315b33a8c0424">blockers_tree</a> = AABBTreeIndirect::build_aabb_tree_over_indexed_triangle_set(result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ae0f5cc8e308ca5e94346e8052d7af692">blockers</a>.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a86d0433f7db7abf0f94c7e3d1302b09c">vertices</a>,</div>
<div class="line"><span class="lineno">  726</span>            result.<a class="code hl_variable" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ae0f5cc8e308ca5e94346e8052d7af692">blockers</a>.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>);</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  729</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: build AABB trees for raycasting enforcers/blockers: end&quot;</span>;</div>
<div class="line"><span class="lineno">  730</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a002b15a045f7d11db10bcdd6ee5572ec"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a002b15a045f7d11db10bcdd6ee5572ec">Slic3r::SeamPlacerImpl::GlobalModelInfo::enforcers</a></div><div class="ttdeci">indexed_triangle_set enforcers</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:296</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a0c20a9dd2dbfe2082d4315b33a8c0424"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a0c20a9dd2dbfe2082d4315b33a8c0424">Slic3r::SeamPlacerImpl::GlobalModelInfo::blockers_tree</a></div><div class="ttdeci">AABBTreeIndirect::Tree&lt; 3, float &gt; blockers_tree</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:299</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a1fd115c469705e89629f23cc7ef3bfb3"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a1fd115c469705e89629f23cc7ef3bfb3">Slic3r::SeamPlacerImpl::GlobalModelInfo::enforcers_tree</a></div><div class="ttdeci">AABBTreeIndirect::Tree&lt; 3, float &gt; enforcers_tree</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:298</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_ae0f5cc8e308ca5e94346e8052d7af692"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#ae0f5cc8e308ca5e94346e8052d7af692">Slic3r::SeamPlacerImpl::GlobalModelInfo::blockers</a></div><div class="ttdeci">indexed_triangle_set blockers</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:297</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/db8/namespace_slic3r.html#a5ce80416d9bd655d2fb946edf0f602f0a95a95df0c5337385356cd00cbd59a000">Slic3r::BLOCKER</a>, <a class="el" href="../../#l00297">Slic3r::SeamPlacerImpl::GlobalModelInfo::blockers</a>, <a class="el" href="../../#l00299">Slic3r::SeamPlacerImpl::GlobalModelInfo::blockers_tree</a>, <a class="el" href="../../#l00672">Slic3r::AABBTreeIndirect::build_aabb_tree_over_indexed_triangle_set()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a5ce80416d9bd655d2fb946edf0f602f0a66623df40a88662bfd8a271edb488841">Slic3r::ENFORCER</a>, <a class="el" href="../../#l00296">Slic3r::SeamPlacerImpl::GlobalModelInfo::enforcers</a>, <a class="el" href="../../#l00298">Slic3r::SeamPlacerImpl::GlobalModelInfo::enforcers_tree</a>, <a class="el" href="../../#l00703">gather_enforcers_blockers()</a>, <a class="el" href="../../#l00164">indexed_triangle_set::indices</a>, <a class="el" href="../../#l01355">Slic3r::its_merge()</a>, <a class="el" href="../../#l00266">its_transform()</a>, <a class="el" href="../../#l00362">Slic3r::PrintObjectBase::model_object()</a>, <a class="el" href="../../#l00251">Slic3r::PrintObject::trafo_centered()</a>, <a class="el" href="../../#l00165">indexed_triangle_set::vertices</a>, and <a class="el" href="../../#l00337">Slic3r::ModelObject::volumes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00703">gather_enforcers_blockers()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a8c485d165fe3f79c8cbeb92a91681e42_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a8c485d165fe3f79c8cbeb92a91681e42_icgraph.svg" width="194" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="adb528a911ec93c896a3f45174ecdbab5" name="adb528a911ec93c896a3f45174ecdbab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb528a911ec93c896a3f45174ecdbab5">&#9670;&#160;</a></span>gauss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::SeamPlacerImpl::gauss </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mean_x_coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mean_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>falloff_speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   45</span>                                                                                    {</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordtype">float</span> shifted = value - mean_x_coord;</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordtype">float</span> denominator = falloff_speed * shifted * shifted + 1.0f;</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">float</span> exponent = 1.0f / denominator;</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">return</span> mean_value * (std::exp(exponent) - 1.0f) / (std::exp(1.0f) - 1.0f);</div>
<div class="line"><span class="lineno">   50</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00052">compute_angle_penalty()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_adb528a911ec93c896a3f45174ecdbab5_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad8ec8689dd52d10fbdfae69ff5c2a0b8" name="ad8ec8689dd52d10fbdfae69ff5c2a0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ec8689dd52d10fbdfae69ff5c2a0b8">&#9670;&#160;</a></span>pick_nearest_seam_point_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Slic3r::SeamPlacerImpl::pick_nearest_seam_point_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>perimeter_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td>
          <td class="paramname"><em>preffered_location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  921</span>                                         {</div>
<div class="line"><span class="lineno">  922</span>    <span class="keywordtype">size_t</span> end_index = perimeter_points[start_index].perimeter.end_index;</div>
<div class="line"><span class="lineno">  923</span>    <a class="code hl_struct" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamComparator</a> comparator { <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">spNearest</a> };</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordtype">size_t</span> seam_index = start_index;</div>
<div class="line"><span class="lineno">  926</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = start_index; index &lt; end_index; ++index) {</div>
<div class="line"><span class="lineno">  927</span>        <span class="keywordflow">if</span> (comparator.is_first_better(perimeter_points[index], perimeter_points[seam_index], preffered_location)) {</div>
<div class="line"><span class="lineno">  928</span>            seam_index = index;</div>
<div class="line"><span class="lineno">  929</span>        }</div>
<div class="line"><span class="lineno">  930</span>    }</div>
<div class="line"><span class="lineno">  931</span>    <span class="keywordflow">return</span> seam_index;</div>
<div class="line"><span class="lineno">  932</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">Slic3r::spNearest</a></div><div class="ttdeci">@ spNearest</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:98</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator_html"><div class="ttname"><a href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">Slic3r::SeamPlacerImpl::SeamComparator</a></div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:732</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00920">pick_nearest_seam_point_index()</a>, and <a class="el" href="../../#l00098">Slic3r::spNearest</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00920">pick_nearest_seam_point_index()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ad8ec8689dd52d10fbdfae69ff5c2a0b8_cgraph.svg" width="227" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_ad8ec8689dd52d10fbdfae69ff5c2a0b8_icgraph.svg" width="227" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5f8585e41edcc09b6401a79fdf5fe22b" name="a5f8585e41edcc09b6401a79fdf5fe22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8585e41edcc09b6401a79fdf5fe22b">&#9670;&#160;</a></span>pick_random_seam_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacerImpl::pick_random_seam_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>perimeter_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  935</span>                                                                                                  {</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_struct" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamComparator</a> comparator { <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a6b978f0a7fb26139477622fadc03ad5a">spRandom</a> };</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="comment">// algorithm keeps a list of viable points and their lengths. If it finds a point</span></div>
<div class="line"><span class="lineno">  939</span>    <span class="comment">// that is much better than the viable_example_index (e.g. better type, no overhang; see is_first_not_much_worse)</span></div>
<div class="line"><span class="lineno">  940</span>    <span class="comment">// then it throws away stored lists and starts from start</span></div>
<div class="line"><span class="lineno">  941</span>    <span class="comment">// in the end, the list should contain points with same type (Enforced &gt; Neutral &gt; Blocked) and also only those which are not</span></div>
<div class="line"><span class="lineno">  942</span>    <span class="comment">// big overhang.</span></div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordtype">size_t</span> viable_example_index = start_index;</div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordtype">size_t</span> end_index = perimeter_points[start_index].perimeter.end_index;</div>
<div class="line"><span class="lineno">  945</span>    <span class="keyword">struct </span>Viable {</div>
<div class="line"><span class="lineno">  946</span>        <span class="comment">// Candidate seam point index.</span></div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordtype">size_t</span> index;</div>
<div class="line"><span class="lineno">  948</span>        <span class="keywordtype">float</span> edge_length;</div>
<div class="line"><span class="lineno">  949</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec3f</a> edge;</div>
<div class="line"><span class="lineno">  950</span>    };</div>
<div class="line"><span class="lineno">  951</span>    std::vector&lt;Viable&gt; viables;</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>    <span class="keyword">const</span> Vec3f pseudornd_seed = perimeter_points[viable_example_index].position;</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordtype">float</span> rand = std::abs(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(pseudornd_seed.dot(Vec3f(12.9898f,78.233f, 133.3333f))) * 43758.5453f);</div>
<div class="line"><span class="lineno">  955</span>    rand = rand - (int) rand;</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = start_index; index &lt; end_index; ++index) {</div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">if</span> (comparator.are_similar(perimeter_points[index], perimeter_points[viable_example_index])) {</div>
<div class="line"><span class="lineno">  959</span>            <span class="comment">// index ok, push info into viables</span></div>
<div class="line"><span class="lineno">  960</span>            Vec3f edge_to_next { perimeter_points[index == end_index - 1 ? start_index : index + 1].position</div>
<div class="line"><span class="lineno">  961</span>                    - perimeter_points[index].position };</div>
<div class="line"><span class="lineno">  962</span>            <span class="keywordtype">float</span> dist_to_next = edge_to_next.norm();</div>
<div class="line"><span class="lineno">  963</span>            viables.push_back( { index, dist_to_next, edge_to_next });</div>
<div class="line"><span class="lineno">  964</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (comparator.is_first_not_much_worse(perimeter_points[viable_example_index],</div>
<div class="line"><span class="lineno">  965</span>                perimeter_points[index])) {</div>
<div class="line"><span class="lineno">  966</span>            <span class="comment">// index is worse then viable_example_index, skip this point</span></div>
<div class="line"><span class="lineno">  967</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  968</span>            <span class="comment">// index is better than viable example index, update example, clear gathered info, start again</span></div>
<div class="line"><span class="lineno">  969</span>            <span class="comment">// clear up all gathered info, start from scratch, update example index</span></div>
<div class="line"><span class="lineno">  970</span>            viable_example_index = index;</div>
<div class="line"><span class="lineno">  971</span>            viables.clear();</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> edge_to_next = (perimeter_points[index == end_index - 1 ? start_index : index + 1].position</div>
<div class="line"><span class="lineno">  974</span>                    - perimeter_points[index].position);</div>
<div class="line"><span class="lineno">  975</span>            <span class="keywordtype">float</span> dist_to_next = edge_to_next.norm();</div>
<div class="line"><span class="lineno">  976</span>            viables.push_back( { index, dist_to_next, edge_to_next });</div>
<div class="line"><span class="lineno">  977</span>        }</div>
<div class="line"><span class="lineno">  978</span>    }</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="comment">// now pick random point from the stored options</span></div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordtype">float</span> len_sum = std::accumulate(viables.begin(), viables.end(), 0.0f, [](<span class="keyword">const</span> <span class="keywordtype">float</span> acc, <span class="keyword">const</span> Viable &amp;v) {</div>
<div class="line"><span class="lineno">  982</span>        return acc + v.edge_length;</div>
<div class="line"><span class="lineno">  983</span>    });</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordtype">float</span> picked_len = len_sum * rand;</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>    <span class="keywordtype">size_t</span> point_idx = 0;</div>
<div class="line"><span class="lineno">  987</span>    <span class="keywordflow">while</span> (picked_len - viables[point_idx].edge_length &gt; 0) {</div>
<div class="line"><span class="lineno">  988</span>        picked_len = picked_len - viables[point_idx].edge_length;</div>
<div class="line"><span class="lineno">  989</span>        point_idx++;</div>
<div class="line"><span class="lineno">  990</span>    }</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> &amp;perimeter = perimeter_points[start_index].perimeter;</div>
<div class="line"><span class="lineno">  993</span>    perimeter.seam_index = viables[point_idx].index;</div>
<div class="line"><span class="lineno">  994</span>    perimeter.final_seam_position = perimeter_points[perimeter.seam_index].position</div>
<div class="line"><span class="lineno">  995</span>            + viables[point_idx].edge.normalized() * picked_len;</div>
<div class="line"><span class="lineno">  996</span>    perimeter.finalized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  997</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a9cfb0ea58bd813510a9e2db18a5e49f0"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SinReturnType sin() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:220</div></div>
<div class="ttc" id="aclass_eigen_1_1_matrix_html"><div class="ttname"><a href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt; float, 3, 1, Eigen::DontAlign &gt;</a></div></div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326a6b978f0a7fb26139477622fadc03ad5a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a6b978f0a7fb26139477622fadc03ad5a">Slic3r::spRandom</a></div><div class="ttdeci">@ spRandom</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:98</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4e0a52bc52a09b283b7b06e2f0c272cc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Slic3r::Vec3f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 3, 1, Eigen::DontAlign &gt; Vec3f</div><div class="ttdef"><b>Definition</b> Point.hpp:49</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Slic3r::ExtrusionRoleModifier::Perimeter</a></div><div class="ttdeci">@ Perimeter</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00051">Slic3r::SeamPlacerImpl::Perimeter::final_seam_position</a>, <a class="el" href="../../#l00050">Slic3r::SeamPlacerImpl::Perimeter::finalized</a>, <a class="el" href="../../#l00935">pick_random_seam_point()</a>, <a class="el" href="../../#l00044">Slic3r::SeamPlacerImpl::Perimeter::seam_index</a>, <a class="el" href="../../#l00220">sin()</a>, and <a class="el" href="../../#l00098">Slic3r::spRandom</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00935">pick_random_seam_point()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a5f8585e41edcc09b6401a79fdf5fe22b_cgraph.svg" width="275" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a5f8585e41edcc09b6401a79fdf5fe22b_icgraph.svg" width="188" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afee12d027a31b041855c916ed6f37bbf" name="afee12d027a31b041855c916ed6f37bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee12d027a31b041855c916ed6f37bbf">&#9670;&#160;</a></span>pick_seam_point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacerImpl::pick_seam_point </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d0/de6/struct_slic3r_1_1_seam_placer_impl_1_1_seam_candidate.html">SeamCandidate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>perimeter_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamComparator</a> &amp;&#160;</td>
          <td class="paramname"><em>comparator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  908</span>                                          {</div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordtype">size_t</span> end_index = perimeter_points[start_index].perimeter.end_index;</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>    <span class="keywordtype">size_t</span> seam_index = start_index;</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = start_index; index &lt; end_index; ++index) {</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">if</span> (comparator.<a class="code hl_function" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html#af8420c87fec5aded75684c7e3cecff49">is_first_better</a>(perimeter_points[index], perimeter_points[seam_index])) {</div>
<div class="line"><span class="lineno">  914</span>            seam_index = index;</div>
<div class="line"><span class="lineno">  915</span>        }</div>
<div class="line"><span class="lineno">  916</span>    }</div>
<div class="line"><span class="lineno">  917</span>    perimeter_points[start_index].perimeter.seam_index = seam_index;</div>
<div class="line"><span class="lineno">  918</span>}</div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator_html_af8420c87fec5aded75684c7e3cecff49"><div class="ttname"><a href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html#af8420c87fec5aded75684c7e3cecff49">Slic3r::SeamPlacerImpl::SeamComparator::is_first_better</a></div><div class="ttdeci">bool is_first_better(const SeamCandidate &amp;a, const SeamCandidate &amp;b, const Vec2f &amp;preffered_location=Vec2f { 0.0f, 0.0f }) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:743</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00743">Slic3r::SeamPlacerImpl::SeamComparator::is_first_better()</a>, and <a class="el" href="../../#l00907">pick_seam_point()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00907">pick_seam_point()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_afee12d027a31b041855c916ed6f37bbf_cgraph.svg" width="396" height="83"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_afee12d027a31b041855c916ed6f37bbf_icgraph.svg" width="170" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a55e59daf2bb8ac1ef1569702f82e2253" name="a55e59daf2bb8ac1ef1569702f82e2253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e59daf2bb8ac1ef1569702f82e2253">&#9670;&#160;</a></span>process_perimeter_polygon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacerImpl::process_perimeter_polygon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> &amp;&#160;</td>
          <td class="paramname"><em>orig_polygon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z_coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">GlobalModelInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>global_model_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#de/d71/struct_slic3r_1_1_print_object_seam_data_1_1_layer_seams">PrintObjectSeamData::LayerSeams</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  452</span>                                                                                         {</div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> (orig_polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>() == 0) {</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  455</span>    }</div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_class" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a> polygon = orig_polygon;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordtype">bool</span> was_clockwise = polygon.<a class="code hl_function" href="../../d8/d90/class_slic3r_1_1_polygon.html#a8cf62d2794105686bbf129659c548d46">make_counter_clockwise</a>();</div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordtype">float</span> angle_arm_len = region != <span class="keyword">nullptr</span> ? region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frExternalPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#af2b19c33242782f736ca2b1ec7155572">nozzle_diameter</a>() : 0.5f;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    std::vector&lt;float&gt; lengths { };</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> point_idx = 0; point_idx &lt; polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>() - 1; ++point_idx) {</div>
<div class="line"><span class="lineno">  462</span>        lengths.push_back((unscale(polygon[point_idx]) - unscale(polygon[point_idx + 1])).norm());</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>    lengths.push_back(std::max((<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(polygon[0]) - <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(polygon[polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>() - 1])).norm(), 0.1));</div>
<div class="line"><span class="lineno">  465</span>    std::vector&lt;float&gt; polygon_angles = <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aceb8a716326723f875a57186c497f43d">calculate_polygon_angles_at_vertices</a>(polygon, lengths,</div>
<div class="line"><span class="lineno">  466</span>            angle_arm_len);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a974fa3bd7c8abb396b80b18fc5c876ee">perimeters</a>.push_back( { });</div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> &amp;perimeter = result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a974fa3bd7c8abb396b80b18fc5c876ee">perimeters</a>.back();</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    std::queue&lt;Vec3f&gt; orig_polygon_points { };</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = 0; index &lt; polygon.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#af3d77ee0ed47dc3e2bf8e741d6a1e563">size</a>(); ++index) {</div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> unscaled_p = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(polygon[index]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  474</span>        orig_polygon_points.emplace(unscaled_p.x(), unscaled_p.y(), z_coord);</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> first = orig_polygon_points.front();</div>
<div class="line"><span class="lineno">  477</span>    std::queue&lt;Vec3f&gt; oversampled_points { };</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordtype">size_t</span> orig_angle_index = 0;</div>
<div class="line"><span class="lineno">  479</span>    perimeter.start_index = result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>.size();</div>
<div class="line"><span class="lineno">  480</span>    perimeter.flow_width = region != <span class="keyword">nullptr</span> ? region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frExternalPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>() : 0.0f;</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordtype">bool</span> some_point_enforced = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">while</span> (!orig_polygon_points.empty() || !oversampled_points.empty()) {</div>
<div class="line"><span class="lineno">  483</span>        <a class="code hl_enumeration" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eed">EnforcedBlockedSeamPoint</a> type = EnforcedBlockedSeamPoint::Neutral;</div>
<div class="line"><span class="lineno">  484</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> position;</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordtype">float</span> local_ccw_angle = 0;</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordtype">bool</span> orig_point = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">if</span> (!oversampled_points.empty()) {</div>
<div class="line"><span class="lineno">  488</span>            position = oversampled_points.front();</div>
<div class="line"><span class="lineno">  489</span>            oversampled_points.pop();</div>
<div class="line"><span class="lineno">  490</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  491</span>            position = orig_polygon_points.front();</div>
<div class="line"><span class="lineno">  492</span>            orig_polygon_points.pop();</div>
<div class="line"><span class="lineno">  493</span>            local_ccw_angle = was_clockwise ? -polygon_angles[orig_angle_index] : polygon_angles[orig_angle_index];</div>
<div class="line"><span class="lineno">  494</span>            orig_angle_index++;</div>
<div class="line"><span class="lineno">  495</span>            orig_point = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  496</span>        }</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> (global_model_info.<a class="code hl_function" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#acfbcd72d7941255767dd2d9a0e3ead6e">is_enforced</a>(position, perimeter.flow_width)) {</div>
<div class="line"><span class="lineno">  499</span>            type = EnforcedBlockedSeamPoint::Enforced;</div>
<div class="line"><span class="lineno">  500</span>        }</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">if</span> (global_model_info.<a class="code hl_function" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a9f2d63ef5afc0184dc6b36cc9db90e15">is_blocked</a>(position, perimeter.flow_width)) {</div>
<div class="line"><span class="lineno">  503</span>            type = EnforcedBlockedSeamPoint::Blocked;</div>
<div class="line"><span class="lineno">  504</span>        }</div>
<div class="line"><span class="lineno">  505</span>        some_point_enforced = some_point_enforced || type == EnforcedBlockedSeamPoint::Enforced;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">if</span> (orig_point) {</div>
<div class="line"><span class="lineno">  508</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> pos_of_next = orig_polygon_points.empty() ? first : orig_polygon_points.front();</div>
<div class="line"><span class="lineno">  509</span>            <span class="keywordtype">float</span> distance_to_next = (position - pos_of_next).norm();</div>
<div class="line"><span class="lineno">  510</span>            <span class="keywordflow">if</span> (global_model_info.<a class="code hl_function" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#acfbcd72d7941255767dd2d9a0e3ead6e">is_enforced</a>(position, distance_to_next)) {</div>
<div class="line"><span class="lineno">  511</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> vec_to_next = (pos_of_next - position).normalized();</div>
<div class="line"><span class="lineno">  512</span>                <span class="keywordtype">float</span> step_size = SeamPlacer::enforcer_oversampling_distance;</div>
<div class="line"><span class="lineno">  513</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> = step_size;</div>
<div class="line"><span class="lineno">  514</span>                <span class="keywordflow">while</span> (step &lt; distance_to_next) {</div>
<div class="line"><span class="lineno">  515</span>                    oversampled_points.push(position + vec_to_next * step);</div>
<div class="line"><span class="lineno">  516</span>                    <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> += step_size;</div>
<div class="line"><span class="lineno">  517</span>                }</div>
<div class="line"><span class="lineno">  518</span>            }</div>
<div class="line"><span class="lineno">  519</span>        }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>        result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>.emplace_back(position, perimeter, local_ccw_angle, type);</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    perimeter.end_index = result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>.size();</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">if</span> (some_point_enforced) {</div>
<div class="line"><span class="lineno">  527</span>        <span class="comment">// We will patches of enforced points (patch: continuous section of enforced points), choose</span></div>
<div class="line"><span class="lineno">  528</span>        <span class="comment">// the longest patch, and select the middle point or sharp point (depending on the angle)</span></div>
<div class="line"><span class="lineno">  529</span>        <span class="comment">// this point will have high priority on this perimeter</span></div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordtype">size_t</span> perimeter_size = perimeter.end_index - perimeter.start_index;</div>
<div class="line"><span class="lineno">  531</span>        <span class="keyword">const</span> <span class="keyword">auto</span> next_index = [&amp;](<span class="keywordtype">size_t</span> idx) {</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">return</span> perimeter.start_index + <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">Slic3r::next_idx_modulo</a>(idx - perimeter.start_index, perimeter_size);</div>
<div class="line"><span class="lineno">  533</span>        };</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>        std::vector&lt;size_t&gt; patches_starts_ends;</div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = perimeter.start_index; i &lt; perimeter.end_index; ++i) {</div>
<div class="line"><span class="lineno">  537</span>            <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[i].type != EnforcedBlockedSeamPoint::Enforced &amp;&amp;</div>
<div class="line"><span class="lineno">  538</span>                    result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[next_index(i)].type == EnforcedBlockedSeamPoint::Enforced) {</div>
<div class="line"><span class="lineno">  539</span>                patches_starts_ends.push_back(next_index(i));</div>
<div class="line"><span class="lineno">  540</span>            }</div>
<div class="line"><span class="lineno">  541</span>            <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[i].type == EnforcedBlockedSeamPoint::Enforced &amp;&amp;</div>
<div class="line"><span class="lineno">  542</span>                    result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[next_index(i)].type != EnforcedBlockedSeamPoint::Enforced) {</div>
<div class="line"><span class="lineno">  543</span>                patches_starts_ends.push_back(next_index(i));</div>
<div class="line"><span class="lineno">  544</span>            }</div>
<div class="line"><span class="lineno">  545</span>        }</div>
<div class="line"><span class="lineno">  546</span>        <span class="comment">//if patches_starts_ends are empty, it means that the whole perimeter is enforced.. don&#39;t do anything in that case</span></div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> (!patches_starts_ends.empty()) {</div>
<div class="line"><span class="lineno">  548</span>            <span class="comment">//if the first point in the patches is not enforced, it marks a patch end. in that case, put it to the end and start on next</span></div>
<div class="line"><span class="lineno">  549</span>            <span class="comment">// to simplify the processing</span></div>
<div class="line"><span class="lineno">  550</span>            assert(patches_starts_ends.size() % 2 == 0);</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordtype">bool</span> start_on_second = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[patches_starts_ends[0]].type != EnforcedBlockedSeamPoint::Enforced) {</div>
<div class="line"><span class="lineno">  553</span>                start_on_second = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  554</span>                patches_starts_ends.push_back(patches_starts_ends[0]);</div>
<div class="line"><span class="lineno">  555</span>            }</div>
<div class="line"><span class="lineno">  556</span>            <span class="comment">//now pick the longest patch</span></div>
<div class="line"><span class="lineno">  557</span>            std::pair&lt;size_t, size_t&gt; longest_patch { 0, 0 };</div>
<div class="line"><span class="lineno">  558</span>            <span class="keyword">auto</span> patch_len = [perimeter_size](<span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; &amp;start_end) {</div>
<div class="line"><span class="lineno">  559</span>                <span class="keywordflow">if</span> (start_end.second &lt; start_end.first) {</div>
<div class="line"><span class="lineno">  560</span>                    <span class="keywordflow">return</span> start_end.first + (perimeter_size - start_end.second);</div>
<div class="line"><span class="lineno">  561</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  562</span>                    <span class="keywordflow">return</span> start_end.second - start_end.first;</div>
<div class="line"><span class="lineno">  563</span>                }</div>
<div class="line"><span class="lineno">  564</span>            };</div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> patch_idx = start_on_second ? 1 : 0; patch_idx &lt; patches_starts_ends.size(); patch_idx += 2) {</div>
<div class="line"><span class="lineno">  566</span>                std::pair&lt;size_t, size_t&gt; current_patch { patches_starts_ends[patch_idx], patches_starts_ends[patch_idx</div>
<div class="line"><span class="lineno">  567</span>                        + 1] };</div>
<div class="line"><span class="lineno">  568</span>                <span class="keywordflow">if</span> (patch_len(longest_patch) &lt; patch_len(current_patch)) {</div>
<div class="line"><span class="lineno">  569</span>                    longest_patch = current_patch;</div>
<div class="line"><span class="lineno">  570</span>                }</div>
<div class="line"><span class="lineno">  571</span>            }</div>
<div class="line"><span class="lineno">  572</span>            std::vector&lt;size_t&gt; viable_points_indices;</div>
<div class="line"><span class="lineno">  573</span>            std::vector&lt;size_t&gt; large_angle_points_indices;</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> point_idx = longest_patch.first; point_idx != longest_patch.second;</div>
<div class="line"><span class="lineno">  575</span>                    point_idx = next_index(point_idx)) {</div>
<div class="line"><span class="lineno">  576</span>                viable_points_indices.push_back(point_idx);</div>
<div class="line"><span class="lineno">  577</span>                <span class="keywordflow">if</span> (std::abs(result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[point_idx].local_ccw_angle)</div>
<div class="line"><span class="lineno">  578</span>                        &gt; SeamPlacer::sharp_angle_snapping_threshold) {</div>
<div class="line"><span class="lineno">  579</span>                    large_angle_points_indices.push_back(point_idx);</div>
<div class="line"><span class="lineno">  580</span>                }</div>
<div class="line"><span class="lineno">  581</span>            }</div>
<div class="line"><span class="lineno">  582</span>            assert(viable_points_indices.size() &gt; 0);</div>
<div class="line"><span class="lineno">  583</span>            <span class="keywordflow">if</span> (large_angle_points_indices.empty()) {</div>
<div class="line"><span class="lineno">  584</span>                <span class="keywordtype">size_t</span> central_idx = viable_points_indices[viable_points_indices.size() / 2];</div>
<div class="line"><span class="lineno">  585</span>                result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[central_idx].central_enforcer = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  586</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  587</span>                <span class="keywordtype">size_t</span> central_idx = large_angle_points_indices.size() / 2;</div>
<div class="line"><span class="lineno">  588</span>                result.<a class="code hl_variable" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">points</a>[large_angle_points_indices[central_idx]].central_enforcer = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  589</span>            }</div>
<div class="line"><span class="lineno">  590</span>        }</div>
<div class="line"><span class="lineno">  591</span>    }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_flow_html_a7f464e1bb800ac2903081f6aeba37f6e"><div class="ttname"><a href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">Slic3r::Flow::width</a></div><div class="ttdeci">float width() const</div><div class="ttdef"><b>Definition</b> Flow.hpp:60</div></div>
<div class="ttc" id="aclass_slic3r_1_1_flow_html_af2b19c33242782f736ca2b1ec7155572"><div class="ttname"><a href="../../d6/d0f/class_slic3r_1_1_flow.html#af2b19c33242782f736ca2b1ec7155572">Slic3r::Flow::nozzle_diameter</a></div><div class="ttdeci">float nozzle_diameter() const</div><div class="ttdef"><b>Definition</b> Flow.hpp:69</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_region_html_a84c9f0b5b677a59b9d2d51173766ff81"><div class="ttname"><a href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">Slic3r::LayerRegion::flow</a></div><div class="ttdeci">Flow flow(FlowRole role) const</div><div class="ttdef"><b>Definition</b> LayerRegion.cpp:22</div></div>
<div class="ttc" id="aclass_slic3r_1_1_polygon_html"><div class="ttname"><a href="../../d8/d90/class_slic3r_1_1_polygon.html">Slic3r::Polygon</a></div><div class="ttdef"><b>Definition</b> Polygon.hpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_polygon_html_a8cf62d2794105686bbf129659c548d46"><div class="ttname"><a href="../../d8/d90/class_slic3r_1_1_polygon.html#a8cf62d2794105686bbf129659c548d46">Slic3r::Polygon::make_counter_clockwise</a></div><div class="ttdeci">bool make_counter_clockwise()</div><div class="ttdef"><b>Definition</b> Polygon.cpp:78</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ac2975fc869bfd94326baa4edaf765eed"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac2975fc869bfd94326baa4edaf765eed">Slic3r::SeamPlacerImpl::EnforcedBlockedSeamPoint</a></div><div class="ttdeci">EnforcedBlockedSeamPoint</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:34</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_aceb8a716326723f875a57186c497f43d"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aceb8a716326723f875a57186c497f43d">Slic3r::SeamPlacerImpl::calculate_polygon_angles_at_vertices</a></div><div class="ttdeci">std::vector&lt; float &gt; calculate_polygon_angles_at_vertices(const Polygon &amp;polygon, const std::vector&lt; float &gt; &amp;lengths, float min_arm_length)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:224</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab3977853055b1ea40f45a1bbfb78ef36"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">Slic3r::unscale</a></div><div class="ttdeci">T unscale(Q v)</div><div class="ttdef"><b>Definition</b> libslic3r.h:95</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:48</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a6ceea497872e0323516dbb68ef605a21"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">marchsq::__impl::step</a></div><div class="ttdeci">Coord step(const Coord &amp;crd, Dir d)</div><div class="ttdef"><b>Definition</b> MarchingSquares.hpp:137</div></div>
<div class="ttc" id="astruct_slic3r_1_1_print_object_seam_data_html_a482be1e300ce39f8ae615bceae423059"><div class="ttname"><a href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a482be1e300ce39f8ae615bceae423059">Slic3r::PrintObjectSeamData::LayerSeams::points</a></div><div class="ttdeci">std::vector&lt; SeamPlacerImpl::SeamCandidate &gt; points</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:95</div></div>
<div class="ttc" id="astruct_slic3r_1_1_print_object_seam_data_html_a974fa3bd7c8abb396b80b18fc5c876ee"><div class="ttname"><a href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#a974fa3bd7c8abb396b80b18fc5c876ee">Slic3r::PrintObjectSeamData::LayerSeams::perimeters</a></div><div class="ttdeci">Slic3r::deque&lt; SeamPlacerImpl::Perimeter &gt; perimeters</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:94</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_a9f2d63ef5afc0184dc6b36cc9db90e15"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#a9f2d63ef5afc0184dc6b36cc9db90e15">Slic3r::SeamPlacerImpl::GlobalModelInfo::is_blocked</a></div><div class="ttdeci">bool is_blocked(const Vec3f &amp;position, float radius) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:310</div></div>
<div class="ttc" id="astruct_slic3r_1_1_seam_placer_impl_1_1_global_model_info_html_acfbcd72d7941255767dd2d9a0e3ead6e"><div class="ttname"><a href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html#acfbcd72d7941255767dd2d9a0e3ead6e">Slic3r::SeamPlacerImpl::GlobalModelInfo::is_enforced</a></div><div class="ttdeci">bool is_enforced(const Vec3f &amp;position, float radius) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:301</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00224">calculate_polygon_angles_at_vertices()</a>, <a class="el" href="../../#l00043">Slic3r::SeamPlacerImpl::Perimeter::end_index</a>, <a class="el" href="../../#l00127">Slic3r::SeamPlacer::enforcer_oversampling_distance</a>, <a class="el" href="../../#l00022">Slic3r::LayerRegion::flow()</a>, <a class="el" href="../../#l00045">Slic3r::SeamPlacerImpl::Perimeter::flow_width</a>, <a class="el" href="../../#l00017">Slic3r::frExternalPerimeter</a>, <a class="el" href="../../#l00310">Slic3r::SeamPlacerImpl::GlobalModelInfo::is_blocked()</a>, <a class="el" href="../../#l00301">Slic3r::SeamPlacerImpl::GlobalModelInfo::is_enforced()</a>, <a class="el" href="../../#l00078">Slic3r::Polygon::make_counter_clockwise()</a>, <a class="el" href="../../#l00203">Slic3r::next_idx_modulo()</a>, <a class="el" href="../../#l00069">Slic3r::Flow::nozzle_diameter()</a>, <a class="el" href="../../#l00094">Slic3r::PrintObjectSeamData::LayerSeams::perimeters</a>, <a class="el" href="../../#l00095">Slic3r::PrintObjectSeamData::LayerSeams::points</a>, <a class="el" href="../../#l00451">process_perimeter_polygon()</a>, <a class="el" href="../../#l00118">Slic3r::SeamPlacer::sharp_angle_snapping_threshold</a>, <a class="el" href="../../#l00039">Slic3r::MultiPoint::size()</a>, <a class="el" href="../../#l00042">Slic3r::SeamPlacerImpl::Perimeter::start_index</a>, <a class="el" href="../../#l00095">Slic3r::unscale()</a>, and <a class="el" href="../../#l00060">Slic3r::Flow::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00451">process_perimeter_polygon()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a55e59daf2bb8ac1ef1569702f82e2253_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a55e59daf2bb8ac1ef1569702f82e2253_icgraph.svg" width="199" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9dae83c491e5792f601ac969ff0adfda" name="a9dae83c491e5792f601ac969ff0adfda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dae83c491e5792f601ac969ff0adfda">&#9670;&#160;</a></span>raycast_visibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; Slic3r::SeamPlacerImpl::raycast_visibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d1d/class_slic3r_1_1_a_a_b_b_tree_indirect_1_1_tree.html">AABBTreeIndirect::Tree</a>&lt; 3, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>raycasting_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/df2/structindexed__triangle__set.html">indexed_triangle_set</a> &amp;&#160;</td>
          <td class="paramname"><em>triangles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#dc/d5b/struct_slic3r_1_1_triangle_set_samples">TriangleSetSamples</a> &amp;&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>negative_volumes_start_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span>                                             {</div>
<div class="line"><span class="lineno">  133</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  134</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: raycast visibility of &quot;</span> &lt;&lt; samples.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">positions</a>.size() &lt;&lt; <span class="stringliteral">&quot; samples over &quot;</span> &lt;&lt; triangles.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>.size()</div>
<div class="line"><span class="lineno">  135</span>            &lt;&lt; <span class="stringliteral">&quot; triangles: end&quot;</span>;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">//prepare uniform samples of a hemisphere</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordtype">float</span> step_size = 1.0f / SeamPlacer::sqr_rays_per_sample_point;</div>
<div class="line"><span class="lineno">  139</span>    std::vector&lt;Vec3f&gt; precomputed_sample_directions(</div>
<div class="line"><span class="lineno">  140</span>            SeamPlacer::sqr_rays_per_sample_point * SeamPlacer::sqr_rays_per_sample_point);</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> x_idx = 0; x_idx &lt; SeamPlacer::sqr_rays_per_sample_point; ++x_idx) {</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordtype">float</span> sample_x = x_idx * step_size + step_size / 2.0;</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> y_idx = 0; y_idx &lt; SeamPlacer::sqr_rays_per_sample_point; ++y_idx) {</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordtype">size_t</span> dir_index = x_idx * SeamPlacer::sqr_rays_per_sample_point + y_idx;</div>
<div class="line"><span class="lineno">  145</span>            <span class="keywordtype">float</span> sample_y = y_idx * step_size + step_size / 2.0;</div>
<div class="line"><span class="lineno">  146</span>            precomputed_sample_directions[dir_index] = <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aaeef807293ba9931bafdf438a2d011b4">sample_hemisphere_uniform</a>( { sample_x, sample_y });</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordtype">bool</span> model_contains_negative_parts = negative_volumes_start_index &lt; triangles.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>.size();</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    std::vector&lt;float&gt; result(samples.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">positions</a>.size());</div>
<div class="line"><span class="lineno">  153</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, result.size()),</div>
<div class="line"><span class="lineno">  154</span>            [&amp;triangles, &amp;precomputed_sample_directions, model_contains_negative_parts, negative_volumes_start_index,</div>
<div class="line"><span class="lineno">  155</span>                    &amp;raycasting_tree, &amp;result, &amp;samples](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno">  156</span>                <span class="comment">// Maintaining hits memory outside of the loop, so it does not have to be reallocated for each query.</span></div>
<div class="line"><span class="lineno">  157</span>                std::vector&lt;igl::Hit&gt; hits;</div>
<div class="line"><span class="lineno">  158</span>                for (size_t s_idx = r.begin(); s_idx &lt; r.end(); ++s_idx) {</div>
<div class="line"><span class="lineno">  159</span>                    result[s_idx] = 1.0f;</div>
<div class="line"><span class="lineno">  160</span>                    constexpr float decrease_step = 1.0f</div>
<div class="line"><span class="lineno">  161</span>                            / (SeamPlacer::sqr_rays_per_sample_point * SeamPlacer::sqr_rays_per_sample_point);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>                    const Vec3f &amp;center = samples.positions[s_idx];</div>
<div class="line"><span class="lineno">  164</span>                    const Vec3f &amp;normal = samples.normals[s_idx];</div>
<div class="line"><span class="lineno">  165</span>                    <span class="comment">// apply the local direction via Frame struct - the local_dir is with respect to +Z being forward</span></div>
<div class="line"><span class="lineno">  166</span>                    Frame f;</div>
<div class="line"><span class="lineno">  167</span>                    f.set_from_z(normal);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>                    for (const auto &amp;dir : precomputed_sample_directions) {</div>
<div class="line"><span class="lineno">  170</span>                        Vec3f final_ray_dir = (f.to_world(dir));</div>
<div class="line"><span class="lineno">  171</span>                        if (!model_contains_negative_parts) {</div>
<div class="line"><span class="lineno">  172</span>                            igl::Hit hitpoint;</div>
<div class="line"><span class="lineno">  173</span>                            <span class="comment">// FIXME: This AABBTTreeIndirect query will not compile for float ray origin and</span></div>
<div class="line"><span class="lineno">  174</span>                            <span class="comment">// direction.</span></div>
<div class="line"><span class="lineno">  175</span>                            Vec3d final_ray_dir_d = final_ray_dir.cast&lt;double&gt;();</div>
<div class="line"><span class="lineno">  176</span>                            Vec3d ray_origin_d = (center + normal * 0.01f).cast&lt;double&gt;(); <span class="comment">// start above surface.</span></div>
<div class="line"><span class="lineno">  177</span>                            bool hit = AABBTreeIndirect::intersect_ray_first_hit(triangles.vertices,</div>
<div class="line"><span class="lineno">  178</span>                                    triangles.indices, raycasting_tree, ray_origin_d, final_ray_dir_d, hitpoint);</div>
<div class="line"><span class="lineno">  179</span>                            if (hit &amp;&amp; its_face_normal(triangles, hitpoint.id).dot(final_ray_dir) &lt;= 0) {</div>
<div class="line"><span class="lineno">  180</span>                                result[s_idx] -= decrease_step;</div>
<div class="line"><span class="lineno">  181</span>                            }</div>
<div class="line"><span class="lineno">  182</span>                        } else { <span class="comment">//TODO improve logic for order based boolean operations - consider order of volumes</span></div>
<div class="line"><span class="lineno">  183</span>                            bool casting_from_negative_volume = samples.triangle_indices[s_idx]</div>
<div class="line"><span class="lineno">  184</span>                                    &gt;= negative_volumes_start_index;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>                            Vec3d ray_origin_d = (center + normal * 0.01f).cast&lt;double&gt;(); <span class="comment">// start above surface.</span></div>
<div class="line"><span class="lineno">  187</span>                            if (casting_from_negative_volume) { <span class="comment">// if casting from negative volume face, invert direction, change start pos</span></div>
<div class="line"><span class="lineno">  188</span>                                final_ray_dir = -1.0 * final_ray_dir;</div>
<div class="line"><span class="lineno">  189</span>                                ray_origin_d = (center - normal * 0.01f).cast&lt;double&gt;();</div>
<div class="line"><span class="lineno">  190</span>                            }</div>
<div class="line"><span class="lineno">  191</span>                            Vec3d final_ray_dir_d = final_ray_dir.cast&lt;double&gt;();</div>
<div class="line"><span class="lineno">  192</span>                            bool some_hit = AABBTreeIndirect::intersect_ray_all_hits(triangles.vertices,</div>
<div class="line"><span class="lineno">  193</span>                                    triangles.indices, raycasting_tree,</div>
<div class="line"><span class="lineno">  194</span>                                    ray_origin_d, final_ray_dir_d, hits);</div>
<div class="line"><span class="lineno">  195</span>                            if (some_hit) {</div>
<div class="line"><span class="lineno">  196</span>                                int counter = 0;</div>
<div class="line"><span class="lineno">  197</span>                                <span class="comment">// NOTE: iterating in reverse, from the last hit for one simple reason: We know the state of the ray at that point;</span></div>
<div class="line"><span class="lineno">  198</span>                                <span class="comment">//  It cannot be inside model, and it cannot be inside negative volume</span></div>
<div class="line"><span class="lineno">  199</span>                                for (int hit_index = int(hits.size()) - 1; hit_index &gt;= 0; --hit_index) {</div>
<div class="line"><span class="lineno">  200</span>                                    Vec3f face_normal = its_face_normal(triangles, hits[hit_index].id);</div>
<div class="line"><span class="lineno">  201</span>                                    if (hits[hit_index].id &gt;= int(negative_volumes_start_index)) { <span class="comment">//negative volume hit</span></div>
<div class="line"><span class="lineno">  202</span>                                        counter -= sgn(face_normal.dot(final_ray_dir)); <span class="comment">// if volume face aligns with ray dir, we are leaving negative space</span></div>
<div class="line"><span class="lineno">  203</span>                                        <span class="comment">// which in reverse hit analysis means, that we are entering negative space :) and vice versa</span></div>
<div class="line"><span class="lineno">  204</span>                                    } else {</div>
<div class="line"><span class="lineno">  205</span>                                        counter += sgn(face_normal.dot(final_ray_dir));</div>
<div class="line"><span class="lineno">  206</span>                                    }</div>
<div class="line"><span class="lineno">  207</span>                                }</div>
<div class="line"><span class="lineno">  208</span>                                if (counter == 0) {</div>
<div class="line"><span class="lineno">  209</span>                                    result[s_idx] -= decrease_step;</div>
<div class="line"><span class="lineno">  210</span>                                }</div>
<div class="line"><span class="lineno">  211</span>                            }</div>
<div class="line"><span class="lineno">  212</span>                        }</div>
<div class="line"><span class="lineno">  213</span>                    }</div>
<div class="line"><span class="lineno">  214</span>                }</div>
<div class="line"><span class="lineno">  215</span>            });</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno">  218</span>    &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: raycast visibility of &quot;</span> &lt;&lt; samples.<a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a388b5264a1fdfe08ae2659c8b3074a5f">positions</a>.size() &lt;&lt; <span class="stringliteral">&quot; samples over &quot;</span> &lt;&lt; triangles.<a class="code hl_variable" href="../../d0/df2/structindexed__triangle__set.html#a8e9771f92d4834e98a5ed13f131d71f6">indices</a>.size()</div>
<div class="line"><span class="lineno">  219</span>            &lt;&lt; <span class="stringliteral">&quot; triangles: end&quot;</span>;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  222</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_aaeef807293ba9931bafdf438a2d011b4"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#aaeef807293ba9931bafdf438a2d011b4">Slic3r::SeamPlacerImpl::sample_hemisphere_uniform</a></div><div class="ttdeci">Vec3f sample_hemisphere_uniform(const Vec2f &amp;samples)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:114</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00164">indexed_triangle_set::indices</a>, <a class="el" href="../../#l00011">Slic3r::TriangleSetSamples::positions</a>, <a class="el" href="../../#l00114">sample_hemisphere_uniform()</a>, and <a class="el" href="../../#l00115">Slic3r::SeamPlacer::sqr_rays_per_sample_point</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00620">compute_global_occlusion()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a9dae83c491e5792f601ac969ff0adfda_cgraph.svg" width="504" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a9dae83c491e5792f601ac969ff0adfda_icgraph.svg" width="400" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaeef807293ba9931bafdf438a2d011b4" name="aaeef807293ba9931bafdf438a2d011b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeef807293ba9931bafdf438a2d011b4">&#9670;&#160;</a></span>sample_hemisphere_uniform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> Slic3r::SeamPlacerImpl::sample_hemisphere_uniform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td>
          <td class="paramname"><em>samples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                                      {</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordtype">float</span> term1 = 2.0f * float(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) * samples.x();</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordtype">float</span> term2 = 2.0f * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(samples.y() - samples.y() * samples.y());</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">return</span> {<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a>(term1) * term2, <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(term1) * term2,</div>
<div class="line"><span class="lineno">  118</span>        abs(1.0f - 2.0f * samples.y())};</div>
<div class="line"><span class="lineno">  119</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a92b03396990b0e9eea0731aa406e31a4"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const CosReturnType cos() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:202</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00202">cos()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00220">sin()</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00129">raycast_visibility()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_aaeef807293ba9931bafdf438a2d011b4_cgraph.svg" width="298" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_aaeef807293ba9931bafdf438a2d011b4_icgraph.svg" width="643" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6b854c9b2f8a27de84c89930d737d588" name="a6b854c9b2f8a27de84c89930d737d588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b854c9b2f8a27de84c89930d737d588">&#9670;&#160;</a></span>sample_power_cosine_hemisphere()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> Slic3r::SeamPlacerImpl::sample_power_cosine_hemisphere </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>power</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  121</span>                                                                        {</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordtype">float</span> term1 = 2.f * float(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) * samples.x();</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordtype">float</span> term2 = pow(samples.y(), 1.f / (power + 1.f));</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordtype">float</span> term3 = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(1.f - term2 * term2);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec3f</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a>(term1) * term3, <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(term1) * term3, term2);</div>
<div class="line"><span class="lineno">  127</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00202">cos()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00220">sin()</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_a6b854c9b2f8a27de84c89930d737d588_cgraph.svg" width="260" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af497d75453356aa59a42e39ec659ce3a" name="af497d75453356aa59a42e39ec659ce3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af497d75453356aa59a42e39ec659ce3a">&#9670;&#160;</a></span>sample_sphere_uniform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> Slic3r::SeamPlacerImpl::sample_sphere_uniform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;&#160;</td>
          <td class="paramname"><em>samples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  107</span>                                                  {</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordtype">float</span> term1 = 2.0f * float(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) * samples.x();</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordtype">float</span> term2 = 2.0f * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(samples.y() - samples.y() * samples.y());</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">return</span> {<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a>(term1) * term2, <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a9cfb0ea58bd813510a9e2db18a5e49f0">sin</a>(term1) * term2,</div>
<div class="line"><span class="lineno">  111</span>        1.0f - 2.0f * samples.y()};</div>
<div class="line"><span class="lineno">  112</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00202">cos()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00220">sin()</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl_af497d75453356aa59a42e39ec659ce3a_cgraph.svg" width="270" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1826215ab5a2c6ae312e9bbd78088550" name="a1826215ab5a2c6ae312e9bbd78088550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1826215ab5a2c6ae312e9bbd78088550">&#9670;&#160;</a></span>sgn()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int Slic3r::SeamPlacerImpl::sgn </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   39</span>                                    {</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">return</span> int(T(0) &lt; val) - int(val &lt; T(0));</div>
<div class="line"><span class="lineno">   41</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html">SeamPlacerImpl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
