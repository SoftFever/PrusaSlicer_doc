<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::FillLightning::DistanceField Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d6/de0/class_slic3r_1_1_fill_lightning_1_1_distance_field-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::FillLightning::DistanceField Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/Fill/Lightning/DistanceField.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::FillLightning::DistanceField:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d7a/class_slic3r_1_1_fill_lightning_1_1_distance_field__coll__graph.svg" width="100%" height="561"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell">UnsupportedCell</a></td></tr>
<tr class="separator:da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html">UnsupportedPointsGrid</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a24b7b86592dc83fb2ece968b166029f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a24b7b86592dc83fb2ece968b166029f0">DistanceField</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;radius, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;current_outline, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;current_outlines_bbox, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;current_overhang)</td></tr>
<tr class="separator:a24b7b86592dc83fb2ece968b166029f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b24b3b3e7a525c2c55d57bd2f452a25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a0b24b3b3e7a525c2c55d57bd2f452a25">tryGetNextPoint</a> (<a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> *out_unsupported_location, size_t *out_unsupported_cell_idx, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t start_idx=0) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a0b24b3b3e7a525c2c55d57bd2f452a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccab75e336d6bb4b9d324fe9db2e18a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a0ccab75e336d6bb4b9d324fe9db2e18a">update</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;to_node, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;added_leaf)</td></tr>
<tr class="separator:a0ccab75e336d6bb4b9d324fe9db2e18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad1827560d1398d52a5a89474305d8e81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad1827560d1398d52a5a89474305d8e81">to_grid_point</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;point) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:ad1827560d1398d52a5a89474305d8e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64381bbf0aa1bf4a2c0c8621ab3dea81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a64381bbf0aa1bf4a2c0c8621ab3dea81">from_grid_point</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;point) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a64381bbf0aa1bf4a2c0c8621ab3dea81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9b68b8223270bd9ae172023d8c26b2b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">m_cell_size</a></td></tr>
<tr class="separator:a9b68b8223270bd9ae172023d8c26b2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ccd64bf5775f6ed32ef7ed40b3e750"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">m_supporting_radius</a></td></tr>
<tr class="separator:a56ccd64bf5775f6ed32ef7ed40b3e750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8585ef0d335a5b80183c45cd930afa5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a8585ef0d335a5b80183c45cd930afa5e">m_supporting_radius2</a></td></tr>
<tr class="separator:a8585ef0d335a5b80183c45cd930afa5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e355e397f18049178b2ea25db7d9f44"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell">UnsupportedCell</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a></td></tr>
<tr class="separator:a3e355e397f18049178b2ea25db7d9f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652d8e634ce69aff35d467cb8ac505cf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a></td></tr>
<tr class="separator:a652d8e634ce69aff35d467cb8ac505cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ad7fa3d77e15b816481b7205f62c48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a></td></tr>
<tr class="separator:ad5ad7fa3d77e15b816481b7205f62c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49fdb1257b68bd3106d00182019c0a4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html">UnsupportedPointsGrid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">m_unsupported_points_grid</a></td></tr>
<tr class="separator:a49fdb1257b68bd3106d00182019c0a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>2D field that maintains locations which need to be supported for Lightning Infill.</p>
<p>This field contains a set of "cells", spaced out in a grid. Each cell maintains how far it is removed from the edge, which is used to determine how it gets supported by Lightning Infill. </p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell" id="da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell"></a>
<h2 class="memtitle"><span class="permalink"><a href="#da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell">&#9670;&#160;</a></span>Slic3r::FillLightning::DistanceField::UnsupportedCell</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::FillLightning::DistanceField::UnsupportedCell</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Represents a small discrete area of infill that needs to be supported. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="afd0c4f103df63946165abee594bcd292" name="afd0c4f103df63946165abee594bcd292"></a><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></td>
<td class="fieldname">
dist_to_boundary</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4e53dfa361f43908bcafcd75ec4956ca" name="a4e53dfa361f43908bcafcd75ec4956ca"></a><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a></td>
<td class="fieldname">
loc</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a24b7b86592dc83fb2ece968b166029f0" name="a24b7b86592dc83fb2ece968b166029f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b7b86592dc83fb2ece968b166029f0">&#9670;&#160;</a></span>DistanceField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::FillLightning::DistanceField::DistanceField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> &amp;&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>current_outline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> &amp;&#160;</td>
          <td class="paramname"><em>current_outlines_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>current_overhang</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new field to calculate Lightning Infill with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td>The radius of influence that an infill line is expected to support in the layer above. </td></tr>
    <tr><td class="paramname">current_outline</td><td>The total infill area on this layer. </td></tr>
    <tr><td class="paramname">current_overhang</td><td>The overhang that needs to be supported on this layer. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                                                                                                                                                               :</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">m_cell_size</a>(radius / <a class="code hl_variable" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a5c0b0ccb0ab8c02043601a6b7535ebfb">radius_per_cell_size</a>),</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">m_supporting_radius</a>(radius),</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>(current_outlines_bbox)</div>
<div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a8585ef0d335a5b80183c45cd930afa5e">m_supporting_radius2</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9f09756940b3eb2052058460bf07e4a3">Slic3r::sqr</a>(<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>(radius));</div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">// Sample source polygons with a regular grid sampling pattern.</span></div>
<div class="line"><span class="lineno">   45</span>    <span class="keyword">const</span> BoundingBox overhang_bbox = <a class="code hl_function" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">get_extents</a>(current_overhang);</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> ExPolygon &amp;expoly : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">union_ex</a>(current_overhang)) {</div>
<div class="line"><span class="lineno">   47</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Points</a> sampled_points               = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ac9c967613d96d3c268115b8bd0dce7cf">sample_grid_pattern</a>(expoly, <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">m_cell_size</a>, overhang_bbox);</div>
<div class="line"><span class="lineno">   48</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> unsupported_points_prev_size = <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.size();</div>
<div class="line"><span class="lineno">   49</span>        <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.resize(unsupported_points_prev_size + sampled_points.size());</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, sampled_points.size()), [&amp;self = *<span class="keyword">this</span>, &amp;expoly = std::as_const(expoly), &amp;sampled_points = std::as_const(sampled_points), &amp;unsupported_points_prev_size = std::as_const(unsupported_points_prev_size)](<span class="keyword">const</span> tbb::blocked_range&lt;size_t&gt; &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">range</a>) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><span class="lineno">   52</span>            for (size_t sp_idx = range.begin(); sp_idx &lt; range.end(); ++sp_idx) {</div>
<div class="line"><span class="lineno">   53</span>                const Point &amp;sp = sampled_points[sp_idx];</div>
<div class="line"><span class="lineno">   54</span>                <span class="comment">// Find a squared distance to the source expolygon boundary.</span></div>
<div class="line"><span class="lineno">   55</span>                double d2 = std::numeric_limits&lt;double&gt;::max();</div>
<div class="line"><span class="lineno">   56</span>                for (size_t icontour = 0; icontour &lt;= expoly.holes.size(); ++icontour) {</div>
<div class="line"><span class="lineno">   57</span>                    const Polygon &amp;contour = icontour == 0 ? expoly.contour : expoly.holes[icontour - 1];</div>
<div class="line"><span class="lineno">   58</span>                    if (contour.size() &gt; 2) {</div>
<div class="line"><span class="lineno">   59</span>                        Point prev = contour.points.back();</div>
<div class="line"><span class="lineno">   60</span>                        for (const Point &amp;p2 : contour.points) {</div>
<div class="line"><span class="lineno">   61</span>                            d2   = std::min(d2, Line::distance_to_squared(sp, prev, p2));</div>
<div class="line"><span class="lineno">   62</span>                            prev = p2;</div>
<div class="line"><span class="lineno">   63</span>                        }</div>
<div class="line"><span class="lineno">   64</span>                    }</div>
<div class="line"><span class="lineno">   65</span>                }</div>
<div class="line"><span class="lineno">   66</span>                self.m_unsupported_points[unsupported_points_prev_size + sp_idx] = {sp, coord_t(std::sqrt(d2))};</div>
<div class="line"><span class="lineno">   67</span>                assert(self.m_unsupported_points_bbox.contains(sp));</div>
<div class="line"><span class="lineno">   68</span>            }</div>
<div class="line"><span class="lineno">   69</span>        }); <span class="comment">// end of parallel_for</span></div>
<div class="line"><span class="lineno">   70</span>    }</div>
<div class="line"><span class="lineno">   71</span>    std::stable_sort(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.begin(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.end(), [&amp;radius](<span class="keyword">const</span> UnsupportedCell &amp;a, <span class="keyword">const</span> UnsupportedCell &amp;b) {</div>
<div class="line"><span class="lineno">   72</span>        constexpr coord_t prime_for_hash = 191;</div>
<div class="line"><span class="lineno">   73</span>        return std::abs(b.dist_to_boundary - a.dist_to_boundary) &gt; radius ?</div>
<div class="line"><span class="lineno">   74</span>               a.dist_to_boundary &lt; b.dist_to_boundary :</div>
<div class="line"><span class="lineno">   75</span>               (PointHash{}(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.loc) % prime_for_hash) &lt; (PointHash{}(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.loc) % prime_for_hash);</div>
<div class="line"><span class="lineno">   76</span>        });</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a>.resize(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.size());</div>
<div class="line"><span class="lineno">   79</span>    std::fill(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a>.begin(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a>.end(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">m_unsupported_points_grid</a>.<a class="code hl_function" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#a323a1d874abe9ebe4c913ed693b55051">initialize</a>(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>, [&amp;self = std::as_const(*<span class="keyword">this</span>)](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> &amp;p) -&gt; <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> { <span class="keywordflow">return</span> self.to_grid_point(p); });</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="comment">// Because the distance between two points is at least one axis equal to m_cell_size, every cell</span></div>
<div class="line"><span class="lineno">   84</span>    <span class="comment">// in m_unsupported_points_grid contains exactly one point.</span></div>
<div class="line"><span class="lineno">   85</span>    assert(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.size() == <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">m_unsupported_points_grid</a>.<a class="code hl_function" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#a7bf668bd52cb46887971de6b2eb17747">size</a>());</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span><span class="preprocessor">#ifdef LIGHTNING_DISTANCE_FIELD_DEBUG_OUTPUT</span></div>
<div class="line"><span class="lineno">   88</span>    {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keyword">static</span> <span class="keywordtype">int</span> iRun = 0;</div>
<div class="line"><span class="lineno">   90</span>        export_distance_field_to_svg(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;FillLightning-DistanceField-%d.svg&quot;</span>, iRun++), current_outline, current_overhang, <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>);</div>
<div class="line"><span class="lineno">   91</span>    }</div>
<div class="line"><span class="lineno">   92</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   93</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid_html_a323a1d874abe9ebe4c913ed693b55051"><div class="ttname"><a href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#a323a1d874abe9ebe4c913ed693b55051">Slic3r::FillLightning::DistanceField::UnsupportedPointsGrid::initialize</a></div><div class="ttdeci">void initialize(const std::vector&lt; UnsupportedCell &gt; &amp;unsupported_points, const std::function&lt; Point(const Point &amp;)&gt; &amp;map_cell_to_grid)</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:114</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid_html_a7bf668bd52cb46887971de6b2eb17747"><div class="ttname"><a href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#a7bf668bd52cb46887971de6b2eb17747">Slic3r::FillLightning::DistanceField::UnsupportedPointsGrid::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:138</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a3e355e397f18049178b2ea25db7d9f44"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">Slic3r::FillLightning::DistanceField::m_unsupported_points</a></div><div class="ttdeci">std::vector&lt; UnsupportedCell &gt; m_unsupported_points</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:97</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a49fdb1257b68bd3106d00182019c0a4e"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">Slic3r::FillLightning::DistanceField::m_unsupported_points_grid</a></div><div class="ttdeci">UnsupportedPointsGrid m_unsupported_points_grid</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:186</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a56ccd64bf5775f6ed32ef7ed40b3e750"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">Slic3r::FillLightning::DistanceField::m_supporting_radius</a></div><div class="ttdeci">coord_t m_supporting_radius</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:80</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a652d8e634ce69aff35d467cb8ac505cf"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">Slic3r::FillLightning::DistanceField::m_unsupported_points_erased</a></div><div class="ttdeci">std::vector&lt; bool &gt; m_unsupported_points_erased</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:98</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a8585ef0d335a5b80183c45cd930afa5e"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a8585ef0d335a5b80183c45cd930afa5e">Slic3r::FillLightning::DistanceField::m_supporting_radius2</a></div><div class="ttdeci">int64_t m_supporting_radius2</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:81</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a9b68b8223270bd9ae172023d8c26b2b4"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">Slic3r::FillLightning::DistanceField::m_cell_size</a></div><div class="ttdeci">coord_t m_cell_size</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:74</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_ad5ad7fa3d77e15b816481b7205f62c48"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">Slic3r::FillLightning::DistanceField::m_unsupported_points_bbox</a></div><div class="ttdeci">const BoundingBox m_unsupported_points_bbox</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:103</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_fill_lightning_html_a51f28b2f8ea7f5695b33315b76c394a6"><div class="ttname"><a href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a51f28b2f8ea7f5695b33315b76c394a6">Slic3r::FillLightning::get_extents</a></div><div class="ttdeci">BoundingBox get_extents(const NodeSPtr &amp;root_node)</div><div class="ttdef"><b>Definition</b> TreeNode.hpp:284</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_fill_lightning_html_a5c0b0ccb0ab8c02043601a6b7535ebfb"><div class="ttname"><a href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html#a5c0b0ccb0ab8c02043601a6b7535ebfb">Slic3r::FillLightning::radius_per_cell_size</a></div><div class="ttdeci">constexpr coord_t radius_per_cell_size</div><div class="ttdef"><b>Definition</b> DistanceField.cpp:17</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespace_slic3r_html_a37166e144522fceee41e6d8ed8245315"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a37166e144522fceee41e6d8ed8245315">Slic3r::union_ex</a></div><div class="ttdeci">Slic3r::ExPolygons union_ex(const Slic3r::Polygons &amp;subject, ClipperLib::PolyFillType fill_type)</div><div class="ttdef"><b>Definition</b> ClipperUtils.cpp:774</div></div>
<div class="ttc" id="anamespace_slic3r_html_a51e1ea9708d6434aae1e8394bef8acdc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a51e1ea9708d6434aae1e8394bef8acdc">Slic3r::range</a></div><div class="ttdeci">auto range(Cont &amp;&amp;cont)</div><div class="ttdef"><b>Definition</b> libslic3r.h:356</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9f09756940b3eb2052058460bf07e4a3"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9f09756940b3eb2052058460bf07e4a3">Slic3r::sqr</a></div><div class="ttdeci">constexpr T sqr(T x)</div><div class="ttdef"><b>Definition</b> libslic3r.h:258</div></div>
<div class="ttc" id="anamespace_slic3r_html_ac9c967613d96d3c268115b8bd0dce7cf"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ac9c967613d96d3c268115b8bd0dce7cf">Slic3r::sample_grid_pattern</a></div><div class="ttdeci">Points sample_grid_pattern(const ExPolygon &amp;expolygon, coord_t spacing, const BoundingBox &amp;global_bounding_box)</div><div class="ttdef"><b>Definition</b> FillRectilinear.cpp:3062</div></div>
<div class="ttc" id="anamespace_slic3r_html_aee987cbd1647986a9ac92226daffa4d7"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aee987cbd1647986a9ac92226daffa4d7">Slic3r::Points</a></div><div class="ttdeci">std::vector&lt; Point, PointsAllocator&lt; Point &gt; &gt; Points</div><div class="ttdef"><b>Definition</b> Point.hpp:58</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
<div class="ttc" id="aunistd_8h_html_a67a9885ef4908cb72ce26d75b694386c"><div class="ttname"><a href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a></div><div class="ttdeci">__int64 int64_t</div><div class="ttdef"><b>Definition</b> unistd.h:76</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00284">Slic3r::FillLightning::get_extents()</a>, <a class="el" href="../../#l00074">m_cell_size</a>, <a class="el" href="../../#l00081">m_supporting_radius2</a>, <a class="el" href="../../#l00097">m_unsupported_points</a>, <a class="el" href="../../#l00356">Slic3r::range()</a>, <a class="el" href="../../#l03062">Slic3r::sample_grid_pattern()</a>, <a class="el" href="../../#l00258">Slic3r::sqr()</a>, and <a class="el" href="../../#l00774">Slic3r::union_ex()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field_a24b7b86592dc83fb2ece968b166029f0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a64381bbf0aa1bf4a2c0c8621ab3dea81" name="a64381bbf0aa1bf4a2c0c8621ab3dea81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64381bbf0aa1bf4a2c0c8621ab3dea81">&#9670;&#160;</a></span>from_grid_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> Slic3r::FillLightning::DistanceField::from_grid_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maps the point to the grid coordinates. </p>
<div class="fragment"><div class="line"><span class="lineno">  198</span>                                                    {</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">return</span> point * <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">m_cell_size</a> + <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>;</div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_ac249c80f8bbfde86457794be35e12ea9"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">Slic3r::BoundingBoxBase::min</a></div><div class="ttdeci">PointType min</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:16</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">m_cell_size</a>, <a class="el" href="../../#l00103">m_unsupported_points_bbox</a>, and <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>.</p>

</div>
</div>
<a id="ad1827560d1398d52a5a89474305d8e81" name="ad1827560d1398d52a5a89474305d8e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1827560d1398d52a5a89474305d8e81">&#9670;&#160;</a></span>to_grid_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> Slic3r::FillLightning::DistanceField::to_grid_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maps the point to the grid coordinates. </p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                                                  {</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> (point - <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>) / <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a9b68b8223270bd9ae172023d8c26b2b4">m_cell_size</a>;</div>
<div class="line"><span class="lineno">  193</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">m_cell_size</a>, <a class="el" href="../../#l00103">m_unsupported_points_bbox</a>, and <a class="el" href="../../#l00016">Slic3r::BoundingBoxBase&lt; PointType, APointsType &gt;::min</a>.</p>

</div>
</div>
<a id="a0b24b3b3e7a525c2c55d57bd2f452a25" name="a0b24b3b3e7a525c2c55d57bd2f452a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b24b3b3e7a525c2c55d57bd2f452a25">&#9670;&#160;</a></span>tryGetNextPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::FillLightning::DistanceField::tryGetNextPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> *&#160;</td>
          <td class="paramname"><em>out_unsupported_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>out_unsupported_cell_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t&#160;</td>
          <td class="paramname"><em>start_idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the next unsupported location to be supported by a new branch. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Output variable for the next point to support. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if successful, or <code>false</code> if there are no more points to consider. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   44</span>    {</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> point_idx = start_idx; point_idx &lt; <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>.size(); ++point_idx) {</div>
<div class="line"><span class="lineno">   46</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a>[point_idx]) {</div>
<div class="line"><span class="lineno">   47</span>                *out_unsupported_cell_idx = point_idx;</div>
<div class="line"><span class="lineno">   48</span>                *out_unsupported_location = <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>[point_idx].loc;</div>
<div class="line"><span class="lineno">   49</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   50</span>            }</div>
<div class="line"><span class="lineno">   51</span>        }</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   54</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00097">m_unsupported_points</a>, and <a class="el" href="../../#l00098">m_unsupported_points_erased</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00045">Slic3r::FillLightning::Layer::generateNewTrees()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field_a0b24b3b3e7a525c2c55d57bd2f452a25_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0ccab75e336d6bb4b9d324fe9db2e18a" name="a0ccab75e336d6bb4b9d324fe9db2e18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ccab75e336d6bb4b9d324fe9db2e18a">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::FillLightning::DistanceField::update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>to_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>added_leaf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../d8/d78/struct_slic3r_1_1_update.html">Update</a> the distance field with a newly added branch.</p>
<p>The branch is a line extending from <code>to_node</code> to <code>added_leaf</code> . This function updates the grid cells so that the distance field knows how far off it is from being supported by the current pattern. Grid points are updated with sampling points spaced out by the supporting radius along the line. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_node</td><td>The node endpoint of the newly added branch. </td></tr>
    <tr><td class="paramname">added_leaf</td><td>The location of the leaf of the newly added branch, drawing a straight line to the node. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>       v  = (added_leaf - to_node).cast&lt;double&gt;();</div>
<div class="line"><span class="lineno">   98</span>    <span class="keyword">auto</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a> = v.squaredNorm();</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>       extent = <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>(-v.y(), v.x()) * <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">m_supporting_radius</a> / <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    BoundingBox <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>;</div>
<div class="line"><span class="lineno">  102</span>    {</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> diagonal(<a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">m_supporting_radius</a>, <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a56ccd64bf5775f6ed32ef7ed40b3e750">m_supporting_radius</a>);</div>
<div class="line"><span class="lineno">  104</span>        <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> iextent(extent.cast&lt;<a class="code hl_typedef" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a>&gt;());</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a> = BoundingBox(added_leaf - diagonal, added_leaf + diagonal);</div>
<div class="line"><span class="lineno">  106</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.merge(to_node - iextent);</div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.merge(to_node + iextent);</div>
<div class="line"><span class="lineno">  108</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.merge(added_leaf - iextent);</div>
<div class="line"><span class="lineno">  109</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.merge(added_leaf + iextent);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        <span class="comment">// Clip grid by m_unsupported_points_bbox. Mainly to ensure that grid.min is a non-negative value.</span></div>
<div class="line"><span class="lineno">  112</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.x() = std::max(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.x(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.x());</div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.y() = std::max(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.y(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#ac249c80f8bbfde86457794be35e12ea9">min</a>.y());</div>
<div class="line"><span class="lineno">  114</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.x() = std::min(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.x(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.x());</div>
<div class="line"><span class="lineno">  115</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.y() = std::min(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.y(), <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad5ad7fa3d77e15b816481b7205f62c48">m_unsupported_points_bbox</a>.<a class="code hl_variable" href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">max</a>.y());</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min = this-&gt;<a class="code hl_function" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad1827560d1398d52a5a89474305d8e81">to_grid_point</a>(grid.min);</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max = this-&gt;<a class="code hl_function" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad1827560d1398d52a5a89474305d8e81">to_grid_point</a>(grid.max);</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> grid_addr;</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> grid_loc;</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">for</span> (grid_addr.y() = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.y(); grid_addr.y() &lt;= <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.y(); ++grid_addr.y()) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">for</span> (grid_addr.x() = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.min.x(); grid_addr.x() &lt;= <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">grid</a>.max.x(); ++grid_addr.x()) {</div>
<div class="line"><span class="lineno">  125</span>            grid_loc = this-&gt;<a class="code hl_function" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a64381bbf0aa1bf4a2c0c8621ab3dea81">from_grid_point</a>(grid_addr);</div>
<div class="line"><span class="lineno">  126</span>            <span class="comment">// Test inside a circle at the new leaf.</span></div>
<div class="line"><span class="lineno">  127</span>            <span class="keywordflow">if</span> ((grid_loc - added_leaf).cast&lt;int64_t&gt;().squaredNorm() &gt; <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a8585ef0d335a5b80183c45cd930afa5e">m_supporting_radius2</a>) {</div>
<div class="line"><span class="lineno">  128</span>                <span class="comment">// Not inside a circle at the end of the new leaf.</span></div>
<div class="line"><span class="lineno">  129</span>                <span class="comment">// Test inside a rotated rectangle.</span></div>
<div class="line"><span class="lineno">  130</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>  vx = (grid_loc - to_node).cast&lt;double&gt;();</div>
<div class="line"><span class="lineno">  131</span>                <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>  = v.dot(vx);</div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">if</span> (d &gt;= 0 &amp;&amp; d &lt;= <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">l2</a>) {</div>
<div class="line"><span class="lineno">  133</span>                    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = extent.dot(vx);</div>
<div class="line"><span class="lineno">  134</span>                    <span class="keywordflow">if</span> (d &lt; -1. || d &gt; 1.)</div>
<div class="line"><span class="lineno">  135</span>                        <span class="comment">// Not inside a rotated rectangle.</span></div>
<div class="line"><span class="lineno">  136</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  137</span>                }</div>
<div class="line"><span class="lineno">  138</span>            }</div>
<div class="line"><span class="lineno">  139</span>            <span class="comment">// Inside a circle at the end of the new leaf, or inside a rotated rectangle.</span></div>
<div class="line"><span class="lineno">  140</span>            <span class="comment">// Remove unsupported leafs at this grid location.</span></div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">size_t</span> cell_idx = <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">m_unsupported_points_grid</a>.<a class="code hl_function" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#aedac24c218339a89438c1926dde827e6">find_cell_idx</a>(grid_addr); cell_idx != std::numeric_limits&lt;size_t&gt;::max()) {</div>
<div class="line"><span class="lineno">  142</span>                <span class="keyword">const</span> UnsupportedCell &amp;cell = <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a3e355e397f18049178b2ea25db7d9f44">m_unsupported_points</a>[cell_idx];</div>
<div class="line"><span class="lineno">  143</span>                <span class="keywordflow">if</span> ((cell.loc - added_leaf).cast&lt;<a class="code hl_typedef" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a>&gt;().squaredNorm() &lt;= <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a8585ef0d335a5b80183c45cd930afa5e">m_supporting_radius2</a>) {</div>
<div class="line"><span class="lineno">  144</span>                    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a652d8e634ce69aff35d467cb8ac505cf">m_unsupported_points_erased</a>[cell_idx] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  145</span>                    <a class="code hl_variable" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a49fdb1257b68bd3106d00182019c0a4e">m_unsupported_points_grid</a>.<a class="code hl_function" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#aa62cfed6fbf960577f43767ba2752135">mark_erased</a>(grid_addr);</div>
<div class="line"><span class="lineno">  146</span>                }</div>
<div class="line"><span class="lineno">  147</span>            }</div>
<div class="line"><span class="lineno">  148</span>        }</div>
<div class="line"><span class="lineno">  149</span>    }</div>
<div class="line"><span class="lineno">  150</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_base_html_a1382e0a608cd3261f2506f7b48d60857"><div class="ttname"><a href="../../dc/d28/class_slic3r_1_1_bounding_box_base.html#a1382e0a608cd3261f2506f7b48d60857">Slic3r::BoundingBoxBase::max</a></div><div class="ttdeci">PointType max</div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:17</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid_html_aa62cfed6fbf960577f43767ba2752135"><div class="ttname"><a href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#aa62cfed6fbf960577f43767ba2752135">Slic3r::FillLightning::DistanceField::UnsupportedPointsGrid::mark_erased</a></div><div class="ttdeci">void mark_erased(const Point &amp;grid_addr)</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:153</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid_html_aedac24c218339a89438c1926dde827e6"><div class="ttname"><a href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html#aedac24c218339a89438c1926dde827e6">Slic3r::FillLightning::DistanceField::UnsupportedPointsGrid::find_cell_idx</a></div><div class="ttdeci">size_t find_cell_idx(const Point &amp;grid_addr)</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:140</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_a64381bbf0aa1bf4a2c0c8621ab3dea81"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#a64381bbf0aa1bf4a2c0c8621ab3dea81">Slic3r::FillLightning::DistanceField::from_grid_point</a></div><div class="ttdeci">Point from_grid_point(const Point &amp;point) const</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:198</div></div>
<div class="ttc" id="aclass_slic3r_1_1_fill_lightning_1_1_distance_field_html_ad1827560d1398d52a5a89474305d8e81"><div class="ttname"><a href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#ad1827560d1398d52a5a89474305d8e81">Slic3r::FillLightning::DistanceField::to_grid_point</a></div><div class="ttdeci">Point to_grid_point(const Point &amp;point) const</div><div class="ttdef"><b>Definition</b> DistanceField.hpp:191</div></div>
<div class="ttc" id="alibslic3r_8h_html_a8a7f69c27280e7542b2d1fd979af4545"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a></div><div class="ttdeci">int32_t coord_t</div><div class="ttdef"><b>Definition</b> libslic3r.h:39</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1e045f56a994b8cd4a5b203626cd8272"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1e045f56a994b8cd4a5b203626cd8272">Slic3r::l2</a></div><div class="ttdeci">T l2(const boost::geometry::model::d2::point_xy&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> ExtrusionSimulator.cpp:166</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:51</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7fbf8086aa6866b37be593872e09e169"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7fbf8086aa6866b37be593872e09e169">Slic3r::grid</a></div><div class="ttdeci">std::vector&lt; ArithmeticOnly&lt; T &gt; &gt; grid(const T &amp;start, const T &amp;stop, const T &amp;stride)</div><div class="ttdoc">A set of equidistant values starting from 'start' (inclusive), ending in the closest multiple of 'str...</div><div class="ttdef"><b>Definition</b> MTUtils.hpp:125</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00125">Slic3r::grid()</a>, <a class="el" href="../../#l00166">Slic3r::l2()</a>, <a class="el" href="../../#l00089">Slic3r::FillLightning::DistanceField::UnsupportedCell::loc</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00045">Slic3r::FillLightning::Layer::generateNewTrees()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field_a0ccab75e336d6bb4b9d324fe9db2e18a_cgraph.svg" width="427" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field_a0ccab75e336d6bb4b9d324fe9db2e18a_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b68b8223270bd9ae172023d8c26b2b4" name="a9b68b8223270bd9ae172023d8c26b2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b68b8223270bd9ae172023d8c26b2b4">&#9670;&#160;</a></span>m_cell_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::DistanceField::m_cell_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Spacing between grid points to consider supporting. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00038">DistanceField()</a>, <a class="el" href="../../#l00198">from_grid_point()</a>, and <a class="el" href="../../#l00191">to_grid_point()</a>.</p>

</div>
</div>
<a id="a56ccd64bf5775f6ed32ef7ed40b3e750" name="a56ccd64bf5775f6ed32ef7ed40b3e750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ccd64bf5775f6ed32ef7ed40b3e750">&#9670;&#160;</a></span>m_supporting_radius</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d47/libslic3r_8h.html#a8a7f69c27280e7542b2d1fd979af4545">coord_t</a> Slic3r::FillLightning::DistanceField::m_supporting_radius</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The radius of the area of the layer above supported by a point on a branch of a tree. </p>

</div>
</div>
<a id="a8585ef0d335a5b80183c45cd930afa5e" name="a8585ef0d335a5b80183c45cd930afa5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8585ef0d335a5b80183c45cd930afa5e">&#9670;&#160;</a></span>m_supporting_radius2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d6f/unistd_8h.html#a67a9885ef4908cb72ce26d75b694386c">int64_t</a> Slic3r::FillLightning::DistanceField::m_supporting_radius2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00038">DistanceField()</a>.</p>

</div>
</div>
<a id="a3e355e397f18049178b2ea25db7d9f44" name="a3e355e397f18049178b2ea25db7d9f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e355e397f18049178b2ea25db7d9f44">&#9670;&#160;</a></span>m_unsupported_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html#da/dc8/struct_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_cell">UnsupportedCell</a>&gt; Slic3r::FillLightning::DistanceField::m_unsupported_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cells which still need to be supported at some point. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00038">DistanceField()</a>, and <a class="el" href="../../#l00043">tryGetNextPoint()</a>.</p>

</div>
</div>
<a id="ad5ad7fa3d77e15b816481b7205f62c48" name="ad5ad7fa3d77e15b816481b7205f62c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ad7fa3d77e15b816481b7205f62c48">&#9670;&#160;</a></span>m_unsupported_points_bbox</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> Slic3r::FillLightning::DistanceField::m_unsupported_points_bbox</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> of all points in m_unsupported_points. Used for mapping of sign integer numbers to positive integer numbers. </p>

<p class="reference">Referenced by <a class="el" href="../../#l00198">from_grid_point()</a>, and <a class="el" href="../../#l00191">to_grid_point()</a>.</p>

</div>
</div>
<a id="a652d8e634ce69aff35d467cb8ac505cf" name="a652d8e634ce69aff35d467cb8ac505cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652d8e634ce69aff35d467cb8ac505cf">&#9670;&#160;</a></span>m_unsupported_points_erased</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;bool&gt; Slic3r::FillLightning::DistanceField::m_unsupported_points_erased</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00043">tryGetNextPoint()</a>.</p>

</div>
</div>
<a id="a49fdb1257b68bd3106d00182019c0a4e" name="a49fdb1257b68bd3106d00182019c0a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49fdb1257b68bd3106d00182019c0a4e">&#9670;&#160;</a></span>m_unsupported_points_grid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/db4/class_slic3r_1_1_fill_lightning_1_1_distance_field_1_1_unsupported_points_grid.html">UnsupportedPointsGrid</a> Slic3r::FillLightning::DistanceField::m_unsupported_points_grid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">DistanceField.hpp</a></li>
<li>src/libslic3r/Fill/Lightning/<a class="el" href="../../">DistanceField.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../de/d88/namespace_slic3r_1_1_fill_lightning.html">FillLightning</a></li><li class="navelem"><a class="el" href="../../df/da6/class_slic3r_1_1_fill_lightning_1_1_distance_field.html">DistanceField</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
