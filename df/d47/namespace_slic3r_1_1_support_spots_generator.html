<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::SupportSpotsGenerator Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/d47/namespace_slic3r_1_1_support_spots_generator.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::SupportSpotsGenerator Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/class_slic3r_1_1_support_spots_generator_1_1_active_object_parts.html">ActiveObjectParts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations">Malformations</a></td></tr>
<tr class="separator:da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html">ObjectPart</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dfc/struct_slic3r_1_1_support_spots_generator_1_1_support_grid_filter.html">SupportGridFilter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d91/struct_slic3r_1_1_support_spots_generator_1_1_support_point.html">SupportPoint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2f68c053df997d0a0c732e552e855fac"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a> = <a class="el" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer</a>&lt; <a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &gt;</td></tr>
<tr class="separator:a2f68c053df997d0a0c732e552e855fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681e0dab624959d66debc1a77bb1863c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a> = std::vector&lt; std::vector&lt; <a class="el" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a> &gt; &gt;</td></tr>
<tr class="separator:a681e0dab624959d66debc1a77bb1863c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6964ff2d6674f97c423640b5eb38148f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a> = std::vector&lt; <a class="el" href="../../d1/d91/struct_slic3r_1_1_support_spots_generator_1_1_support_point.html">SupportPoint</a> &gt;</td></tr>
<tr class="separator:a6964ff2d6674f97c423640b5eb38148f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69fdbab27d477d33d6e66ca56c04f75"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> = std::vector&lt; <a class="el" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a> &gt;</td></tr>
<tr class="separator:ad69fdbab27d477d33d6e66ca56c04f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa9785768f27cd1989feaa66ee30a19b8"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a> { <br />
&#160;&#160;<a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f">LongBridge</a>
, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f">FloatingBridgeAnchor</a>
, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42">FloatingExtrusion</a>
, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258">SeparationFromBed</a>
, <br />
&#160;&#160;<a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94">UnstableFloatingPart</a>
, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f">WeakObjectPart</a>
<br />
 }</td></tr>
<tr class="separator:aa9785768f27cd1989feaa66ee30a19b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad6d19737747e3be0400bd472374a1f0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad6d19737747e3be0400bd472374a1f0f">estimate_slice_connection</a> (size_t slice_idx, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *layer)</td></tr>
<tr class="separator:ad6d19737747e3be0400bd472374a1f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7f4470159e34e0d84f9d36fb016975"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a7b7f4470159e34e0d84f9d36fb016975">precompute_slices_connections</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po)</td></tr>
<tr class="separator:a7b7f4470159e34e0d84f9d36fb016975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05352cbc4b4ef95de5d068b3c6ae701c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a05352cbc4b4ef95de5d068b3c6ae701c">get_flow_width</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *region, <a class="el" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html">ExtrusionRole</a> role)</td></tr>
<tr class="separator:a05352cbc4b4ef95de5d068b3c6ae701c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ad5860faba6feeaf45345a411fb15f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ac4ad5860faba6feeaf45345a411fb15f">to_short_lines</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *e, float length_limit)</td></tr>
<tr class="separator:ac4ad5860faba6feeaf45345a411fb15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc505bebcd45db5807a4e0dffcf5573f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#afc505bebcd45db5807a4e0dffcf5573f">estimate_curled_up_height</a> (float distance, float curvature, float <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a>, float flow_width, float prev_line_curled_height, <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> params)</td></tr>
<tr class="separator:afc505bebcd45db5807a4e0dffcf5573f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9622788ae98ed46eadb1ac94eb15ecb0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a9622788ae98ed46eadb1ac94eb15ecb0">check_extrusion_entity_stability</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *entity, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *layer_region, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a> &amp;prev_layer_lines, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer</a>&lt; <a class="el" href="../../d4/d28/class_slic3r_1_1_linef.html">Linef</a> &gt; &amp;prev_layer_boundary, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a9622788ae98ed46eadb1ac94eb15ecb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323d3c78b748fa28d85ac0fc4237ce4f"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; <a class="el" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html">ObjectPart</a>, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a323d3c78b748fa28d85ac0fc4237ce4f">build_object_part_from_slice</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t &amp;slice_idx, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *layer, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a323d3c78b748fa28d85ac0fc4237ce4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f802b17e7dae439d910f48e5c36ca19"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a>, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a8f802b17e7dae439d910f48e5c36ca19">check_stability</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a> &amp;precomputed_slices_connections, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2b/class_slic3r_1_1_print_try_cancel.html">PrintTryCancel</a> &amp;cancel_func, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a8f802b17e7dae439d910f48e5c36ca19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16924e06a01c96772a496af7b8010f5c"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a>, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a16924e06a01c96772a496af7b8010f5c">full_search</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2b/class_slic3r_1_1_print_try_cancel.html">PrintTryCancel</a> &amp;cancel_func, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a16924e06a01c96772a496af7b8010f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2087b869f6d053edd8bc45b952d4682e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2087b869f6d053edd8bc45b952d4682e">estimate_supports_malformations</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a11b3f121ccabd86cc005bf3c73b6dc2a">SupportLayerPtrs</a> &amp;layers, float flow_width, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a2087b869f6d053edd8bc45b952d4682e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54722ef7e4d5cd91e4d84b3001adc05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ae54722ef7e4d5cd91e4d84b3001adc05">estimate_malformations</a> (<a class="el" href="../../de/db8/namespace_slic3r.html#a2ec02c60a499ad78d9cb04c053b82906">LayerPtrs</a> &amp;layers, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:ae54722ef7e4d5cd91e4d84b3001adc05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1a5772105bcb773cb5edf8a873d2f1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a>, bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6a1a5772105bcb773cb5edf8a873d2f1">gather_issues</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a> &amp;support_points, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &amp;partial_objects)</td></tr>
<tr class="separator:a6a1a5772105bcb773cb5edf8a873d2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac251fbeb015ed001526b5619144930f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ac251fbeb015ed001526b5619144930f0">estimate_supports_malformations</a> (std::vector&lt; <a class="el" href="../../de/dad/class_slic3r_1_1_support_layer.html">SupportLayer</a> * &gt; &amp;layers, float supports_flow_width, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:ac251fbeb015ed001526b5619144930f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c76fd06a7a3c447b9d0a8b3d4a59365"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a0c76fd06a7a3c447b9d0a8b3d4a59365">estimate_malformations</a> (std::vector&lt; <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> * &gt; &amp;layers, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;params)</td></tr>
<tr class="separator:a0c76fd06a7a3c447b9d0a8b3d4a59365"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations" id="da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations"></a>
<h2 class="memtitle"><span class="permalink"><a href="#da/dbe/struct_slic3r_1_1_support_spots_generator_1_1_malformations">&#9670;&#160;</a></span>Slic3r::SupportSpotsGenerator::Malformations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct Slic3r::SupportSpotsGenerator::Malformations</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::SupportSpotsGenerator::Malformations:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/dda/struct_slic3r_1_1_support_spots_generator_1_1_malformations__coll__graph.svg" width="210" height="318"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a86e3d9dcc846577c3ca39b66ac293f93" name="a86e3d9dcc846577c3ca39b66ac293f93"></a>vector&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#a0913e2e6b7d28032c33cfee03f145fba">Lines</a> &gt;</td>
<td class="fieldname">
layers</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2f68c053df997d0a0c732e552e855fac" name="a2f68c053df997d0a0c732e552e855fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f68c053df997d0a0c732e552e855fac">&#9670;&#160;</a></span>LD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">Slic3r::SupportSpotsGenerator::LD</a> = typedef <a class="el" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer</a>&lt;<a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad69fdbab27d477d33d6e66ca56c04f75" name="ad69fdbab27d477d33d6e66ca56c04f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad69fdbab27d477d33d6e66ca56c04f75">&#9670;&#160;</a></span>PartialObjects</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">Slic3r::SupportSpotsGenerator::PartialObjects</a> = typedef std::vector&lt;<a class="el" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a681e0dab624959d66debc1a77bb1863c" name="a681e0dab624959d66debc1a77bb1863c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681e0dab624959d66debc1a77bb1863c">&#9670;&#160;</a></span>PrecomputedSliceConnections</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">Slic3r::SupportSpotsGenerator::PrecomputedSliceConnections</a> = typedef std::vector&lt;std::vector&lt;<a class="el" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6964ff2d6674f97c423640b5eb38148f" name="a6964ff2d6674f97c423640b5eb38148f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6964ff2d6674f97c423640b5eb38148f">&#9670;&#160;</a></span>SupportPoints</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">Slic3r::SupportSpotsGenerator::SupportPoints</a> = typedef std::vector&lt;<a class="el" href="../../d1/d91/struct_slic3r_1_1_support_spots_generator_1_1_support_point.html">SupportPoint</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa9785768f27cd1989feaa66ee30a19b8" name="aa9785768f27cd1989feaa66ee30a19b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9785768f27cd1989feaa66ee30a19b8">&#9670;&#160;</a></span>SupportPointCause</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">Slic3r::SupportSpotsGenerator::SupportPointCause</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f" name="aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f"></a>LongBridge&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f" name="aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f"></a>FloatingBridgeAnchor&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42" name="aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42"></a>FloatingExtrusion&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258" name="aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258"></a>SeparationFromBed&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94" name="aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94"></a>UnstableFloatingPart&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f" name="aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f"></a>WeakObjectPart&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                             { </div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f">LongBridge</a>, <span class="comment">// point generated on bridge and straight perimeter extrusion longer than the allowed length </span></div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f">FloatingBridgeAnchor</a>, <span class="comment">// point generated on unsupported bridge endpoint</span></div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42">FloatingExtrusion</a>, <span class="comment">// point generated on extrusion that does not hold on its own</span></div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258">SeparationFromBed</a>, <span class="comment">// point generated for object parts that are connected to the bed, but the area is too small and there is a risk of separation (brim may help)</span></div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94">UnstableFloatingPart</a>, <span class="comment">// point generated for object parts not connected to the bed, holded only by the other support points (brim will not help here)</span></div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_enumvalue" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f">WeakObjectPart</a> <span class="comment">// point generated when some part of the object is too weak to hold the upper part and may break (imagine hourglass)</span></div>
<div class="line"><span class="lineno">   88</span>    };</div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a13e98aabc40ac22bb64feb4d9941f11f">Slic3r::SupportSpotsGenerator::SupportPointCause::FloatingBridgeAnchor</a></div><div class="ttdeci">@ FloatingBridgeAnchor</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a200da0c8f0cde761b147c16b678eeb94">Slic3r::SupportSpotsGenerator::SupportPointCause::UnstableFloatingPart</a></div><div class="ttdeci">@ UnstableFloatingPart</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a4a24655913a3135b7c83fa3f3ba16b42">Slic3r::SupportSpotsGenerator::SupportPointCause::FloatingExtrusion</a></div><div class="ttdeci">@ FloatingExtrusion</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5565326c4864bbef1df6ebb30d1fc73f">Slic3r::SupportSpotsGenerator::SupportPointCause::LongBridge</a></div><div class="ttdeci">@ LongBridge</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5cef87b74cbba62cca5fe72f5cab788f">Slic3r::SupportSpotsGenerator::SupportPointCause::WeakObjectPart</a></div><div class="ttdeci">@ WeakObjectPart</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8a5e30bc9069bd8fe175ec7a206d5c3258">Slic3r::SupportSpotsGenerator::SupportPointCause::SeparationFromBed</a></div><div class="ttdeci">@ SeparationFromBed</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a323d3c78b748fa28d85ac0fc4237ce4f" name="a323d3c78b748fa28d85ac0fc4237ce4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323d3c78b748fa28d85ac0fc4237ce4f">&#9670;&#160;</a></span>build_object_part_from_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; <a class="el" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html">ObjectPart</a>, float &gt; Slic3r::SupportSpotsGenerator::build_object_part_from_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t &amp;&#160;</td>
          <td class="paramname"><em>slice_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  635</span>{</div>
<div class="line"><span class="lineno">  636</span>    <a class="code hl_class" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html">ObjectPart</a> new_object_part;</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordtype">float</span>      area_covered_by_extrusions = 0;</div>
<div class="line"><span class="lineno">  638</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d4/dca/struct_slic3r_1_1_layer_slice.html">LayerSlice</a>&amp; slice = layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#aa278a53580f35ccd76baec669f0f906c">lslices_ex</a>.at(slice_idx);</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>    <span class="keyword">auto</span> add_extrusions_to_object = [&amp;new_object_part, &amp;area_covered_by_extrusions, &amp;params](<span class="keyword">const</span> <a class="code hl_class" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *e,</div>
<div class="line"><span class="lineno">  641</span>                                                                                             <span class="keyword">const</span> <a class="code hl_class" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a>     *region) {</div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordtype">float</span>                      flow_width = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a05352cbc4b4ef95de5d068b3c6ae701c">get_flow_width</a>(region, e-&gt;role());</div>
<div class="line"><span class="lineno">  643</span>        <span class="keyword">const</span> <a class="code hl_class" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a>               *l          = region-&gt;layer();</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordtype">float</span>                      slice_z    = l-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a362a822860dd1965e8c6d6af14931d34">slice_z</a>;</div>
<div class="line"><span class="lineno">  645</span>        <span class="keywordtype">float</span>                      height     = l-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a37f53b1ef3b7fc3131f18845cd9c264a">height</a>;</div>
<div class="line"><span class="lineno">  646</span>        std::vector&lt;ExtrusionLine&gt; lines      = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ac4ad5860faba6feeaf45345a411fb15f">to_short_lines</a>(e, 5.0);</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &amp;line : lines) {</div>
<div class="line"><span class="lineno">  648</span>            <span class="keywordtype">float</span> volume = line.len * height * flow_width * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 4.0f;</div>
<div class="line"><span class="lineno">  649</span>            area_covered_by_extrusions += line.len * flow_width;</div>
<div class="line"><span class="lineno">  650</span>            new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a9ce1c07d15669d6333a477dcd1e92fa8">volume</a> += volume;</div>
<div class="line"><span class="lineno">  651</span>            new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a1979d8239067172c2b0e867ee3ccfddc">volume_centroid_accumulator</a> += <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">to_3d</a>(<a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a>((line.a + line.b) / 2.0f), slice_z) * volume;</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>            <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(l-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>()) == params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a9991c763f452af9cfc734af608fac549">raft_layers_count</a>) { <span class="comment">// layer attached on bed/raft</span></div>
<div class="line"><span class="lineno">  654</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#ac538168b5160b78a5aedbc25c929efdc">connected_to_bed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  655</span>                <span class="keywordtype">float</span> sticking_area              = line.len * flow_width;</div>
<div class="line"><span class="lineno">  656</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#aa01e5c137aaaebaec792b70e62310adc">sticking_area</a> += sticking_area;</div>
<div class="line"><span class="lineno">  657</span>                <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> middle = <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a>((line.a + line.b) / 2.0f);</div>
<div class="line"><span class="lineno">  658</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a155da8e2831f21bb2fde5a210408ade4">sticking_centroid_accumulator</a> += sticking_area * <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">to_3d</a>(middle, slice_z);</div>
<div class="line"><span class="lineno">  659</span>                <span class="comment">// Bottom infill lines can be quite long, and algined, so the middle approximaton used above does not work</span></div>
<div class="line"><span class="lineno">  660</span>                <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> dir            = (line.b - line.a).normalized();</div>
<div class="line"><span class="lineno">  661</span>                <span class="keywordtype">float</span> segment_length = flow_width; <span class="comment">// segments of size flow_width</span></div>
<div class="line"><span class="lineno">  662</span>                <span class="keywordflow">for</span> (<span class="keywordtype">float</span> segment_middle_dist = std::min(line.len, segment_length * 0.5f); segment_middle_dist &lt; line.len;</div>
<div class="line"><span class="lineno">  663</span>                     segment_middle_dist += segment_length) {</div>
<div class="line"><span class="lineno">  664</span>                    <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> segment_middle = line.a + segment_middle_dist * dir;</div>
<div class="line"><span class="lineno">  665</span>                    new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a03782066bd3a9827b4b63132aaa9d2dc">sticking_second_moment_of_area_accumulator</a> += segment_length * flow_width *</div>
<div class="line"><span class="lineno">  666</span>                                                                                  segment_middle.cwiseProduct(segment_middle);</div>
<div class="line"><span class="lineno">  667</span>                    new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#afa08b5c115d692908e27c99c3993d53f">sticking_second_moment_of_area_covariance_accumulator</a> += segment_length * flow_width *</div>
<div class="line"><span class="lineno">  668</span>                                                                                             segment_middle.x() * segment_middle.y();</div>
<div class="line"><span class="lineno">  669</span>                }</div>
<div class="line"><span class="lineno">  670</span>            }</div>
<div class="line"><span class="lineno">  671</span>        }</div>
<div class="line"><span class="lineno">  672</span>    };</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;island : <a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a>.islands) {</div>
<div class="line"><span class="lineno">  675</span>        <span class="keyword">const</span> LayerRegion *perimeter_region = layer-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#aa747b17f754ede787ebf2227cde685e2">get_region</a>(island.perimeters.region());</div>
<div class="line"><span class="lineno">  676</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> perimeter_idx : island.perimeters) {</div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *perimeter :</div>
<div class="line"><span class="lineno">  678</span>                 static_cast&lt;<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> ExtrusionEntityCollection *&gt;(perimeter_region-&gt;perimeters().entities[perimeter_idx])-&gt;entities) {</div>
<div class="line"><span class="lineno">  679</span>                add_extrusions_to_object(perimeter, perimeter_region);</div>
<div class="line"><span class="lineno">  680</span>            }</div>
<div class="line"><span class="lineno">  681</span>        }</div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerExtrusionRange &amp;fill_range : island.fills) {</div>
<div class="line"><span class="lineno">  683</span>            <span class="keyword">const</span> LayerRegion *fill_region = layer-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#aa747b17f754ede787ebf2227cde685e2">get_region</a>(fill_range.region());</div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> fill_idx : fill_range) {</div>
<div class="line"><span class="lineno">  685</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *fill :</div>
<div class="line"><span class="lineno">  686</span>                     static_cast&lt;<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> ExtrusionEntityCollection *&gt;(fill_region-&gt;fills().entities[fill_idx])-&gt;entities) {</div>
<div class="line"><span class="lineno">  687</span>                    add_extrusions_to_object(fill, fill_region);</div>
<div class="line"><span class="lineno">  688</span>                }</div>
<div class="line"><span class="lineno">  689</span>            }</div>
<div class="line"><span class="lineno">  690</span>        }</div>
<div class="line"><span class="lineno">  691</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> thin_fill_idx : island.thin_fills) {</div>
<div class="line"><span class="lineno">  692</span>            add_extrusions_to_object(perimeter_region-&gt;thin_fills().entities[thin_fill_idx], perimeter_region);</div>
<div class="line"><span class="lineno">  693</span>        }</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="comment">//  BRIM HANDLING</span></div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">if</span> (<span class="keywordtype">int</span>(layer-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">id</a>()) == params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a9991c763f452af9cfc734af608fac549">raft_layers_count</a> &amp;&amp; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a9991c763f452af9cfc734af608fac549">raft_layers_count</a> == 0 &amp;&amp; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">brim_type</a> != BrimType::btNoBrim &amp;&amp;</div>
<div class="line"><span class="lineno">  698</span>        params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a2dc874d1b095baa3607f006d85e8af0a">brim_width</a> &gt; 0.0) {</div>
<div class="line"><span class="lineno">  699</span>        <span class="comment">// TODO: The algorithm here should take into account that multiple slices may have coliding Brim areas and the final brim area is</span></div>
<div class="line"><span class="lineno">  700</span>        <span class="comment">// smaller,</span></div>
<div class="line"><span class="lineno">  701</span>        <span class="comment">//  thus has lower adhesion. For now this effect will be neglected.</span></div>
<div class="line"><span class="lineno">  702</span>        ExPolygon  slice_poly = layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">lslices</a>[slice_idx];</div>
<div class="line"><span class="lineno">  703</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a517930244d210021577457148f9a49e3">ExPolygons</a> brim;</div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">if</span> (params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">brim_type</a> == BrimType::btOuterAndInner || params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">brim_type</a> == BrimType::btOuterOnly) {</div>
<div class="line"><span class="lineno">  705</span>            <a class="code hl_typedef" href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">Polygon</a> brim_hole = slice_poly.contour;</div>
<div class="line"><span class="lineno">  706</span>            brim_hole.<a class="code hl_function" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a1d2346fcc6ad14762b3ac851ebe1ddb5">reverse</a>();</div>
<div class="line"><span class="lineno">  707</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3139b5c30f46b41a991edc50308554f6">expand</a>(slice_poly.contour, <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a2dc874d1b095baa3607f006d85e8af0a">brim_width</a>)); <span class="comment">// For very small polygons, the expand may result in empty vector, even thought the input is correct.</span></div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.empty()) {</div>
<div class="line"><span class="lineno">  709</span>                brim.push_back(ExPolygon{<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>.front(), brim_hole});</div>
<div class="line"><span class="lineno">  710</span>            }</div>
<div class="line"><span class="lineno">  711</span>        }</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">if</span> (params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">brim_type</a> == BrimType::btOuterAndInner || params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">brim_type</a> == BrimType::btInnerOnly) {</div>
<div class="line"><span class="lineno">  713</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> brim_contours = slice_poly.holes;</div>
<div class="line"><span class="lineno">  714</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a41c1e9180aa068c805189d12c0c37f65">polygons_reverse</a>(brim_contours);</div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;brim_contour : brim_contours) {</div>
<div class="line"><span class="lineno">  716</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a> brim_holes = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a52e534c040f90def3ba966219488ca87">shrink</a>({brim_contour}, <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a2dc874d1b095baa3607f006d85e8af0a">brim_width</a>));</div>
<div class="line"><span class="lineno">  717</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a41c1e9180aa068c805189d12c0c37f65">polygons_reverse</a>(brim_holes);</div>
<div class="line"><span class="lineno">  718</span>                ExPolygon inner_brim{brim_contour};</div>
<div class="line"><span class="lineno">  719</span>                inner_brim.holes = brim_holes;</div>
<div class="line"><span class="lineno">  720</span>                brim.push_back(inner_brim);</div>
<div class="line"><span class="lineno">  721</span>            }</div>
<div class="line"><span class="lineno">  722</span>        }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;poly : <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">to_polygons</a>(brim)) {</div>
<div class="line"><span class="lineno">  725</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> p0 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(poly.first_point()).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 2; i &lt; poly.points.size(); i++) {</div>
<div class="line"><span class="lineno">  727</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> p1 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(poly.points[i - 1]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  728</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> p2 = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(poly.points[i]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a2cd973ab8e7af30bd57721dfc2859b8f">cross2</a>(p1 - p0, p2 - p1) &gt; 0 ? 1.0f : -1.0f;</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>                <span class="keyword">auto</span> [<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a>, first_moment_of_area, second_moment_area,</div>
<div class="line"><span class="lineno">  733</span>                      second_moment_of_area_covariance] = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0b2fa434f98a8584df230f6db34e412d">compute_moments_of_area_of_triangle</a>(p0, p1, p2);</div>
<div class="line"><span class="lineno">  734</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#aa01e5c137aaaebaec792b70e62310adc">sticking_area</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a>;</div>
<div class="line"><span class="lineno">  735</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a155da8e2831f21bb2fde5a210408ade4">sticking_centroid_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>(first_moment_of_area.x(), first_moment_of_area.y(),</div>
<div class="line"><span class="lineno">  736</span>                                                                              layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">print_z</a> * area);</div>
<div class="line"><span class="lineno">  737</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a03782066bd3a9827b4b63132aaa9d2dc">sticking_second_moment_of_area_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * second_moment_area;</div>
<div class="line"><span class="lineno">  738</span>                new_object_part.<a class="code hl_variable" href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#afa08b5c115d692908e27c99c3993d53f">sticking_second_moment_of_area_covariance_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * second_moment_of_area_covariance;</div>
<div class="line"><span class="lineno">  739</span>            }</div>
<div class="line"><span class="lineno">  740</span>        }</div>
<div class="line"><span class="lineno">  741</span>    }</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> {new_object_part, area_covered_by_extrusions};</div>
<div class="line"><span class="lineno">  744</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a281eccb624a3ff6dacbe305828e43a82"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SignReturnType sign() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:184</div></div>
<div class="ttc" id="aclass_eigen_1_1_matrix_html"><div class="ttname"><a href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt;</a></div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">Slic3r::ExtrusionEntity</a></div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:21</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_line_html"><div class="ttname"><a href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">Slic3r::ExtrusionLine</a></div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:56</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html">Slic3r::Layer</a></div><div class="ttdef"><b>Definition</b> Layer.hpp:312</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a3052da5e28b9b358d43ad43d7e9173ed"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">Slic3r::Layer::lslices</a></div><div class="ttdeci">ExPolygons lslices</div><div class="ttdef"><b>Definition</b> Layer.hpp:339</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a362a822860dd1965e8c6d6af14931d34"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a362a822860dd1965e8c6d6af14931d34">Slic3r::Layer::slice_z</a></div><div class="ttdeci">coordf_t slice_z</div><div class="ttdef"><b>Definition</b> Layer.hpp:323</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a37f53b1ef3b7fc3131f18845cd9c264a"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a37f53b1ef3b7fc3131f18845cd9c264a">Slic3r::Layer::height</a></div><div class="ttdeci">coordf_t height</div><div class="ttdef"><b>Definition</b> Layer.hpp:325</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a3d031d63fa4b34246ca1b1cbbb66b2fc"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a3d031d63fa4b34246ca1b1cbbb66b2fc">Slic3r::Layer::id</a></div><div class="ttdeci">size_t id() const</div><div class="ttdef"><b>Definition</b> Layer.hpp:315</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_a8918ae15322de198ce6d0632feaac9b4"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">Slic3r::Layer::print_z</a></div><div class="ttdeci">coordf_t print_z</div><div class="ttdef"><b>Definition</b> Layer.hpp:324</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_aa278a53580f35ccd76baec669f0f906c"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#aa278a53580f35ccd76baec669f0f906c">Slic3r::Layer::lslices_ex</a></div><div class="ttdeci">LayerSlices lslices_ex</div><div class="ttdef"><b>Definition</b> Layer.hpp:341</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_aa747b17f754ede787ebf2227cde685e2"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#aa747b17f754ede787ebf2227cde685e2">Slic3r::Layer::get_region</a></div><div class="ttdeci">const LayerRegion * get_region(int idx) const</div><div class="ttdef"><b>Definition</b> Layer.hpp:344</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_region_html"><div class="ttname"><a href="../../dd/d90/class_slic3r_1_1_layer_region.html">Slic3r::LayerRegion</a></div><div class="ttdef"><b>Definition</b> Layer.hpp:95</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a1d2346fcc6ad14762b3ac851ebe1ddb5"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a1d2346fcc6ad14762b3ac851ebe1ddb5">Slic3r::MultiPoint::reverse</a></div><div class="ttdeci">void reverse()</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:34</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html">Slic3r::SupportSpotsGenerator::ObjectPart</a></div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:446</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_a03782066bd3a9827b4b63132aaa9d2dc"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a03782066bd3a9827b4b63132aaa9d2dc">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_second_moment_of_area_accumulator</a></div><div class="ttdeci">Vec2f sticking_second_moment_of_area_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:452</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_a155da8e2831f21bb2fde5a210408ade4"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a155da8e2831f21bb2fde5a210408ade4">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_centroid_accumulator</a></div><div class="ttdeci">Vec3f sticking_centroid_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:451</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_a1979d8239067172c2b0e867ee3ccfddc"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a1979d8239067172c2b0e867ee3ccfddc">Slic3r::SupportSpotsGenerator::ObjectPart::volume_centroid_accumulator</a></div><div class="ttdeci">Vec3f volume_centroid_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:449</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_a9ce1c07d15669d6333a477dcd1e92fa8"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#a9ce1c07d15669d6333a477dcd1e92fa8">Slic3r::SupportSpotsGenerator::ObjectPart::volume</a></div><div class="ttdeci">float volume</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:448</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_aa01e5c137aaaebaec792b70e62310adc"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#aa01e5c137aaaebaec792b70e62310adc">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_area</a></div><div class="ttdeci">float sticking_area</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:450</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_ac538168b5160b78a5aedbc25c929efdc"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#ac538168b5160b78a5aedbc25c929efdc">Slic3r::SupportSpotsGenerator::ObjectPart::connected_to_bed</a></div><div class="ttdeci">bool connected_to_bed</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:454</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_spots_generator_1_1_object_part_html_afa08b5c115d692908e27c99c3993d53f"><div class="ttname"><a href="../../db/dee/class_slic3r_1_1_support_spots_generator_1_1_object_part.html#afa08b5c115d692908e27c99c3993d53f">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_second_moment_of_area_covariance_accumulator</a></div><div class="ttdeci">float sticking_second_moment_of_area_covariance_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:453</div></div>
<div class="ttc" id="agetopt_8c_html_a2c212835823e3c54a8ab6d95c652660e"><div class="ttname"><a href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></div><div class="ttdeci">#define const</div><div class="ttdef"><b>Definition</b> getopt.c:38</div></div>
<div class="ttc" id="alibslic3r_8h_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">static constexpr double PI</div><div class="ttdef"><b>Definition</b> libslic3r.h:58</div></div>
<div class="ttc" id="alibslic3r_8h_html_a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a></div><div class="ttdeci">#define scale_(val)</div><div class="ttdef"><b>Definition</b> libslic3r.h:69</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a05352cbc4b4ef95de5d068b3c6ae701c"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a05352cbc4b4ef95de5d068b3c6ae701c">Slic3r::SupportSpotsGenerator::get_flow_width</a></div><div class="ttdeci">float get_flow_width(const LayerRegion *region, ExtrusionRole role)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:240</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_ac4ad5860faba6feeaf45345a411fb15f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ac4ad5860faba6feeaf45345a411fb15f">Slic3r::SupportSpotsGenerator::to_short_lines</a></div><div class="ttdeci">std::vector&lt; ExtrusionLine &gt; to_short_lines(const ExtrusionEntity *e, float length_limit)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:253</div></div>
<div class="ttc" id="anamespace_slic3r_html_a00eaa65faeaecea2aec629f311ce5a1c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Slic3r::Polygons</a></div><div class="ttdeci">std::vector&lt; Polygon, PointsAllocator&lt; Polygon &gt; &gt; Polygons</div><div class="ttdef"><b>Definition</b> Polygon.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0b2fa434f98a8584df230f6db34e412d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0b2fa434f98a8584df230f6db34e412d">Slic3r::compute_moments_of_area_of_triangle</a></div><div class="ttdeci">std::tuple&lt; float, Vec2f, Vec2f, float &gt; compute_moments_of_area_of_triangle(const Vec2f &amp;a, const Vec2f &amp;b, const Vec2f &amp;c)</div><div class="ttdef"><b>Definition</b> PrincipalComponents2D.cpp:13</div></div>
<div class="ttc" id="anamespace_slic3r_html_a2cd973ab8e7af30bd57721dfc2859b8f"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a2cd973ab8e7af30bd57721dfc2859b8f">Slic3r::cross2</a></div><div class="ttdeci">Derived::Scalar cross2(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:93</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3139b5c30f46b41a991edc50308554f6"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3139b5c30f46b41a991edc50308554f6">Slic3r::expand</a></div><div class="ttdeci">Slic3r::Polygons expand(const Slic3r::Polygon &amp;polygon, const float delta, ClipperLib::JoinType joinType=DefaultJoinType, double miterLimit=DefaultMiterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.hpp:363</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3f60c0fef0146fe2b8ee74dee582e83d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">Slic3r::to_3d</a></div><div class="ttdeci">Eigen::Matrix&lt; typename Derived::Scalar, 3, 1, Eigen::DontAlign &gt; to_3d(const Eigen::MatrixBase&lt; Derived &gt; &amp;pt, const typename Derived::Scalar z)</div><div class="ttdef"><b>Definition</b> Point.hpp:127</div></div>
<div class="ttc" id="anamespace_slic3r_html_a41c1e9180aa068c805189d12c0c37f65"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a41c1e9180aa068c805189d12c0c37f65">Slic3r::polygons_reverse</a></div><div class="ttdeci">void polygons_reverse(Polygons &amp;polys)</div><div class="ttdef"><b>Definition</b> Polygon.hpp:163</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4e0a52bc52a09b283b7b06e2f0c272cc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Slic3r::Vec3f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 3, 1, Eigen::DontAlign &gt; Vec3f</div><div class="ttdef"><b>Definition</b> Point.hpp:49</div></div>
<div class="ttc" id="anamespace_slic3r_html_a517930244d210021577457148f9a49e3"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a517930244d210021577457148f9a49e3">Slic3r::ExPolygons</a></div><div class="ttdeci">std::vector&lt; ExPolygon &gt; ExPolygons</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:13</div></div>
<div class="ttc" id="anamespace_slic3r_html_a52e534c040f90def3ba966219488ca87"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a52e534c040f90def3ba966219488ca87">Slic3r::shrink</a></div><div class="ttdeci">Slic3r::Polygons shrink(const Slic3r::Polygons &amp;polygons, const float delta, ClipperLib::JoinType joinType=DefaultJoinType, double miterLimit=DefaultMiterLimit)</div><div class="ttdef"><b>Definition</b> ClipperUtils.hpp:372</div></div>
<div class="ttc" id="anamespace_slic3r_html_a843ba2fe16b213f550fb3d55c55a716e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">Slic3r::to_polygons</a></div><div class="ttdeci">Polygons to_polygons(const ExPolygon &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:281</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab29c118b6283d273408c9700d78ae564"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">Slic3r::unscaled</a></div><div class="ttdeci">constexpr Eigen::Matrix&lt; Tout, 2, EigenArgs... &gt; unscaled(const Slic3r::ClipperLib::IntPoint &amp;v) noexcept</div><div class="ttdef"><b>Definition</b> Arrange.cpp:55</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:48</div></div>
<div class="ttc" id="anamespaceigl_html_ad9d86e6875358ec41c3dbba42a93b675"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">igl::slice</a></div><div class="ttdeci">IGL_INLINE void slice(const Eigen::SparseMatrix&lt; TX &gt; &amp;X, const Eigen::Matrix&lt; int, Eigen::Dynamic, 1 &gt; &amp;R, const Eigen::Matrix&lt; int, Eigen::Dynamic, 1 &gt; &amp;C, Eigen::SparseMatrix&lt; TY &gt; &amp;Y)</div><div class="ttdef"><b>Definition</b> slice.cpp:15</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_a58071852761a9be613103b74cc81e6dc"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">libnest2d::shapelike::area</a></div><div class="ttdeci">Unit area(const Cntr &amp;poly, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:971</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
<div class="ttc" id="anamespacepriv_html_af88c142a935f18fc3794a6a8f2bebaf7"><div class="ttname"><a href="../../dc/db2/namespacepriv.html#af88c142a935f18fc3794a6a8f2bebaf7">priv::Polygon</a></div><div class="ttdeci">Slic3r::Polygon Polygon</div><div class="ttdef"><b>Definition</b> Emboss.cpp:34</div></div>
<div class="ttc" id="astruct_slic3r_1_1_layer_slice_html"><div class="ttname"><a href="../../d4/dca/struct_slic3r_1_1_layer_slice.html">Slic3r::LayerSlice</a></div><div class="ttdef"><b>Definition</b> Layer.hpp:282</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a2dc874d1b095baa3607f006d85e8af0a"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a2dc874d1b095baa3607f006d85e8af0a">Slic3r::SupportSpotsGenerator::Params::brim_width</a></div><div class="ttdeci">const float brim_width</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:43</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a4dc8528096f88ca74ff7fc0e357f003f"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a4dc8528096f88ca74ff7fc0e357f003f">Slic3r::SupportSpotsGenerator::Params::brim_type</a></div><div class="ttdeci">BrimType brim_type</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:42</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a9991c763f452af9cfc734af608fac549"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a9991c763f452af9cfc734af608fac549">Slic3r::SupportSpotsGenerator::Params::raft_layers_count</a></div><div class="ttdeci">const int raft_layers_count</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:39</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00467">Slic3r::area()</a>, <a class="el" href="../../#l00042">Slic3r::SupportSpotsGenerator::Params::brim_type</a>, <a class="el" href="../../#l00043">Slic3r::SupportSpotsGenerator::Params::brim_width</a>, <a class="el" href="../../#l00120">Slic3r::btInnerOnly</a>, <a class="el" href="../../#l00118">Slic3r::btNoBrim</a>, <a class="el" href="../../#l00121">Slic3r::btOuterAndInner</a>, <a class="el" href="../../#l00119">Slic3r::btOuterOnly</a>, <a class="el" href="../../#l00634">build_object_part_from_slice()</a>, <a class="el" href="../../#l00013">Slic3r::compute_moments_of_area_of_triangle()</a>, <a class="el" href="../../#l00454">Slic3r::SupportSpotsGenerator::ObjectPart::connected_to_bed</a>, <a class="el" href="../../#l00035">Slic3r::ExPolygon::contour</a>, <a class="el" href="../../#l00093">Slic3r::cross2()</a>, <a class="el" href="../../#l00032">Slic3r::ExtrusionEntityCollection::entities</a>, <a class="el" href="../../#l00363">Slic3r::expand()</a>, <a class="el" href="../../#l00134">Slic3r::LayerRegion::fills()</a>, <a class="el" href="../../#l00240">get_flow_width()</a>, <a class="el" href="../../#l00344">Slic3r::Layer::get_region()</a>, <a class="el" href="../../#l00325">Slic3r::Layer::height</a>, <a class="el" href="../../#l00036">Slic3r::ExPolygon::holes</a>, <a class="el" href="../../#l00315">Slic3r::Layer::id()</a>, <a class="el" href="../../#l00339">Slic3r::Layer::lslices</a>, <a class="el" href="../../#l00341">Slic3r::Layer::lslices_ex</a>, <a class="el" href="../../#l00130">Slic3r::LayerRegion::perimeters()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00163">Slic3r::polygons_reverse()</a>, <a class="el" href="../../#l00324">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l00039">Slic3r::SupportSpotsGenerator::Params::raft_layers_count</a>, <a class="el" href="../../#l00034">Slic3r::MultiPoint::reverse()</a>, <a class="el" href="../../#l00069">scale_</a>, <a class="el" href="../../#l00044">Slic3r::segment_length()</a>, <a class="el" href="../../#l00372">Slic3r::shrink()</a>, <a class="el" href="../../#l00184">sign()</a>, <a class="el" href="../../#l00323">Slic3r::Layer::slice_z</a>, <a class="el" href="../../#l00450">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_area</a>, <a class="el" href="../../#l00451">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_centroid_accumulator</a>, <a class="el" href="../../#l00452">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_second_moment_of_area_accumulator</a>, <a class="el" href="../../#l00453">Slic3r::SupportSpotsGenerator::ObjectPart::sticking_second_moment_of_area_covariance_accumulator</a>, <a class="el" href="../../#l00123">Slic3r::LayerRegion::thin_fills()</a>, <a class="el" href="../../#l00127">Slic3r::to_3d()</a>, <a class="el" href="../../#l00281">Slic3r::to_polygons()</a>, <a class="el" href="../../#l00253">to_short_lines()</a>, <a class="el" href="../../#l00055">Slic3r::unscaled()</a>, <a class="el" href="../../#l00448">Slic3r::SupportSpotsGenerator::ObjectPart::volume</a>, and <a class="el" href="../../#l00449">Slic3r::SupportSpotsGenerator::ObjectPart::volume_centroid_accumulator</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00634">build_object_part_from_slice()</a>, and <a class="el" href="../../#l00785">check_stability()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a323d3c78b748fa28d85ac0fc4237ce4f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a323d3c78b748fa28d85ac0fc4237ce4f_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9622788ae98ed46eadb1ac94eb15ecb0" name="a9622788ae98ed46eadb1ac94eb15ecb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9622788ae98ed46eadb1ac94eb15ecb0">&#9670;&#160;</a></span>check_extrusion_entity_stability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &gt; Slic3r::SupportSpotsGenerator::check_extrusion_entity_stability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *&#160;</td>
          <td class="paramname"><em>layer_region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a> &amp;&#160;</td>
          <td class="paramname"><em>prev_layer_lines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer</a>&lt; <a class="el" href="../../d4/d28/class_slic3r_1_1_linef.html">Linef</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>prev_layer_boundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  320</span>{</div>
<div class="line"><span class="lineno">  321</span>    assert(!entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#ab890d542e670e7a028a17b651ccba125">is_collection</a>());</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">role</a>().<a class="code hl_function" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#af04ede80599aafb0df44cb8c69ac6bf6">is_bridge</a>() &amp;&amp; !entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">role</a>().<a class="code hl_function" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#adaf18e89ba2a1d416d065c7ccd60da03">is_perimeter</a>()) {</div>
<div class="line"><span class="lineno">  323</span>        <span class="comment">// pure bridges are handled separately, beacuse we need to align the forward and backward direction support points</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">if</span> (entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a0b2e8372a696c6d64d54f2456d213012">length</a>() &lt; <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a33866000e9240e69fc68cad8938c832c">min_distance_to_allow_local_supports</a>)) {</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  326</span>        }</div>
<div class="line"><span class="lineno">  327</span>        <span class="keyword">const</span> <span class="keywordtype">float</span>                flow_width       = get_flow_width(layer_region, entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">role</a>());</div>
<div class="line"><span class="lineno">  328</span>        std::vector&lt;ExtendedPoint&gt; annotated_points = estimate_points_properties&lt;true, true, true, true&gt;(entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">as_polyline</a>().<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>,</div>
<div class="line"><span class="lineno">  329</span>                                                                                                         prev_layer_boundary, flow_width,</div>
<div class="line"><span class="lineno">  330</span>                                                                                                         params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a>);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        std::vector&lt;ExtrusionLine&gt; lines_out;</div>
<div class="line"><span class="lineno">  333</span>        lines_out.reserve(annotated_points.size());</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordtype">float</span> bridged_distance = 0.0f;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>        std::optional&lt;Vec2d&gt; bridging_dir{};</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; annotated_points.size(); ++i) {</div>
<div class="line"><span class="lineno">  339</span>            ExtendedPoint &amp;curr_point = annotated_points[i];</div>
<div class="line"><span class="lineno">  340</span>            <span class="keyword">const</span> ExtendedPoint &amp;prev_point = i &gt; 0 ? annotated_points[i - 1] : annotated_points[i];</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>            <a class="code hl_enumeration" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a> potential_cause = std::abs(curr_point.curvature) &gt; 0.1 ? SupportPointCause::FloatingBridgeAnchor :</div>
<div class="line"><span class="lineno">  343</span>                                                                                       SupportPointCause::LongBridge;</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordtype">float</span>             line_len        = (prev_point.position - curr_point.position).norm();</div>
<div class="line"><span class="lineno">  345</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a> line_dir = line_len &gt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a> ? <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>((curr_point.position - prev_point.position) / <span class="keywordtype">double</span>(line_len)) : <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>::Zero();</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>            ExtrusionLine line_out{prev_point.position.cast&lt;<span class="keywordtype">float</span>&gt;(), curr_point.position.cast&lt;<span class="keywordtype">float</span>&gt;(), line_len, entity};</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordtype">float</span> max_bridge_len = std::max(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a78b870f355c17120f5f41639f908d02a">support_points_interface_radius</a> * 2.0f,</div>
<div class="line"><span class="lineno">  350</span>                                            params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a> /</div>
<div class="line"><span class="lineno">  351</span>                                                ((1.0f + std::abs(curr_point.curvature)) * (1.0f + std::abs(curr_point.curvature)) *</div>
<div class="line"><span class="lineno">  352</span>                                                 (1.0f + std::abs(curr_point.curvature))));</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordflow">if</span> (!bridging_dir.has_value() &amp;&amp; curr_point.distance &gt; flow_width &amp;&amp; line_len &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a> * 0.6) {</div>
<div class="line"><span class="lineno">  355</span>                bridging_dir = line_dir;</div>
<div class="line"><span class="lineno">  356</span>            }</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">if</span> (curr_point.distance &gt; flow_width &amp;&amp; potential_cause == SupportPointCause::LongBridge &amp;&amp; bridging_dir.has_value() &amp;&amp;</div>
<div class="line"><span class="lineno">  359</span>                bridging_dir-&gt;dot(line_dir) &lt; 0.8) { <span class="comment">// skip backward direction of bridge - supported by forward points enough</span></div>
<div class="line"><span class="lineno">  360</span>                bridged_distance += line_len;</div>
<div class="line"><span class="lineno">  361</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curr_point.distance &gt; flow_width) {</div>
<div class="line"><span class="lineno">  362</span>                bridged_distance += line_len;</div>
<div class="line"><span class="lineno">  363</span>                <span class="keywordflow">if</span> (bridged_distance &gt; max_bridge_len) {</div>
<div class="line"><span class="lineno">  364</span>                    bridged_distance                 = 0.0f;</div>
<div class="line"><span class="lineno">  365</span>                    line_out.support_point_generated = potential_cause;</div>
<div class="line"><span class="lineno">  366</span>                }</div>
<div class="line"><span class="lineno">  367</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  368</span>                bridged_distance = 0.0f;</div>
<div class="line"><span class="lineno">  369</span>            }</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>            lines_out.push_back(line_out);</div>
<div class="line"><span class="lineno">  372</span>        }</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">return</span> lines_out;</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    } <span class="keywordflow">else</span> { <span class="comment">// single extrusion path, with possible varying parameters</span></div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">if</span> (entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a0b2e8372a696c6d64d54f2456d213012">length</a>() &lt; <a class="code hl_define" href="../../dd/d47/libslic3r_8h.html#a5e7dd5d14b7e7bb8f1dab0fd4fa3e0f2">scale_</a>(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a33866000e9240e69fc68cad8938c832c">min_distance_to_allow_local_supports</a>)) {</div>
<div class="line"><span class="lineno">  377</span>            <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> flow_width = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a05352cbc4b4ef95de5d068b3c6ae701c">get_flow_width</a>(layer_region, entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">role</a>());</div>
<div class="line"><span class="lineno">  381</span>        <span class="comment">// Compute only unsigned distance - prev_layer_lines can contain unconnected paths, thus the sign of the distance is unreliable</span></div>
<div class="line"><span class="lineno">  382</span>        std::vector&lt;ExtendedPoint&gt; annotated_points = estimate_points_properties&lt;true, true, false, false&gt;(entity-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">as_polyline</a>().<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>,</div>
<div class="line"><span class="lineno">  383</span>                                                                                                           prev_layer_lines, flow_width,</div>
<div class="line"><span class="lineno">  384</span>                                                                                                           params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a>);</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        std::vector&lt;ExtrusionLine&gt; lines_out;</div>
<div class="line"><span class="lineno">  387</span>        lines_out.reserve(annotated_points.size());</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordtype">float</span> bridged_distance = annotated_points.front().position != annotated_points.back().position ? (params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a> + 1.0f) :</div>
<div class="line"><span class="lineno">  389</span>                                                                                                         0.0f;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; annotated_points.size(); ++i) {</div>
<div class="line"><span class="lineno">  391</span>            ExtendedPoint       &amp;curr_point = annotated_points[i];</div>
<div class="line"><span class="lineno">  392</span>            <span class="keyword">const</span> ExtendedPoint &amp;prev_point = i &gt; 0 ? annotated_points[i - 1] : annotated_points[i];</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordtype">float</span>                line_len   = (prev_point.position - curr_point.position).norm();</div>
<div class="line"><span class="lineno">  394</span>            ExtrusionLine        line_out{prev_point.position.cast&lt;<span class="keywordtype">float</span>&gt;(), curr_point.position.cast&lt;<span class="keywordtype">float</span>&gt;(), line_len, entity};</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> middle                               = 0.5 * (line_out.a + line_out.b);</div>
<div class="line"><span class="lineno">  397</span>            <span class="keyword">auto</span> [middle_distance, bottom_line_idx, <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>] = prev_layer_lines.<a class="code hl_function" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#ada17f2d64c97f226bcdbb850828b607d">distance_from_lines_extra</a>&lt;<span class="keyword">false</span>&gt;(middle);</div>
<div class="line"><span class="lineno">  398</span>            ExtrusionLine bottom_line = prev_layer_lines.<a class="code hl_function" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a1591df0c6080fcb5aafa6a2d19c0ea87">get_lines</a>().empty() ? ExtrusionLine{} : prev_layer_lines.<a class="code hl_function" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a43ab73c24e5852ec3f774e88f3cbf8d6">get_line</a>(bottom_line_idx);</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>            <span class="comment">// correctify the distance sign using slice polygons</span></div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordtype">float</span> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = (prev_layer_boundary.<a class="code hl_function" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a8115620eb444735611c155143460572c">distance_from_lines</a>&lt;<span class="keyword">true</span>&gt;(curr_point.position) + 0.5f * flow_width) &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line"><span class="lineno">  402</span>            curr_point.distance *= <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a>;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>            <a class="code hl_enumeration" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a> potential_cause = SupportPointCause::FloatingExtrusion;</div>
<div class="line"><span class="lineno">  405</span>            <span class="comment">// Bridges are now separated. While long overhang perimeter is technically bridge, it would confuse the users</span></div>
<div class="line"><span class="lineno">  406</span>            <span class="comment">// if (bridged_distance + line_len &gt; params.bridge_distance * 0.8 &amp;&amp; std::abs(curr_point.curvature) &lt; 0.1) {</span></div>
<div class="line"><span class="lineno">  407</span>            <span class="comment">//     potential_cause = SupportPointCause::FloatingExtrusion;</span></div>
<div class="line"><span class="lineno">  408</span>            <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>            <span class="keywordtype">float</span> max_bridge_len = std::max(params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a78b870f355c17120f5f41639f908d02a">support_points_interface_radius</a> * 2.0f,</div>
<div class="line"><span class="lineno">  411</span>                                            params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a> /</div>
<div class="line"><span class="lineno">  412</span>                                                ((1.0f + std::abs(curr_point.curvature)) * (1.0f + std::abs(curr_point.curvature)) *</div>
<div class="line"><span class="lineno">  413</span>                                                 (1.0f + std::abs(curr_point.curvature))));</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>            <span class="keywordflow">if</span> (curr_point.distance &gt; 1.2f * flow_width) {</div>
<div class="line"><span class="lineno">  416</span>                line_out.form_quality = 0.8f;</div>
<div class="line"><span class="lineno">  417</span>                bridged_distance += line_len;</div>
<div class="line"><span class="lineno">  418</span>                <span class="keywordflow">if</span> (bridged_distance &gt; max_bridge_len) {</div>
<div class="line"><span class="lineno">  419</span>                    line_out.support_point_generated = potential_cause;</div>
<div class="line"><span class="lineno">  420</span>                    bridged_distance                 = 0.0f;</div>
<div class="line"><span class="lineno">  421</span>                }</div>
<div class="line"><span class="lineno">  422</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curr_point.distance &gt; flow_width * 0.8f) {</div>
<div class="line"><span class="lineno">  423</span>                bridged_distance += line_len;</div>
<div class="line"><span class="lineno">  424</span>                line_out.form_quality = bottom_line.form_quality - 0.3f;</div>
<div class="line"><span class="lineno">  425</span>                <span class="keywordflow">if</span> (line_out.form_quality &lt; 0 &amp;&amp; bridged_distance &gt; max_bridge_len) {</div>
<div class="line"><span class="lineno">  426</span>                    line_out.support_point_generated = potential_cause;</div>
<div class="line"><span class="lineno">  427</span>                    line_out.form_quality            = 0.5f;</div>
<div class="line"><span class="lineno">  428</span>                    bridged_distance                 = 0.0f;</div>
<div class="line"><span class="lineno">  429</span>                }</div>
<div class="line"><span class="lineno">  430</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  431</span>                bridged_distance = 0.0f;</div>
<div class="line"><span class="lineno">  432</span>            }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>            line_out.curled_up_height = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#afc505bebcd45db5807a4e0dffcf5573f">estimate_curled_up_height</a>(middle_distance, 0.5 * (prev_point.curvature + curr_point.curvature),</div>
<div class="line"><span class="lineno">  435</span>                                                                  layer_region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a92abe1aee488feb174bc5cc13d76ed6a">layer</a>()-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a37f53b1ef3b7fc3131f18845cd9c264a">height</a>, flow_width, bottom_line.curled_up_height,</div>
<div class="line"><span class="lineno">  436</span>                                                                  params);</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>            lines_out.push_back(line_out);</div>
<div class="line"><span class="lineno">  439</span>        }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">return</span> lines_out;</div>
<div class="line"><span class="lineno">  442</span>    }</div>
<div class="line"><span class="lineno">  443</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer_html_a1591df0c6080fcb5aafa6a2d19c0ea87"><div class="ttname"><a href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a1591df0c6080fcb5aafa6a2d19c0ea87">Slic3r::AABBTreeLines::LinesDistancer::get_lines</a></div><div class="ttdeci">const std::vector&lt; LineType &gt; &amp; get_lines() const</div><div class="ttdef"><b>Definition</b> AABBTreeLines.hpp:360</div></div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer_html_a43ab73c24e5852ec3f774e88f3cbf8d6"><div class="ttname"><a href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a43ab73c24e5852ec3f774e88f3cbf8d6">Slic3r::AABBTreeLines::LinesDistancer::get_line</a></div><div class="ttdeci">const LineType &amp; get_line(size_t line_idx) const</div><div class="ttdef"><b>Definition</b> AABBTreeLines.hpp:358</div></div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer_html_a8115620eb444735611c155143460572c"><div class="ttname"><a href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#a8115620eb444735611c155143460572c">Slic3r::AABBTreeLines::LinesDistancer::distance_from_lines</a></div><div class="ttdeci">Floating distance_from_lines(const Vec&lt; 2, Scalar &gt; &amp;point) const</div><div class="ttdef"><b>Definition</b> AABBTreeLines.hpp:342</div></div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer_html_ada17f2d64c97f226bcdbb850828b607d"><div class="ttname"><a href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html#ada17f2d64c97f226bcdbb850828b607d">Slic3r::AABBTreeLines::LinesDistancer::distance_from_lines_extra</a></div><div class="ttdeci">std::tuple&lt; Floating, size_t, Vec&lt; 2, Floating &gt; &gt; distance_from_lines_extra(const Vec&lt; 2, Scalar &gt; &amp;point) const</div><div class="ttdef"><b>Definition</b> AABBTreeLines.hpp:323</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html_a0b2e8372a696c6d64d54f2456d213012"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a0b2e8372a696c6d64d54f2456d213012">Slic3r::ExtrusionEntity::length</a></div><div class="ttdeci">virtual double length() const =0</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html_a544c006b473b7583da8dcd97d94c25bb"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">Slic3r::ExtrusionEntity::as_polyline</a></div><div class="ttdeci">virtual Polyline as_polyline() const =0</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html_a6b1e28b60ecc15255957036f7860a2e5"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">Slic3r::ExtrusionEntity::role</a></div><div class="ttdeci">virtual ExtrusionRole role() const =0</div></div>
<div class="ttc" id="aclass_slic3r_1_1_extrusion_entity_html_ab890d542e670e7a028a17b651ccba125"><div class="ttname"><a href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#ab890d542e670e7a028a17b651ccba125">Slic3r::ExtrusionEntity::is_collection</a></div><div class="ttdeci">virtual bool is_collection() const</div><div class="ttdef"><b>Definition</b> ExtrusionEntity.hpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_region_html_a92abe1aee488feb174bc5cc13d76ed6a"><div class="ttname"><a href="../../dd/d90/class_slic3r_1_1_layer_region.html#a92abe1aee488feb174bc5cc13d76ed6a">Slic3r::LayerRegion::layer</a></div><div class="ttdeci">Layer * layer()</div><div class="ttdef"><b>Definition</b> Layer.hpp:97</div></div>
<div class="ttc" id="aclass_slic3r_1_1_multi_point_html_a5f33254e616268f728969886c4ed5d85"><div class="ttname"><a href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">Slic3r::MultiPoint::points</a></div><div class="ttdeci">Points points</div><div class="ttdef"><b>Definition</b> MultiPoint.hpp:18</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:51</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_aa9785768f27cd1989feaa66ee30a19b8"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">Slic3r::SupportSpotsGenerator::SupportPointCause</a></div><div class="ttdeci">SupportPointCause</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:81</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_afc505bebcd45db5807a4e0dffcf5573f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#afc505bebcd45db5807a4e0dffcf5573f">Slic3r::SupportSpotsGenerator::estimate_curled_up_height</a></div><div class="ttdeci">float estimate_curled_up_height(float distance, float curvature, float layer_height, float flow_width, float prev_line_curled_height, Params params)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:276</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:51</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1pointlike_html_a1e3045df0bee66333beaa96a9a1b6c9d"><div class="ttname"><a href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">libnest2d::pointlike::x</a></div><div class="ttdeci">TCoord&lt; P &gt; x(const P &amp;p)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:297</div></div>
<div class="ttc" id="astruct_slic3r_1_1_extrusion_role_html_adaf18e89ba2a1d416d065c7ccd60da03"><div class="ttname"><a href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#adaf18e89ba2a1d416d065c7ccd60da03">Slic3r::ExtrusionRole::is_perimeter</a></div><div class="ttdeci">bool is_perimeter() const</div><div class="ttdef"><b>Definition</b> ExtrusionRole.hpp:81</div></div>
<div class="ttc" id="astruct_slic3r_1_1_extrusion_role_html_af04ede80599aafb0df44cb8c69ac6bf6"><div class="ttname"><a href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#af04ede80599aafb0df44cb8c69ac6bf6">Slic3r::ExtrusionRole::is_bridge</a></div><div class="ttdeci">bool is_bridge() const</div><div class="ttdef"><b>Definition</b> ExtrusionRole.hpp:86</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a33866000e9240e69fc68cad8938c832c"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a33866000e9240e69fc68cad8938c832c">Slic3r::SupportSpotsGenerator::Params::min_distance_to_allow_local_supports</a></div><div class="ttdeci">const float min_distance_to_allow_local_supports</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:51</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a78b870f355c17120f5f41639f908d02a"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a78b870f355c17120f5f41639f908d02a">Slic3r::SupportSpotsGenerator::Params::support_points_interface_radius</a></div><div class="ttdeci">const float support_points_interface_radius</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:50</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a8dd9a3fd4f2dbf82a5153ee2e093884b"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">Slic3r::SupportSpotsGenerator::Params::bridge_distance</a></div><div class="ttdeci">const float bridge_distance</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">Slic3r::ExtrusionEntity::as_polyline()</a>, <a class="el" href="../../#l00036">Slic3r::SupportSpotsGenerator::Params::bridge_distance</a>, <a class="el" href="../../#l00315">check_extrusion_entity_stability()</a>, <a class="el" href="../../#l00080">Slic3r::ExtrusionLine::curled_up_height</a>, <a class="el" href="../../#l00035">Slic3r::ExtendedPoint::curvature</a>, <a class="el" href="../../#l00034">Slic3r::ExtendedPoint::distance</a>, <a class="el" href="../../#l00342">Slic3r::AABBTreeLines::LinesDistancer&lt; LineType &gt;::distance_from_lines()</a>, <a class="el" href="../../#l00323">Slic3r::AABBTreeLines::LinesDistancer&lt; LineType &gt;::distance_from_lines_extra()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00276">estimate_curled_up_height()</a>, <a class="el" href="../../#l00079">Slic3r::ExtrusionLine::form_quality</a>, <a class="el" href="../../#l00240">get_flow_width()</a>, <a class="el" href="../../#l00358">Slic3r::AABBTreeLines::LinesDistancer&lt; LineType &gt;::get_line()</a>, <a class="el" href="../../#l00360">Slic3r::AABBTreeLines::LinesDistancer&lt; LineType &gt;::get_lines()</a>, <a class="el" href="../../#l00325">Slic3r::Layer::height</a>, <a class="el" href="../../#l00086">Slic3r::ExtrusionRole::is_bridge()</a>, <a class="el" href="../../#l00024">Slic3r::ExtrusionEntity::is_collection()</a>, <a class="el" href="../../#l00081">Slic3r::ExtrusionRole::is_perimeter()</a>, <a class="el" href="../../#l00097">Slic3r::LayerRegion::layer()</a>, <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a0b2e8372a696c6d64d54f2456d213012">Slic3r::ExtrusionEntity::length()</a>, <a class="el" href="../../#l00051">Slic3r::SupportSpotsGenerator::Params::min_distance_to_allow_local_supports</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00033">Slic3r::ExtendedPoint::position</a>, <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a6b1e28b60ecc15255957036f7860a2e5">Slic3r::ExtrusionEntity::role()</a>, <a class="el" href="../../#l00069">scale_</a>, <a class="el" href="../../#l00184">sign()</a>, and <a class="el" href="../../#l00050">Slic3r::SupportSpotsGenerator::Params::support_points_interface_radius</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00315">check_extrusion_entity_stability()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a9622788ae98ed46eadb1ac94eb15ecb0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a9622788ae98ed46eadb1ac94eb15ecb0_icgraph.svg" width="210" height="91"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8f802b17e7dae439d910f48e5c36ca19" name="a8f802b17e7dae439d910f48e5c36ca19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f802b17e7dae439d910f48e5c36ca19">&#9670;&#160;</a></span>check_stability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a>, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &gt; Slic3r::SupportSpotsGenerator::check_stability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a> &amp;&#160;</td>
          <td class="paramname"><em>precomputed_slices_connections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2b/class_slic3r_1_1_print_try_cancel.html">PrintTryCancel</a> &amp;&#160;</td>
          <td class="paramname"><em>cancel_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  789</span>{</div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a>     supp_points{};</div>
<div class="line"><span class="lineno">  791</span>    SupportGridFilter supports_presence_grid(po, params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#af7dc52e6e62c55df91629b35169b8b04">min_distance_between_support_points</a>);</div>
<div class="line"><span class="lineno">  792</span>    ActiveObjectParts active_object_parts{};</div>
<div class="line"><span class="lineno">  793</span>    PartialObjects    partial_objects{};</div>
<div class="line"><span class="lineno">  794</span>    <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a>                prev_layer_ext_perim_lines;</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    std::unordered_map&lt;size_t, size_t&gt;          prev_slice_idx_to_object_part_mapping;</div>
<div class="line"><span class="lineno">  797</span>    std::unordered_map&lt;size_t, size_t&gt;          next_slice_idx_to_object_part_mapping;</div>
<div class="line"><span class="lineno">  798</span>    std::unordered_map&lt;size_t, SliceConnection&gt; prev_slice_idx_to_weakest_connection;</div>
<div class="line"><span class="lineno">  799</span>    std::unordered_map&lt;size_t, SliceConnection&gt; next_slice_idx_to_weakest_connection;</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    <span class="keyword">auto</span> remember_partial_object = [&amp;active_object_parts, &amp;partial_objects](<span class="keywordtype">size_t</span> object_part_id) {</div>
<div class="line"><span class="lineno">  802</span>        <span class="keyword">auto</span> object_part = active_object_parts.access(object_part_id);</div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordflow">if</span> (object_part.volume &gt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno">  804</span>            partial_objects.emplace_back(object_part.volume_centroid_accumulator / object_part.volume, object_part.volume,</div>
<div class="line"><span class="lineno">  805</span>                                         object_part.connected_to_bed);</div>
<div class="line"><span class="lineno">  806</span>        }</div>
<div class="line"><span class="lineno">  807</span>    };</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> layer_idx = 0; layer_idx &lt; po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#aea3e7f3fc4b46b4290105f655edcde47">layer_count</a>(); ++layer_idx) {</div>
<div class="line"><span class="lineno">  810</span>        cancel_func();</div>
<div class="line"><span class="lineno">  811</span>        <span class="keyword">const</span> Layer *layer                 = po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#aeb29a80908c06dd8644112f4cfff9354">get_layer</a>(layer_idx);</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordtype">float</span>        bottom_z              = layer-&gt;<a class="code hl_function" href="../../d1/d68/class_slic3r_1_1_layer.html#abdaf2fa25fbc0bc32cdcd71f53583845">bottom_z</a>();</div>
<div class="line"><span class="lineno">  813</span>        <span class="keyword">auto</span> create_support_point_position = [bottom_z](<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;layer_pos) { <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>{layer_pos.x(), layer_pos.y(), bottom_z}; };</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> slice_idx = 0; slice_idx &lt; layer-&gt;lslices_ex.size(); ++slice_idx) {</div>
<div class="line"><span class="lineno">  816</span>            <span class="keyword">const</span> LayerSlice &amp;<a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a>             = layer-&gt;lslices_ex.at(slice_idx);</div>
<div class="line"><span class="lineno">  817</span>            <span class="keyword">auto</span> [new_part, covered_area]              = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a323d3c78b748fa28d85ac0fc4237ce4f">build_object_part_from_slice</a>(slice_idx, layer, params);</div>
<div class="line"><span class="lineno">  818</span>            <span class="keyword">const</span> SliceConnection &amp;connection_to_below = precomputed_slices_connections[layer_idx][slice_idx];</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span><span class="preprocessor">#ifdef DETAILED_DEBUG_LOGS</span></div>
<div class="line"><span class="lineno">  821</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;SLICE IDX: &quot;</span> &lt;&lt; slice_idx &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  822</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;link : <a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a>.overlaps_below) {</div>
<div class="line"><span class="lineno">  823</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;connected to slice below: &quot;</span> &lt;&lt; link.slice_idx &lt;&lt; <span class="stringliteral">&quot;  by area : &quot;</span> &lt;&lt; link.area &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  824</span>            }</div>
<div class="line"><span class="lineno">  825</span>            connection_to_below.print_info(<span class="stringliteral">&quot;CONNECTION TO BELOW&quot;</span>);</div>
<div class="line"><span class="lineno">  826</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>            <span class="keywordflow">if</span> (connection_to_below.area &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) { <span class="comment">// new object part emerging</span></div>
<div class="line"><span class="lineno">  829</span>                <span class="keywordtype">size_t</span> part_id = active_object_parts.insert(new_part);</div>
<div class="line"><span class="lineno">  830</span>                next_slice_idx_to_object_part_mapping.emplace(slice_idx, part_id);</div>
<div class="line"><span class="lineno">  831</span>                next_slice_idx_to_weakest_connection.emplace(slice_idx, connection_to_below);</div>
<div class="line"><span class="lineno">  832</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  833</span>                <span class="keywordtype">size_t</span>          final_part_id{};</div>
<div class="line"><span class="lineno">  834</span>                SliceConnection transfered_weakest_connection{};</div>
<div class="line"><span class="lineno">  835</span>                <span class="comment">// MERGE parts</span></div>
<div class="line"><span class="lineno">  836</span>                {</div>
<div class="line"><span class="lineno">  837</span>                    std::unordered_set&lt;size_t&gt; parts_ids;</div>
<div class="line"><span class="lineno">  838</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;link : <a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a>.overlaps_below) {</div>
<div class="line"><span class="lineno">  839</span>                        <span class="keywordtype">size_t</span> part_id = active_object_parts.get_flat_id(prev_slice_idx_to_object_part_mapping.at(link.slice_idx));</div>
<div class="line"><span class="lineno">  840</span>                        parts_ids.insert(part_id);</div>
<div class="line"><span class="lineno">  841</span>                        transfered_weakest_connection.add(prev_slice_idx_to_weakest_connection.at(link.slice_idx));</div>
<div class="line"><span class="lineno">  842</span>                    }</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>                    final_part_id = *parts_ids.begin();</div>
<div class="line"><span class="lineno">  845</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> part_id : parts_ids) {</div>
<div class="line"><span class="lineno">  846</span>                        <span class="keywordflow">if</span> (final_part_id != part_id) {</div>
<div class="line"><span class="lineno">  847</span>                            remember_partial_object(part_id);</div>
<div class="line"><span class="lineno">  848</span>                            active_object_parts.merge(part_id, final_part_id);</div>
<div class="line"><span class="lineno">  849</span>                        }</div>
<div class="line"><span class="lineno">  850</span>                    }</div>
<div class="line"><span class="lineno">  851</span>                }</div>
<div class="line"><span class="lineno">  852</span>                <span class="keyword">auto</span> estimate_conn_strength = [bottom_z](<span class="keyword">const</span> SliceConnection &amp;conn) {</div>
<div class="line"><span class="lineno">  853</span>                    <span class="keywordflow">if</span> (conn.area &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) { <span class="comment">// connection is empty, does not exists. Return max strength so that it is not picked as the</span></div>
<div class="line"><span class="lineno">  854</span>                                               <span class="comment">// weakest connection.</span></div>
<div class="line"><span class="lineno">  855</span>                        <span class="keywordflow">return</span> INFINITY;</div>
<div class="line"><span class="lineno">  856</span>                    }</div>
<div class="line"><span class="lineno">  857</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a8bd6edbfedb52831984c7edd2cc3e0a9">centroid</a>         = conn.centroid_accumulator / conn.area;</div>
<div class="line"><span class="lineno">  858</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> variance         = (conn.second_moment_of_area_accumulator / conn.area -</div>
<div class="line"><span class="lineno">  859</span>                                      <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a8bd6edbfedb52831984c7edd2cc3e0a9">centroid</a>.head&lt;2&gt;().cwiseProduct(<a class="code hl_function" href="../../dc/d25/namespaceigl.html#a8bd6edbfedb52831984c7edd2cc3e0a9">centroid</a>.head&lt;2&gt;()));</div>
<div class="line"><span class="lineno">  860</span>                    <span class="keywordtype">float</span> xy_variance      = variance.x() + variance.y();</div>
<div class="line"><span class="lineno">  861</span>                    <span class="keywordtype">float</span> arm_len_estimate = std::max(1.0f, bottom_z - (conn.centroid_accumulator.z() / conn.area));</div>
<div class="line"><span class="lineno">  862</span>                    <span class="keywordflow">return</span> conn.area * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(xy_variance) / arm_len_estimate;</div>
<div class="line"><span class="lineno">  863</span>                };</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span><span class="preprocessor">#ifdef DETAILED_DEBUG_LOGS</span></div>
<div class="line"><span class="lineno">  866</span>                connection_to_below.print_info(<span class="stringliteral">&quot;new_weakest_connection&quot;</span>);</div>
<div class="line"><span class="lineno">  867</span>                transfered_weakest_connection.print_info(<span class="stringliteral">&quot;transfered_weakest_connection&quot;</span>);</div>
<div class="line"><span class="lineno">  868</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>                <span class="keywordflow">if</span> (estimate_conn_strength(transfered_weakest_connection) &gt; estimate_conn_strength(connection_to_below)) {</div>
<div class="line"><span class="lineno">  871</span>                    transfered_weakest_connection = connection_to_below;</div>
<div class="line"><span class="lineno">  872</span>                }</div>
<div class="line"><span class="lineno">  873</span>                next_slice_idx_to_weakest_connection.emplace(slice_idx, transfered_weakest_connection);</div>
<div class="line"><span class="lineno">  874</span>                next_slice_idx_to_object_part_mapping.emplace(slice_idx, final_part_id);</div>
<div class="line"><span class="lineno">  875</span>                ObjectPart &amp;part = active_object_parts.access(final_part_id);</div>
<div class="line"><span class="lineno">  876</span>                part.add(new_part);</div>
<div class="line"><span class="lineno">  877</span>            }</div>
<div class="line"><span class="lineno">  878</span>        }</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>        prev_slice_idx_to_object_part_mapping = next_slice_idx_to_object_part_mapping;</div>
<div class="line"><span class="lineno">  881</span>        next_slice_idx_to_object_part_mapping.clear();</div>
<div class="line"><span class="lineno">  882</span>        prev_slice_idx_to_weakest_connection = next_slice_idx_to_weakest_connection;</div>
<div class="line"><span class="lineno">  883</span>        next_slice_idx_to_weakest_connection.clear();</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>        <span class="keyword">auto</span> get_flat_entities = [](<span class="keyword">const</span> ExtrusionEntity *e) {</div>
<div class="line"><span class="lineno">  886</span>            std::vector&lt;const ExtrusionEntity *&gt; entities;</div>
<div class="line"><span class="lineno">  887</span>            std::vector&lt;const ExtrusionEntity *&gt; queue{e};</div>
<div class="line"><span class="lineno">  888</span>            <span class="keywordflow">while</span> (!queue.empty()) {</div>
<div class="line"><span class="lineno">  889</span>                <span class="keyword">const</span> ExtrusionEntity *next = queue.back();</div>
<div class="line"><span class="lineno">  890</span>                queue.pop_back();</div>
<div class="line"><span class="lineno">  891</span>                <span class="keywordflow">if</span> (next-&gt;is_collection()) {</div>
<div class="line"><span class="lineno">  892</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *e : static_cast&lt;<a class="code hl_define" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> ExtrusionEntityCollection *&gt;(next)-&gt;entities) {</div>
<div class="line"><span class="lineno">  893</span>                        queue.push_back(e);</div>
<div class="line"><span class="lineno">  894</span>                    }</div>
<div class="line"><span class="lineno">  895</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  896</span>                    entities.push_back(next);</div>
<div class="line"><span class="lineno">  897</span>                }</div>
<div class="line"><span class="lineno">  898</span>            }</div>
<div class="line"><span class="lineno">  899</span>            <span class="keywordflow">return</span> entities;</div>
<div class="line"><span class="lineno">  900</span>        };</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>        <span class="keyword">struct </span>EnitityToCheck</div>
<div class="line"><span class="lineno">  903</span>        {</div>
<div class="line"><span class="lineno">  904</span>            <span class="keyword">const</span> ExtrusionEntity *e;</div>
<div class="line"><span class="lineno">  905</span>            <span class="keyword">const</span> LayerRegion     *region;</div>
<div class="line"><span class="lineno">  906</span>            <span class="keywordtype">size_t</span>                 slice_idx;</div>
<div class="line"><span class="lineno">  907</span>        };</div>
<div class="line"><span class="lineno">  908</span>        std::vector&lt;EnitityToCheck&gt; entities_to_check;</div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> slice_idx = 0; slice_idx &lt; layer-&gt;lslices_ex.size(); ++slice_idx) {</div>
<div class="line"><span class="lineno">  910</span>            <span class="keyword">const</span> LayerSlice &amp;<a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a> = layer-&gt;lslices_ex.at(slice_idx);</div>
<div class="line"><span class="lineno">  911</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;island : <a class="code hl_function" href="../../dc/d25/namespaceigl.html#ad9d86e6875358ec41c3dbba42a93b675">slice</a>.islands) {</div>
<div class="line"><span class="lineno">  912</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerExtrusionRange &amp;fill_range : island.fills) {</div>
<div class="line"><span class="lineno">  913</span>                    <span class="keyword">const</span> LayerRegion *fill_region = layer-&gt;get_region(fill_range.region());</div>
<div class="line"><span class="lineno">  914</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> fill_idx : fill_range) {</div>
<div class="line"><span class="lineno">  915</span>                        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *e : get_flat_entities(fill_region-&gt;fills().entities[fill_idx])) {</div>
<div class="line"><span class="lineno">  916</span>                            <span class="keywordflow">if</span> (e-&gt;role() == ExtrusionRole::BridgeInfill) {</div>
<div class="line"><span class="lineno">  917</span>                                entities_to_check.push_back({e, fill_region, slice_idx});</div>
<div class="line"><span class="lineno">  918</span>                            }</div>
<div class="line"><span class="lineno">  919</span>                        }</div>
<div class="line"><span class="lineno">  920</span>                    }</div>
<div class="line"><span class="lineno">  921</span>                }</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>                <span class="keyword">const</span> LayerRegion *perimeter_region = layer-&gt;get_region(island.perimeters.region());</div>
<div class="line"><span class="lineno">  924</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> perimeter_idx : island.perimeters) {</div>
<div class="line"><span class="lineno">  925</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *e : get_flat_entities(perimeter_region-&gt;perimeters().entities[perimeter_idx])) {</div>
<div class="line"><span class="lineno">  926</span>                        entities_to_check.push_back({e, perimeter_region, slice_idx});</div>
<div class="line"><span class="lineno">  927</span>                    }</div>
<div class="line"><span class="lineno">  928</span>                }</div>
<div class="line"><span class="lineno">  929</span>            }</div>
<div class="line"><span class="lineno">  930</span>        }</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        AABBTreeLines::LinesDistancer&lt;Linef&gt; prev_layer_boundary = layer-&gt;lower_layer != <span class="keyword">nullptr</span> ?</div>
<div class="line"><span class="lineno">  933</span>                                                                       AABBTreeLines::LinesDistancer&lt;Linef&gt;{</div>
<div class="line"><span class="lineno">  934</span>                                                                           <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a714b3d88806c015f182e6e3071bb2494">to_unscaled_linesf</a>(layer-&gt;lower_layer-&gt;lslices)} :</div>
<div class="line"><span class="lineno">  935</span>                                                                       AABBTreeLines::LinesDistancer&lt;Linef&gt;{};</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        std::vector&lt;tbb::concurrent_vector&lt;ExtrusionLine&gt;&gt; unstable_lines_per_slice(layer-&gt;lslices_ex.size());</div>
<div class="line"><span class="lineno">  938</span>        std::vector&lt;tbb::concurrent_vector&lt;ExtrusionLine&gt;&gt; ext_perim_lines_per_slice(layer-&gt;lslices_ex.size());</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>        tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, entities_to_check.size()),</div>
<div class="line"><span class="lineno">  941</span>                          [&amp;entities_to_check, &amp;prev_layer_ext_perim_lines, &amp;prev_layer_boundary, &amp;unstable_lines_per_slice,</div>
<div class="line"><span class="lineno">  942</span>                           &amp;ext_perim_lines_per_slice, &amp;params](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno">  943</span>                              for (size_t entity_idx = r.begin(); entity_idx &lt; r.end(); ++entity_idx) {</div>
<div class="line"><span class="lineno">  944</span>                                  const auto &amp;e_to_check = entities_to_check[entity_idx];</div>
<div class="line"><span class="lineno">  945</span>                                  for (const auto &amp;line :</div>
<div class="line"><span class="lineno">  946</span>                                       check_extrusion_entity_stability(e_to_check.e, e_to_check.region, prev_layer_ext_perim_lines,</div>
<div class="line"><span class="lineno">  947</span>                                                                        prev_layer_boundary, params)) {</div>
<div class="line"><span class="lineno">  948</span>                                      if (line.support_point_generated.has_value()) {</div>
<div class="line"><span class="lineno">  949</span>                                          unstable_lines_per_slice[e_to_check.slice_idx].push_back(line);</div>
<div class="line"><span class="lineno">  950</span>                                      }</div>
<div class="line"><span class="lineno">  951</span>                                      if (line.is_external_perimeter()) {</div>
<div class="line"><span class="lineno">  952</span>                                          ext_perim_lines_per_slice[e_to_check.slice_idx].push_back(line);</div>
<div class="line"><span class="lineno">  953</span>                                      }</div>
<div class="line"><span class="lineno">  954</span>                                  }</div>
<div class="line"><span class="lineno">  955</span>                              }</div>
<div class="line"><span class="lineno">  956</span>                          });</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>        std::vector&lt;ExtrusionLine&gt; current_layer_ext_perims_lines{};</div>
<div class="line"><span class="lineno">  959</span>        current_layer_ext_perims_lines.reserve(prev_layer_ext_perim_lines.get_lines().size());</div>
<div class="line"><span class="lineno">  960</span>        <span class="comment">// All object parts updated, and for each slice we have coresponding weakest connection.</span></div>
<div class="line"><span class="lineno">  961</span>        <span class="comment">// We can now check each slice and its corresponding weakest connection and object part for stability.</span></div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> slice_idx = 0; slice_idx &lt; layer-&gt;lslices_ex.size(); ++slice_idx) {</div>
<div class="line"><span class="lineno">  963</span>            ObjectPart                &amp;part         = active_object_parts.access(prev_slice_idx_to_object_part_mapping[slice_idx]);</div>
<div class="line"><span class="lineno">  964</span>            SliceConnection           &amp;weakest_conn = prev_slice_idx_to_weakest_connection[slice_idx];</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span><span class="preprocessor">#ifdef DETAILED_DEBUG_LOGS</span></div>
<div class="line"><span class="lineno">  967</span>            weakest_conn.print_info(<span class="stringliteral">&quot;weakest connection info: &quot;</span>);</div>
<div class="line"><span class="lineno">  968</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  969</span>            <span class="comment">// Function that is used when new support point is generated. It will update the ObjectPart stability, weakest conneciton info,</span></div>
<div class="line"><span class="lineno">  970</span>            <span class="comment">// and the support presence grid and add the point to the issues.</span></div>
<div class="line"><span class="lineno">  971</span>            <span class="keyword">auto</span> reckon_new_support_point = [&amp;part, &amp;weakest_conn, &amp;supp_points, &amp;supports_presence_grid, &amp;params,</div>
<div class="line"><span class="lineno">  972</span>                                             &amp;layer_idx](<a class="code hl_enumeration" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a> cause, <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> &amp;support_point, <span class="keywordtype">float</span> force,</div>
<div class="line"><span class="lineno">  973</span>                                                         <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> &amp;dir) {</div>
<div class="line"><span class="lineno">  974</span>                <span class="comment">// if position is taken and point is for global stability (force &gt; 0) or we are too close to the bed, do not add</span></div>
<div class="line"><span class="lineno">  975</span>                <span class="comment">// This allows local support points (e.g. bridging) to be generated densely</span></div>
<div class="line"><span class="lineno">  976</span>                <span class="keywordflow">if</span> ((supports_presence_grid.position_taken(support_point) &amp;&amp; force &gt; 0) || layer_idx &lt;= 1) {</div>
<div class="line"><span class="lineno">  977</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  978</span>                }</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a> = params.support_points_interface_radius * params.support_points_interface_radius * float(<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>);</div>
<div class="line"><span class="lineno">  981</span>                <span class="comment">// add the stability effect of the point only if the spot is not taken, so that the densely created local support points do</span></div>
<div class="line"><span class="lineno">  982</span>                <span class="comment">// not add unrealistic amount of stability to the object (due to overlaping of local support points)</span></div>
<div class="line"><span class="lineno">  983</span>                <span class="keywordflow">if</span> (!(supports_presence_grid.position_taken(support_point))) {</div>
<div class="line"><span class="lineno">  984</span>                    part.add_support_point(support_point, area);</div>
<div class="line"><span class="lineno">  985</span>                }</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>                <span class="keywordtype">float</span> radius = params.support_points_interface_radius;</div>
<div class="line"><span class="lineno">  988</span>                supp_points.emplace_back(cause, support_point, force, radius, dir);</div>
<div class="line"><span class="lineno">  989</span>                supports_presence_grid.take_position(support_point);</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// The support point also increases the stability of the weakest connection of the object, which should be reflected</span></div>
<div class="line"><span class="lineno">  992</span>                <span class="keywordflow">if</span> (weakest_conn.area &gt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) { <span class="comment">// Do not add it to the weakest connection if it is not valid - does not exist</span></div>
<div class="line"><span class="lineno">  993</span>                    weakest_conn.area += <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a>;</div>
<div class="line"><span class="lineno">  994</span>                    weakest_conn.centroid_accumulator += support_point * <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a>;</div>
<div class="line"><span class="lineno">  995</span>                    weakest_conn.second_moment_of_area_accumulator += <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a> * support_point.head&lt;2&gt;().cwiseProduct(support_point.head&lt;2&gt;());</div>
<div class="line"><span class="lineno">  996</span>                    weakest_conn.second_moment_of_area_covariance_accumulator += <a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#a58071852761a9be613103b74cc81e6dc">area</a> * support_point.x() * support_point.y();</div>
<div class="line"><span class="lineno">  997</span>                }</div>
<div class="line"><span class="lineno">  998</span>            };</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;l : unstable_lines_per_slice[slice_idx]) {</div>
<div class="line"><span class="lineno"> 1001</span>                assert(l.support_point_generated.has_value());</div>
<div class="line"><span class="lineno"> 1002</span>                reckon_new_support_point(*l.support_point_generated, create_support_point_position(l.b), <span class="keywordtype">float</span>(-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>), Vec2f::Zero());</div>
<div class="line"><span class="lineno"> 1003</span>            }</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>            <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a>    current_slice_lines_distancer({ext_perim_lines_per_slice[slice_idx].begin(), ext_perim_lines_per_slice[slice_idx].<a class="code hl_function" href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">end</a>()});</div>
<div class="line"><span class="lineno"> 1006</span>            <span class="keywordtype">float</span> unchecked_dist = params.min_distance_between_support_points + 1.0f;</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_slice_lines_distancer.get_lines()) {</div>
<div class="line"><span class="lineno"> 1009</span>                <span class="keywordflow">if</span> ((unchecked_dist + line.len &lt; params.min_distance_between_support_points &amp;&amp; line.curled_up_height &lt; params.curling_tolerance_limit) ||</div>
<div class="line"><span class="lineno"> 1010</span>                    line.len &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>) {</div>
<div class="line"><span class="lineno"> 1011</span>                    unchecked_dist += line.len;</div>
<div class="line"><span class="lineno"> 1012</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1013</span>                    unchecked_dist                = line.len;</div>
<div class="line"><span class="lineno"> 1014</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> pivot_site_search_point = <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a>(line.b + (line.b - line.a).normalized() * 300.0f);</div>
<div class="line"><span class="lineno"> 1015</span>                    <span class="keyword">auto</span> [<a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>, nidx,</div>
<div class="line"><span class="lineno"> 1016</span>                          <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a>]          = current_slice_lines_distancer.distance_from_lines_extra&lt;<span class="keyword">false</span>&gt;(pivot_site_search_point);</div>
<div class="line"><span class="lineno"> 1017</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> support_point           = create_support_point_position(nearest_point);</div>
<div class="line"><span class="lineno"> 1018</span>                    <span class="keyword">auto</span> [force, cause]           = part.is_stable_while_extruding(weakest_conn, line, support_point, bottom_z, params);</div>
<div class="line"><span class="lineno"> 1019</span>                    <span class="keywordflow">if</span> (force &gt; 0) {</div>
<div class="line"><span class="lineno"> 1020</span>                        reckon_new_support_point(cause, support_point, force, (line.b - line.a).normalized());</div>
<div class="line"><span class="lineno"> 1021</span>                    }</div>
<div class="line"><span class="lineno"> 1022</span>                }</div>
<div class="line"><span class="lineno"> 1023</span>            }</div>
<div class="line"><span class="lineno"> 1024</span>            current_layer_ext_perims_lines.insert(current_layer_ext_perims_lines.end(), current_slice_lines_distancer.get_lines().begin(),</div>
<div class="line"><span class="lineno"> 1025</span>                                                  current_slice_lines_distancer.get_lines().end());</div>
<div class="line"><span class="lineno"> 1026</span>        } <span class="comment">// slice iterations</span></div>
<div class="line"><span class="lineno"> 1027</span>        prev_layer_ext_perim_lines = <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a>(current_layer_ext_perims_lines);</div>
<div class="line"><span class="lineno"> 1028</span>    } <span class="comment">// layer iterations</span></div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; active_obj_pair : prev_slice_idx_to_object_part_mapping) {</div>
<div class="line"><span class="lineno"> 1031</span>        remember_partial_object(active_obj_pair.second);</div>
<div class="line"><span class="lineno"> 1032</span>    }</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>    <span class="keywordflow">return</span> {supp_points, partial_objects};</div>
<div class="line"><span class="lineno"> 1035</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_abdaf2fa25fbc0bc32cdcd71f53583845"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#abdaf2fa25fbc0bc32cdcd71f53583845">Slic3r::Layer::bottom_z</a></div><div class="ttdeci">coordf_t bottom_z() const</div><div class="ttdef"><b>Definition</b> Layer.hpp:326</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_html_aea3e7f3fc4b46b4290105f655edcde47"><div class="ttname"><a href="../../de/d87/class_slic3r_1_1_print_object.html#aea3e7f3fc4b46b4290105f655edcde47">Slic3r::PrintObject::layer_count</a></div><div class="ttdeci">size_t layer_count() const</div><div class="ttdef"><b>Definition</b> Print.hpp:278</div></div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_html_aeb29a80908c06dd8644112f4cfff9354"><div class="ttname"><a href="../../de/d87/class_slic3r_1_1_print_object.html#aeb29a80908c06dd8644112f4cfff9354">Slic3r::PrintObject::get_layer</a></div><div class="ttdeci">const Layer * get_layer(int idx) const</div><div class="ttdef"><b>Definition</b> Print.hpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a2f68c053df997d0a0c732e552e855fac"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">Slic3r::SupportSpotsGenerator::LD</a></div><div class="ttdeci">AABBTreeLines::LinesDistancer&lt; ExtrusionLine &gt; LD</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:91</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a323d3c78b748fa28d85ac0fc4237ce4f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a323d3c78b748fa28d85ac0fc4237ce4f">Slic3r::SupportSpotsGenerator::build_object_part_from_slice</a></div><div class="ttdeci">std::tuple&lt; ObjectPart, float &gt; build_object_part_from_slice(const size_t &amp;slice_idx, const Layer *layer, const Params &amp;params)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:634</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a6964ff2d6674f97c423640b5eb38148f"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">Slic3r::SupportSpotsGenerator::SupportPoints</a></div><div class="ttdeci">std::vector&lt; SupportPoint &gt; SupportPoints</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:129</div></div>
<div class="ttc" id="anamespace_slic3r_html_a0c2e95380bef258204b91d93d8166610"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">Slic3r::nearest_point</a></div><div class="ttdeci">std::pair&lt; Point, bool &gt; nearest_point(const Points &amp;points, const Point &amp;pt)</div><div class="ttdef"><b>Definition</b> Point.hpp:266</div></div>
<div class="ttc" id="anamespace_slic3r_html_a714b3d88806c015f182e6e3071bb2494"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a714b3d88806c015f182e6e3071bb2494">Slic3r::to_unscaled_linesf</a></div><div class="ttdeci">Linesf to_unscaled_linesf(const ExPolygons &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:175</div></div>
<div class="ttc" id="anamespaceigl_html_a8bd6edbfedb52831984c7edd2cc3e0a9"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#a8bd6edbfedb52831984c7edd2cc3e0a9">igl::centroid</a></div><div class="ttdeci">IGL_INLINE void centroid(const Eigen::MatrixBase&lt; DerivedV &gt; &amp;V, const Eigen::MatrixBase&lt; DerivedF &gt; &amp;F, Eigen::PlainObjectBase&lt; Derivedc &gt; &amp;c, Derivedvol &amp;vol)</div><div class="ttdef"><b>Definition</b> centroid.cpp:16</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1shapelike_html_ac9b51e95f63e38d00e5fc46bb96927c3"><div class="ttname"><a href="../../dd/d66/namespacelibnest2d_1_1shapelike.html#ac9b51e95f63e38d00e5fc46bb96927c3">libnest2d::shapelike::end</a></div><div class="ttdeci">S::iterator end(S &amp;sh, const PathTag &amp;)</div><div class="ttdef"><b>Definition</b> geometry_traits.hpp:620</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_af7dc52e6e62c55df91629b35169b8b04"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#af7dc52e6e62c55df91629b35169b8b04">Slic3r::SupportSpotsGenerator::Params::min_distance_between_support_points</a></div><div class="ttdeci">const float min_distance_between_support_points</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:49</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00458">Slic3r::SupportSpotsGenerator::ObjectPart::add()</a>, <a class="el" href="../../#l00156">Slic3r::SupportSpotsGenerator::SliceConnection::add()</a>, <a class="el" href="../../#l00469">Slic3r::SupportSpotsGenerator::ObjectPart::add_support_point()</a>, <a class="el" href="../../#l00467">Slic3r::area()</a>, <a class="el" href="../../#l00151">Slic3r::SupportSpotsGenerator::SliceConnection::area</a>, <a class="el" href="../../#l00326">Slic3r::Layer::bottom_z()</a>, <a class="el" href="../../#l00064">Slic3r::ExtrusionRole::BridgeInfill</a>, <a class="el" href="../../#l00634">build_object_part_from_slice()</a>, <a class="el" href="../../#l00152">Slic3r::SupportSpotsGenerator::SliceConnection::centroid_accumulator</a>, <a class="el" href="../../#l00785">check_stability()</a>, <a class="el" href="../../#l00032">Slic3r::ExtrusionEntityCollection::entities</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00134">Slic3r::LayerRegion::fills()</a>, <a class="el" href="../../#l00280">Slic3r::PrintObject::get_layer()</a>, <a class="el" href="../../#l00360">Slic3r::AABBTreeLines::LinesDistancer&lt; LineType &gt;::get_lines()</a>, <a class="el" href="../../#l00344">Slic3r::Layer::get_region()</a>, <a class="el" href="../../#l00024">Slic3r::ExtrusionEntity::is_collection()</a>, <a class="el" href="../../#l00523">Slic3r::SupportSpotsGenerator::ObjectPart::is_stable_while_extruding()</a>, <a class="el" href="../../#l00278">Slic3r::PrintObject::layer_count()</a>, <a class="el" href="../../#l00321">Slic3r::Layer::lower_layer</a>, <a class="el" href="../../#l00339">Slic3r::Layer::lslices</a>, <a class="el" href="../../#l00341">Slic3r::Layer::lslices_ex</a>, <a class="el" href="../../#l00049">Slic3r::SupportSpotsGenerator::Params::min_distance_between_support_points</a>, <a class="el" href="../../#l00266">Slic3r::nearest_point()</a>, <a class="el" href="../../#l00130">Slic3r::LayerRegion::perimeters()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00164">Slic3r::SupportSpotsGenerator::SliceConnection::print_info()</a>, <a class="el" href="../../#l00153">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_accumulator</a>, <a class="el" href="../../#l00154">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_covariance_accumulator</a>, <a class="el" href="../../#l00152">sqrt()</a>, and <a class="el" href="../../#l00175">Slic3r::to_unscaled_linesf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00785">check_stability()</a>, and <a class="el" href="../../#l01077">full_search()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a8f802b17e7dae439d910f48e5c36ca19_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a8f802b17e7dae439d910f48e5c36ca19_icgraph.svg" width="456" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afc505bebcd45db5807a4e0dffcf5573f" name="afc505bebcd45db5807a4e0dffcf5573f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc505bebcd45db5807a4e0dffcf5573f">&#9670;&#160;</a></span>estimate_curled_up_height()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::SupportSpotsGenerator::estimate_curled_up_height </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>curvature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>layer_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>flow_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>prev_line_curled_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a>&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">float</span> curled_up_height = 0;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">if</span> (fabs(distance) &lt; 3.0 * flow_width) {</div>
<div class="line"><span class="lineno">  281</span>        curled_up_height = std::max(prev_line_curled_height - layer_height * 0.75f, 0.0f);</div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (distance &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a6cb8ed849081199e758aad47212e086d">malformation_distance_factors</a>.first * flow_width &amp;&amp;</div>
<div class="line"><span class="lineno">  285</span>        distance &lt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a6cb8ed849081199e758aad47212e086d">malformation_distance_factors</a>.second * flow_width) {</div>
<div class="line"><span class="lineno">  286</span>        <span class="comment">// imagine the extrusion profile. The part that has been glued (melted) with the previous layer will be called anchored section</span></div>
<div class="line"><span class="lineno">  287</span>        <span class="comment">// and the rest will be called curling section</span></div>
<div class="line"><span class="lineno">  288</span>        <span class="comment">// float anchored_section = flow_width - point.distance;</span></div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordtype">float</span> curling_section = distance;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="comment">// after extruding, the curling (floating) part of the extrusion starts to shrink back to the rounded shape of the nozzle</span></div>
<div class="line"><span class="lineno">  292</span>        <span class="comment">// The anchored part not, because the melted material holds to the previous layer well.</span></div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">// We can assume for simplicity perfect equalization of layer height and raising part width, from which:</span></div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordtype">float</span> swelling_radius = (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">layer_height</a> + curling_section) / 2.0f;</div>
<div class="line"><span class="lineno">  295</span>        curled_up_height += std::max(0.f, (swelling_radius - layer_height) / 2.0f);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="comment">// On convex turns, there is larger tension on the floating edge of the extrusion then on the middle section.</span></div>
<div class="line"><span class="lineno">  298</span>        <span class="comment">// The tension is caused by the shrinking tendency of the filament, and on outer edge of convex trun, the expansion is greater and</span></div>
<div class="line"><span class="lineno">  299</span>        <span class="comment">// thus shrinking force is greater. This tension will cause the curling section to curle up</span></div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">if</span> (curvature &gt; 0.01) {</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordtype">float</span> radius    = (1.0 / curvature);</div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordtype">float</span> curling_t = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(radius / 100);</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordtype">float</span> b         = curling_t * flow_width;</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordtype">float</span> a         = curling_section;</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordtype">float</span> c         = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(std::max(0.0f, a * a - b * b));</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>            curled_up_height += c;</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>        curled_up_height = std::min(curled_up_height, params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">max_curled_height_factor</a> * layer_height);</div>
<div class="line"><span class="lineno">  310</span>    }</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">return</span> curled_up_height;</div>
<div class="line"><span class="lineno">  313</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a3fc0fbbcb45d8a2fef27e26e1289ec21"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height</a></div><div class="ttdeci">layer_height((ConfigOptionInt, faded_layers))((ConfigOptionFloat</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_a6cb8ed849081199e758aad47212e086d"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a6cb8ed849081199e758aad47212e086d">Slic3r::SupportSpotsGenerator::Params::malformation_distance_factors</a></div><div class="ttdeci">const std::pair&lt; float, float &gt; malformation_distance_factors</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:45</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_ae379405e30b31597080a7298b8822170"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">Slic3r::SupportSpotsGenerator::Params::max_curled_height_factor</a></div><div class="ttdeci">const float max_curled_height_factor</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:46</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00276">estimate_curled_up_height()</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a3fc0fbbcb45d8a2fef27e26e1289ec21">Slic3r::layer_height()</a>, <a class="el" href="../../#l00045">Slic3r::SupportSpotsGenerator::Params::malformation_distance_factors</a>, <a class="el" href="../../#l00046">Slic3r::SupportSpotsGenerator::Params::max_curled_height_factor</a>, and <a class="el" href="../../#l00152">sqrt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00315">check_extrusion_entity_stability()</a>, <a class="el" href="../../#l00276">estimate_curled_up_height()</a>, <a class="el" href="../../#l01160">estimate_malformations()</a>, and <a class="el" href="../../#l01089">estimate_supports_malformations()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_afc505bebcd45db5807a4e0dffcf5573f_cgraph.svg" width="390" height="92"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_afc505bebcd45db5807a4e0dffcf5573f_icgraph.svg" width="483" height="268"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae54722ef7e4d5cd91e4d84b3001adc05" name="ae54722ef7e4d5cd91e4d84b3001adc05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54722ef7e4d5cd91e4d84b3001adc05">&#9670;&#160;</a></span>estimate_malformations() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SupportSpotsGenerator::estimate_malformations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a2ec02c60a499ad78d9cb04c053b82906">LayerPtrs</a> &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1161</span>{</div>
<div class="line"><span class="lineno"> 1162</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1163</span>    FILE *debug_file = boost::nowide::fopen(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;object_malformations.obj&quot;</span>).c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1164</span>    FILE *full_file  = boost::nowide::fopen(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;object_full.obj&quot;</span>).c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1165</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    <a class="code hl_class" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">LD</a> prev_layer_lines{};</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *l : layers) {</div>
<div class="line"><span class="lineno"> 1170</span>        l-&gt;curled_lines.clear();</div>
<div class="line"><span class="lineno"> 1171</span>        std::vector&lt;Linef&gt; boundary_lines = l-&gt;lower_layer != <span class="keyword">nullptr</span> ? <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a714b3d88806c015f182e6e3071bb2494">to_unscaled_linesf</a>(l-&gt;lower_layer-&gt;lslices) : <a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>::vector&lt;<a class="code hl_class" href="../../d4/d28/class_slic3r_1_1_linef.html">Linef</a>&gt;();</div>
<div class="line"><span class="lineno"> 1172</span>        <a class="code hl_class" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer&lt;Linef&gt;</a> prev_layer_boundary{std::move(boundary_lines)};</div>
<div class="line"><span class="lineno"> 1173</span>        std::vector&lt;ExtrusionLine&gt;           current_layer_lines;</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerRegion *layer_region : l-&gt;regions()) {</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionEntity *extrusion : layer_region-&gt;perimeters().flatten().entities) {</div>
<div class="line"><span class="lineno"> 1176</span>                <span class="keywordflow">if</span> (!extrusion-&gt;role().is_external_perimeter())</div>
<div class="line"><span class="lineno"> 1177</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span>                Points extrusion_pts;</div>
<div class="line"><span class="lineno"> 1180</span>                extrusion-&gt;collect_points(extrusion_pts);</div>
<div class="line"><span class="lineno"> 1181</span>                <span class="keywordtype">float</span> flow_width       = get_flow_width(layer_region, extrusion-&gt;role());</div>
<div class="line"><span class="lineno"> 1182</span>                <span class="keyword">auto</span>  annotated_points = estimate_points_properties&lt;true, true, false, false&gt;(extrusion_pts, prev_layer_lines, flow_width,</div>
<div class="line"><span class="lineno"> 1183</span>                                                                                             params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#a8dd9a3fd4f2dbf82a5153ee2e093884b">bridge_distance</a>);</div>
<div class="line"><span class="lineno"> 1184</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; annotated_points.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1185</span>                    <span class="keyword">const</span> ExtendedPoint &amp;a = i &gt; 0 ? annotated_points[i - 1] : annotated_points[i];</div>
<div class="line"><span class="lineno"> 1186</span>                    <span class="keyword">const</span> ExtendedPoint &amp;b = annotated_points[i];</div>
<div class="line"><span class="lineno"> 1187</span>                    ExtrusionLine line_out{a.position.cast&lt;<span class="keywordtype">float</span>&gt;(), b.position.cast&lt;<span class="keywordtype">float</span>&gt;(), float((a.position - b.position).norm()),</div>
<div class="line"><span class="lineno"> 1188</span>                                           extrusion};</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> middle                               = 0.5 * (line_out.a + line_out.b);</div>
<div class="line"><span class="lineno"> 1191</span>                    <span class="keyword">auto</span> [middle_distance, bottom_line_idx, <a class="code hl_function" href="../../df/d4e/namespacelibnest2d_1_1pointlike.html#a1e3045df0bee66333beaa96a9a1b6c9d">x</a>] = prev_layer_lines.distance_from_lines_extra&lt;<span class="keyword">false</span>&gt;(middle);</div>
<div class="line"><span class="lineno"> 1192</span>                    ExtrusionLine bottom_line                  = prev_layer_lines.get_lines().empty() ? ExtrusionLine{} :</div>
<div class="line"><span class="lineno"> 1193</span>                                                                                                        prev_layer_lines.get_line(bottom_line_idx);</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>                    <span class="comment">// correctify the distance sign using slice polygons</span></div>
<div class="line"><span class="lineno"> 1196</span>                    <span class="keywordtype">float</span> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = (prev_layer_boundary.distance_from_lines&lt;<span class="keyword">true</span>&gt;(middle.cast&lt;<span class="keywordtype">double</span>&gt;()) + 0.5f * flow_width) &lt; 0.0f ? -1.0f : 1.0f;</div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span>                    line_out.curled_up_height = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#afc505bebcd45db5807a4e0dffcf5573f">estimate_curled_up_height</a>(middle_distance * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a>, 0.5 * (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.curvature + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.curvature),</div>
<div class="line"><span class="lineno"> 1199</span>                                                                          l-&gt;height, flow_width, bottom_line.curled_up_height, params);</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>                    current_layer_lines.push_back(line_out);</div>
<div class="line"><span class="lineno"> 1202</span>                }</div>
<div class="line"><span class="lineno"> 1203</span>            }</div>
<div class="line"><span class="lineno"> 1204</span>        }</div>
<div class="line"><span class="lineno"> 1205</span> </div>
<div class="line"><span class="lineno"> 1206</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1207</span>            <span class="keywordflow">if</span> (line.curled_up_height &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#abd83720b2b90be89d6a7898b7d62fbe1">curling_tolerance_limit</a>) {</div>
<div class="line"><span class="lineno"> 1208</span>                l-&gt;curled_lines.push_back(CurledLine{Point::new_scale(line.a), Point::new_scale(line.b), line.curled_up_height});</div>
<div class="line"><span class="lineno"> 1209</span>            }</div>
<div class="line"><span class="lineno"> 1210</span>        }</div>
<div class="line"><span class="lineno"> 1211</span> </div>
<div class="line"><span class="lineno"> 1212</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1213</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">if</span> (line.curled_up_height &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#abd83720b2b90be89d6a7898b7d62fbe1">curling_tolerance_limit</a>) {</div>
<div class="line"><span class="lineno"> 1215</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> color = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a12f02ee86780a1a2a0d16607150bec9e">value_to_rgbf</a>(-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>, l-&gt;height * params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">max_curled_height_factor</a>, line.curled_up_height);</div>
<div class="line"><span class="lineno"> 1216</span>                fprintf(debug_file, <span class="stringliteral">&quot;v %f %f %f  %f %f %f\n&quot;</span>, line.b[0], line.b[1], l-&gt;print_z, color[0], color[1], color[2]);</div>
<div class="line"><span class="lineno"> 1217</span>            }</div>
<div class="line"><span class="lineno"> 1218</span>        }</div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1220</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> color = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a12f02ee86780a1a2a0d16607150bec9e">value_to_rgbf</a>(-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>, l-&gt;height * params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">max_curled_height_factor</a>, line.curled_up_height);</div>
<div class="line"><span class="lineno"> 1221</span>            fprintf(full_file, <span class="stringliteral">&quot;v %f %f %f  %f %f %f\n&quot;</span>, line.b[0], line.b[1], l-&gt;print_z, color[0], color[1], color[2]);</div>
<div class="line"><span class="lineno"> 1222</span>        }</div>
<div class="line"><span class="lineno"> 1223</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>        prev_layer_lines = <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a>{current_layer_lines};</div>
<div class="line"><span class="lineno"> 1226</span>    }</div>
<div class="line"><span class="lineno"> 1227</span> </div>
<div class="line"><span class="lineno"> 1228</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1229</span>    fclose(debug_file);</div>
<div class="line"><span class="lineno"> 1230</span>    fclose(full_file);</div>
<div class="line"><span class="lineno"> 1231</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1232</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer_html"><div class="ttname"><a href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">Slic3r::AABBTreeLines::LinesDistancer</a></div><div class="ttdef"><b>Definition</b> AABBTreeLines.hpp:297</div></div>
<div class="ttc" id="aclass_slic3r_1_1_linef_html"><div class="ttname"><a href="../../d4/d28/class_slic3r_1_1_linef.html">Slic3r::Linef</a></div><div class="ttdef"><b>Definition</b> Line.hpp:243</div></div>
<div class="ttc" id="anamespace_slic3r_html_a12f02ee86780a1a2a0d16607150bec9e"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a12f02ee86780a1a2a0d16607150bec9e">Slic3r::value_to_rgbf</a></div><div class="ttdeci">Vec3f value_to_rgbf(float minimum, float maximum, float value)</div><div class="ttdef"><b>Definition</b> Color.hpp:169</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_params_html_abd83720b2b90be89d6a7898b7d62fbe1"><div class="ttname"><a href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#abd83720b2b90be89d6a7898b7d62fbe1">Slic3r::SupportSpotsGenerator::Params::curling_tolerance_limit</a></div><div class="ttdeci">const float curling_tolerance_limit</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:47</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00036">Slic3r::SupportSpotsGenerator::Params::bridge_distance</a>, <a class="el" href="../../#l00080">Slic3r::ExtrusionLine::curled_up_height</a>, <a class="el" href="../../#l00047">Slic3r::SupportSpotsGenerator::Params::curling_tolerance_limit</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00276">estimate_curled_up_height()</a>, <a class="el" href="../../#l01160">estimate_malformations()</a>, <a class="el" href="../../#l00240">get_flow_width()</a>, <a class="el" href="../../#l00046">Slic3r::SupportSpotsGenerator::Params::max_curled_height_factor</a>, <a class="el" href="../../#l00184">sign()</a>, <a class="el" href="../../#l00175">Slic3r::to_unscaled_linesf()</a>, and <a class="el" href="../../#l00169">Slic3r::value_to_rgbf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01160">estimate_malformations()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_ae54722ef7e4d5cd91e4d84b3001adc05_cgraph.svg" width="658" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_ae54722ef7e4d5cd91e4d84b3001adc05_icgraph.svg" width="210" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0c76fd06a7a3c447b9d0a8b3d4a59365" name="a0c76fd06a7a3c447b9d0a8b3d4a59365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c76fd06a7a3c447b9d0a8b3d4a59365">&#9670;&#160;</a></span>estimate_malformations() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SupportSpotsGenerator::estimate_malformations </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6d19737747e3be0400bd472374a1f0f" name="ad6d19737747e3be0400bd472374a1f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d19737747e3be0400bd472374a1f0f">&#9670;&#160;</a></span>estimate_slice_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a> Slic3r::SupportSpotsGenerator::estimate_slice_connection </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slice_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_struct" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">SliceConnection</a> connection;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d4/dca/struct_slic3r_1_1_layer_slice.html">LayerSlice</a>   &amp;slice       = layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#aa278a53580f35ccd76baec669f0f906c">lslices_ex</a>[slice_idx];</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a00eaa65faeaecea2aec629f311ce5a1c">Polygons</a>           slice_polys  = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a843ba2fe16b213f550fb3d55c55a716e">to_polygons</a>(layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">lslices</a>[slice_idx]);</div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_class" href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">BoundingBox</a> slice_bb = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">get_extents</a>(slice_polys);</div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">const</span> <a class="code hl_class" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a>        *lower_layer = layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#aff84b8f549804babf9ecaee1a49e260e">lower_layer</a>;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a517930244d210021577457148f9a49e3">ExPolygons</a> below{};</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;link : slice.overlaps_below) { below.push_back(lower_layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a3052da5e28b9b358d43ad43d7e9173ed">lslices</a>[link.slice_idx]); }</div>
<div class="line"><span class="lineno">  188</span>    Polygons below_polys = to_polygons(below);</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    BoundingBox below_bb = get_extents(below_polys);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    Polygons overlap = intersection(ClipperUtils::clip_clipper_polygons_with_subject_bbox(slice_polys, below_bb),</div>
<div class="line"><span class="lineno">  193</span>                                    ClipperUtils::clip_clipper_polygons_with_subject_bbox(below_polys, slice_bb));</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> Polygon &amp;poly : overlap) {</div>
<div class="line"><span class="lineno">  196</span>        Vec2f p0 = unscaled(poly.first_point()).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 2; i &lt; poly.points.size(); i++) {</div>
<div class="line"><span class="lineno">  198</span>            Vec2f p1 = unscaled(poly.points[i - 1]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  199</span>            Vec2f p2 = unscaled(poly.points[i]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>            <span class="keywordtype">float</span> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = cross2(p1 - p0, p2 - p1) &gt; 0 ? 1.0f : -1.0f;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>            <span class="keyword">auto</span> [area, first_moment_of_area, second_moment_area,</div>
<div class="line"><span class="lineno">  204</span>                  second_moment_of_area_covariance] = compute_moments_of_area_of_triangle(p0, p1, p2);</div>
<div class="line"><span class="lineno">  205</span>            connection.<a class="code hl_variable" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#aecb8904dbb4b546aa56a7be47951cf71">area</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * area;</div>
<div class="line"><span class="lineno">  206</span>            connection.<a class="code hl_variable" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#adb8848b344c38b45b0578d4c47d76265">centroid_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * Vec3f(first_moment_of_area.x(), first_moment_of_area.y(), layer-&gt;<a class="code hl_variable" href="../../d1/d68/class_slic3r_1_1_layer.html#a8918ae15322de198ce6d0632feaac9b4">print_z</a> * area);</div>
<div class="line"><span class="lineno">  207</span>            connection.<a class="code hl_variable" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#a8ac3beaf6bd1dfb99445416f19345c41">second_moment_of_area_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * second_moment_area;</div>
<div class="line"><span class="lineno">  208</span>            connection.<a class="code hl_variable" href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#aff9bbab2377a86f173bf45086744660c">second_moment_of_area_covariance_accumulator</a> += <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> * second_moment_of_area_covariance;</div>
<div class="line"><span class="lineno">  209</span>        }</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">return</span> connection;</div>
<div class="line"><span class="lineno">  213</span>};</div>
<div class="ttc" id="aclass_slic3r_1_1_bounding_box_html"><div class="ttname"><a href="../../d4/d2d/class_slic3r_1_1_bounding_box.html">Slic3r::BoundingBox</a></div><div class="ttdef"><b>Definition</b> BoundingBox.hpp:181</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_html_aff84b8f549804babf9ecaee1a49e260e"><div class="ttname"><a href="../../d1/d68/class_slic3r_1_1_layer.html#aff84b8f549804babf9ecaee1a49e260e">Slic3r::Layer::lower_layer</a></div><div class="ttdeci">Layer * lower_layer</div><div class="ttdef"><b>Definition</b> Layer.hpp:321</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6e3ba75aef7600dbb0a294a47d88ecb8"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6e3ba75aef7600dbb0a294a47d88ecb8">Slic3r::get_extents</a></div><div class="ttdeci">BoundingBox get_extents(const ExPolygon &amp;expolygon)</div><div class="ttdef"><b>Definition</b> ExPolygon.cpp:352</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_slice_connection_html"><div class="ttname"><a href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html">Slic3r::SupportSpotsGenerator::SliceConnection</a></div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:150</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_slice_connection_html_a8ac3beaf6bd1dfb99445416f19345c41"><div class="ttname"><a href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#a8ac3beaf6bd1dfb99445416f19345c41">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_accumulator</a></div><div class="ttdeci">Vec2f second_moment_of_area_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:153</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_slice_connection_html_adb8848b344c38b45b0578d4c47d76265"><div class="ttname"><a href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#adb8848b344c38b45b0578d4c47d76265">Slic3r::SupportSpotsGenerator::SliceConnection::centroid_accumulator</a></div><div class="ttdeci">Vec3f centroid_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:152</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_slice_connection_html_aecb8904dbb4b546aa56a7be47951cf71"><div class="ttname"><a href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#aecb8904dbb4b546aa56a7be47951cf71">Slic3r::SupportSpotsGenerator::SliceConnection::area</a></div><div class="ttdeci">float area</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:151</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_slice_connection_html_aff9bbab2377a86f173bf45086744660c"><div class="ttname"><a href="../../dd/ddf/struct_slic3r_1_1_support_spots_generator_1_1_slice_connection.html#aff9bbab2377a86f173bf45086744660c">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_covariance_accumulator</a></div><div class="ttdeci">float second_moment_of_area_covariance_accumulator</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:154</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00467">Slic3r::area()</a>, <a class="el" href="../../#l00151">Slic3r::SupportSpotsGenerator::SliceConnection::area</a>, <a class="el" href="../../#l00152">Slic3r::SupportSpotsGenerator::SliceConnection::centroid_accumulator</a>, <a class="el" href="../../#l00152">Slic3r::ClipperUtils::clip_clipper_polygons_with_subject_bbox()</a>, <a class="el" href="../../#l00013">Slic3r::compute_moments_of_area_of_triangle()</a>, <a class="el" href="../../#l00093">Slic3r::cross2()</a>, <a class="el" href="../../#l00352">Slic3r::get_extents()</a>, <a class="el" href="../../#l00686">Slic3r::intersection()</a>, <a class="el" href="../../#l00321">Slic3r::Layer::lower_layer</a>, <a class="el" href="../../#l00339">Slic3r::Layer::lslices</a>, <a class="el" href="../../#l00341">Slic3r::Layer::lslices_ex</a>, <a class="el" href="../../#l00324">Slic3r::Layer::print_z</a>, <a class="el" href="../../#l00153">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_accumulator</a>, <a class="el" href="../../#l00154">Slic3r::SupportSpotsGenerator::SliceConnection::second_moment_of_area_covariance_accumulator</a>, <a class="el" href="../../#l00184">sign()</a>, <a class="el" href="../../#l00281">Slic3r::to_polygons()</a>, and <a class="el" href="../../#l00055">Slic3r::unscaled()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_ad6d19737747e3be0400bd472374a1f0f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac251fbeb015ed001526b5619144930f0" name="ac251fbeb015ed001526b5619144930f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac251fbeb015ed001526b5619144930f0">&#9670;&#160;</a></span>estimate_supports_malformations() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SupportSpotsGenerator::estimate_supports_malformations </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../de/dad/class_slic3r_1_1_support_layer.html">SupportLayer</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>supports_flow_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2087b869f6d053edd8bc45b952d4682e" name="a2087b869f6d053edd8bc45b952d4682e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2087b869f6d053edd8bc45b952d4682e">&#9670;&#160;</a></span>estimate_supports_malformations() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SupportSpotsGenerator::estimate_supports_malformations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/db8/namespace_slic3r.html#a11b3f121ccabd86cc005bf3c73b6dc2a">SupportLayerPtrs</a> &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>flow_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1090</span>{</div>
<div class="line"><span class="lineno"> 1091</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1092</span>    FILE *debug_file = boost::nowide::fopen(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;supports_malformations.obj&quot;</span>).c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1093</span>    FILE *full_file = boost::nowide::fopen(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;supports_full.obj&quot;</span>).c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1094</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_class" href="../../db/d18/class_slic3r_1_1_a_a_b_b_tree_lines_1_1_lines_distancer.html">AABBTreeLines::LinesDistancer&lt;ExtrusionLine&gt;</a> prev_layer_lines{};</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="../../de/dad/class_slic3r_1_1_support_layer.html">SupportLayer</a> *l : layers) {</div>
<div class="line"><span class="lineno"> 1099</span>        l-&gt;curled_lines.clear();</div>
<div class="line"><span class="lineno"> 1100</span>        std::vector&lt;ExtrusionLine&gt; current_layer_lines;</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *extrusion : l-&gt;support_fills.flatten().entities) {</div>
<div class="line"><span class="lineno"> 1103</span>            <a class="code hl_class" href="../../d6/de0/class_slic3r_1_1_polyline.html">Polyline</a> pl = extrusion-&gt;as_polyline();</div>
<div class="line"><span class="lineno"> 1104</span>            <a class="code hl_class" href="../../d8/d90/class_slic3r_1_1_polygon.html">Polygon</a>  pol(pl.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>);</div>
<div class="line"><span class="lineno"> 1105</span>            pol.make_counter_clockwise();</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>            <span class="keyword">auto</span> annotated_points = estimate_points_properties&lt;true, true, false, false&gt;(pol.points, prev_layer_lines, flow_width);</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; annotated_points.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1110</span>                <span class="keyword">const</span> <a class="code hl_struct" href="../../de/db8/namespace_slic3r.html#d1/de3/struct_slic3r_1_1_extended_point">ExtendedPoint</a> &amp;a = i &gt; 0 ? annotated_points[i - 1] : annotated_points[i];</div>
<div class="line"><span class="lineno"> 1111</span>                <span class="keyword">const</span> <a class="code hl_struct" href="../../de/db8/namespace_slic3r.html#d1/de3/struct_slic3r_1_1_extended_point">ExtendedPoint</a> &amp;b = annotated_points[i];</div>
<div class="line"><span class="lineno"> 1112</span>                <a class="code hl_class" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a>        line_out{a.position.cast&lt;<span class="keywordtype">float</span>&gt;(), b.position.cast&lt;<span class="keywordtype">float</span>&gt;(), float((a.position - b.position).norm()),</div>
<div class="line"><span class="lineno"> 1113</span>                                       extrusion};</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>                Vec2f middle                               = 0.5 * (line_out.a + line_out.b);</div>
<div class="line"><span class="lineno"> 1116</span>                <span class="keyword">auto</span> [middle_distance, bottom_line_idx, x] = prev_layer_lines.distance_from_lines_extra&lt;<span class="keyword">false</span>&gt;(middle);</div>
<div class="line"><span class="lineno"> 1117</span>                ExtrusionLine bottom_line                  = prev_layer_lines.get_lines().empty() ? ExtrusionLine{} :</div>
<div class="line"><span class="lineno"> 1118</span>                                                                                                    prev_layer_lines.get_line(bottom_line_idx);</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> v1   = (bottom_line.b - bottom_line.a);</div>
<div class="line"><span class="lineno"> 1121</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> v2   = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.position.cast&lt;<span class="keywordtype">float</span>&gt;() - bottom_line.a);</div>
<div class="line"><span class="lineno"> 1122</span>                <span class="keyword">auto</span>  <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>    = (v1.x() * v2.y()) - (v1.y() * v2.x());</div>
<div class="line"><span class="lineno"> 1123</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a> = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> &gt; 0) ? -1.0f : 1.0f;</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>                line_out.curled_up_height = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#afc505bebcd45db5807a4e0dffcf5573f">estimate_curled_up_height</a>(middle_distance * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a281eccb624a3ff6dacbe305828e43a82">sign</a>, 0.5 * (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.curvature + <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.curvature), l-&gt;height,</div>
<div class="line"><span class="lineno"> 1126</span>                                                                      flow_width, bottom_line.curled_up_height, params);</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>                current_layer_lines.push_back(line_out);</div>
<div class="line"><span class="lineno"> 1129</span>            }</div>
<div class="line"><span class="lineno"> 1130</span>        }</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1133</span>            <span class="keywordflow">if</span> (line.curled_up_height &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#abd83720b2b90be89d6a7898b7d62fbe1">curling_tolerance_limit</a>) {</div>
<div class="line"><span class="lineno"> 1134</span>                l-&gt;curled_lines.push_back(CurledLine{Point::new_scale(line.a), Point::new_scale(line.b), line.curled_up_height});</div>
<div class="line"><span class="lineno"> 1135</span>            }</div>
<div class="line"><span class="lineno"> 1136</span>        }</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1139</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1140</span>            <span class="keywordflow">if</span> (line.curled_up_height &gt; params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#abd83720b2b90be89d6a7898b7d62fbe1">curling_tolerance_limit</a>) {</div>
<div class="line"><span class="lineno"> 1141</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> color = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a12f02ee86780a1a2a0d16607150bec9e">value_to_rgbf</a>(-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>, l-&gt;height * params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">max_curled_height_factor</a>, line.curled_up_height);</div>
<div class="line"><span class="lineno"> 1142</span>                fprintf(debug_file, <span class="stringliteral">&quot;v %f %f %f  %f %f %f\n&quot;</span>, line.b[0], line.b[1], l-&gt;print_z, color[0], color[1], color[2]);</div>
<div class="line"><span class="lineno"> 1143</span>            }</div>
<div class="line"><span class="lineno"> 1144</span>        }</div>
<div class="line"><span class="lineno"> 1145</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> ExtrusionLine &amp;line : current_layer_lines) {</div>
<div class="line"><span class="lineno"> 1146</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> color = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a12f02ee86780a1a2a0d16607150bec9e">value_to_rgbf</a>(-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>, l-&gt;height * params.<a class="code hl_variable" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html#ae379405e30b31597080a7298b8822170">max_curled_height_factor</a>, line.curled_up_height);</div>
<div class="line"><span class="lineno"> 1147</span>            fprintf(full_file, <span class="stringliteral">&quot;v %f %f %f  %f %f %f\n&quot;</span>, line.b[0], line.b[1], l-&gt;print_z, color[0], color[1], color[2]);</div>
<div class="line"><span class="lineno"> 1148</span>        }</div>
<div class="line"><span class="lineno"> 1149</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>        prev_layer_lines = <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a2f68c053df997d0a0c732e552e855fac">LD</a>{current_layer_lines};</div>
<div class="line"><span class="lineno"> 1152</span>    }</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1155</span>    fclose(debug_file);</div>
<div class="line"><span class="lineno"> 1156</span>    fclose(full_file);</div>
<div class="line"><span class="lineno"> 1157</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1158</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_polygon_html"><div class="ttname"><a href="../../d8/d90/class_slic3r_1_1_polygon.html">Slic3r::Polygon</a></div><div class="ttdef"><b>Definition</b> Polygon.hpp:24</div></div>
<div class="ttc" id="aclass_slic3r_1_1_polyline_html"><div class="ttname"><a href="../../d6/de0/class_slic3r_1_1_polyline.html">Slic3r::Polyline</a></div><div class="ttdef"><b>Definition</b> Polyline.hpp:17</div></div>
<div class="ttc" id="aclass_slic3r_1_1_support_layer_html"><div class="ttname"><a href="../../de/dad/class_slic3r_1_1_support_layer.html">Slic3r::SupportLayer</a></div><div class="ttdef"><b>Definition</b> Layer.hpp:428</div></div>
<div class="ttc" id="anamespace_slic3r_html_d1/de3/struct_slic3r_1_1_extended_point"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#d1/de3/struct_slic3r_1_1_extended_point">Slic3r::ExtendedPoint</a></div><div class="ttdef"><b>Definition</b> ExtrusionProcessor.hpp:32</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00073">Slic3r::ExtrusionLine::a</a>, <a class="el" href="../../#l00074">Slic3r::ExtrusionLine::b</a>, <a class="el" href="../../#l00080">Slic3r::ExtrusionLine::curled_up_height</a>, <a class="el" href="../../#l00047">Slic3r::SupportSpotsGenerator::Params::curling_tolerance_limit</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00276">estimate_curled_up_height()</a>, <a class="el" href="../../#l01089">estimate_supports_malformations()</a>, <a class="el" href="../../#l00078">Slic3r::Polygon::make_counter_clockwise()</a>, <a class="el" href="../../#l00046">Slic3r::SupportSpotsGenerator::Params::max_curled_height_factor</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00184">sign()</a>, and <a class="el" href="../../#l00169">Slic3r::value_to_rgbf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01089">estimate_supports_malformations()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a2087b869f6d053edd8bc45b952d4682e_cgraph.svg" width="100%" height="536"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a2087b869f6d053edd8bc45b952d4682e_icgraph.svg" width="236" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a16924e06a01c96772a496af7b8010f5c" name="a16924e06a01c96772a496af7b8010f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16924e06a01c96772a496af7b8010f5c">&#9670;&#160;</a></span>full_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a>, <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &gt; Slic3r::SupportSpotsGenerator::full_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d3/d2b/class_slic3r_1_1_print_try_cancel.html">PrintTryCancel</a> &amp;&#160;</td>
          <td class="paramname"><em>cancel_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d93/struct_slic3r_1_1_support_spots_generator_1_1_params.html">Params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1078</span>{</div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keyword">auto</span> precomputed_slices_connections = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a7b7f4470159e34e0d84f9d36fb016975">precompute_slices_connections</a>(po);</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keyword">auto</span> results = <a class="code hl_function" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a8f802b17e7dae439d910f48e5c36ca19">check_stability</a>(po, precomputed_slices_connections, cancel_func, params);</div>
<div class="line"><span class="lineno"> 1081</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keyword">auto</span> [supp_points, objects] = results;</div>
<div class="line"><span class="lineno"> 1083</span>    debug_export(supp_points, objects, <span class="stringliteral">&quot;issues&quot;</span>);</div>
<div class="line"><span class="lineno"> 1084</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">return</span> results;</div>
<div class="line"><span class="lineno"> 1087</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a7b7f4470159e34e0d84f9d36fb016975"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a7b7f4470159e34e0d84f9d36fb016975">Slic3r::SupportSpotsGenerator::precompute_slices_connections</a></div><div class="ttdeci">PrecomputedSliceConnections precompute_slices_connections(const PrintObject *po)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:216</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a8f802b17e7dae439d910f48e5c36ca19"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a8f802b17e7dae439d910f48e5c36ca19">Slic3r::SupportSpotsGenerator::check_stability</a></div><div class="ttdeci">std::tuple&lt; SupportPoints, PartialObjects &gt; check_stability(const PrintObject *po, const PrecomputedSliceConnections &amp;precomputed_slices_connections, const PrintTryCancel &amp;cancel_func, const Params &amp;params)</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:785</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00785">check_stability()</a>, <a class="el" href="../../#l01077">full_search()</a>, and <a class="el" href="../../#l00216">precompute_slices_connections()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01077">full_search()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a16924e06a01c96772a496af7b8010f5c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a16924e06a01c96772a496af7b8010f5c_icgraph.svg" width="210" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6a1a5772105bcb773cb5edf8a873d2f1" name="a6a1a5772105bcb773cb5edf8a873d2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1a5772105bcb773cb5edf8a873d2f1">&#9670;&#160;</a></span>gather_issues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#aa9785768f27cd1989feaa66ee30a19b8">SupportPointCause</a>, bool &gt; &gt; Slic3r::SupportSpotsGenerator::gather_issues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a6964ff2d6674f97c423640b5eb38148f">SupportPoints</a> &amp;&#160;</td>
          <td class="paramname"><em>support_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#ad69fdbab27d477d33d6e66ca56c04f75">PartialObjects</a> &amp;&#160;</td>
          <td class="paramname"><em>partial_objects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1235</span>{</div>
<div class="line"><span class="lineno"> 1236</span>    std::vector&lt;std::pair&lt;SupportPointCause, bool&gt;&gt; result;</div>
<div class="line"><span class="lineno"> 1237</span>    <span class="comment">// The partial object are most likely sorted from smaller to larger as the print continues, so this should save some sorting time</span></div>
<div class="line"><span class="lineno"> 1238</span>    std::reverse(partial_objects.begin(), partial_objects.end());</div>
<div class="line"><span class="lineno"> 1239</span>    std::sort(partial_objects.begin(), partial_objects.end(),</div>
<div class="line"><span class="lineno"> 1240</span>              [](<span class="keyword">const</span> <a class="code hl_struct" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a> &amp;left, <span class="keyword">const</span> <a class="code hl_struct" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a> &amp;right) { return left.volume &gt; right.volume; });</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>    <span class="comment">// Object may have zero extrusions and thus no partial objects. (e.g. very tiny object)</span></div>
<div class="line"><span class="lineno"> 1243</span>    <span class="keywordtype">float</span> max_volume_part = partial_objects.empty() ? 0.0f : partial_objects.front().volume;</div>
<div class="line"><span class="lineno"> 1244</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">PartialObject</a> &amp;p : partial_objects) {</div>
<div class="line"><span class="lineno"> 1245</span>        <span class="keywordflow">if</span> (p.volume &gt; max_volume_part / 200.0f &amp;&amp; !p.connected_to_bed) {</div>
<div class="line"><span class="lineno"> 1246</span>                result.emplace_back(SupportPointCause::UnstableFloatingPart, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1247</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1248</span>        }</div>
<div class="line"><span class="lineno"> 1249</span>    }</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="comment">// should be detected in previous step</span></div>
<div class="line"><span class="lineno"> 1252</span>    <span class="comment">// if (!unstable_floating_part_added) {</span></div>
<div class="line"><span class="lineno"> 1253</span>    <span class="comment">//     for (const SupportPoint &amp;sp : support_points) {</span></div>
<div class="line"><span class="lineno"> 1254</span>    <span class="comment">//             if (sp.cause == SupportPointCause::UnstableFloatingPart) {</span></div>
<div class="line"><span class="lineno"> 1255</span>    <span class="comment">//             result.emplace_back(SupportPointCause::UnstableFloatingPart, true);</span></div>
<div class="line"><span class="lineno"> 1256</span>    <span class="comment">//             break;</span></div>
<div class="line"><span class="lineno"> 1257</span>    <span class="comment">//             }</span></div>
<div class="line"><span class="lineno"> 1258</span>    <span class="comment">//     }</span></div>
<div class="line"><span class="lineno"> 1259</span>    <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    std::vector&lt;SupportPoint&gt; ext_supp_points{};</div>
<div class="line"><span class="lineno"> 1262</span>    ext_supp_points.reserve(support_points.size());</div>
<div class="line"><span class="lineno"> 1263</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : support_points) {</div>
<div class="line"><span class="lineno"> 1264</span>        <span class="keywordflow">switch</span> (sp.cause) {</div>
<div class="line"><span class="lineno"> 1265</span>        <span class="keywordflow">case</span> SupportPointCause::FloatingBridgeAnchor:</div>
<div class="line"><span class="lineno"> 1266</span>        <span class="keywordflow">case</span> SupportPointCause::FloatingExtrusion: ext_supp_points.push_back(sp); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1267</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1268</span>        }</div>
<div class="line"><span class="lineno"> 1269</span>    }</div>
<div class="line"><span class="lineno"> 1270</span> </div>
<div class="line"><span class="lineno"> 1271</span>    <span class="keyword">auto</span> coord_fn = [&amp;ext_supp_points](<span class="keywordtype">size_t</span> idx, <span class="keywordtype">size_t</span> dim) { <span class="keywordflow">return</span> ext_supp_points[idx].position[dim]; };</div>
<div class="line"><span class="lineno"> 1272</span>    KDTreeIndirect&lt;3, float, <span class="keyword">decltype</span>(coord_fn)&gt; ext_points_tree{coord_fn, ext_supp_points.size()};</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : ext_supp_points) {</div>
<div class="line"><span class="lineno"> 1274</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../d2/d6f/namespace_slic3r_1_1sla_1_1anonymous__namespace_02_clustering_8cpp_03.html#aba0b164a780a5c2f6082883e9ae47bee">cluster</a>         = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a766e186184f710b971ad76f7567d7bef">find_nearby_points</a>(ext_points_tree, sp.position, 3.0);</div>
<div class="line"><span class="lineno"> 1275</span>        <span class="keywordtype">int</span>  score           = 0;</div>
<div class="line"><span class="lineno"> 1276</span>        <span class="keywordtype">bool</span> floating_bridge = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx : <a class="code hl_function" href="../../d2/d6f/namespace_slic3r_1_1sla_1_1anonymous__namespace_02_clustering_8cpp_03.html#aba0b164a780a5c2f6082883e9ae47bee">cluster</a>) {</div>
<div class="line"><span class="lineno"> 1278</span>                score += ext_supp_points[idx].cause == SupportPointCause::FloatingBridgeAnchor ? 3 : 1;</div>
<div class="line"><span class="lineno"> 1279</span>                floating_bridge = floating_bridge || ext_supp_points[idx].cause == SupportPointCause::FloatingBridgeAnchor;</div>
<div class="line"><span class="lineno"> 1280</span>        }</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">if</span> (score &gt; 5) {</div>
<div class="line"><span class="lineno"> 1282</span>                <span class="keywordflow">if</span> (floating_bridge) {</div>
<div class="line"><span class="lineno"> 1283</span>                result.emplace_back(SupportPointCause::FloatingBridgeAnchor, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1284</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1285</span>                result.emplace_back(SupportPointCause::FloatingExtrusion, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1286</span>                }</div>
<div class="line"><span class="lineno"> 1287</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1288</span>        }</div>
<div class="line"><span class="lineno"> 1289</span>    }</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : support_points) {</div>
<div class="line"><span class="lineno"> 1292</span>        <span class="keywordflow">if</span> (sp.cause == SupportPointCause::SeparationFromBed) {</div>
<div class="line"><span class="lineno"> 1293</span>                result.emplace_back(SupportPointCause::SeparationFromBed, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1294</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1295</span>        }</div>
<div class="line"><span class="lineno"> 1296</span>    }</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : support_points) {</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordflow">if</span> (sp.cause == SupportPointCause::WeakObjectPart) {</div>
<div class="line"><span class="lineno"> 1300</span>                result.emplace_back(SupportPointCause::WeakObjectPart, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1301</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1302</span>        }</div>
<div class="line"><span class="lineno"> 1303</span>    }</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keywordflow">if</span> (ext_supp_points.size() &gt; max_volume_part / 200.0f) {</div>
<div class="line"><span class="lineno"> 1306</span>        result.emplace_back(SupportPointCause::FloatingExtrusion, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1307</span>    }</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : support_points) {</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keywordflow">if</span> (sp.cause == SupportPointCause::LongBridge) {</div>
<div class="line"><span class="lineno"> 1311</span>                result.emplace_back(SupportPointCause::LongBridge, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1312</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1313</span>        }</div>
<div class="line"><span class="lineno"> 1314</span>    }</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1317</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1sla_1_1anonymous__namespace_02_clustering_8cpp_03_html_aba0b164a780a5c2f6082883e9ae47bee"><div class="ttname"><a href="../../d2/d6f/namespace_slic3r_1_1sla_1_1anonymous__namespace_02_clustering_8cpp_03.html#aba0b164a780a5c2f6082883e9ae47bee">Slic3r::sla::anonymous_namespace{Clustering.cpp}::cluster</a></div><div class="ttdeci">ClusteredPoints cluster(Index3D &amp;sindex, unsigned max_points, std::function&lt; std::vector&lt; PointIndexEl &gt;(const Index3D &amp;, const PointIndexEl &amp;)&gt; qfn)</div><div class="ttdef"><b>Definition</b> Clustering.cpp:19</div></div>
<div class="ttc" id="anamespace_slic3r_html_a766e186184f710b971ad76f7567d7bef"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a766e186184f710b971ad76f7567d7bef">Slic3r::find_nearby_points</a></div><div class="ttdeci">std::vector&lt; size_t &gt; find_nearby_points(const KDTreeIndirectType &amp;kdtree, const PointType &amp;center, const typename KDTreeIndirectType::CoordType &amp;max_distance, FilterFn filter)</div><div class="ttdef"><b>Definition</b> KDTreeIndirect.hpp:281</div></div>
<div class="ttc" id="astruct_slic3r_1_1_support_spots_generator_1_1_partial_object_html"><div class="ttname"><a href="../../d3/db1/struct_slic3r_1_1_support_spots_generator_1_1_partial_object.html">Slic3r::SupportSpotsGenerator::PartialObject</a></div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.hpp:136</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00281">Slic3r::find_nearby_points()</a>, and <a class="el" href="../../#l01234">gather_issues()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01216">Slic3r::Print::alert_when_supports_needed()</a>, and <a class="el" href="../../#l01234">gather_issues()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a6a1a5772105bcb773cb5edf8a873d2f1_cgraph.svg" width="387" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a6a1a5772105bcb773cb5edf8a873d2f1_icgraph.svg" width="614" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a05352cbc4b4ef95de5d068b3c6ae701c" name="a05352cbc4b4ef95de5d068b3c6ae701c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05352cbc4b4ef95de5d068b3c6ae701c">&#9670;&#160;</a></span>get_flow_width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Slic3r::SupportSpotsGenerator::get_flow_width </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d90/class_slic3r_1_1_layer_region.html">LayerRegion</a> *&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html">ExtrusionRole</a>&#160;</td>
          <td class="paramname"><em>role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  241</span>{</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::BridgeInfill) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frExternalPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::ExternalPerimeter) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frExternalPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::GapFill) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frInfill).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::Perimeter) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::SolidInfill) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frSolidInfill).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::InternalInfill) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frInfill).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">if</span> (role == ExtrusionRole::TopSolidInfill) <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frTopSolidInfill).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">// default</span></div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">return</span> region-&gt;<a class="code hl_function" href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">flow</a>(FlowRole::frPerimeter).<a class="code hl_function" href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">width</a>();</div>
<div class="line"><span class="lineno">  251</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_flow_html_a7f464e1bb800ac2903081f6aeba37f6e"><div class="ttname"><a href="../../d6/d0f/class_slic3r_1_1_flow.html#a7f464e1bb800ac2903081f6aeba37f6e">Slic3r::Flow::width</a></div><div class="ttdeci">float width() const</div><div class="ttdef"><b>Definition</b> Flow.hpp:60</div></div>
<div class="ttc" id="aclass_slic3r_1_1_layer_region_html_a84c9f0b5b677a59b9d2d51173766ff81"><div class="ttname"><a href="../../dd/d90/class_slic3r_1_1_layer_region.html#a84c9f0b5b677a59b9d2d51173766ff81">Slic3r::LayerRegion::flow</a></div><div class="ttdeci">Flow flow(FlowRole role) const</div><div class="ttdef"><b>Definition</b> LayerRegion.cpp:22</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00064">Slic3r::ExtrusionRole::BridgeInfill</a>, <a class="el" href="../../#l00051">Slic3r::ExtrusionRole::ExternalPerimeter</a>, <a class="el" href="../../#l00022">Slic3r::LayerRegion::flow()</a>, <a class="el" href="../../#l00017">Slic3r::frExternalPerimeter</a>, <a class="el" href="../../#l00019">Slic3r::frInfill</a>, <a class="el" href="../../#l00018">Slic3r::frPerimeter</a>, <a class="el" href="../../#l00020">Slic3r::frSolidInfill</a>, <a class="el" href="../../#l00021">Slic3r::frTopSolidInfill</a>, <a class="el" href="../../#l00069">Slic3r::ExtrusionRole::GapFill</a>, <a class="el" href="../../#l00240">get_flow_width()</a>, <a class="el" href="../../#l00055">Slic3r::ExtrusionRole::InternalInfill</a>, <a class="el" href="../../#l00049">Slic3r::ExtrusionRole::Perimeter</a>, <a class="el" href="../../#l00057">Slic3r::ExtrusionRole::SolidInfill</a>, <a class="el" href="../../#l00060">Slic3r::ExtrusionRole::TopSolidInfill</a>, and <a class="el" href="../../#l00060">Slic3r::Flow::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00634">build_object_part_from_slice()</a>, <a class="el" href="../../#l00315">check_extrusion_entity_stability()</a>, <a class="el" href="../../#l01160">estimate_malformations()</a>, and <a class="el" href="../../#l00240">get_flow_width()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a05352cbc4b4ef95de5d068b3c6ae701c_cgraph.svg" width="392" height="126"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a05352cbc4b4ef95de5d068b3c6ae701c_icgraph.svg" width="100%" height="501"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7b7f4470159e34e0d84f9d36fb016975" name="a7b7f4470159e34e0d84f9d36fb016975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7f4470159e34e0d84f9d36fb016975">&#9670;&#160;</a></span>precompute_slices_connections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a> Slic3r::SupportSpotsGenerator::precompute_slices_connections </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  217</span>{</div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_typedef" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">PrecomputedSliceConnections</a> result{};</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> lidx = 0; lidx &lt; po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#aea3e7f3fc4b46b4290105f655edcde47">layer_count</a>(); lidx++) {</div>
<div class="line"><span class="lineno">  220</span>        result.emplace_back(std::vector&lt;SliceConnection&gt;{});</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> slice_idx = 0; slice_idx &lt; po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#aeb29a80908c06dd8644112f4cfff9354">get_layer</a>(lidx)-&gt;lslices_ex.size(); slice_idx++) {</div>
<div class="line"><span class="lineno">  222</span>            result[lidx].push_back(SliceConnection{});</div>
<div class="line"><span class="lineno">  223</span>        }</div>
<div class="line"><span class="lineno">  224</span>    }</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, po-&gt;<a class="code hl_function" href="../../de/d87/class_slic3r_1_1_print_object.html#a87efeb10e5c2f77fd40701ee71512a61">layers</a>().size()), [po, &amp;result](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno">  227</span>        for (size_t lidx = r.begin(); lidx &lt; r.end(); lidx++) {</div>
<div class="line"><span class="lineno">  228</span>            const Layer *l = po-&gt;get_layer(lidx);</div>
<div class="line"><span class="lineno">  229</span>            tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, l-&gt;lslices_ex.size()), [lidx, l, &amp;result](tbb::blocked_range&lt;size_t&gt; r2) {</div>
<div class="line"><span class="lineno">  230</span>                for (size_t slice_idx = r2.begin(); slice_idx &lt; r2.end(); slice_idx++) {</div>
<div class="line"><span class="lineno">  231</span>                    result[lidx][slice_idx] = estimate_slice_connection(slice_idx, l);</div>
<div class="line"><span class="lineno">  232</span>                }</div>
<div class="line"><span class="lineno">  233</span>            });</div>
<div class="line"><span class="lineno">  234</span>        }</div>
<div class="line"><span class="lineno">  235</span>    });</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  238</span>};</div>
<div class="ttc" id="aclass_slic3r_1_1_print_object_html_a87efeb10e5c2f77fd40701ee71512a61"><div class="ttname"><a href="../../de/d87/class_slic3r_1_1_print_object.html#a87efeb10e5c2f77fd40701ee71512a61">Slic3r::PrintObject::layers</a></div><div class="ttdeci">auto layers() const</div><div class="ttdef"><b>Definition</b> Print.hpp:247</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_support_spots_generator_html_a681e0dab624959d66debc1a77bb1863c"><div class="ttname"><a href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html#a681e0dab624959d66debc1a77bb1863c">Slic3r::SupportSpotsGenerator::PrecomputedSliceConnections</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; SliceConnection &gt; &gt; PrecomputedSliceConnections</div><div class="ttdef"><b>Definition</b> SupportSpotsGenerator.cpp:215</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00280">Slic3r::PrintObject::get_layer()</a>, <a class="el" href="../../#l00278">Slic3r::PrintObject::layer_count()</a>, and <a class="el" href="../../#l00247">Slic3r::PrintObject::layers()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01077">full_search()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a7b7f4470159e34e0d84f9d36fb016975_cgraph.svg" width="402" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_a7b7f4470159e34e0d84f9d36fb016975_icgraph.svg" width="472" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac4ad5860faba6feeaf45345a411fb15f" name="ac4ad5860faba6feeaf45345a411fb15f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ad5860faba6feeaf45345a411fb15f">&#9670;&#160;</a></span>to_short_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../da/d6c/class_slic3r_1_1_extrusion_line.html">ExtrusionLine</a> &gt; Slic3r::SupportSpotsGenerator::to_short_lines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html">ExtrusionEntity</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>length_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>    assert(!e-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#ab890d542e670e7a028a17b651ccba125">is_collection</a>());</div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_class" href="../../d6/de0/class_slic3r_1_1_polyline.html">Polyline</a>                   pl = e-&gt;<a class="code hl_function" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">as_polyline</a>();</div>
<div class="line"><span class="lineno">  257</span>    std::vector&lt;ExtrusionLine&gt; lines;</div>
<div class="line"><span class="lineno">  258</span>    lines.reserve(pl.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>.size() * 1.5f);</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> point_idx = 0; point_idx &lt; int(pl.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>.size()) - 1; ++point_idx) {</div>
<div class="line"><span class="lineno">  260</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> start        = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(pl.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[point_idx]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> next         = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab29c118b6283d273408c9700d78ae564">unscaled</a>(pl.<a class="code hl_variable" href="../../d7/dd1/class_slic3r_1_1_multi_point.html#a5f33254e616268f728969886c4ed5d85">points</a>[point_idx + 1]).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno">  262</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> v            = next - start; <span class="comment">// vector from next to current</span></div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordtype">float</span> dist_to_next = v.norm();</div>
<div class="line"><span class="lineno">  264</span>        v.normalize();</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordtype">int</span>   lines_count = int(std::ceil(dist_to_next / length_limit));</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordtype">float</span> step_size   = dist_to_next / lines_count;</div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; lines_count; ++i) {</div>
<div class="line"><span class="lineno">  268</span>            <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> a(start + v * (i * step_size));</div>
<div class="line"><span class="lineno">  269</span>            <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Vec2f</a> b(start + v * ((i + 1) * step_size));</div>
<div class="line"><span class="lineno">  270</span>            lines.emplace_back(a, b, (a-b).norm(), e);</div>
<div class="line"><span class="lineno">  271</span>        }</div>
<div class="line"><span class="lineno">  272</span>    }</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> lines;</div>
<div class="line"><span class="lineno">  274</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/d7c/class_slic3r_1_1_extrusion_entity.html#a544c006b473b7583da8dcd97d94c25bb">Slic3r::ExtrusionEntity::as_polyline()</a>, <a class="el" href="../../#l00024">Slic3r::ExtrusionEntity::is_collection()</a>, <a class="el" href="../../#l00018">Slic3r::MultiPoint::points</a>, <a class="el" href="../../#l00253">to_short_lines()</a>, and <a class="el" href="../../#l00055">Slic3r::unscaled()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00634">build_object_part_from_slice()</a>, and <a class="el" href="../../#l00253">to_short_lines()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_ac4ad5860faba6feeaf45345a411fb15f_cgraph.svg" width="408" height="167"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/d47/namespace_slic3r_1_1_support_spots_generator_ac4ad5860faba6feeaf45345a411fb15f_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../df/d47/namespace_slic3r_1_1_support_spots_generator.html">SupportSpotsGenerator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
