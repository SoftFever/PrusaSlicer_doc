<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::SeamPlacer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/de8/class_slic3r_1_1_seam_placer.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="../../dc/d42/class_slic3r_1_1_seam_placer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::SeamPlacer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/GCode/SeamPlacer.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::SeamPlacer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../de/de0/class_slic3r_1_1_seam_placer__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a537ad1282a142af5295536ed39161e20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a537ad1282a142af5295536ed39161e20">init</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;print, std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)&gt; throw_if_canceled_func)</td></tr>
<tr class="separator:a537ad1282a142af5295536ed39161e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882c75c34a1c517a2793cc7727e40a30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a882c75c34a1c517a2793cc7727e40a30">place_seam</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *layer, <a class="el" href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">ExtrusionLoop</a> &amp;loop, bool external_first, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;last_pos) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a882c75c34a1c517a2793cc7727e40a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0f02b6999545daa643e8eae19d132f82"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *, <a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html">PrintObjectSeamData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a></td></tr>
<tr class="separator:a0f02b6999545daa643e8eae19d132f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a220f6a29f914f28be413e9893a89e515"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a220f6a29f914f28be413e9893a89e515">raycasting_visibility_samples_count</a> = 30000</td></tr>
<tr class="separator:a220f6a29f914f28be413e9893a89e515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8770d760a19960413efb7241854bcd2a"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a8770d760a19960413efb7241854bcd2a">fast_decimation_triangle_count_target</a> = 16000</td></tr>
<tr class="separator:a8770d760a19960413efb7241854bcd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5460adf039589a2e95dfa0c2c2e55e5"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#ad5460adf039589a2e95dfa0c2c2e55e5">sqr_rays_per_sample_point</a> = 5</td></tr>
<tr class="separator:ad5460adf039589a2e95dfa0c2c2e55e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6edaa28698e90335dea36064bb5f1d31"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a6edaa28698e90335dea36064bb5f1d31">sharp_angle_snapping_threshold</a> = 55.0f * float(<a class="el" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) / 180.0f</td></tr>
<tr class="separator:a6edaa28698e90335dea36064bb5f1d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa9c652de1b7ce19f49da169ec7ee4c"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a4fa9c652de1b7ce19f49da169ec7ee4c">overhang_angle_threshold</a> = 50.0f * float(<a class="el" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) / 180.0f</td></tr>
<tr class="separator:a4fa9c652de1b7ce19f49da169ec7ee4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fd403674de3f7d3b8ab437a9bed325"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#af1fd403674de3f7d3b8ab437a9bed325">angle_importance_aligned</a> = 0.6<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:af1fd403674de3f7d3b8ab437a9bed325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d215118d6831859c3c075b338824af"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a89d215118d6831859c3c075b338824af">angle_importance_nearest</a> = 1.0f</td></tr>
<tr class="separator:a89d215118d6831859c3c075b338824af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e09d6b4c4e462a39d65c82ca09c915"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#aa2e09d6b4c4e462a39d65c82ca09c915">enforcer_oversampling_distance</a> = 0.2<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:aa2e09d6b4c4e462a39d65c82ca09c915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c12b48c896c961bd5517c7ee4e890d"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#ac6c12b48c896c961bd5517c7ee4e890d">seam_align_score_tolerance</a> = 0.3<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td></tr>
<tr class="separator:ac6c12b48c896c961bd5517c7ee4e890d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58791e3699dbe8010a580ffe5f5b3595"><td class="memItemLeft" align="right" valign="top">static constexpr float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a58791e3699dbe8010a580ffe5f5b3595">seam_align_tolerable_dist_factor</a> = 4.0f</td></tr>
<tr class="separator:a58791e3699dbe8010a580ffe5f5b3595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf9982bfdd3adfe634eac4c4264c070"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#abaf9982bfdd3adfe634eac4c4264c070">seam_align_minimum_string_seams</a> = 6</td></tr>
<tr class="separator:abaf9982bfdd3adfe634eac4c4264c070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db787b4fb1a9111712e4992f19792b3"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0db787b4fb1a9111712e4992f19792b3">seam_align_mm_per_segment</a> = 4.0f</td></tr>
<tr class="separator:a0db787b4fb1a9111712e4992f19792b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a797d2d5bf8f42c3eff5850e410349110"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a797d2d5bf8f42c3eff5850e410349110">gather_seam_candidates</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">SeamPlacerImpl::GlobalModelInfo</a> &amp;global_model_info)</td></tr>
<tr class="separator:a797d2d5bf8f42c3eff5850e410349110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b6cfefc4ecc156db3d4fec3872213a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a86b6cfefc4ecc156db3d4fec3872213a">calculate_candidates_visibility</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">SeamPlacerImpl::GlobalModelInfo</a> &amp;global_model_info)</td></tr>
<tr class="separator:a86b6cfefc4ecc156db3d4fec3872213a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a020325034a0c2b5ab0b8450f1d1ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a13a020325034a0c2b5ab0b8450f1d1ef">calculate_overhangs_and_layer_embedding</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po)</td></tr>
<tr class="separator:a13a020325034a0c2b5ab0b8450f1d1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a6bdec59f74968e2a62cc24fa2ba27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#aa1a6bdec59f74968e2a62cc24fa2ba27">align_seam_points</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;comparator)</td></tr>
<tr class="separator:aa1a6bdec59f74968e2a62cc24fa2ba27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008d1aeaf7b6540a3b269fcf782b4d33"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a008d1aeaf7b6540a3b269fcf782b4d33">find_seam_string</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *po, std::pair&lt; size_t, size_t &gt; start_seam, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;comparator) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a008d1aeaf7b6540a3b269fcf782b4d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494d6e561b388bc01f1e4ecd7a6b10ea"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::pair&lt; size_t, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a494d6e561b388bc01f1e4ecd7a6b10ea">find_next_seam_in_layer</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#de/d71/struct_slic3r_1_1_print_object_seam_data_1_1_layer_seams">PrintObjectSeamData::LayerSeams</a> &gt; &amp;layers, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> &amp;projected_position, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t layer_idx, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float max_distance, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;comparator) <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="separator:a494d6e561b388bc01f1e4ecd7a6b10ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa1a6bdec59f74968e2a62cc24fa2ba27" name="aa1a6bdec59f74968e2a62cc24fa2ba27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a6bdec59f74968e2a62cc24fa2ba27">&#9670;&#160;</a></span>align_seam_points()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::align_seam_points </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;&#160;</td>
          <td class="paramname"><em>comparator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1224</span>                                                                                                        {</div>
<div class="line"><span class="lineno"> 1225</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>    <span class="comment">// Prepares Debug files for writing.</span></div>
<div class="line"><span class="lineno"> 1228</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1229</span>    <a class="code hl_class" href="../../db/d09/class_slic3r_1_1_c_numeric_locales_setter.html">Slic3r::CNumericLocalesSetter</a> locales_setter;</div>
<div class="line"><span class="lineno"> 1230</span>    <span class="keyword">auto</span> clusters_f = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;seam_clusters.obj&quot;</span>);</div>
<div class="line"><span class="lineno"> 1231</span>    FILE *clusters = boost::nowide::fopen(clusters_f.c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1232</span>    <span class="keywordflow">if</span> (clusters == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1233</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>)</div>
<div class="line"><span class="lineno"> 1234</span>        &lt;&lt; <span class="stringliteral">&quot;stl_write_obj: Couldn&#39;t open &quot;</span> &lt;&lt; clusters_f &lt;&lt; <span class="stringliteral">&quot; for writing&quot;</span>;</div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1236</span>    }</div>
<div class="line"><span class="lineno"> 1237</span>    <span class="keyword">auto</span> aligned_f = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">debug_out_path</a>(<span class="stringliteral">&quot;aligned_clusters.obj&quot;</span>);</div>
<div class="line"><span class="lineno"> 1238</span>    FILE *aligns = boost::nowide::fopen(aligned_f.c_str(), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno"> 1239</span>    <span class="keywordflow">if</span> (aligns == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1240</span>        BOOST_LOG_TRIVIAL(<a class="code hl_variable" href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a>)</div>
<div class="line"><span class="lineno"> 1241</span>        &lt;&lt; <span class="stringliteral">&quot;stl_write_obj: Couldn&#39;t open &quot;</span> &lt;&lt; clusters_f &lt;&lt; <span class="stringliteral">&quot; for writing&quot;</span>;</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1243</span>    }</div>
<div class="line"><span class="lineno"> 1244</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    <span class="comment">//gather vector of all seams on the print_object - pair of layer_index and seam__index within that layer</span></div>
<div class="line"><span class="lineno"> 1247</span>    <span class="keyword">const</span> std::vector&lt;PrintObjectSeamData::LayerSeams&gt; &amp;layers = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>[po].layers;</div>
<div class="line"><span class="lineno"> 1248</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; seams;</div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> layer_idx = 0; layer_idx &lt; layers.size(); ++layer_idx) {</div>
<div class="line"><span class="lineno"> 1250</span>        <span class="keyword">const</span> std::vector&lt;SeamCandidate&gt; &amp;layer_perimeter_points = layers[layer_idx].points;</div>
<div class="line"><span class="lineno"> 1251</span>        <span class="keywordtype">size_t</span> current_point_index = 0;</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">while</span> (current_point_index &lt; layer_perimeter_points.size()) {</div>
<div class="line"><span class="lineno"> 1253</span>            seams.emplace_back(layer_idx, layer_perimeter_points[current_point_index].perimeter.seam_index);</div>
<div class="line"><span class="lineno"> 1254</span>            current_point_index = layer_perimeter_points[current_point_index].perimeter.end_index;</div>
<div class="line"><span class="lineno"> 1255</span>        }</div>
<div class="line"><span class="lineno"> 1256</span>    }</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>    <span class="comment">//sort them before alignment. Alignment is sensitive to initializaion, this gives it better chance to choose something nice</span></div>
<div class="line"><span class="lineno"> 1259</span>    std::stable_sort(seams.begin(), seams.end(),</div>
<div class="line"><span class="lineno"> 1260</span>            [&amp;comparator, &amp;layers](<span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; &amp;left,</div>
<div class="line"><span class="lineno"> 1261</span>                    <span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; &amp;right) {</div>
<div class="line"><span class="lineno"> 1262</span>                return comparator.is_first_better(layers[left.first].points[left.second],</div>
<div class="line"><span class="lineno"> 1263</span>                        layers[right.first].points[right.second]);</div>
<div class="line"><span class="lineno"> 1264</span>            }</div>
<div class="line"><span class="lineno"> 1265</span>    );</div>
<div class="line"><span class="lineno"> 1266</span> </div>
<div class="line"><span class="lineno"> 1267</span>    <span class="comment">//align the seam points - start with the best, and check if they are aligned, if yes, skip, else start alignment</span></div>
<div class="line"><span class="lineno"> 1268</span>    <span class="comment">// Keeping the vectors outside, so with a bit of luck they will not get reallocated after couple of for loop iterations.</span></div>
<div class="line"><span class="lineno"> 1269</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; seam_string;</div>
<div class="line"><span class="lineno"> 1270</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; alternative_seam_string;</div>
<div class="line"><span class="lineno"> 1271</span>    std::vector&lt;Vec2f&gt; observations;</div>
<div class="line"><span class="lineno"> 1272</span>    std::vector&lt;float&gt; observation_points;</div>
<div class="line"><span class="lineno"> 1273</span>    std::vector&lt;float&gt; weights;</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>    <span class="keywordtype">int</span> global_index = 0;</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">while</span> (global_index &lt; <span class="keywordtype">int</span>(seams.size())) {</div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordtype">size_t</span> layer_idx = seams[global_index].first;</div>
<div class="line"><span class="lineno"> 1278</span>        <span class="keywordtype">size_t</span> seam_index = seams[global_index].second;</div>
<div class="line"><span class="lineno"> 1279</span>        global_index++;</div>
<div class="line"><span class="lineno"> 1280</span>        <span class="keyword">const</span> std::vector&lt;SeamCandidate&gt; &amp;layer_perimeter_points = layers[layer_idx].points;</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">if</span> (layer_perimeter_points[seam_index].perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1282</span>            <span class="comment">// This perimeter is already aligned, skip seam</span></div>
<div class="line"><span class="lineno"> 1283</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1284</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1285</span>            seam_string = this-&gt;<a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a008d1aeaf7b6540a3b269fcf782b4d33">find_seam_string</a>(po, { layer_idx, seam_index }, comparator);</div>
<div class="line"><span class="lineno"> 1286</span>            <span class="keywordtype">size_t</span> step_size = 1 + seam_string.size() / 20;</div>
<div class="line"><span class="lineno"> 1287</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> alternative_start = 0; alternative_start &lt; seam_string.size(); alternative_start += step_size) {</div>
<div class="line"><span class="lineno"> 1288</span>                <span class="keywordtype">size_t</span> start_layer_idx = seam_string[alternative_start].first;</div>
<div class="line"><span class="lineno"> 1289</span>                <span class="keywordtype">size_t</span> seam_idx =</div>
<div class="line"><span class="lineno"> 1290</span>                        layers[start_layer_idx].points[seam_string[alternative_start].second].perimeter.seam_index;</div>
<div class="line"><span class="lineno"> 1291</span>                alternative_seam_string = this-&gt;<a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a008d1aeaf7b6540a3b269fcf782b4d33">find_seam_string</a>(po,</div>
<div class="line"><span class="lineno"> 1292</span>                        std::pair&lt;size_t, size_t&gt;(start_layer_idx, seam_idx), comparator);</div>
<div class="line"><span class="lineno"> 1293</span>                <span class="keywordflow">if</span> (alternative_seam_string.size() &gt; seam_string.size()) {</div>
<div class="line"><span class="lineno"> 1294</span>                    seam_string = std::move(alternative_seam_string);</div>
<div class="line"><span class="lineno"> 1295</span>                }</div>
<div class="line"><span class="lineno"> 1296</span>            }</div>
<div class="line"><span class="lineno"> 1297</span>            <span class="keywordflow">if</span> (seam_string.size() &lt; <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#abaf9982bfdd3adfe634eac4c4264c070">seam_align_minimum_string_seams</a>) {</div>
<div class="line"><span class="lineno"> 1298</span>                <span class="comment">//string NOT long enough to be worth aligning, skip</span></div>
<div class="line"><span class="lineno"> 1299</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1300</span>            }</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>            <span class="comment">// String is long enough, all string seams and potential string seams gathered, now do the alignment</span></div>
<div class="line"><span class="lineno"> 1303</span>            <span class="comment">//sort by layer index</span></div>
<div class="line"><span class="lineno"> 1304</span>            std::sort(seam_string.begin(), seam_string.end(),</div>
<div class="line"><span class="lineno"> 1305</span>                    [](<span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; &amp;left, <span class="keyword">const</span> std::pair&lt;size_t, size_t&gt; &amp;right) {</div>
<div class="line"><span class="lineno"> 1306</span>                        return left.first &lt; right.first;</div>
<div class="line"><span class="lineno"> 1307</span>                    });</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>            <span class="comment">//repeat the alignment for the current seam, since it could be skipped due to alternative path being aligned.</span></div>
<div class="line"><span class="lineno"> 1310</span>            global_index--;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>            <span class="comment">// gather all positions of seams and their weights</span></div>
<div class="line"><span class="lineno"> 1313</span>            observations.resize(seam_string.size());</div>
<div class="line"><span class="lineno"> 1314</span>            observation_points.resize(seam_string.size());</div>
<div class="line"><span class="lineno"> 1315</span>            weights.resize(seam_string.size());</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>            <span class="keyword">auto</span> angle_3d = [](<span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>&amp; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a>&amp; <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>){</div>
<div class="line"><span class="lineno"> 1318</span>                <span class="keywordflow">return</span> std::abs(acosf(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.normalized().dot(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>.normalized())));</div>
<div class="line"><span class="lineno"> 1319</span>            };</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>            <span class="keyword">auto</span> angle_weight = [](<span class="keywordtype">float</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>){</div>
<div class="line"><span class="lineno"> 1322</span>                <span class="keywordflow">return</span> 1.0f / (0.1f + <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad80e21ca93bdfbbd3a2a7be43aca9e96">compute_angle_penalty</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">angle</a>));</div>
<div class="line"><span class="lineno"> 1323</span>            };</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>            <span class="comment">//gather points positions and weights</span></div>
<div class="line"><span class="lineno"> 1326</span>            <span class="keywordtype">float</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7ac56f33c19efe05868245ad6bc80109">total_length</a> = 0.0f;</div>
<div class="line"><span class="lineno"> 1327</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> last_point_pos = layers[seam_string[0].first].points[seam_string[0].second].position;</div>
<div class="line"><span class="lineno"> 1328</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = 0; index &lt; seam_string.size(); ++index) {</div>
<div class="line"><span class="lineno"> 1329</span>                <span class="keyword">const</span> SeamCandidate &amp;current = layers[seam_string[index].first].points[seam_string[index].second];</div>
<div class="line"><span class="lineno"> 1330</span>                <span class="keywordtype">float</span> layer_angle = 0.0f;</div>
<div class="line"><span class="lineno"> 1331</span>                <span class="keywordflow">if</span> (index &gt; 0 &amp;&amp; index &lt; seam_string.size() - 1) {</div>
<div class="line"><span class="lineno"> 1332</span>                    layer_angle = angle_3d(</div>
<div class="line"><span class="lineno"> 1333</span>                                    current.position</div>
<div class="line"><span class="lineno"> 1334</span>                                            - layers[seam_string[index - 1].first].points[seam_string[index - 1].second].position,</div>
<div class="line"><span class="lineno"> 1335</span>                                    layers[seam_string[index + 1].first].points[seam_string[index + 1].second].position</div>
<div class="line"><span class="lineno"> 1336</span>                                            - current.position</div>
<div class="line"><span class="lineno"> 1337</span>                                            );</div>
<div class="line"><span class="lineno"> 1338</span>                }</div>
<div class="line"><span class="lineno"> 1339</span>                observations[index] = current.position.head&lt;2&gt;();</div>
<div class="line"><span class="lineno"> 1340</span>                observation_points[index] = current.position.z();</div>
<div class="line"><span class="lineno"> 1341</span>                weights[index] = angle_weight(current.local_ccw_angle);</div>
<div class="line"><span class="lineno"> 1342</span>                <span class="keywordtype">float</span> curling_influence = layer_angle &gt; 2.0 * std::abs(current.local_ccw_angle) ? -0.8f : 1.0f;</div>
<div class="line"><span class="lineno"> 1343</span>                <span class="keywordflow">if</span> (current.type == EnforcedBlockedSeamPoint::Enforced) {</div>
<div class="line"><span class="lineno"> 1344</span>                    curling_influence = 1.0f;</div>
<div class="line"><span class="lineno"> 1345</span>                    weights[index] += 3.0f;</div>
<div class="line"><span class="lineno"> 1346</span>                }</div>
<div class="line"><span class="lineno"> 1347</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7ac56f33c19efe05868245ad6bc80109">total_length</a> += curling_influence * (last_point_pos - current.position).norm();</div>
<div class="line"><span class="lineno"> 1348</span>                last_point_pos = current.position;</div>
<div class="line"><span class="lineno"> 1349</span>            }</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>            <span class="keywordflow">if</span> (comparator.setup == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a65f385803858c03282540d329a570002">spRear</a>) {</div>
<div class="line"><span class="lineno"> 1352</span>                <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7ac56f33c19efe05868245ad6bc80109">total_length</a> *= 0.3f;</div>
<div class="line"><span class="lineno"> 1353</span>            }</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>            <span class="comment">// Curve Fitting</span></div>
<div class="line"><span class="lineno"> 1356</span>            <span class="keywordtype">size_t</span> number_of_segments = std::max(<span class="keywordtype">size_t</span>(1),</div>
<div class="line"><span class="lineno"> 1357</span>                    <span class="keywordtype">size_t</span>(std::max(0.0f,<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a7ac56f33c19efe05868245ad6bc80109">total_length</a>) / <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0db787b4fb1a9111712e4992f19792b3">SeamPlacer::seam_align_mm_per_segment</a>));</div>
<div class="line"><span class="lineno"> 1358</span>            <span class="keyword">auto</span> curve = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a04a5dab1c72e9f1edf51cc1efa925452">Geometry::fit_cubic_bspline</a>(observations, observation_points, weights, number_of_segments);</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>            <span class="comment">// Do alignment - compute fitted point for each point in the string from its Z coord, and store the position into</span></div>
<div class="line"><span class="lineno"> 1361</span>            <span class="comment">// Perimeter structure of the point; also set flag aligned to true</span></div>
<div class="line"><span class="lineno"> 1362</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = 0; index &lt; seam_string.size(); ++index) {</div>
<div class="line"><span class="lineno"> 1363</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair = seam_string[index];</div>
<div class="line"><span class="lineno"> 1364</span>                <span class="keywordtype">float</span> t = std::min(1.0f, std::pow(std::abs(layers[pair.first].points[pair.second].local_ccw_angle)</div>
<div class="line"><span class="lineno"> 1365</span>                        / <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a6edaa28698e90335dea36064bb5f1d31">SeamPlacer::sharp_angle_snapping_threshold</a>, 3.0f));</div>
<div class="line"><span class="lineno"> 1366</span>                <span class="keywordflow">if</span> (layers[pair.first].points[pair.second].type == EnforcedBlockedSeamPoint::Enforced){</div>
<div class="line"><span class="lineno"> 1367</span>                    t = std::max(0.4f, t);</div>
<div class="line"><span class="lineno"> 1368</span>                }</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> current_pos = layers[pair.first].points[pair.second].position;</div>
<div class="line"><span class="lineno"> 1371</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> fitted_pos = curve.get_fitted_value(current_pos.z());</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>                <span class="comment">//interpolate between current and fitted position, prefer current pos for large weights.</span></div>
<div class="line"><span class="lineno"> 1374</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> final_position = t * current_pos + (1.0f - t) * <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">to_3d</a>(fitted_pos, current_pos.z());</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>                <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> &amp;perimeter = layers[pair.first].points[pair.second].perimeter;</div>
<div class="line"><span class="lineno"> 1377</span>                perimeter.seam_index = pair.second;</div>
<div class="line"><span class="lineno"> 1378</span>                perimeter.final_seam_position = final_position;</div>
<div class="line"><span class="lineno"> 1379</span>                perimeter.finalized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1380</span>            }</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1383</span>            <span class="keyword">auto</span> randf = []() {</div>
<div class="line"><span class="lineno"> 1384</span>                <span class="keywordflow">return</span> float(rand()) / float(RAND_MAX);</div>
<div class="line"><span class="lineno"> 1385</span>            };</div>
<div class="line"><span class="lineno"> 1386</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> color { randf(), randf(), randf() };</div>
<div class="line"><span class="lineno"> 1387</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; seam_string.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1388</span>                <span class="keyword">auto</span> orig_seam = layers[seam_string[i].first].points[seam_string[i].second];</div>
<div class="line"><span class="lineno"> 1389</span>                fprintf(clusters, <span class="stringliteral">&quot;v %f %f %f %f %f %f \n&quot;</span>, orig_seam.position[0],</div>
<div class="line"><span class="lineno"> 1390</span>                        orig_seam.position[1],</div>
<div class="line"><span class="lineno"> 1391</span>                        orig_seam.position[2], color[0], color[1],</div>
<div class="line"><span class="lineno"> 1392</span>                        color[2]);</div>
<div class="line"><span class="lineno"> 1393</span>            }</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>            color = <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> { randf(), randf(), randf() };</div>
<div class="line"><span class="lineno"> 1396</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; seam_string.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1397</span>                <span class="keyword">const</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> &amp;perimeter = layers[seam_string[i].first].points[seam_string[i].second].perimeter;</div>
<div class="line"><span class="lineno"> 1398</span>                fprintf(aligns, <span class="stringliteral">&quot;v %f %f %f %f %f %f \n&quot;</span>, perimeter.final_seam_position[0],</div>
<div class="line"><span class="lineno"> 1399</span>                        perimeter.final_seam_position[1],</div>
<div class="line"><span class="lineno"> 1400</span>                        perimeter.final_seam_position[2], color[0], color[1],</div>
<div class="line"><span class="lineno"> 1401</span>                        color[2]);</div>
<div class="line"><span class="lineno"> 1402</span>            }</div>
<div class="line"><span class="lineno"> 1403</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1404</span>        }</div>
<div class="line"><span class="lineno"> 1405</span>    }</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1408</span>    fclose(clusters);</div>
<div class="line"><span class="lineno"> 1409</span>    fclose(aligns);</div>
<div class="line"><span class="lineno"> 1410</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_c_numeric_locales_setter_html"><div class="ttname"><a href="../../db/d09/class_slic3r_1_1_c_numeric_locales_setter.html">Slic3r::CNumericLocalesSetter</a></div><div class="ttdef"><b>Definition</b> LocalesUtils.hpp:18</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a008d1aeaf7b6540a3b269fcf782b4d33"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a008d1aeaf7b6540a3b269fcf782b4d33">Slic3r::SeamPlacer::find_seam_string</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; find_seam_string(const PrintObject *po, std::pair&lt; size_t, size_t &gt; start_seam, const SeamPlacerImpl::SeamComparator &amp;comparator) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1165</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a0db787b4fb1a9111712e4992f19792b3"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0db787b4fb1a9111712e4992f19792b3">Slic3r::SeamPlacer::seam_align_mm_per_segment</a></div><div class="ttdeci">static constexpr size_t seam_align_mm_per_segment</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:137</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a0f02b6999545daa643e8eae19d132f82"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">Slic3r::SeamPlacer::m_seam_per_object</a></div><div class="ttdeci">std::unordered_map&lt; const PrintObject *, PrintObjectSeamData &gt; m_seam_per_object</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:140</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a6edaa28698e90335dea36064bb5f1d31"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a6edaa28698e90335dea36064bb5f1d31">Slic3r::SeamPlacer::sharp_angle_snapping_threshold</a></div><div class="ttdeci">static constexpr float sharp_angle_snapping_threshold</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:118</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_abaf9982bfdd3adfe634eac4c4264c070"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#abaf9982bfdd3adfe634eac4c4264c070">Slic3r::SeamPlacer::seam_align_minimum_string_seams</a></div><div class="ttdeci">static constexpr size_t seam_align_minimum_string_seams</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:135</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a04a5dab1c72e9f1edf51cc1efa925452"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a04a5dab1c72e9f1edf51cc1efa925452">Slic3r::Geometry::fit_cubic_bspline</a></div><div class="ttdeci">PiecewiseFittedCurve&lt; Dimension, NumberType, CubicBSplineKernel&lt; NumberType &gt; &gt; fit_cubic_bspline(const std::vector&lt; Vec&lt; Dimension, NumberType &gt; &gt; &amp;observations, std::vector&lt; NumberType &gt; observation_points, std::vector&lt; NumberType &gt; weights, size_t segments_count, size_t endpoints_level_of_freedom=0)</div><div class="ttdef"><b>Definition</b> Curves.hpp:193</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ad80e21ca93bdfbbd3a2a7be43aca9e96"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad80e21ca93bdfbbd3a2a7be43aca9e96">Slic3r::SeamPlacerImpl::compute_angle_penalty</a></div><div class="ttdeci">float compute_angle_penalty(float ccw_angle)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:52</div></div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326a65f385803858c03282540d329a570002"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a65f385803858c03282540d329a570002">Slic3r::spRear</a></div><div class="ttdeci">@ spRear</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:98</div></div>
<div class="ttc" id="anamespace_slic3r_html_a1d1423286c406123371c37ceada9ebae"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a1d1423286c406123371c37ceada9ebae">Slic3r::debug_out_path</a></div><div class="ttdeci">std::string debug_out_path(const char *name,...)</div><div class="ttdef"><b>Definition</b> utils.cpp:218</div></div>
<div class="ttc" id="anamespace_slic3r_html_a3f60c0fef0146fe2b8ee74dee582e83d"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">Slic3r::to_3d</a></div><div class="ttdeci">Eigen::Matrix&lt; typename Derived::Scalar, 3, 1, Eigen::DontAlign &gt; to_3d(const Eigen::MatrixBase&lt; Derived &gt; &amp;pt, const typename Derived::Scalar z)</div><div class="ttdef"><b>Definition</b> Point.hpp:127</div></div>
<div class="ttc" id="anamespace_slic3r_html_a4e0a52bc52a09b283b7b06e2f0c272cc"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Slic3r::Vec3f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 3, 1, Eigen::DontAlign &gt; Vec3f</div><div class="ttdef"><b>Definition</b> Point.hpp:49</div></div>
<div class="ttc" id="anamespace_slic3r_html_a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Slic3r::ExtrusionRoleModifier::Perimeter</a></div><div class="ttdeci">@ Perimeter</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7927d0ca1b31b8f9284ea268b11d27d5"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7927d0ca1b31b8f9284ea268b11d27d5">Slic3r::angle</a></div><div class="ttdeci">double angle(const Eigen::MatrixBase&lt; Derived &gt; &amp;v1, const Eigen::MatrixBase&lt; Derived2 &gt; &amp;v2)</div><div class="ttdef"><b>Definition</b> Point.hpp:112</div></div>
<div class="ttc" id="anamespace_slic3r_html_a7ac56f33c19efe05868245ad6bc80109"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a7ac56f33c19efe05868245ad6bc80109">Slic3r::total_length</a></div><div class="ttdeci">double total_length(const Polygons &amp;polylines)</div><div class="ttdef"><b>Definition</b> Polygon.hpp:112</div></div>
<div class="ttc" id="anamespace_slic3r_html_abe1c34afe5a07b8b1a7823ecfe2d1722"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Slic3r::Vec2f</a></div><div class="ttdeci">Eigen::Matrix&lt; float, 2, 1, Eigen::DontAlign &gt; Vec2f</div><div class="ttdef"><b>Definition</b> Point.hpp:48</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="atga_8cpp_html_adbb625a19574e9e39e1d07df31b00b06"><div class="ttname"><a href="../../de/dca/tga_8cpp.html#adbb625a19574e9e39e1d07df31b00b06">error</a></div><div class="ttdeci">static char error[256]</div><div class="ttdef"><b>Definition</b> tga.cpp:50</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Slic3r::angle()</a>, <a class="el" href="../../#l00218">Slic3r::debug_out_path()</a>, <a class="el" href="../../#l00050">error</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Slic3r::Perimeter</a>, <a class="el" href="../../#l00733">Slic3r::SeamPlacerImpl::SeamComparator::setup</a>, <a class="el" href="../../#l00098">Slic3r::spRear</a>, <a class="el" href="../../#l00127">Slic3r::to_3d()</a>, and <a class="el" href="../../#l00112">Slic3r::total_length()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_aa1a6bdec59f74968e2a62cc24fa2ba27_cgraph.svg" width="554" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a86b6cfefc4ecc156db3d4fec3872213a" name="a86b6cfefc4ecc156db3d4fec3872213a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b6cfefc4ecc156db3d4fec3872213a">&#9670;&#160;</a></span>calculate_candidates_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::calculate_candidates_visibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">SeamPlacerImpl::GlobalModelInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>global_model_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1033</span>                                                                {</div>
<div class="line"><span class="lineno"> 1034</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>    std::vector&lt;PrintObjectSeamData::LayerSeams&gt; &amp;layers = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>[po].layers;</div>
<div class="line"><span class="lineno"> 1037</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, layers.size()),</div>
<div class="line"><span class="lineno"> 1038</span>            [&amp;layers, &amp;global_model_info](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno"> 1039</span>                for (size_t layer_idx = r.begin(); layer_idx &lt; r.end(); ++layer_idx) {</div>
<div class="line"><span class="lineno"> 1040</span>                    for (auto &amp;perimeter_point : layers[layer_idx].points) {</div>
<div class="line"><span class="lineno"> 1041</span>                        perimeter_point.visibility = global_model_info.calculate_point_visibility(</div>
<div class="line"><span class="lineno"> 1042</span>                                perimeter_point.position);</div>
<div class="line"><span class="lineno"> 1043</span>                    }</div>
<div class="line"><span class="lineno"> 1044</span>                }</div>
<div class="line"><span class="lineno"> 1045</span>            });</div>
<div class="line"><span class="lineno"> 1046</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a13a020325034a0c2b5ab0b8450f1d1ef" name="a13a020325034a0c2b5ab0b8450f1d1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a020325034a0c2b5ab0b8450f1d1ef">&#9670;&#160;</a></span>calculate_overhangs_and_layer_embedding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::calculate_overhangs_and_layer_embedding </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1048</span>                                                                              {</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1050</span>    <span class="keyword">using </span>PerimeterDistancer = AABBTreeLines::LinesDistancer&lt;Linef&gt;;</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>    std::vector&lt;PrintObjectSeamData::LayerSeams&gt; &amp;layers = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>[po].layers;</div>
<div class="line"><span class="lineno"> 1053</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, layers.size()),</div>
<div class="line"><span class="lineno"> 1054</span>            [po, &amp;layers](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno"> 1055</span>                std::unique_ptr&lt;PerimeterDistancer&gt; prev_layer_distancer;</div>
<div class="line"><span class="lineno"> 1056</span>                if (r.begin() &gt; 0) { <span class="comment">// previous layer exists</span></div>
<div class="line"><span class="lineno"> 1057</span>                    prev_layer_distancer = std::make_unique&lt;PerimeterDistancer&gt;(to_unscaled_linesf(po-&gt;layers()[r.begin() - 1]-&gt;lslices));</div>
<div class="line"><span class="lineno"> 1058</span>                }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>                for (<span class="keywordtype">size_t</span> layer_idx = r.begin(); layer_idx &lt; r.end(); ++layer_idx) {</div>
<div class="line"><span class="lineno"> 1061</span>                    <span class="keywordtype">size_t</span> regions_with_perimeter = 0;</div>
<div class="line"><span class="lineno"> 1062</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> LayerRegion *region : po-&gt;layers()[layer_idx]-&gt;regions()) {</div>
<div class="line"><span class="lineno"> 1063</span>                        <span class="keywordflow">if</span> (region-&gt;perimeters().size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1064</span>                            regions_with_perimeter++;</div>
<div class="line"><span class="lineno"> 1065</span>                        }</div>
<div class="line"><span class="lineno"> 1066</span>                    };</div>
<div class="line"><span class="lineno"> 1067</span>                    <span class="keywordtype">bool</span> should_compute_layer_embedding = regions_with_perimeter &gt; 1;</div>
<div class="line"><span class="lineno"> 1068</span>                    std::unique_ptr&lt;PerimeterDistancer&gt; current_layer_distancer        = std::make_unique&lt;PerimeterDistancer&gt;(</div>
<div class="line"><span class="lineno"> 1069</span>                        <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a714b3d88806c015f182e6e3071bb2494">to_unscaled_linesf</a>(po-&gt;layers()[layer_idx]-&gt;lslices));</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>                    <span class="keywordflow">for</span> (SeamCandidate &amp;perimeter_point : layers[layer_idx].points) {</div>
<div class="line"><span class="lineno"> 1072</span>                        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> point = <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> { perimeter_point.position.head&lt;2&gt;() };</div>
<div class="line"><span class="lineno"> 1073</span>                        <span class="keywordflow">if</span> (prev_layer_distancer.get() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1074</span>                            perimeter_point.overhang = prev_layer_distancer-&gt;distance_from_lines&lt;<span class="keyword">true</span>&gt;(point.cast&lt;<span class="keywordtype">double</span>&gt;())</div>
<div class="line"><span class="lineno"> 1075</span>                                    + 0.6f * perimeter_point.perimeter.flow_width</div>
<div class="line"><span class="lineno"> 1076</span>                                    - <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a>(<a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a4fa9c652de1b7ce19f49da169ec7ee4c">SeamPlacer::overhang_angle_threshold</a>)</div>
<div class="line"><span class="lineno"> 1077</span>                                            * po-&gt;layers()[layer_idx]-&gt;height;</div>
<div class="line"><span class="lineno"> 1078</span>                            perimeter_point.overhang =</div>
<div class="line"><span class="lineno"> 1079</span>                                    perimeter_point.overhang &lt; 0.0f ? 0.0f : perimeter_point.overhang;</div>
<div class="line"><span class="lineno"> 1080</span>                        }</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>                        <span class="keywordflow">if</span> (should_compute_layer_embedding) { <span class="comment">// search for embedded perimeter points (points hidden inside the print ,e.g. multimaterial join, best position for seam)</span></div>
<div class="line"><span class="lineno"> 1083</span>                            perimeter_point.embedded_distance = current_layer_distancer-&gt;distance_from_lines&lt;<span class="keyword">true</span>&gt;(point.cast&lt;<span class="keywordtype">double</span>&gt;())</div>
<div class="line"><span class="lineno"> 1084</span>                                    + 0.6f * perimeter_point.perimeter.flow_width;</div>
<div class="line"><span class="lineno"> 1085</span>                        }</div>
<div class="line"><span class="lineno"> 1086</span>                    }</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>                    prev_layer_distancer.swap(current_layer_distancer);</div>
<div class="line"><span class="lineno"> 1089</span>                }</div>
<div class="line"><span class="lineno"> 1090</span>            }</div>
<div class="line"><span class="lineno"> 1091</span>            );</div>
<div class="line"><span class="lineno"> 1092</span>        }</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a0c32a3874bfc5438d11b75c9f40256d1"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a0c32a3874bfc5438d11b75c9f40256d1">tan</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const TanReturnType tan() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:234</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a4fa9c652de1b7ce19f49da169ec7ee4c"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a4fa9c652de1b7ce19f49da169ec7ee4c">Slic3r::SeamPlacer::overhang_angle_threshold</a></div><div class="ttdeci">static constexpr float overhang_angle_threshold</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:120</div></div>
<div class="ttc" id="anamespace_slic3r_html_a714b3d88806c015f182e6e3071bb2494"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a714b3d88806c015f182e6e3071bb2494">Slic3r::to_unscaled_linesf</a></div><div class="ttdeci">Linesf to_unscaled_linesf(const ExPolygons &amp;src)</div><div class="ttdef"><b>Definition</b> ExPolygon.hpp:175</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00247">Slic3r::PrintObject::layers()</a>, <a class="el" href="../../#l00234">tan()</a>, and <a class="el" href="../../#l00175">Slic3r::to_unscaled_linesf()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a13a020325034a0c2b5ab0b8450f1d1ef_cgraph.svg" width="530" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a494d6e561b388bc01f1e4ecd7a6b10ea" name="a494d6e561b388bc01f1e4ecd7a6b10ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494d6e561b388bc01f1e4ecd7a6b10ea">&#9670;&#160;</a></span>find_next_seam_in_layer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::pair&lt; size_t, size_t &gt; &gt; Slic3r::SeamPlacer::find_next_seam_in_layer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> std::vector&lt; <a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html#de/d71/struct_slic3r_1_1_print_object_seam_data_1_1_layer_seams">PrintObjectSeamData::LayerSeams</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> &amp;&#160;</td>
          <td class="paramname"><em>projected_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> size_t&#160;</td>
          <td class="paramname"><em>layer_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>max_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;&#160;</td>
          <td class="paramname"><em>comparator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1105</span>                                                              {</div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1107</span>    std::vector&lt;size_t&gt; nearby_points_indices = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a766e186184f710b971ad76f7567d7bef">find_nearby_points</a>(*layers[layer_idx].points_tree, projected_position,</div>
<div class="line"><span class="lineno"> 1108</span>            max_distance);</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>    <span class="keywordflow">if</span> (nearby_points_indices.empty()) {</div>
<div class="line"><span class="lineno"> 1111</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno"> 1112</span>    }</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>    <span class="keywordtype">size_t</span> best_nearby_point_index = nearby_points_indices[0];</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordtype">size_t</span> <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a> = nearby_points_indices[0];</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>    <span class="comment">// Now find best nearby point, nearest point, and corresponding indices</span></div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;nearby_point_index : nearby_points_indices) {</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keyword">const</span> SeamCandidate &amp;point = layers[layer_idx].points[nearby_point_index];</div>
<div class="line"><span class="lineno"> 1120</span>        <span class="keywordflow">if</span> (point.perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1121</span>            <span class="keywordflow">continue</span>; <span class="comment">// skip over finalized perimeters, try to find some that is not finalized</span></div>
<div class="line"><span class="lineno"> 1122</span>        }</div>
<div class="line"><span class="lineno"> 1123</span>        <span class="keywordflow">if</span> (comparator.is_first_better(point, layers[layer_idx].points[best_nearby_point_index],</div>
<div class="line"><span class="lineno"> 1124</span>                projected_position.head&lt;2&gt;())</div>
<div class="line"><span class="lineno"> 1125</span>                || layers[layer_idx].points[best_nearby_point_index].perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1126</span>            best_nearby_point_index = nearby_point_index;</div>
<div class="line"><span class="lineno"> 1127</span>        }</div>
<div class="line"><span class="lineno"> 1128</span>        <span class="keywordflow">if</span> ((point.position - projected_position).squaredNorm()</div>
<div class="line"><span class="lineno"> 1129</span>                &lt; (layers[layer_idx].points[<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a>].position - projected_position).squaredNorm()</div>
<div class="line"><span class="lineno"> 1130</span>                || layers[layer_idx].points[<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a>].perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1131</span>            <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a> = nearby_point_index;</div>
<div class="line"><span class="lineno"> 1132</span>        }</div>
<div class="line"><span class="lineno"> 1133</span>    }</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keyword">const</span> SeamCandidate &amp;best_nearby_point = layers[layer_idx].points[best_nearby_point_index];</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keyword">const</span> SeamCandidate &amp;<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a> = layers[layer_idx].points[<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a>];</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a>.perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1139</span>        <span class="comment">//all points are from already finalized perimeter, skip</span></div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno"> 1141</span>    }</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">//from the nearest_point, deduce index of seam in the next layer</span></div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keyword">const</span> SeamCandidate &amp;next_layer_seam = layers[layer_idx].points[<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a>.perimeter.seam_index];</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    <span class="comment">// First try to pick central enforcer if any present</span></div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (next_layer_seam.central_enforcer</div>
<div class="line"><span class="lineno"> 1148</span>            &amp;&amp; (next_layer_seam.position - projected_position).squaredNorm()</div>
<div class="line"><span class="lineno"> 1149</span>                    &lt; <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9f09756940b3eb2052058460bf07e4a3">sqr</a>(3 * max_distance)) {</div>
<div class="line"><span class="lineno"> 1150</span>        <span class="keywordflow">return</span> {std::pair&lt;size_t, size_t&gt; {layer_idx, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a>.perimeter.seam_index}};</div>
<div class="line"><span class="lineno"> 1151</span>    }</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <span class="comment">// First try to align the nearest, then try the best nearby</span></div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span> (comparator.is_first_not_much_worse(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">nearest_point</a>, next_layer_seam)) {</div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keywordflow">return</span> {std::pair&lt;size_t, size_t&gt; {layer_idx, <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">nearest_point_index</a>}};</div>
<div class="line"><span class="lineno"> 1156</span>    }</div>
<div class="line"><span class="lineno"> 1157</span>    <span class="comment">// If nearest point is not good enough, try it with the best nearby point.</span></div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keywordflow">if</span> (comparator.is_first_not_much_worse(best_nearby_point, next_layer_seam)) {</div>
<div class="line"><span class="lineno"> 1159</span>        <span class="keywordflow">return</span> {std::pair&lt;size_t, size_t&gt; {layer_idx, best_nearby_point_index}};</div>
<div class="line"><span class="lineno"> 1160</span>    }</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno"> 1163</span>}</div>
<div class="ttc" id="anamespace_slic3r_html_a0c2e95380bef258204b91d93d8166610"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a0c2e95380bef258204b91d93d8166610">Slic3r::nearest_point</a></div><div class="ttdeci">std::pair&lt; Point, bool &gt; nearest_point(const Points &amp;points, const Point &amp;pt)</div><div class="ttdef"><b>Definition</b> Point.hpp:266</div></div>
<div class="ttc" id="anamespace_slic3r_html_a766e186184f710b971ad76f7567d7bef"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a766e186184f710b971ad76f7567d7bef">Slic3r::find_nearby_points</a></div><div class="ttdeci">std::vector&lt; size_t &gt; find_nearby_points(const KDTreeIndirectType &amp;kdtree, const PointType &amp;center, const typename KDTreeIndirectType::CoordType &amp;max_distance, FilterFn filter)</div><div class="ttdef"><b>Definition</b> KDTreeIndirect.hpp:281</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9f09756940b3eb2052058460bf07e4a3"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9f09756940b3eb2052058460bf07e4a3">Slic3r::sqr</a></div><div class="ttdeci">constexpr T sqr(T x)</div><div class="ttdef"><b>Definition</b> libslic3r.h:258</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab56403a6d4f6d7db536296290193c601"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab56403a6d4f6d7db536296290193c601">Slic3r::nearest_point_index</a></div><div class="ttdeci">int nearest_point_index(const Points &amp;points, const Point &amp;pt)</div><div class="ttdef"><b>Definition</b> Point.cpp:118</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00281">Slic3r::find_nearby_points()</a>, <a class="el" href="../../#l00743">Slic3r::SeamPlacerImpl::SeamComparator::is_first_better()</a>, <a class="el" href="../../#l00792">Slic3r::SeamPlacerImpl::SeamComparator::is_first_not_much_worse()</a>, <a class="el" href="../../#l00266">Slic3r::nearest_point()</a>, <a class="el" href="../../#l00118">Slic3r::nearest_point_index()</a>, and <a class="el" href="../../#l00258">Slic3r::sqr()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a494d6e561b388bc01f1e4ecd7a6b10ea_cgraph.svg" width="100%" height="572"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a008d1aeaf7b6540a3b269fcf782b4d33" name="a008d1aeaf7b6540a3b269fcf782b4d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008d1aeaf7b6540a3b269fcf782b4d33">&#9670;&#160;</a></span>find_seam_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; Slic3r::SeamPlacer::find_seam_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::pair&lt; size_t, size_t &gt;&#160;</td>
          <td class="paramname"><em>start_seam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../da/d65/struct_slic3r_1_1_seam_placer_impl_1_1_seam_comparator.html">SeamPlacerImpl::SeamComparator</a> &amp;&#160;</td>
          <td class="paramname"><em>comparator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1166</span>                                                                                                  {</div>
<div class="line"><span class="lineno"> 1167</span>    <span class="keyword">const</span> std::vector&lt;PrintObjectSeamData::LayerSeams&gt; &amp;layers = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>.find(po)-&gt;second.layers;</div>
<div class="line"><span class="lineno"> 1168</span>    <span class="keywordtype">int</span> layer_idx = start_seam.first;</div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span>    <span class="comment">//initialize searching for seam string - cluster of nearby seams on previous and next layers</span></div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordtype">int</span> next_layer = layer_idx + 1;</div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> = 1;</div>
<div class="line"><span class="lineno"> 1173</span>    std::pair&lt;size_t, size_t&gt; prev_point_index = start_seam;</div>
<div class="line"><span class="lineno"> 1174</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; seam_string { start_seam };</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>    <span class="keyword">auto</span> reverse_lookup_direction = [&amp;]() {</div>
<div class="line"><span class="lineno"> 1177</span>        <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a> = -1;</div>
<div class="line"><span class="lineno"> 1178</span>        prev_point_index = start_seam;</div>
<div class="line"><span class="lineno"> 1179</span>        next_layer = layer_idx - 1;</div>
<div class="line"><span class="lineno"> 1180</span>    };</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>    <span class="keywordflow">while</span> (next_layer &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordflow">if</span> (next_layer &gt;= <span class="keywordtype">int</span>(layers.size())) {</div>
<div class="line"><span class="lineno"> 1184</span>            reverse_lookup_direction();</div>
<div class="line"><span class="lineno"> 1185</span>            <span class="keywordflow">if</span> (next_layer &lt; 0) {</div>
<div class="line"><span class="lineno"> 1186</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1187</span>            }</div>
<div class="line"><span class="lineno"> 1188</span>        }</div>
<div class="line"><span class="lineno"> 1189</span>        <span class="keywordtype">float</span> max_distance = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a58791e3699dbe8010a580ffe5f5b3595">SeamPlacer::seam_align_tolerable_dist_factor</a> *</div>
<div class="line"><span class="lineno"> 1190</span>                layers[start_seam.first].points[start_seam.second].perimeter.flow_width;</div>
<div class="line"><span class="lineno"> 1191</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> prev_position = layers[prev_point_index.first].points[prev_point_index.second].position;</div>
<div class="line"><span class="lineno"> 1192</span>        <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> projected_position = prev_position;</div>
<div class="line"><span class="lineno"> 1193</span>        projected_position.z() = float(po-&gt;get_layer(next_layer)-&gt;slice_z);</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        std::optional&lt;std::pair&lt;size_t, size_t&gt;&gt; maybe_next_seam = <a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a494d6e561b388bc01f1e4ecd7a6b10ea">find_next_seam_in_layer</a>(layers, projected_position,</div>
<div class="line"><span class="lineno"> 1196</span>                next_layer,</div>
<div class="line"><span class="lineno"> 1197</span>                max_distance, comparator);</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>        <span class="keywordflow">if</span> (maybe_next_seam.has_value()) {</div>
<div class="line"><span class="lineno"> 1200</span>            <span class="comment">// For old macOS (pre 10.14), std::optional does not have .value() method, so the code is using operator*() instead.</span></div>
<div class="line"><span class="lineno"> 1201</span>            seam_string.push_back(maybe_next_seam.operator*());</div>
<div class="line"><span class="lineno"> 1202</span>            prev_point_index = seam_string.back();</div>
<div class="line"><span class="lineno"> 1203</span>            <span class="comment">//String added, prev_point_index updated</span></div>
<div class="line"><span class="lineno"> 1204</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1205</span>            <span class="keywordflow">if</span> (step == 1) {</div>
<div class="line"><span class="lineno"> 1206</span>                reverse_lookup_direction();</div>
<div class="line"><span class="lineno"> 1207</span>                <span class="keywordflow">if</span> (next_layer &lt; 0) {</div>
<div class="line"><span class="lineno"> 1208</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1209</span>                }</div>
<div class="line"><span class="lineno"> 1210</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1211</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1212</span>            }</div>
<div class="line"><span class="lineno"> 1213</span>        }</div>
<div class="line"><span class="lineno"> 1214</span>        next_layer += <a class="code hl_function" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">step</a>;</div>
<div class="line"><span class="lineno"> 1215</span>    }</div>
<div class="line"><span class="lineno"> 1216</span>    <span class="keywordflow">return</span> seam_string;</div>
<div class="line"><span class="lineno"> 1217</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a494d6e561b388bc01f1e4ecd7a6b10ea"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a494d6e561b388bc01f1e4ecd7a6b10ea">Slic3r::SeamPlacer::find_next_seam_in_layer</a></div><div class="ttdeci">std::optional&lt; std::pair&lt; size_t, size_t &gt; &gt; find_next_seam_in_layer(const std::vector&lt; PrintObjectSeamData::LayerSeams &gt; &amp;layers, const Vec3f &amp;projected_position, const size_t layer_idx, const float max_distance, const SeamPlacerImpl::SeamComparator &amp;comparator) const</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1101</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a58791e3699dbe8010a580ffe5f5b3595"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a58791e3699dbe8010a580ffe5f5b3595">Slic3r::SeamPlacer::seam_align_tolerable_dist_factor</a></div><div class="ttdeci">static constexpr float seam_align_tolerable_dist_factor</div><div class="ttdef"><b>Definition</b> SeamPlacer.hpp:133</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a6ceea497872e0323516dbb68ef605a21"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a6ceea497872e0323516dbb68ef605a21">marchsq::__impl::step</a></div><div class="ttdeci">Coord step(const Coord &amp;crd, Dir d)</div><div class="ttdef"><b>Definition</b> MarchingSquares.hpp:137</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00280">Slic3r::PrintObject::get_layer()</a>, and <a class="el" href="../../#l00323">Slic3r::Layer::slice_z</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a008d1aeaf7b6540a3b269fcf782b4d33_cgraph.svg" width="320" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a797d2d5bf8f42c3eff5850e410349110" name="a797d2d5bf8f42c3eff5850e410349110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797d2d5bf8f42c3eff5850e410349110">&#9670;&#160;</a></span>gather_seam_candidates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::gather_seam_candidates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a> *&#160;</td>
          <td class="paramname"><em>po</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d8a/struct_slic3r_1_1_seam_placer_impl_1_1_global_model_info.html">SeamPlacerImpl::GlobalModelInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>global_model_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1004</span>                                                                                                                     {</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1006</span>    PrintObjectSeamData &amp;seam_data = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>.emplace(po, PrintObjectSeamData { }).first-&gt;second;</div>
<div class="line"><span class="lineno"> 1007</span>    seam_data.layers.resize(po-&gt;layer_count());</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>    tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, po-&gt;layers().size()),</div>
<div class="line"><span class="lineno"> 1010</span>            [po, &amp;global_model_info, &amp;seam_data]</div>
<div class="line"><span class="lineno"> 1011</span>            (tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno"> 1012</span>                for (size_t layer_idx = r.begin(); layer_idx &lt; r.end(); ++layer_idx) {</div>
<div class="line"><span class="lineno"> 1013</span>                    PrintObjectSeamData::LayerSeams &amp;layer_seams = seam_data.layers[layer_idx];</div>
<div class="line"><span class="lineno"> 1014</span>                    const Layer *layer = po-&gt;get_layer(layer_idx);</div>
<div class="line"><span class="lineno"> 1015</span>                    auto unscaled_z = layer-&gt;slice_z;</div>
<div class="line"><span class="lineno"> 1016</span>                    std::vector&lt;const LayerRegion*&gt; regions;</div>
<div class="line"><span class="lineno"> 1017</span>                    <span class="comment">//NOTE corresponding region ptr may be null, if the layer has zero perimeters</span></div>
<div class="line"><span class="lineno"> 1018</span>                    Polygons polygons = extract_perimeter_polygons(layer, regions);</div>
<div class="line"><span class="lineno"> 1019</span>                    for (size_t poly_index = 0; poly_index &lt; polygons.size(); ++poly_index) {</div>
<div class="line"><span class="lineno"> 1020</span>                        process_perimeter_polygon(polygons[poly_index], unscaled_z,</div>
<div class="line"><span class="lineno"> 1021</span>                                regions[poly_index], global_model_info, layer_seams);</div>
<div class="line"><span class="lineno"> 1022</span>                    }</div>
<div class="line"><span class="lineno"> 1023</span>                    auto functor = SeamCandidateCoordinateFunctor { layer_seams.points };</div>
<div class="line"><span class="lineno"> 1024</span>                    seam_data.layers[layer_idx].points_tree =</div>
<div class="line"><span class="lineno"> 1025</span>                            std::make_unique&lt;PrintObjectSeamData::SeamCandidatesTree&gt;(functor,</div>
<div class="line"><span class="lineno"> 1026</span>                                    layer_seams.points.size());</div>
<div class="line"><span class="lineno"> 1027</span>                }</div>
<div class="line"><span class="lineno"> 1028</span>            }</div>
<div class="line"><span class="lineno"> 1029</span>    );</div>
<div class="line"><span class="lineno"> 1030</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00278">Slic3r::PrintObject::layer_count()</a>, <a class="el" href="../../#l00099">Slic3r::PrintObjectSeamData::layers</a>, and <a class="el" href="../../#l00247">Slic3r::PrintObject::layers()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a797d2d5bf8f42c3eff5850e410349110_cgraph.svg" width="360" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a537ad1282a142af5295536ed39161e20" name="a537ad1282a142af5295536ed39161e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537ad1282a142af5295536ed39161e20">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/d8f/class_slic3r_1_1_print.html">Print</a> &amp;&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>)&gt;&#160;</td>
          <td class="paramname"><em>throw_if_canceled_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1414</span>                                                                                        {</div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>.clear();</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> PrintObject *po : print.objects()) {</div>
<div class="line"><span class="lineno"> 1419</span>        throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1420</span>        <a class="code hl_enumeration" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326">SeamPosition</a> configured_seam_preference = po-&gt;config().seam_position.value;</div>
<div class="line"><span class="lineno"> 1421</span>        SeamComparator comparator { configured_seam_preference };</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>        {</div>
<div class="line"><span class="lineno"> 1424</span>            GlobalModelInfo global_model_info { };</div>
<div class="line"><span class="lineno"> 1425</span>            <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a8c485d165fe3f79c8cbeb92a91681e42">gather_enforcers_blockers</a>(global_model_info, po);</div>
<div class="line"><span class="lineno"> 1426</span>            throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1427</span>            <span class="keywordflow">if</span> (configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a1c0d681ed2b1bd32b2974a9da4d31240">spAligned</a> || configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">spNearest</a>) {</div>
<div class="line"><span class="lineno"> 1428</span>                <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac113e45bae9af289fad2b023e23a3afc">compute_global_occlusion</a>(global_model_info, po, throw_if_canceled_func);</div>
<div class="line"><span class="lineno"> 1429</span>            }</div>
<div class="line"><span class="lineno"> 1430</span>            throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1431</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1432</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: gather_seam_candidates: start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1433</span>            <a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a797d2d5bf8f42c3eff5850e410349110">gather_seam_candidates</a>(po, global_model_info);</div>
<div class="line"><span class="lineno"> 1434</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1435</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: gather_seam_candidates: end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1436</span>            throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1437</span>            <span class="keywordflow">if</span> (configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a1c0d681ed2b1bd32b2974a9da4d31240">spAligned</a> || configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">spNearest</a>) {</div>
<div class="line"><span class="lineno"> 1438</span>                BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1439</span>                &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: calculate_candidates_visibility : start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1440</span>                <a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a86b6cfefc4ecc156db3d4fec3872213a">calculate_candidates_visibility</a>(po, global_model_info);</div>
<div class="line"><span class="lineno"> 1441</span>                BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1442</span>                &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: calculate_candidates_visibility : end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1443</span>            }</div>
<div class="line"><span class="lineno"> 1444</span>        } <span class="comment">// destruction of global_model_info (large structure, no longer needed)</span></div>
<div class="line"><span class="lineno"> 1445</span>        throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1446</span>        BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1447</span>        &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: calculate_overhangs and layer embdedding : start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1448</span>        <a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a13a020325034a0c2b5ab0b8450f1d1ef">calculate_overhangs_and_layer_embedding</a>(po);</div>
<div class="line"><span class="lineno"> 1449</span>        BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1450</span>        &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: calculate_overhangs and layer embdedding: end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1451</span>        throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1452</span>        <span class="keywordflow">if</span> (configured_seam_preference != <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">spNearest</a>) { <span class="comment">// For spNearest, the seam is picked in the place_seam method with actual nozzle position information</span></div>
<div class="line"><span class="lineno"> 1453</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1454</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: pick_seam_point : start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1455</span>            <span class="comment">//pick seam point</span></div>
<div class="line"><span class="lineno"> 1456</span>            std::vector&lt;PrintObjectSeamData::LayerSeams&gt; &amp;layers = <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>[po].layers;</div>
<div class="line"><span class="lineno"> 1457</span>            tbb::parallel_for(tbb::blocked_range&lt;size_t&gt;(0, layers.size()),</div>
<div class="line"><span class="lineno"> 1458</span>                    [&amp;layers, configured_seam_preference, comparator](tbb::blocked_range&lt;size_t&gt; r) {</div>
<div class="line"><span class="lineno"> 1459</span>                        for (size_t layer_idx = r.begin(); layer_idx &lt; r.end(); ++layer_idx) {</div>
<div class="line"><span class="lineno"> 1460</span>                            std::vector&lt;SeamCandidate&gt; &amp;layer_perimeter_points = layers[layer_idx].points;</div>
<div class="line"><span class="lineno"> 1461</span>                            for (size_t current = 0; current &lt; layer_perimeter_points.size();</div>
<div class="line"><span class="lineno"> 1462</span>                                    current = layer_perimeter_points[current].perimeter.end_index)</div>
<div class="line"><span class="lineno"> 1463</span>                                if (configured_seam_preference == spRandom)</div>
<div class="line"><span class="lineno"> 1464</span>                                    pick_random_seam_point(layer_perimeter_points, current);</div>
<div class="line"><span class="lineno"> 1465</span>                                else</div>
<div class="line"><span class="lineno"> 1466</span>                                    pick_seam_point(layer_perimeter_points, current, comparator);</div>
<div class="line"><span class="lineno"> 1467</span>                        }</div>
<div class="line"><span class="lineno"> 1468</span>                    });</div>
<div class="line"><span class="lineno"> 1469</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1470</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: pick_seam_point : end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1471</span>        }</div>
<div class="line"><span class="lineno"> 1472</span>        throw_if_canceled_func();</div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordflow">if</span> (configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a1c0d681ed2b1bd32b2974a9da4d31240">spAligned</a> || configured_seam_preference == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a65f385803858c03282540d329a570002">spRear</a>) {</div>
<div class="line"><span class="lineno"> 1474</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1475</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: align_seam_points : start&quot;</span>;</div>
<div class="line"><span class="lineno"> 1476</span>            <a class="code hl_function" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#aa1a6bdec59f74968e2a62cc24fa2ba27">align_seam_points</a>(po, comparator);</div>
<div class="line"><span class="lineno"> 1477</span>            BOOST_LOG_TRIVIAL(debug)</div>
<div class="line"><span class="lineno"> 1478</span>            &lt;&lt; <span class="stringliteral">&quot;SeamPlacer: align_seam_points : end&quot;</span>;</div>
<div class="line"><span class="lineno"> 1479</span>        }</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span><span class="preprocessor">#ifdef DEBUG_FILES</span></div>
<div class="line"><span class="lineno"> 1482</span>        debug_export_points(<a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>[po].layers, po-&gt;bounding_box(), comparator);</div>
<div class="line"><span class="lineno"> 1483</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1484</span>    }</div>
<div class="line"><span class="lineno"> 1485</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a13a020325034a0c2b5ab0b8450f1d1ef"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a13a020325034a0c2b5ab0b8450f1d1ef">Slic3r::SeamPlacer::calculate_overhangs_and_layer_embedding</a></div><div class="ttdeci">void calculate_overhangs_and_layer_embedding(const PrintObject *po)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1048</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a797d2d5bf8f42c3eff5850e410349110"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a797d2d5bf8f42c3eff5850e410349110">Slic3r::SeamPlacer::gather_seam_candidates</a></div><div class="ttdeci">void gather_seam_candidates(const PrintObject *po, const SeamPlacerImpl::GlobalModelInfo &amp;global_model_info)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1004</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_a86b6cfefc4ecc156db3d4fec3872213a"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a86b6cfefc4ecc156db3d4fec3872213a">Slic3r::SeamPlacer::calculate_candidates_visibility</a></div><div class="ttdeci">void calculate_candidates_visibility(const PrintObject *po, const SeamPlacerImpl::GlobalModelInfo &amp;global_model_info)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1032</div></div>
<div class="ttc" id="aclass_slic3r_1_1_seam_placer_html_aa1a6bdec59f74968e2a62cc24fa2ba27"><div class="ttname"><a href="../../dc/de8/class_slic3r_1_1_seam_placer.html#aa1a6bdec59f74968e2a62cc24fa2ba27">Slic3r::SeamPlacer::align_seam_points</a></div><div class="ttdeci">void align_seam_points(const PrintObject *po, const SeamPlacerImpl::SeamComparator &amp;comparator)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:1224</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_a8c485d165fe3f79c8cbeb92a91681e42"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#a8c485d165fe3f79c8cbeb92a91681e42">Slic3r::SeamPlacerImpl::gather_enforcers_blockers</a></div><div class="ttdeci">void gather_enforcers_blockers(GlobalModelInfo &amp;result, const PrintObject *po)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:703</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ac113e45bae9af289fad2b023e23a3afc"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ac113e45bae9af289fad2b023e23a3afc">Slic3r::SeamPlacerImpl::compute_global_occlusion</a></div><div class="ttdeci">void compute_global_occlusion(GlobalModelInfo &amp;result, const PrintObject *po, std::function&lt; void(void)&gt; throw_if_canceled)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:620</div></div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326">Slic3r::SeamPosition</a></div><div class="ttdeci">SeamPosition</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:97</div></div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">Slic3r::spNearest</a></div><div class="ttdeci">@ spNearest</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:98</div></div>
<div class="ttc" id="anamespace_slic3r_html_a07c946bf9d2d193c88a83cbfc15df326a1c0d681ed2b1bd32b2974a9da4d31240"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a1c0d681ed2b1bd32b2974a9da4d31240">Slic3r::spAligned</a></div><div class="ttdeci">@ spAligned</div><div class="ttdef"><b>Definition</b> PrintConfig.hpp:98</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00261">Slic3r::PrintObject::bounding_box()</a>, <a class="el" href="../../#l00246">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00600">Slic3r::Print::objects()</a>, <a class="el" href="../../#l00098">Slic3r::spAligned</a>, <a class="el" href="../../#l00098">Slic3r::spNearest</a>, and <a class="el" href="../../#l00098">Slic3r::spRear</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01083">Slic3r::GCode::_do_export()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a537ad1282a142af5295536ed39161e20_cgraph.svg" width="332" height="167"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a537ad1282a142af5295536ed39161e20_icgraph.svg" width="542" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a882c75c34a1c517a2793cc7727e40a30" name="a882c75c34a1c517a2793cc7727e40a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882c75c34a1c517a2793cc7727e40a30">&#9670;&#160;</a></span>place_seam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::SeamPlacer::place_seam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d1/d68/class_slic3r_1_1_layer.html">Layer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d50/class_slic3r_1_1_extrusion_loop.html">ExtrusionLoop</a> &amp;&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>external_first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d6/dec/class_slic3r_1_1_point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>last_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1488</span>                                     {</div>
<div class="line"><span class="lineno"> 1489</span>    <span class="keyword">using namespace </span>SeamPlacerImpl;</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keyword">const</span> PrintObject *po = layer-&gt;object();</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="comment">// Must not be called with supprot layer.</span></div>
<div class="line"><span class="lineno"> 1492</span>    assert(<span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>SupportLayer*<span class="keyword">&gt;</span>(layer) == <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1493</span>    <span class="comment">// Object layer IDs are incremented by the number of raft layers.</span></div>
<div class="line"><span class="lineno"> 1494</span>    assert(layer-&gt;id() &gt;= po-&gt;slicing_parameters().raft_layers());</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> layer_index = layer-&gt;id() - po-&gt;slicing_parameters().raft_layers();</div>
<div class="line"><span class="lineno"> 1496</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> unscaled_z = layer-&gt;slice_z;</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>    <span class="keyword">auto</span> get_next_loop_point = [<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>](ExtrusionLoop::ClosestPathPoint current) {</div>
<div class="line"><span class="lineno"> 1499</span>        current.segment_idx += 1;</div>
<div class="line"><span class="lineno"> 1500</span>        <span class="keywordflow">if</span> (current.segment_idx &gt;= <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths[current.path_idx].polyline.points.size()) {</div>
<div class="line"><span class="lineno"> 1501</span>            current.path_idx = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">next_idx_modulo</a>(current.path_idx, <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths.size());</div>
<div class="line"><span class="lineno"> 1502</span>            current.segment_idx = 0;</div>
<div class="line"><span class="lineno"> 1503</span>        }</div>
<div class="line"><span class="lineno"> 1504</span>        current.foot_pt = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths[current.path_idx].polyline.points[current.segment_idx];</div>
<div class="line"><span class="lineno"> 1505</span>        <span class="keywordflow">return</span> current;</div>
<div class="line"><span class="lineno"> 1506</span>    };</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>    <span class="keyword">const</span> PrintObjectSeamData::LayerSeams &amp;layer_perimeters =</div>
<div class="line"><span class="lineno"> 1509</span>            <a class="code hl_variable" href="../../dc/de8/class_slic3r_1_1_seam_placer.html#a0f02b6999545daa643e8eae19d132f82">m_seam_per_object</a>.find(layer-&gt;object())-&gt;second.layers[layer_index];</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <span class="comment">// Find the closest perimeter in the SeamPlacer to this loop.</span></div>
<div class="line"><span class="lineno"> 1512</span>    <span class="comment">// Repeat search until two consecutive points of the loop are found, that result in the same closest_perimeter</span></div>
<div class="line"><span class="lineno"> 1513</span>    <span class="comment">// This is beacuse with arachne, T-Junctions may exist and sometimes the wrong perimeter was chosen</span></div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordtype">size_t</span> closest_perimeter_point_index = 0;</div>
<div class="line"><span class="lineno"> 1515</span>    { <span class="comment">// local space for the closest_perimeter_point_index</span></div>
<div class="line"><span class="lineno"> 1516</span>        <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> *closest_perimeter = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1517</span>        ExtrusionLoop::ClosestPathPoint closest_point{0,0,<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths[0].polyline.points[0]};</div>
<div class="line"><span class="lineno"> 1518</span>        <span class="keywordtype">size_t</span> points_count = std::accumulate(<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths.begin(), <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths.end(), 0, [](<span class="keywordtype">size_t</span> acc,<span class="keyword">const</span> ExtrusionPath&amp; p) {</div>
<div class="line"><span class="lineno"> 1519</span>           return acc + p.polyline.points.size();</div>
<div class="line"><span class="lineno"> 1520</span>        });</div>
<div class="line"><span class="lineno"> 1521</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; points_count; ++i) {</div>
<div class="line"><span class="lineno"> 1522</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> unscaled_p = unscaled&lt;float&gt;(closest_point.foot_pt);</div>
<div class="line"><span class="lineno"> 1523</span>            closest_perimeter_point_index = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#aa0f7003178301f2057b13f48af89795a">find_closest_point</a>(*layer_perimeters.points_tree.get(),</div>
<div class="line"><span class="lineno"> 1524</span>                    <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a3f60c0fef0146fe2b8ee74dee582e83d">to_3d</a>(unscaled_p, <span class="keywordtype">float</span>(unscaled_z)));</div>
<div class="line"><span class="lineno"> 1525</span>            <span class="keywordflow">if</span> (closest_perimeter != &amp;layer_perimeters.points[closest_perimeter_point_index].perimeter) {</div>
<div class="line"><span class="lineno"> 1526</span>                closest_perimeter = &amp;layer_perimeters.points[closest_perimeter_point_index].perimeter;</div>
<div class="line"><span class="lineno"> 1527</span>                closest_point = get_next_loop_point(closest_point);</div>
<div class="line"><span class="lineno"> 1528</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1529</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1530</span>            }</div>
<div class="line"><span class="lineno"> 1531</span>        }</div>
<div class="line"><span class="lineno"> 1532</span>    }</div>
<div class="line"><span class="lineno"> 1533</span> </div>
<div class="line"><span class="lineno"> 1534</span>    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a4e0a52bc52a09b283b7b06e2f0c272cc">Vec3f</a> seam_position;</div>
<div class="line"><span class="lineno"> 1535</span>    <span class="keywordtype">size_t</span> seam_index;</div>
<div class="line"><span class="lineno"> 1536</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Perimeter</a> &amp;perimeter = layer_perimeters.points[closest_perimeter_point_index].perimeter;</div>
<div class="line"><span class="lineno"> 1537</span>    perimeter.finalized) {</div>
<div class="line"><span class="lineno"> 1538</span>        seam_position = perimeter.final_seam_position;</div>
<div class="line"><span class="lineno"> 1539</span>        seam_index = perimeter.seam_index;</div>
<div class="line"><span class="lineno"> 1540</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1541</span>        seam_index =</div>
<div class="line"><span class="lineno"> 1542</span>                po-&gt;config().seam_position == <a class="code hl_enumvalue" href="../../de/db8/namespace_slic3r.html#a07c946bf9d2d193c88a83cbfc15df326a0cebea9e2de9dd6842a44ee83dcea58c">spNearest</a> ?</div>
<div class="line"><span class="lineno"> 1543</span>                        <a class="code hl_function" href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad8ec8689dd52d10fbdfae69ff5c2a0b8">pick_nearest_seam_point_index</a>(layer_perimeters.points, perimeter.start_index,</div>
<div class="line"><span class="lineno"> 1544</span>                                unscaled&lt;float&gt;(last_pos)) :</div>
<div class="line"><span class="lineno"> 1545</span>                        perimeter.seam_index;</div>
<div class="line"><span class="lineno"> 1546</span>        seam_position = layer_perimeters.points[seam_index].position;</div>
<div class="line"><span class="lineno"> 1547</span>    }</div>
<div class="line"><span class="lineno"> 1548</span> </div>
<div class="line"><span class="lineno"> 1549</span>    <a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a> seam_point = Point::new_scale(seam_position.x(), seam_position.y());</div>
<div class="line"><span class="lineno"> 1550</span> </div>
<div class="line"><span class="lineno"> 1551</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.role() == <a class="code hl_variable" href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#a232dd080f9625cdcfc56164cfede8631">ExtrusionRole::Perimeter</a>) { <span class="comment">//Hopefully inner perimeter</span></div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keyword">const</span> SeamCandidate &amp;perimeter_point = layer_perimeters.points[seam_index];</div>
<div class="line"><span class="lineno"> 1553</span>        ExtrusionLoop::ClosestPathPoint projected_point = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.get_closest_path_and_point(seam_point, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1554</span>        <span class="comment">// determine depth of the seam point.</span></div>
<div class="line"><span class="lineno"> 1555</span>        <span class="keywordtype">float</span> depth = (float) <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(<a class="code hl_typedef" href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a>(seam_point - projected_point.foot_pt)).norm();</div>
<div class="line"><span class="lineno"> 1556</span>        <span class="keywordtype">float</span> beta_angle = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a>(perimeter_point.local_ccw_angle / 2.0f);</div>
<div class="line"><span class="lineno"> 1557</span>        <span class="keywordtype">size_t</span> index_of_prev =</div>
<div class="line"><span class="lineno"> 1558</span>                seam_index == perimeter_point.perimeter.start_index ?</div>
<div class="line"><span class="lineno"> 1559</span>                                                                      perimeter_point.perimeter.end_index - 1 :</div>
<div class="line"><span class="lineno"> 1560</span>                                                                      seam_index - 1;</div>
<div class="line"><span class="lineno"> 1561</span>        <span class="keywordtype">size_t</span> index_of_next =</div>
<div class="line"><span class="lineno"> 1562</span>                seam_index == perimeter_point.perimeter.end_index - 1 ?</div>
<div class="line"><span class="lineno"> 1563</span>                                                                        perimeter_point.perimeter.start_index :</div>
<div class="line"><span class="lineno"> 1564</span>                                                                        seam_index + 1;</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>        <span class="keywordflow">if</span> ((seam_position - perimeter_point.position).squaredNorm() &lt; depth &amp;&amp; <span class="comment">// seam is on perimeter point</span></div>
<div class="line"><span class="lineno"> 1567</span>                perimeter_point.local_ccw_angle &lt; -<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a> <span class="comment">// In concave angles</span></div>
<div class="line"><span class="lineno"> 1568</span>                        ) { <span class="comment">// In this case, we are at internal perimeter, where the external perimeter has seam in concave angle. We want to align</span></div>
<div class="line"><span class="lineno"> 1569</span>                <span class="comment">// the internal seam into the concave corner, and not on the perpendicular projection on the closest edge (which is what the split_at function does)</span></div>
<div class="line"><span class="lineno"> 1570</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> dir_to_middle =</div>
<div class="line"><span class="lineno"> 1571</span>                    ((perimeter_point.position - layer_perimeters.points[index_of_prev].position).head&lt;2&gt;().normalized()</div>
<div class="line"><span class="lineno"> 1572</span>                            + (perimeter_point.position - layer_perimeters.points[index_of_next].position).head&lt;2&gt;().normalized())</div>
<div class="line"><span class="lineno"> 1573</span>                            * 0.5;</div>
<div class="line"><span class="lineno"> 1574</span>            depth = 1.4142 * depth / beta_angle;</div>
<div class="line"><span class="lineno"> 1575</span>            <span class="comment">// There are some nice geometric identities in determination of the correct depth of new seam point.</span></div>
<div class="line"><span class="lineno"> 1576</span>            <span class="comment">//overshoot the target depth, in concave angles it will correctly snap to the corner; TODO: find out why such big overshoot is needed.</span></div>
<div class="line"><span class="lineno"> 1577</span>            <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> final_pos = perimeter_point.position.head&lt;2&gt;() + depth * dir_to_middle;</div>
<div class="line"><span class="lineno"> 1578</span>            projected_point = <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.get_closest_path_and_point(Point::new_scale(final_pos.x(), final_pos.y()), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1579</span>        } <span class="keywordflow">else</span> { <span class="comment">// not concave angle, in that case the nearest point is the good candidate</span></div>
<div class="line"><span class="lineno"> 1580</span>            <span class="comment">// but for staggering, we also need to recompute depth of the inner perimter, because in convex corners, the distance is larger than layer width</span></div>
<div class="line"><span class="lineno"> 1581</span>            <span class="comment">// we want the perpendicular depth, not distance to nearest point</span></div>
<div class="line"><span class="lineno"> 1582</span>            depth = depth * beta_angle / 1.4142;</div>
<div class="line"><span class="lineno"> 1583</span>        }</div>
<div class="line"><span class="lineno"> 1584</span> </div>
<div class="line"><span class="lineno"> 1585</span>        seam_point = projected_point.foot_pt;</div>
<div class="line"><span class="lineno"> 1586</span> </div>
<div class="line"><span class="lineno"> 1587</span>        <span class="comment">//lastly, for internal perimeters, do the staggering if requested</span></div>
<div class="line"><span class="lineno"> 1588</span>        <span class="keywordflow">if</span> (po-&gt;config().staggered_inner_seams &amp;&amp; <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.length() &gt; 0.0) {</div>
<div class="line"><span class="lineno"> 1589</span>            <span class="comment">//fix depth, it is sometimes strongly underestimated</span></div>
<div class="line"><span class="lineno"> 1590</span>            depth = std::max(<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.paths[projected_point.path_idx].width, depth);</div>
<div class="line"><span class="lineno"> 1591</span> </div>
<div class="line"><span class="lineno"> 1592</span>            <span class="keywordflow">while</span> (depth &gt; 0.0f) {</div>
<div class="line"><span class="lineno"> 1593</span>                <span class="keyword">auto</span> next_point = get_next_loop_point(projected_point);</div>
<div class="line"><span class="lineno"> 1594</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(projected_point.foot_pt).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1595</span>                <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">unscale</a>(next_point.foot_pt).cast&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1596</span>                <span class="keywordtype">float</span> <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a>).norm();</div>
<div class="line"><span class="lineno"> 1597</span>                <span class="keywordflow">if</span> (dist &gt; depth) {</div>
<div class="line"><span class="lineno"> 1598</span>                    <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#abe1c34afe5a07b8b1a7823ecfe2d1722">Vec2f</a> final_pos = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> + (<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> - <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>) * depth / dist;</div>
<div class="line"><span class="lineno"> 1599</span>                    next_point.foot_pt = Point::new_scale(final_pos.x(), final_pos.y());</div>
<div class="line"><span class="lineno"> 1600</span>                }</div>
<div class="line"><span class="lineno"> 1601</span>                depth -= <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a>;</div>
<div class="line"><span class="lineno"> 1602</span>                projected_point = next_point;</div>
<div class="line"><span class="lineno"> 1603</span>            }</div>
<div class="line"><span class="lineno"> 1604</span>            seam_point = projected_point.foot_pt;</div>
<div class="line"><span class="lineno"> 1605</span>        }</div>
<div class="line"><span class="lineno"> 1606</span>    }</div>
<div class="line"><span class="lineno"> 1607</span> </div>
<div class="line"><span class="lineno"> 1608</span>    <span class="comment">// Because the G-code export has 1um resolution, don&#39;t generate segments shorter than 1.5 microns,</span></div>
<div class="line"><span class="lineno"> 1609</span>    <span class="comment">// thus empty path segments will not be produced by G-code export.</span></div>
<div class="line"><span class="lineno"> 1610</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.split_at_vertex(seam_point, scaled&lt;double&gt;(0.0015))) {</div>
<div class="line"><span class="lineno"> 1611</span>        <span class="comment">// The point is not in the original loop.</span></div>
<div class="line"><span class="lineno"> 1612</span>        <span class="comment">// Insert it.</span></div>
<div class="line"><span class="lineno"> 1613</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">loop</a>.split_at(seam_point, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1614</span>    }</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>}</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a92b03396990b0e9eea0731aa406e31a4"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a92b03396990b0e9eea0731aa406e31a4">cos</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const CosReturnType cos() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:202</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:51</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:280</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_seam_placer_impl_html_ad8ec8689dd52d10fbdfae69ff5c2a0b8"><div class="ttname"><a href="../../dd/dc4/namespace_slic3r_1_1_seam_placer_impl.html#ad8ec8689dd52d10fbdfae69ff5c2a0b8">Slic3r::SeamPlacerImpl::pick_nearest_seam_point_index</a></div><div class="ttdeci">size_t pick_nearest_seam_point_index(const std::vector&lt; SeamCandidate &gt; &amp;perimeter_points, size_t start_index, const Vec2f &amp;preffered_location)</div><div class="ttdef"><b>Definition</b> SeamPlacer.cpp:920</div></div>
<div class="ttc" id="anamespace_slic3r_html_a9190c2947554e2a44d5c3a13d5dfcbfe"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a9190c2947554e2a44d5c3a13d5dfcbfe">Slic3r::next_idx_modulo</a></div><div class="ttdeci">INDEX_TYPE next_idx_modulo(INDEX_TYPE idx, const INDEX_TYPE count)</div><div class="ttdef"><b>Definition</b> Utils.hpp:203</div></div>
<div class="ttc" id="anamespace_slic3r_html_aa0f7003178301f2057b13f48af89795a"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#aa0f7003178301f2057b13f48af89795a">Slic3r::find_closest_point</a></div><div class="ttdeci">size_t find_closest_point(const KDTreeIndirect&lt; D, CoordT, CoordFn &gt; &amp;kdtree, const PointType &amp;point, FilterFn filter)</div><div class="ttdef"><b>Definition</b> KDTreeIndirect.hpp:266</div></div>
<div class="ttc" id="anamespace_slic3r_html_ab3977853055b1ea40f45a1bbfb78ef36"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#ab3977853055b1ea40f45a1bbfb78ef36">Slic3r::unscale</a></div><div class="ttdeci">T unscale(Q v)</div><div class="ttdef"><b>Definition</b> libslic3r.h:95</div></div>
<div class="ttc" id="anamespaceigl_html_abc05369371ed7349991ab46a6d19870a"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#abc05369371ed7349991ab46a6d19870a">igl::loop</a></div><div class="ttdeci">IGL_INLINE void loop(const int n_verts, const Eigen::PlainObjectBase&lt; DerivedF &gt; &amp;F, Eigen::SparseMatrix&lt; SType &gt; &amp;S, Eigen::PlainObjectBase&lt; DerivedNF &gt; &amp;NF)</div><div class="ttdef"><b>Definition</b> loop.cpp:21</div></div>
<div class="ttc" id="apoint__areas_8cpp_html_a6a2f109ab3e0aba2f61e7d28188c3660"><div class="ttname"><a href="../../d8/d9b/point__areas_8cpp.html#a6a2f109ab3e0aba2f61e7d28188c3660">Point</a></div><div class="ttdeci">Kernel::Point_2 Point</div><div class="ttdef"><b>Definition</b> point_areas.cpp:20</div></div>
<div class="ttc" id="astruct_slic3r_1_1_extrusion_role_html_a232dd080f9625cdcfc56164cfede8631"><div class="ttname"><a href="../../d5/d21/struct_slic3r_1_1_extrusion_role.html#a232dd080f9625cdcfc56164cfede8631">Slic3r::ExtrusionRole::Perimeter</a></div><div class="ttdeci">static constexpr const ExtrusionRoleModifiers Perimeter</div><div class="ttdef"><b>Definition</b> ExtrusionRole.hpp:49</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00246">Slic3r::PrintObject::config()</a>, <a class="el" href="../../#l00202">cos()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00266">Slic3r::find_closest_point()</a>, <a class="el" href="../../#l00220">Slic3r::ExtrusionLoop::ClosestPathPoint::foot_pt</a>, <a class="el" href="../../#l00315">Slic3r::Layer::id()</a>, <a class="el" href="../../#l00203">Slic3r::next_idx_modulo()</a>, <a class="el" href="../../#l00317">Slic3r::Layer::object()</a>, <a class="el" href="../../#l00218">Slic3r::ExtrusionLoop::ClosestPathPoint::path_idx</a>, <a class="el" href="../../de/db8/namespace_slic3r.html#a5fce7bc9edd40ba9583d64a67fe15275a90180637c5d5ee1c7c9da352c643e660">Slic3r::Perimeter</a>, <a class="el" href="../../#l00095">Slic3r::PrintObjectSeamData::LayerSeams::points</a>, <a class="el" href="../../#l00096">Slic3r::PrintObjectSeamData::LayerSeams::points_tree</a>, <a class="el" href="../../#l00039">Slic3r::SlicingParameters::raft_layers()</a>, <a class="el" href="../../#l00323">Slic3r::Layer::slice_z</a>, <a class="el" href="../../#l00309">Slic3r::PrintObject::slicing_parameters()</a>, <a class="el" href="../../#l00098">Slic3r::spNearest</a>, <a class="el" href="../../#l00127">Slic3r::to_3d()</a>, and <a class="el" href="../../#l00095">Slic3r::unscale()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02654">Slic3r::GCode::extrude_loop()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a882c75c34a1c517a2793cc7727e40a30_cgraph.svg" width="360" height="544"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dc/de8/class_slic3r_1_1_seam_placer_a882c75c34a1c517a2793cc7727e40a30_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af1fd403674de3f7d3b8ab437a9bed325" name="af1fd403674de3f7d3b8ab437a9bed325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fd403674de3f7d3b8ab437a9bed325">&#9670;&#160;</a></span>angle_importance_aligned</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::angle_importance_aligned = 0.6<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a89d215118d6831859c3c075b338824af" name="a89d215118d6831859c3c075b338824af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d215118d6831859c3c075b338824af">&#9670;&#160;</a></span>angle_importance_nearest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::angle_importance_nearest = 1.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2e09d6b4c4e462a39d65c82ca09c915" name="aa2e09d6b4c4e462a39d65c82ca09c915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e09d6b4c4e462a39d65c82ca09c915">&#9670;&#160;</a></span>enforcer_oversampling_distance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::enforcer_oversampling_distance = 0.2<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00451">Slic3r::SeamPlacerImpl::process_perimeter_polygon()</a>.</p>

</div>
</div>
<a id="a8770d760a19960413efb7241854bcd2a" name="a8770d760a19960413efb7241854bcd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8770d760a19960413efb7241854bcd2a">&#9670;&#160;</a></span>fast_decimation_triangle_count_target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t Slic3r::SeamPlacer::fast_decimation_triangle_count_target = 16000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00620">Slic3r::SeamPlacerImpl::compute_global_occlusion()</a>.</p>

</div>
</div>
<a id="a0f02b6999545daa643e8eae19d132f82" name="a0f02b6999545daa643e8eae19d132f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f02b6999545daa643e8eae19d132f82">&#9670;&#160;</a></span>m_seam_per_object</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/d87/class_slic3r_1_1_print_object.html">PrintObject</a>*, <a class="el" href="../../dd/d0f/struct_slic3r_1_1_print_object_seam_data.html">PrintObjectSeamData</a>&gt; Slic3r::SeamPlacer::m_seam_per_object</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fa9c652de1b7ce19f49da169ec7ee4c" name="a4fa9c652de1b7ce19f49da169ec7ee4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa9c652de1b7ce19f49da169ec7ee4c">&#9670;&#160;</a></span>overhang_angle_threshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::overhang_angle_threshold = 50.0f * float(<a class="el" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) / 180.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a220f6a29f914f28be413e9893a89e515" name="a220f6a29f914f28be413e9893a89e515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220f6a29f914f28be413e9893a89e515">&#9670;&#160;</a></span>raycasting_visibility_samples_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t Slic3r::SeamPlacer::raycasting_visibility_samples_count = 30000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00620">Slic3r::SeamPlacerImpl::compute_global_occlusion()</a>.</p>

</div>
</div>
<a id="abaf9982bfdd3adfe634eac4c4264c070" name="abaf9982bfdd3adfe634eac4c4264c070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf9982bfdd3adfe634eac4c4264c070">&#9670;&#160;</a></span>seam_align_minimum_string_seams</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t Slic3r::SeamPlacer::seam_align_minimum_string_seams = 6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0db787b4fb1a9111712e4992f19792b3" name="a0db787b4fb1a9111712e4992f19792b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db787b4fb1a9111712e4992f19792b3">&#9670;&#160;</a></span>seam_align_mm_per_segment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t Slic3r::SeamPlacer::seam_align_mm_per_segment = 4.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6c12b48c896c961bd5517c7ee4e890d" name="ac6c12b48c896c961bd5517c7ee4e890d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c12b48c896c961bd5517c7ee4e890d">&#9670;&#160;</a></span>seam_align_score_tolerance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::seam_align_score_tolerance = 0.3<a class="el" href="../../de/db8/namespace_slic3r.html#a92b2e5013291a55201abda7303b67baf">f</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a58791e3699dbe8010a580ffe5f5b3595" name="a58791e3699dbe8010a580ffe5f5b3595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58791e3699dbe8010a580ffe5f5b3595">&#9670;&#160;</a></span>seam_align_tolerable_dist_factor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::seam_align_tolerable_dist_factor = 4.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6edaa28698e90335dea36064bb5f1d31" name="a6edaa28698e90335dea36064bb5f1d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6edaa28698e90335dea36064bb5f1d31">&#9670;&#160;</a></span>sharp_angle_snapping_threshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr float Slic3r::SeamPlacer::sharp_angle_snapping_threshold = 55.0f * float(<a class="el" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) / 180.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00451">Slic3r::SeamPlacerImpl::process_perimeter_polygon()</a>.</p>

</div>
</div>
<a id="ad5460adf039589a2e95dfa0c2c2e55e5" name="ad5460adf039589a2e95dfa0c2c2e55e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5460adf039589a2e95dfa0c2c2e55e5">&#9670;&#160;</a></span>sqr_rays_per_sample_point</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t Slic3r::SeamPlacer::sqr_rays_per_sample_point = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00129">Slic3r::SeamPlacerImpl::raycast_visibility()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/GCode/<a class="el" href="../../">SeamPlacer.hpp</a></li>
<li>src/libslic3r/GCode/<a class="el" href="../../">SeamPlacer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../dc/de8/class_slic3r_1_1_seam_placer.html">SeamPlacer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
