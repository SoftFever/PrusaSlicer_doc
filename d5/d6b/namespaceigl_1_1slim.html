<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: igl::slim Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/d6b/namespaceigl_1_1slim.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">igl::slim Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae8a652d1d66dbf41b1bb7371815fbd4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#ae8a652d1d66dbf41b1bb7371815fbd4c">compute_surface_gradient_matrix</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;V, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;F, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;F1, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;F2, <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;D1, <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;D2)</td></tr>
<tr class="separator:ae8a652d1d66dbf41b1bb7371815fbd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156445267c1153e9258649d3298c4fe6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a156445267c1153e9258649d3298c4fe6">buildA</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, std::vector&lt; <a class="el" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet</a>&lt; double &gt; &gt; &amp;IJV)</td></tr>
<tr class="separator:a156445267c1153e9258649d3298c4fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fc796abb435f50814c0c53f1fee5e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#ab9fc796abb435f50814c0c53f1fee5e9">buildRhs</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;A)</td></tr>
<tr class="separator:ab9fc796abb435f50814c0c53f1fee5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd4323c51b907d6c6903d87df2dc966"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a4dd4323c51b907d6c6903d87df2dc966">add_soft_constraints</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;<a class="el" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>)</td></tr>
<tr class="separator:a4dd4323c51b907d6c6903d87df2dc966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fbe495d7e27c4d6c14072f3d30fd52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#ac5fbe495d7e27c4d6c14072f3d30fd52">compute_energy</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, Eigen::MatrixXd &amp;V_new)</td></tr>
<tr class="separator:ac5fbe495d7e27c4d6c14072f3d30fd52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b1039f1fdb4bd05db76541ac038a15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a08b1039f1fdb4bd05db76541ac038a15">compute_soft_const_energy</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;V, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;F, Eigen::MatrixXd &amp;V_o)</td></tr>
<tr class="separator:a08b1039f1fdb4bd05db76541ac038a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05be9f4db44adddcc36efc382dc1db8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a05be9f4db44adddcc36efc382dc1db8f">compute_energy_with_jacobians</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;V, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;F, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;Ji, Eigen::MatrixXd &amp;uv, Eigen::VectorXd &amp;areas)</td></tr>
<tr class="separator:a05be9f4db44adddcc36efc382dc1db8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b84e15ec78b5340fd5500cee1b2c294"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a3b84e15ec78b5340fd5500cee1b2c294">solve_weighted_arap</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;V, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;F, Eigen::MatrixXd &amp;uv, Eigen::VectorXi &amp;soft_b_p, Eigen::MatrixXd &amp;soft_bc_p)</td></tr>
<tr class="separator:a3b84e15ec78b5340fd5500cee1b2c294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fdbabfa4f5013fe156433796bb9a69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a18fdbabfa4f5013fe156433796bb9a69">update_weights_and_closest_rotations</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;V, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;F, Eigen::MatrixXd &amp;uv)</td></tr>
<tr class="separator:a18fdbabfa4f5013fe156433796bb9a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28f4bf8087b81c9fa49924ed8f997ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#af28f4bf8087b81c9fa49924ed8f997ca">compute_jacobians</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;uv)</td></tr>
<tr class="separator:af28f4bf8087b81c9fa49924ed8f997ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235b97333df31cd254b7a9ea5362978b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a235b97333df31cd254b7a9ea5362978b">build_linear_system</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s, <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;<a class="el" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>)</td></tr>
<tr class="separator:a235b97333df31cd254b7a9ea5362978b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed79c9d090f9441a4220061e4f546a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html#a3ed79c9d090f9441a4220061e4f546a1">pre_calc</a> (<a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;s)</td></tr>
<tr class="separator:a3ed79c9d090f9441a4220061e4f546a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4dd4323c51b907d6c6903d87df2dc966" name="a4dd4323c51b907d6c6903d87df2dc966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dd4323c51b907d6c6903d87df2dc966">&#9670;&#160;</a></span>add_soft_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::add_soft_constraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  561</span>    {</div>
<div class="line"><span class="lineno">  562</span>      <span class="keywordtype">int</span> v_n = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a25c68c70641547300251ad372baffe0c">v_num</a>;</div>
<div class="line"><span class="lineno">  563</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d = 0; d &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>; d++)</div>
<div class="line"><span class="lineno">  564</span>      {</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae1f26a818f7a1b5c3bc032663d38813d">b</a>.rows(); i++)</div>
<div class="line"><span class="lineno">  566</span>        {</div>
<div class="line"><span class="lineno">  567</span>          <span class="keywordtype">int</span> v_idx = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae1f26a818f7a1b5c3bc032663d38813d">b</a>(i);</div>
<div class="line"><span class="lineno">  568</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a>(d * v_n + v_idx) += s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aab6b59568a73e6494399da6398fec86e">soft_const_p</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7326dcc125c3389443fe9424a1f88855">bc</a>(i, d); <span class="comment">// rhs</span></div>
<div class="line"><span class="lineno">  569</span>          <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.coeffRef(d * v_n + v_idx, d * v_n + v_idx) += s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aab6b59568a73e6494399da6398fec86e">soft_const_p</a>; <span class="comment">// diagonal of matrix</span></div>
<div class="line"><span class="lineno">  570</span>        }</div>
<div class="line"><span class="lineno">  571</span>      }</div>
<div class="line"><span class="lineno">  572</span>    }</div>
<div class="ttc" id="aslic3r_2_g_u_i_2_i18_n_8hpp_html_a3948ef94e164df6b50c4a9d12ba60eb5"><div class="ttname"><a href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a></div><div class="ttdeci">#define L(s)</div><div class="ttdef"><b>Definition</b> I18N.hpp:18</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a002dfbdfde53ea23312a8630ff21a7c7"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">igl::SLIMData::rhs</a></div><div class="ttdeci">Eigen::VectorXd rhs</div><div class="ttdef"><b>Definition</b> slim.h:65</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a25c68c70641547300251ad372baffe0c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a25c68c70641547300251ad372baffe0c">igl::SLIMData::v_num</a></div><div class="ttdeci">int v_num</div><div class="ttdef"><b>Definition</b> slim.h:60</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a7326dcc125c3389443fe9424a1f88855"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7326dcc125c3389443fe9424a1f88855">igl::SLIMData::bc</a></div><div class="ttdeci">Eigen::MatrixXd bc</div><div class="ttdef"><b>Definition</b> slim.h:46</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_aab6b59568a73e6494399da6398fec86e"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aab6b59568a73e6494399da6398fec86e">igl::SLIMData::soft_const_p</a></div><div class="ttdeci">double soft_const_p</div><div class="ttdef"><b>Definition</b> slim.h:47</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ad058f54a17eb3978975d7aebecb896f1"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">igl::SLIMData::dim</a></div><div class="ttdeci">int dim</div><div class="ttdef"><b>Definition</b> slim.h:74</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ae1f26a818f7a1b5c3bc032663d38813d"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae1f26a818f7a1b5c3bc032663d38813d">igl::SLIMData::b</a></div><div class="ttdeci">Eigen::VectorXi b</div><div class="ttdef"><b>Definition</b> slim.h:45</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00045">igl::SLIMData::b</a>, <a class="el" href="../../#l00046">igl::SLIMData::bc</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00018">L</a>, <a class="el" href="../../#l00065">igl::SLIMData::rhs</a>, <a class="el" href="../../#l00047">igl::SLIMData::soft_const_p</a>, and <a class="el" href="../../#l00060">igl::SLIMData::v_num</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00498">build_linear_system()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a4dd4323c51b907d6c6903d87df2dc966_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a235b97333df31cd254b7a9ea5362978b" name="a235b97333df31cd254b7a9ea5362978b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235b97333df31cd254b7a9ea5362978b">&#9670;&#160;</a></span>build_linear_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::build_linear_system </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  499</span>    {</div>
<div class="line"><span class="lineno">  500</span>      <span class="comment">// formula (35) in paper</span></div>
<div class="line"><span class="lineno">  501</span>      std::vector&lt;Eigen::Triplet&lt;double&gt; &gt; IJV;</div>
<div class="line"><span class="lineno">  502</span>      </div>
<div class="line"><span class="lineno">  503</span><span class="preprocessor">      #ifdef SLIM_CACHED</span></div>
<div class="line"><span class="lineno">  504</span>      <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#a156445267c1153e9258649d3298c4fe6">buildA</a>(s,IJV);</div>
<div class="line"><span class="lineno">  505</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a62e61bb861eee306d5b069ce652b5aa5">rows</a>() == 0)</div>
<div class="line"><span class="lineno">  506</span>      {</div>
<div class="line"><span class="lineno">  507</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a> = <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>);</div>
<div class="line"><span class="lineno">  508</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a2bc38eacdde62656f8d3d452953fd5e8">igl::sparse_cached_precompute</a>(IJV,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#af4b99cefe61daa44d67b9f6f20d0223c">A_data</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>);</div>
<div class="line"><span class="lineno">  509</span>      }</div>
<div class="line"><span class="lineno">  510</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  511</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aef758210381a502a752c2917b6ecd071">igl::sparse_cached</a>(IJV,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#af4b99cefe61daa44d67b9f6f20d0223c">A_data</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>);</div>
<div class="line"><span class="lineno">  512</span><span class="preprocessor">      #else</span></div>
<div class="line"><span class="lineno">  513</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> A(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>);</div>
<div class="line"><span class="lineno">  514</span>      buildA(s,IJV);</div>
<div class="line"><span class="lineno">  515</span>      A.setFromTriplets(IJV.begin(),IJV.end());</div>
<div class="line"><span class="lineno">  516</span>      A.makeCompressed();</div>
<div class="line"><span class="lineno">  517</span><span class="preprocessor">      #endif</span></div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span><span class="preprocessor">      #ifdef SLIM_CACHED</span></div>
<div class="line"><span class="lineno">  520</span><span class="preprocessor">      #else</span></div>
<div class="line"><span class="lineno">  521</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> At = A.<a class="code hl_function" href="../../db/da8/class_eigen_1_1_sparse_matrix_base.html#abef4b43a6c62c8eae9b5087d732b3a4a">transpose</a>();</div>
<div class="line"><span class="lineno">  522</span>      At.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a5ff54ffc10296f9466dc81fa888733fd">makeCompressed</a>();</div>
<div class="line"><span class="lineno">  523</span><span class="preprocessor">      #endif</span></div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span><span class="preprocessor">      #ifdef SLIM_CACHED</span></div>
<div class="line"><span class="lineno">  526</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> id_m(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#aa391750e3c530227e4a5c3c52e959975">cols</a>(), s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#aa391750e3c530227e4a5c3c52e959975">cols</a>());</div>
<div class="line"><span class="lineno">  527</span><span class="preprocessor">      #else</span></div>
<div class="line"><span class="lineno">  528</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> id_m(A.cols(), A.cols());</div>
<div class="line"><span class="lineno">  529</span><span class="preprocessor">      #endif</span></div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>      id_m.setIdentity();</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>      <span class="comment">// add proximal penalty</span></div>
<div class="line"><span class="lineno">  534</span><span class="preprocessor">      #ifdef SLIM_CACHED</span></div>
<div class="line"><span class="lineno">  535</span>      s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a31f8835eedd9a596385f6a2230e76613">AtA_data</a>.<a class="code hl_variable" href="../../dc/d25/namespaceigl.html#af2acb9033057849ab5cbbab9f6c25d88">W</a> = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">WGL_M</a>;</div>
<div class="line"><span class="lineno">  536</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#acf58a66da2491fdc82040bb1c011fceb">AtA</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a62e61bb861eee306d5b069ce652b5aa5">rows</a>() == 0)</div>
<div class="line"><span class="lineno">  537</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#af14ec59e092077eb0e5c88dfd7a86c09">igl::AtA_cached_precompute</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a31f8835eedd9a596385f6a2230e76613">AtA_data</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#acf58a66da2491fdc82040bb1c011fceb">AtA</a>);</div>
<div class="line"><span class="lineno">  538</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  539</span>        <a class="code hl_function" href="../../dc/d25/namespaceigl.html#ab55e16a759a340d0d7742f4c2ce7c664">igl::AtA_cached</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a31f8835eedd9a596385f6a2230e76613">AtA_data</a>,s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#acf58a66da2491fdc82040bb1c011fceb">AtA</a>);</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>      <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a> = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#acf58a66da2491fdc82040bb1c011fceb">AtA</a> + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a60fc6450c2b703e5daf5dae88a494c31">proximal_p</a> * id_m; <span class="comment">//add also a proximal </span></div>
<div class="line"><span class="lineno">  542</span>      <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.makeCompressed();</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span><span class="preprocessor">      #else</span></div>
<div class="line"><span class="lineno">  545</span>      <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a> = At * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">WGL_M</a>.asDiagonal() * A + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a60fc6450c2b703e5daf5dae88a494c31">proximal_p</a> * id_m; <span class="comment">//add also a proximal term</span></div>
<div class="line"><span class="lineno">  546</span>      <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.makeCompressed();</div>
<div class="line"><span class="lineno">  547</span><span class="preprocessor">      #endif</span></div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span><span class="preprocessor">      #ifdef SLIM_CACHED</span></div>
<div class="line"><span class="lineno">  550</span>      buildRhs(s, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">A</a>);</div>
<div class="line"><span class="lineno">  551</span><span class="preprocessor">      #else</span></div>
<div class="line"><span class="lineno">  552</span>      buildRhs(s, A);</div>
<div class="line"><span class="lineno">  553</span><span class="preprocessor">      #endif</span></div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> OldL = <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>;</div>
<div class="line"><span class="lineno">  556</span>      add_soft_constraints(s,<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>);</div>
<div class="line"><span class="lineno">  557</span>      <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>.makeCompressed();</div>
<div class="line"><span class="lineno">  558</span>    }</div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_base_html_abef4b43a6c62c8eae9b5087d732b3a4a"><div class="ttname"><a href="../../db/da8/class_eigen_1_1_sparse_matrix_base.html#abef4b43a6c62c8eae9b5087d732b3a4a">Eigen::SparseMatrixBase::transpose</a></div><div class="ttdeci">TransposeReturnType transpose()</div><div class="ttdef"><b>Definition</b> SparseMatrixBase.h:349</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_html"><div class="ttname"><a href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a></div><div class="ttdoc">A versatible sparse matrix representation.</div><div class="ttdef"><b>Definition</b> SparseMatrix.h:98</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_html_a5ff54ffc10296f9466dc81fa888733fd"><div class="ttname"><a href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a5ff54ffc10296f9466dc81fa888733fd">Eigen::SparseMatrix::makeCompressed</a></div><div class="ttdeci">void makeCompressed()</div><div class="ttdef"><b>Definition</b> SparseMatrix.h:464</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_html_a62e61bb861eee306d5b069ce652b5aa5"><div class="ttname"><a href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a62e61bb861eee306d5b069ce652b5aa5">Eigen::SparseMatrix::rows</a></div><div class="ttdeci">Index rows() const</div><div class="ttdef"><b>Definition</b> SparseMatrix.h:136</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_html_aa391750e3c530227e4a5c3c52e959975"><div class="ttname"><a href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#aa391750e3c530227e4a5c3c52e959975">Eigen::SparseMatrix::cols</a></div><div class="ttdeci">Index cols() const</div><div class="ttdef"><b>Definition</b> SparseMatrix.h:138</div></div>
<div class="ttc" id="anamespaceigl_1_1slim_html_a156445267c1153e9258649d3298c4fe6"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#a156445267c1153e9258649d3298c4fe6">igl::slim::buildA</a></div><div class="ttdeci">IGL_INLINE void buildA(igl::SLIMData &amp;s, std::vector&lt; Eigen::Triplet&lt; double &gt; &gt; &amp;IJV)</div><div class="ttdef"><b>Definition</b> slim.cpp:720</div></div>
<div class="ttc" id="anamespaceigl_html_a2bc38eacdde62656f8d3d452953fd5e8"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#a2bc38eacdde62656f8d3d452953fd5e8">igl::sparse_cached_precompute</a></div><div class="ttdeci">IGL_INLINE void sparse_cached_precompute(const Eigen::MatrixBase&lt; DerivedI &gt; &amp;I, const Eigen::MatrixBase&lt; DerivedI &gt; &amp;J, Eigen::VectorXi &amp;data, Eigen::SparseMatrix&lt; Scalar &gt; &amp;X)</div><div class="ttdef"><b>Definition</b> sparse_cached.cpp:18</div></div>
<div class="ttc" id="anamespaceigl_html_ab55e16a759a340d0d7742f4c2ce7c664"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#ab55e16a759a340d0d7742f4c2ce7c664">igl::AtA_cached</a></div><div class="ttdeci">IGL_INLINE void AtA_cached(const Eigen::SparseMatrix&lt; Scalar &gt; &amp;A, const AtA_cached_data &amp;data, Eigen::SparseMatrix&lt; Scalar &gt; &amp;AtA)</div><div class="ttdef"><b>Definition</b> AtA_cached.cpp:113</div></div>
<div class="ttc" id="anamespaceigl_html_aef758210381a502a752c2917b6ecd071"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#aef758210381a502a752c2917b6ecd071">igl::sparse_cached</a></div><div class="ttdeci">IGL_INLINE void sparse_cached(const std::vector&lt; Eigen::Triplet&lt; Scalar &gt; &gt; &amp;triplets, const Eigen::VectorXi &amp;data, Eigen::SparseMatrix&lt; Scalar &gt; &amp;X)</div><div class="ttdef"><b>Definition</b> sparse_cached.cpp:85</div></div>
<div class="ttc" id="anamespaceigl_html_af14ec59e092077eb0e5c88dfd7a86c09"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#af14ec59e092077eb0e5c88dfd7a86c09">igl::AtA_cached_precompute</a></div><div class="ttdeci">IGL_INLINE void AtA_cached_precompute(const Eigen::SparseMatrix&lt; Scalar &gt; &amp;A, AtA_cached_data &amp;data, Eigen::SparseMatrix&lt; Scalar &gt; &amp;AtA)</div><div class="ttdef"><b>Definition</b> AtA_cached.cpp:15</div></div>
<div class="ttc" id="anamespaceigl_html_af2acb9033057849ab5cbbab9f6c25d88"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#af2acb9033057849ab5cbbab9f6c25d88">igl::AtA_cached_data::W</a></div><div class="ttdeci">Eigen::VectorXd W</div><div class="ttdef"><b>Definition</b> AtA_cached.h:19</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a31f8835eedd9a596385f6a2230e76613"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a31f8835eedd9a596385f6a2230e76613">igl::SLIMData::AtA_data</a></div><div class="ttdeci">igl::AtA_cached_data AtA_data</div><div class="ttdef"><b>Definition</b> slim.h:80</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a60fc6450c2b703e5daf5dae88a494c31"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a60fc6450c2b703e5daf5dae88a494c31">igl::SLIMData::proximal_p</a></div><div class="ttdeci">double proximal_p</div><div class="ttdef"><b>Definition</b> slim.h:62</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a7b7167eb3f9f47351f457f60df96f46c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">igl::SLIMData::v_n</a></div><div class="ttdeci">int v_n</div><div class="ttdef"><b>Definition</b> slim.h:71</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a8013a9e8c749e71e465272fd05e2b1a4"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">igl::SLIMData::WGL_M</a></div><div class="ttdeci">Eigen::VectorXd WGL_M</div><div class="ttdef"><b>Definition</b> slim.h:64</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ab46c3e37552205350f0b8bcecf537944"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">igl::SLIMData::f_n</a></div><div class="ttdeci">int f_n</div><div class="ttdef"><b>Definition</b> slim.h:71</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ac1bb46cc49ec9e8a9933bd3432cbcb63"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ac1bb46cc49ec9e8a9933bd3432cbcb63">igl::SLIMData::A</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; double &gt; A</div><div class="ttdef"><b>Definition</b> slim.h:77</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_acf58a66da2491fdc82040bb1c011fceb"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#acf58a66da2491fdc82040bb1c011fceb">igl::SLIMData::AtA</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; double &gt; AtA</div><div class="ttdef"><b>Definition</b> slim.h:79</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_af4b99cefe61daa44d67b9f6f20d0223c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#af4b99cefe61daa44d67b9f6f20d0223c">igl::SLIMData::A_data</a></div><div class="ttdeci">Eigen::VectorXi A_data</div><div class="ttdef"><b>Definition</b> slim.h:78</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00077">igl::SLIMData::A</a>, <a class="el" href="../../#l00078">igl::SLIMData::A_data</a>, <a class="el" href="../../#l00560">add_soft_constraints()</a>, <a class="el" href="../../#l00079">igl::SLIMData::AtA</a>, <a class="el" href="../../#l00113">igl::AtA_cached()</a>, <a class="el" href="../../#l00015">igl::AtA_cached_precompute()</a>, <a class="el" href="../../#l00080">igl::SLIMData::AtA_data</a>, <a class="el" href="../../#l00720">buildA()</a>, <a class="el" href="../../#l00844">buildRhs()</a>, <a class="el" href="../../#l00138">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::cols()</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00071">igl::SLIMData::f_n</a>, <a class="el" href="../../#l00018">L</a>, <a class="el" href="../../#l00464">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::makeCompressed()</a>, <a class="el" href="../../#l00062">igl::SLIMData::proximal_p</a>, <a class="el" href="../../#l00136">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::rows()</a>, <a class="el" href="../../#l00993">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::setFromTriplets()</a>, <a class="el" href="../../#l00744">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::setIdentity()</a>, <a class="el" href="../../#l00085">igl::sparse_cached()</a>, <a class="el" href="../../#l00018">igl::sparse_cached_precompute()</a>, <a class="el" href="../../#l00349">Eigen::SparseMatrixBase&lt; Derived &gt;::transpose()</a>, <a class="el" href="../../#l00071">igl::SLIMData::v_n</a>, <a class="el" href="../../#l00019">igl::AtA_cached_data::W</a>, and <a class="el" href="../../#l00064">igl::SLIMData::WGL_M</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00394">solve_weighted_arap()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a235b97333df31cd254b7a9ea5362978b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a235b97333df31cd254b7a9ea5362978b_icgraph.svg" width="547" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a156445267c1153e9258649d3298c4fe6" name="a156445267c1153e9258649d3298c4fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a156445267c1153e9258649d3298c4fe6">&#9670;&#160;</a></span>buildA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::buildA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>IJV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  721</span>    {</div>
<div class="line"><span class="lineno">  722</span>      <span class="comment">// formula (35) in paper</span></div>
<div class="line"><span class="lineno">  723</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> == 2)</div>
<div class="line"><span class="lineno">  724</span>      {</div>
<div class="line"><span class="lineno">  725</span>        IJV.reserve(4 * (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>() + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>()));</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>        <span class="comment">/*A = [W11*Dx, W12*Dx;</span></div>
<div class="line"><span class="lineno">  728</span><span class="comment">             W11*Dy, W12*Dy;</span></div>
<div class="line"><span class="lineno">  729</span><span class="comment">             W21*Dx, W22*Dx;</span></div>
<div class="line"><span class="lineno">  730</span><span class="comment">             W21*Dy, W22*Dy];*/</span></div>
<div class="line"><span class="lineno">  731</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>(); ++k)</div>
<div class="line"><span class="lineno">  732</span>        {</div>
<div class="line"><span class="lineno">  733</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseMatrix&lt;double&gt;::InnerIterator</a> it(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>, k); it; ++it)</div>
<div class="line"><span class="lineno">  734</span>          {</div>
<div class="line"><span class="lineno">  735</span>            <span class="keywordtype">int</span> dx_r = it.row();</div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordtype">int</span> dx_c = it.col();</div>
<div class="line"><span class="lineno">  737</span>            <span class="keywordtype">double</span> val = it.value();</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(dx_r, dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(dx_r)));</div>
<div class="line"><span class="lineno">  740</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(dx_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(dx_r)));</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(dx_r)));</div>
<div class="line"><span class="lineno">  743</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(dx_r)));</div>
<div class="line"><span class="lineno">  744</span>          }</div>
<div class="line"><span class="lineno">  745</span>        }</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>(); ++k)</div>
<div class="line"><span class="lineno">  748</span>        {</div>
<div class="line"><span class="lineno">  749</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseMatrix&lt;double&gt;::InnerIterator</a> it(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>, k); it; ++it)</div>
<div class="line"><span class="lineno">  750</span>          {</div>
<div class="line"><span class="lineno">  751</span>            <span class="keywordtype">int</span> dy_r = it.row();</div>
<div class="line"><span class="lineno">  752</span>            <span class="keywordtype">int</span> dy_c = it.col();</div>
<div class="line"><span class="lineno">  753</span>            <span class="keywordtype">double</span> val = it.value();</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(dy_r)));</div>
<div class="line"><span class="lineno">  756</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(dy_r)));</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(dy_r)));</div>
<div class="line"><span class="lineno">  759</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(dy_r)));</div>
<div class="line"><span class="lineno">  760</span>          }</div>
<div class="line"><span class="lineno">  761</span>        }</div>
<div class="line"><span class="lineno">  762</span>      }</div>
<div class="line"><span class="lineno">  763</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  764</span>      {</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>        <span class="comment">/*A = [W11*Dx, W12*Dx, W13*Dx;</span></div>
<div class="line"><span class="lineno">  767</span><span class="comment">               W11*Dy, W12*Dy, W13*Dy;</span></div>
<div class="line"><span class="lineno">  768</span><span class="comment">               W11*Dz, W12*Dz, W13*Dz;</span></div>
<div class="line"><span class="lineno">  769</span><span class="comment">               W21*Dx, W22*Dx, W23*Dx;</span></div>
<div class="line"><span class="lineno">  770</span><span class="comment">               W21*Dy, W22*Dy, W23*Dy;</span></div>
<div class="line"><span class="lineno">  771</span><span class="comment">               W21*Dz, W22*Dz, W23*Dz;</span></div>
<div class="line"><span class="lineno">  772</span><span class="comment">               W31*Dx, W32*Dx, W33*Dx;</span></div>
<div class="line"><span class="lineno">  773</span><span class="comment">               W31*Dy, W32*Dy, W33*Dy;</span></div>
<div class="line"><span class="lineno">  774</span><span class="comment">               W31*Dz, W32*Dz, W33*Dz;];*/</span></div>
<div class="line"><span class="lineno">  775</span>        IJV.reserve(9 * (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>() + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>() + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>()));</div>
<div class="line"><span class="lineno">  776</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>(); k++)</div>
<div class="line"><span class="lineno">  777</span>        {</div>
<div class="line"><span class="lineno">  778</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseMatrix&lt;double&gt;::InnerIterator</a> it(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>, k); it; ++it)</div>
<div class="line"><span class="lineno">  779</span>          {</div>
<div class="line"><span class="lineno">  780</span>            <span class="keywordtype">int</span> dx_r = it.row();</div>
<div class="line"><span class="lineno">  781</span>            <span class="keywordtype">int</span> dx_c = it.col();</div>
<div class="line"><span class="lineno">  782</span>            <span class="keywordtype">double</span> val = it.value();</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(dx_r, dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(dx_r)));</div>
<div class="line"><span class="lineno">  785</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(dx_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(dx_r)));</div>
<div class="line"><span class="lineno">  786</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(dx_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(dx_r)));</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(dx_r)));</div>
<div class="line"><span class="lineno">  789</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(dx_r)));</div>
<div class="line"><span class="lineno">  790</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(dx_r)));</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(6 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(dx_r)));</div>
<div class="line"><span class="lineno">  793</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(6 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(dx_r)));</div>
<div class="line"><span class="lineno">  794</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(6 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dx_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dx_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(dx_r)));</div>
<div class="line"><span class="lineno">  795</span>          }</div>
<div class="line"><span class="lineno">  796</span>        }</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>(); k++)</div>
<div class="line"><span class="lineno">  799</span>        {</div>
<div class="line"><span class="lineno">  800</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseMatrix&lt;double&gt;::InnerIterator</a> it(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>, k); it; ++it)</div>
<div class="line"><span class="lineno">  801</span>          {</div>
<div class="line"><span class="lineno">  802</span>            <span class="keywordtype">int</span> dy_r = it.row();</div>
<div class="line"><span class="lineno">  803</span>            <span class="keywordtype">int</span> dy_c = it.col();</div>
<div class="line"><span class="lineno">  804</span>            <span class="keywordtype">double</span> val = it.value();</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(dy_r)));</div>
<div class="line"><span class="lineno">  807</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(dy_r)));</div>
<div class="line"><span class="lineno">  808</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(dy_r)));</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(4 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(dy_r)));</div>
<div class="line"><span class="lineno">  811</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(4 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(dy_r)));</div>
<div class="line"><span class="lineno">  812</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(4 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(dy_r)));</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(7 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(dy_r)));</div>
<div class="line"><span class="lineno">  815</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(7 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(dy_r)));</div>
<div class="line"><span class="lineno">  816</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(7 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dy_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dy_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(dy_r)));</div>
<div class="line"><span class="lineno">  817</span>          }</div>
<div class="line"><span class="lineno">  818</span>        }</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">outerSize</a>(); k++)</div>
<div class="line"><span class="lineno">  821</span>        {</div>
<div class="line"><span class="lineno">  822</span>          <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseMatrix&lt;double&gt;::InnerIterator</a> it(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a>, k); it; ++it)</div>
<div class="line"><span class="lineno">  823</span>          {</div>
<div class="line"><span class="lineno">  824</span>            <span class="keywordtype">int</span> dz_r = it.row();</div>
<div class="line"><span class="lineno">  825</span>            <span class="keywordtype">int</span> dz_c = it.col();</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordtype">double</span> val = it.value();</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(dz_r)));</div>
<div class="line"><span class="lineno">  829</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(dz_r)));</div>
<div class="line"><span class="lineno">  830</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(dz_r)));</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(5 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(dz_r)));</div>
<div class="line"><span class="lineno">  833</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(5 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(dz_r)));</div>
<div class="line"><span class="lineno">  834</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(5 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(dz_r)));</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(8 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(dz_r)));</div>
<div class="line"><span class="lineno">  837</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(8 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(dz_r)));</div>
<div class="line"><span class="lineno">  838</span>            IJV.push_back(<a class="code hl_class" href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet&lt;double&gt;</a>(8 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + dz_r, 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> + dz_c, val * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(dz_r)));</div>
<div class="line"><span class="lineno">  839</span>          }</div>
<div class="line"><span class="lineno">  840</span>        }</div>
<div class="line"><span class="lineno">  841</span>      }</div>
<div class="line"><span class="lineno">  842</span>    }</div>
<div class="ttc" id="aclass_eigen_1_1_sparse_compressed_base_1_1_inner_iterator_html"><div class="ttname"><a href="../../d1/d50/class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator.html">Eigen::SparseCompressedBase::InnerIterator</a></div><div class="ttdef"><b>Definition</b> SparseCompressedBase.h:137</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_matrix_html_a4e5f706cfae14d2eaec1ea1e234905f1"><div class="ttname"><a href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a4e5f706cfae14d2eaec1ea1e234905f1">Eigen::SparseMatrix::outerSize</a></div><div class="ttdeci">Index outerSize() const</div><div class="ttdef"><b>Definition</b> SparseMatrix.h:143</div></div>
<div class="ttc" id="aclass_eigen_1_1_triplet_html"><div class="ttname"><a href="../../d3/d08/class_eigen_1_1_triplet.html">Eigen::Triplet</a></div><div class="ttdoc">A small structure to hold a non zero as a triplet (i,j,value).</div><div class="ttdef"><b>Definition</b> SparseUtil.h:155</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a0eda3f88d8b0a43e56306d1c55a60add"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">igl::SLIMData::W_12</a></div><div class="ttdeci">Eigen::VectorXd W_12</div><div class="ttdef"><b>Definition</b> slim.h:67</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a0fb5d3efc96233b261c5e442a50d1863"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">igl::SLIMData::W_33</a></div><div class="ttdeci">Eigen::VectorXd W_33</div><div class="ttdef"><b>Definition</b> slim.h:69</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a38456e136e0293fcec429229e85fcf76"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">igl::SLIMData::W_32</a></div><div class="ttdeci">Eigen::VectorXd W_32</div><div class="ttdef"><b>Definition</b> slim.h:69</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a6b244e29028952a6bbb1012f06e5f6b0"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">igl::SLIMData::Dx</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; double &gt; Dx</div><div class="ttdef"><b>Definition</b> slim.h:70</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a6d1907e4bd3ffa2450e779acabd48cfb"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">igl::SLIMData::W_31</a></div><div class="ttdeci">Eigen::VectorXd W_31</div><div class="ttdef"><b>Definition</b> slim.h:69</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a761e17c5ad46e87f1fde5c265f996f7a"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">igl::SLIMData::W_13</a></div><div class="ttdeci">Eigen::VectorXd W_13</div><div class="ttdef"><b>Definition</b> slim.h:67</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a879c8a130f88110d97c39dbd4fbb679d"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">igl::SLIMData::Dz</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; double &gt; Dz</div><div class="ttdef"><b>Definition</b> slim.h:70</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a87d1384968233a792069827f3b842937"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">igl::SLIMData::W_22</a></div><div class="ttdeci">Eigen::VectorXd W_22</div><div class="ttdef"><b>Definition</b> slim.h:68</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a8d0be8e241b33ab953d23e40b5ecb663"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">igl::SLIMData::Dy</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; double &gt; Dy</div><div class="ttdef"><b>Definition</b> slim.h:70</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a9f069f1e37ede3a946210f01c7d4f81c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">igl::SLIMData::W_11</a></div><div class="ttdeci">Eigen::VectorXd W_11</div><div class="ttdef"><b>Definition</b> slim.h:67</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_aa45e0bf797bf9db564cbb5ea36ec6cf1"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">igl::SLIMData::W_23</a></div><div class="ttdeci">Eigen::VectorXd W_23</div><div class="ttdef"><b>Definition</b> slim.h:68</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ad2cde15bd06c0593b6d3a3f43d94dca2"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">igl::SLIMData::W_21</a></div><div class="ttdeci">Eigen::VectorXd W_21</div><div class="ttdef"><b>Definition</b> slim.h:68</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dx</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dy</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dz</a>, <a class="el" href="../../#l00071">igl::SLIMData::f_n</a>, <a class="el" href="../../#l00143">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::outerSize()</a>, <a class="el" href="../../#l00071">igl::SLIMData::v_n</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_11</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_12</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_13</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_21</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_22</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_23</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_31</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_32</a>, and <a class="el" href="../../#l00069">igl::SLIMData::W_33</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00498">build_linear_system()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a156445267c1153e9258649d3298c4fe6_cgraph.svg" width="308" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a156445267c1153e9258649d3298c4fe6_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab9fc796abb435f50814c0c53f1fee5e9" name="ab9fc796abb435f50814c0c53f1fee5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fc796abb435f50814c0c53f1fee5e9">&#9670;&#160;</a></span>buildRhs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::buildRhs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>A</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  845</span>    {</div>
<div class="line"><span class="lineno">  846</span>      Eigen::VectorXd f_rhs(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  847</span>      f_rhs.setZero();</div>
<div class="line"><span class="lineno">  848</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> == 2)</div>
<div class="line"><span class="lineno">  849</span>      {</div>
<div class="line"><span class="lineno">  850</span>        <span class="comment">/*b = [W11*R11 + W12*R21; (formula (36))</span></div>
<div class="line"><span class="lineno">  851</span><span class="comment">             W11*R12 + W12*R22;</span></div>
<div class="line"><span class="lineno">  852</span><span class="comment">             W21*R11 + W22*R21;</span></div>
<div class="line"><span class="lineno">  853</span><span class="comment">             W21*R12 + W22*R22];*/</span></div>
<div class="line"><span class="lineno">  854</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>; i++)</div>
<div class="line"><span class="lineno">  855</span>        {</div>
<div class="line"><span class="lineno">  856</span>          f_rhs(i + 0 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1);</div>
<div class="line"><span class="lineno">  857</span>          f_rhs(i + 1 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3);</div>
<div class="line"><span class="lineno">  858</span>          f_rhs(i + 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1);</div>
<div class="line"><span class="lineno">  859</span>          f_rhs(i + 3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3);</div>
<div class="line"><span class="lineno">  860</span>        }</div>
<div class="line"><span class="lineno">  861</span>      }</div>
<div class="line"><span class="lineno">  862</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  863</span>      {</div>
<div class="line"><span class="lineno">  864</span>        <span class="comment">/*b = [W11*R11 + W12*R21 + W13*R31;</span></div>
<div class="line"><span class="lineno">  865</span><span class="comment">             W11*R12 + W12*R22 + W13*R32;</span></div>
<div class="line"><span class="lineno">  866</span><span class="comment">             W11*R13 + W12*R23 + W13*R33;</span></div>
<div class="line"><span class="lineno">  867</span><span class="comment">             W21*R11 + W22*R21 + W23*R31;</span></div>
<div class="line"><span class="lineno">  868</span><span class="comment">             W21*R12 + W22*R22 + W23*R32;</span></div>
<div class="line"><span class="lineno">  869</span><span class="comment">             W21*R13 + W22*R23 + W23*R33;</span></div>
<div class="line"><span class="lineno">  870</span><span class="comment">             W31*R11 + W32*R21 + W33*R31;</span></div>
<div class="line"><span class="lineno">  871</span><span class="comment">             W31*R12 + W32*R22 + W33*R32;</span></div>
<div class="line"><span class="lineno">  872</span><span class="comment">             W31*R13 + W32*R23 + W33*R33;];*/</span></div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>; i++)</div>
<div class="line"><span class="lineno">  874</span>        {</div>
<div class="line"><span class="lineno">  875</span>          f_rhs(i + 0 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2);</div>
<div class="line"><span class="lineno">  876</span>          f_rhs(i + 1 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 4) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 5);</div>
<div class="line"><span class="lineno">  877</span>          f_rhs(i + 2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 6) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 7) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 8);</div>
<div class="line"><span class="lineno">  878</span>          f_rhs(i + 3 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2);</div>
<div class="line"><span class="lineno">  879</span>          f_rhs(i + 4 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 4) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 5);</div>
<div class="line"><span class="lineno">  880</span>          f_rhs(i + 5 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 6) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 7) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 8);</div>
<div class="line"><span class="lineno">  881</span>          f_rhs(i + 6 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2);</div>
<div class="line"><span class="lineno">  882</span>          f_rhs(i + 7 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 4) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 5);</div>
<div class="line"><span class="lineno">  883</span>          f_rhs(i + 8 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 6) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 7) + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(i) * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 8);</div>
<div class="line"><span class="lineno">  884</span>        }</div>
<div class="line"><span class="lineno">  885</span>      }</div>
<div class="line"><span class="lineno">  886</span>      Eigen::VectorXd uv_flat(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> *s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>);</div>
<div class="line"><span class="lineno">  887</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>; i++)</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>; j++)</div>
<div class="line"><span class="lineno">  889</span>          uv_flat(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> * i + j) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5b913c4edb1082339aee8b462306df82">V_o</a>(j, i);</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>      s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a> = (f_rhs.transpose() * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">WGL_M</a>.asDiagonal() * A).transpose() + s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a60fc6450c2b703e5daf5dae88a494c31">proximal_p</a> * uv_flat;</div>
<div class="line"><span class="lineno">  892</span>    }</div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a03aec7d4e2f3b357123d3c744b43e08c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">igl::SLIMData::Ri</a></div><div class="ttdeci">Eigen::MatrixXd Ri</div><div class="ttdef"><b>Definition</b> slim.h:66</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a5b913c4edb1082339aee8b462306df82"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5b913c4edb1082339aee8b462306df82">igl::SLIMData::V_o</a></div><div class="ttdeci">Eigen::MatrixXd V_o</div><div class="ttdef"><b>Definition</b> slim.h:53</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00071">igl::SLIMData::f_n</a>, <a class="el" href="../../#l00062">igl::SLIMData::proximal_p</a>, <a class="el" href="../../#l00065">igl::SLIMData::rhs</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ri</a>, <a class="el" href="../../#l00071">igl::SLIMData::v_n</a>, <a class="el" href="../../#l00053">igl::SLIMData::V_o</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_11</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_12</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_13</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_21</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_22</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_23</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_31</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_32</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_33</a>, and <a class="el" href="../../#l00064">igl::SLIMData::WGL_M</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00498">build_linear_system()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_ab9fc796abb435f50814c0c53f1fee5e9_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac5fbe495d7e27c4d6c14072f3d30fd52" name="ac5fbe495d7e27c4d6c14072f3d30fd52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5fbe495d7e27c4d6c14072f3d30fd52">&#9670;&#160;</a></span>compute_energy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double igl::slim::compute_energy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  575</span>    {</div>
<div class="line"><span class="lineno">  576</span>      <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#af28f4bf8087b81c9fa49924ed8f997ca">compute_jacobians</a>(s,V_new);</div>
<div class="line"><span class="lineno">  577</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#a05be9f4db44adddcc36efc382dc1db8f">compute_energy_with_jacobians</a>(s, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>, V_new, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a2bc173c625140e700d6448680a9e4b1c">M</a>) +</div>
<div class="line"><span class="lineno">  578</span>             <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#a08b1039f1fdb4bd05db76541ac038a15">compute_soft_const_energy</a>(s, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>, V_new);</div>
<div class="line"><span class="lineno">  579</span>    }</div>
<div class="ttc" id="anamespaceigl_1_1slim_html_a05be9f4db44adddcc36efc382dc1db8f"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#a05be9f4db44adddcc36efc382dc1db8f">igl::slim::compute_energy_with_jacobians</a></div><div class="ttdeci">IGL_INLINE double compute_energy_with_jacobians(igl::SLIMData &amp;s, const Eigen::MatrixXd &amp;V, const Eigen::MatrixXi &amp;F, const Eigen::MatrixXd &amp;Ji, Eigen::MatrixXd &amp;uv, Eigen::VectorXd &amp;areas)</div><div class="ttdef"><b>Definition</b> slim.cpp:594</div></div>
<div class="ttc" id="anamespaceigl_1_1slim_html_a08b1039f1fdb4bd05db76541ac038a15"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#a08b1039f1fdb4bd05db76541ac038a15">igl::slim::compute_soft_const_energy</a></div><div class="ttdeci">IGL_INLINE double compute_soft_const_energy(igl::SLIMData &amp;s, const Eigen::MatrixXd &amp;V, const Eigen::MatrixXi &amp;F, Eigen::MatrixXd &amp;V_o)</div><div class="ttdef"><b>Definition</b> slim.cpp:581</div></div>
<div class="ttc" id="anamespaceigl_1_1slim_html_af28f4bf8087b81c9fa49924ed8f997ca"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#af28f4bf8087b81c9fa49924ed8f997ca">igl::slim::compute_jacobians</a></div><div class="ttdeci">IGL_INLINE void compute_jacobians(igl::SLIMData &amp;s, const Eigen::MatrixXd &amp;uv)</div><div class="ttdef"><b>Definition</b> slim.cpp:95</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a2bc173c625140e700d6448680a9e4b1c"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a2bc173c625140e700d6448680a9e4b1c">igl::SLIMData::M</a></div><div class="ttdeci">Eigen::VectorXd M</div><div class="ttdef"><b>Definition</b> slim.h:57</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a37b9e1ae8de3ed2e8639505e4cfc3f2f"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">igl::SLIMData::Ji</a></div><div class="ttdeci">Eigen::MatrixXd Ji</div><div class="ttdef"><b>Definition</b> slim.h:66</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a5c305368043e9a18e0196be96cfc31c3"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">igl::SLIMData::V</a></div><div class="ttdeci">Eigen::MatrixXd V</div><div class="ttdef"><b>Definition</b> slim.h:30</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a7230c04e2b1e764a9e81a7600daa85df"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">igl::SLIMData::F</a></div><div class="ttdeci">Eigen::MatrixXi F</div><div class="ttdef"><b>Definition</b> slim.h:31</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00594">compute_energy_with_jacobians()</a>, <a class="el" href="../../#l00095">compute_jacobians()</a>, <a class="el" href="../../#l00581">compute_soft_const_energy()</a>, <a class="el" href="../../#l00031">igl::SLIMData::F</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ji</a>, <a class="el" href="../../#l00057">igl::SLIMData::M</a>, and <a class="el" href="../../#l00030">igl::SLIMData::V</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00899">igl::slim_precompute()</a>, and <a class="el" href="../../#l00937">igl::slim_solve()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_ac5fbe495d7e27c4d6c14072f3d30fd52_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_ac5fbe495d7e27c4d6c14072f3d30fd52_icgraph.svg" width="324" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a05be9f4db44adddcc36efc382dc1db8f" name="a05be9f4db44adddcc36efc382dc1db8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05be9f4db44adddcc36efc382dc1db8f">&#9670;&#160;</a></span>compute_energy_with_jacobians()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double igl::slim::compute_energy_with_jacobians </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>Ji</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>areas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  598</span>    {</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>      <span class="keywordtype">double</span> energy = 0;</div>
<div class="line"><span class="lineno">  601</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> == 2)</div>
<div class="line"><span class="lineno">  602</span>      {</div>
<div class="line"><span class="lineno">  603</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 2, 2&gt;</a> ji;</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>; i++)</div>
<div class="line"><span class="lineno">  605</span>        {</div>
<div class="line"><span class="lineno">  606</span>          ji(0, 0) = Ji(i, 0);</div>
<div class="line"><span class="lineno">  607</span>          ji(0, 1) = Ji(i, 1);</div>
<div class="line"><span class="lineno">  608</span>          ji(1, 0) = Ji(i, 2);</div>
<div class="line"><span class="lineno">  609</span>          ji(1, 1) = Ji(i, 3);</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 2, 2&gt;</a> Mat2;</div>
<div class="line"><span class="lineno">  612</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 2, 1&gt;</a> Vec2;</div>
<div class="line"><span class="lineno">  613</span>          Mat2 ri, ti, ui, vi;</div>
<div class="line"><span class="lineno">  614</span>          Vec2 sing;</div>
<div class="line"><span class="lineno">  615</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a46f5a6e912789678a86ebf66479a11a0">igl::polar_svd</a>(ji, ri, ti, ui, sing, vi);</div>
<div class="line"><span class="lineno">  616</span>          <span class="keywordtype">double</span> s1 = sing(0);</div>
<div class="line"><span class="lineno">  617</span>          <span class="keywordtype">double</span> s2 = sing(1);</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>          <span class="keywordflow">switch</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae82e409fc689b63fa1b30be65ea4bca6">slim_energy</a>)</div>
<div class="line"><span class="lineno">  620</span>          {</div>
<div class="line"><span class="lineno">  621</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2">igl::SLIMData::ARAP</a>:</div>
<div class="line"><span class="lineno">  622</span>            {</div>
<div class="line"><span class="lineno">  623</span>              energy += areas(i) * (pow(s1 - 1, 2) + pow(s2 - 1, 2));</div>
<div class="line"><span class="lineno">  624</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  625</span>            }</div>
<div class="line"><span class="lineno">  626</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01">igl::SLIMData::SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  627</span>            {</div>
<div class="line"><span class="lineno">  628</span>              energy += areas(i) * (pow(s1, 2) + pow(s1, -2) + pow(s2, 2) + pow(s2, -2));</div>
<div class="line"><span class="lineno">  629</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  630</span>            }</div>
<div class="line"><span class="lineno">  631</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  632</span>            {</div>
<div class="line"><span class="lineno">  633</span>              energy += areas(i) * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a4f4bf11823f39c8e000c96d0de0248d2">exp_factor</a> * (pow(s1, 2) + pow(s1, -2) + pow(s2, 2) + pow(s2, -2)));</div>
<div class="line"><span class="lineno">  634</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  635</span>            }</div>
<div class="line"><span class="lineno">  636</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306">igl::SLIMData::LOG_ARAP</a>:</div>
<div class="line"><span class="lineno">  637</span>            {</div>
<div class="line"><span class="lineno">  638</span>              energy += areas(i) * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s1), 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s2), 2));</div>
<div class="line"><span class="lineno">  639</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  640</span>            }</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a">igl::SLIMData::CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  642</span>            {</div>
<div class="line"><span class="lineno">  643</span>              energy += areas(i) * ((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2)) / (2 * s1 * s2));</div>
<div class="line"><span class="lineno">  644</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  645</span>            }</div>
<div class="line"><span class="lineno">  646</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f">igl::SLIMData::EXP_CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  647</span>            {</div>
<div class="line"><span class="lineno">  648</span>              energy += areas(i) * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a4f4bf11823f39c8e000c96d0de0248d2">exp_factor</a> * ((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2)) / (2 * s1 * s2)));</div>
<div class="line"><span class="lineno">  649</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  650</span>            }</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>          }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>        }</div>
<div class="line"><span class="lineno">  655</span>      }</div>
<div class="line"><span class="lineno">  656</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  657</span>      {</div>
<div class="line"><span class="lineno">  658</span>        <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 3, 3&gt;</a> ji;</div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>; i++)</div>
<div class="line"><span class="lineno">  660</span>        {</div>
<div class="line"><span class="lineno">  661</span>          ji(0, 0) = Ji(i, 0);</div>
<div class="line"><span class="lineno">  662</span>          ji(0, 1) = Ji(i, 1);</div>
<div class="line"><span class="lineno">  663</span>          ji(0, 2) = Ji(i, 2);</div>
<div class="line"><span class="lineno">  664</span>          ji(1, 0) = Ji(i, 3);</div>
<div class="line"><span class="lineno">  665</span>          ji(1, 1) = Ji(i, 4);</div>
<div class="line"><span class="lineno">  666</span>          ji(1, 2) = Ji(i, 5);</div>
<div class="line"><span class="lineno">  667</span>          ji(2, 0) = Ji(i, 6);</div>
<div class="line"><span class="lineno">  668</span>          ji(2, 1) = Ji(i, 7);</div>
<div class="line"><span class="lineno">  669</span>          ji(2, 2) = Ji(i, 8);</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 3, 3&gt;</a> Mat3;</div>
<div class="line"><span class="lineno">  672</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 3, 1&gt;</a> Vec3;</div>
<div class="line"><span class="lineno">  673</span>          Mat3 ri, ti, ui, vi;</div>
<div class="line"><span class="lineno">  674</span>          Vec3 sing;</div>
<div class="line"><span class="lineno">  675</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a46f5a6e912789678a86ebf66479a11a0">igl::polar_svd</a>(ji, ri, ti, ui, sing, vi);</div>
<div class="line"><span class="lineno">  676</span>          <span class="keywordtype">double</span> s1 = sing(0);</div>
<div class="line"><span class="lineno">  677</span>          <span class="keywordtype">double</span> s2 = sing(1);</div>
<div class="line"><span class="lineno">  678</span>          <span class="keywordtype">double</span> s3 = sing(2);</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>          <span class="keywordflow">switch</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae82e409fc689b63fa1b30be65ea4bca6">slim_energy</a>)</div>
<div class="line"><span class="lineno">  681</span>          {</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2">igl::SLIMData::ARAP</a>:</div>
<div class="line"><span class="lineno">  683</span>            {</div>
<div class="line"><span class="lineno">  684</span>              energy += areas(i) * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1 - 1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2 - 1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3 - 1, 2));</div>
<div class="line"><span class="lineno">  685</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  686</span>            }</div>
<div class="line"><span class="lineno">  687</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01">igl::SLIMData::SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  688</span>            {</div>
<div class="line"><span class="lineno">  689</span>              energy += areas(i) * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, -2));</div>
<div class="line"><span class="lineno">  690</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  691</span>            }</div>
<div class="line"><span class="lineno">  692</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  693</span>            {</div>
<div class="line"><span class="lineno">  694</span>              energy += areas(i) * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a4f4bf11823f39c8e000c96d0de0248d2">exp_factor</a> *</div>
<div class="line"><span class="lineno">  695</span>                                       (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, -2)));</div>
<div class="line"><span class="lineno">  696</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  697</span>            }</div>
<div class="line"><span class="lineno">  698</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306">igl::SLIMData::LOG_ARAP</a>:</div>
<div class="line"><span class="lineno">  699</span>            {</div>
<div class="line"><span class="lineno">  700</span>              energy += areas(i) * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s1), 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(std::abs(s2)), 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(std::abs(s3)), 2));</div>
<div class="line"><span class="lineno">  701</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  702</span>            }</div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a">igl::SLIMData::CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  704</span>            {</div>
<div class="line"><span class="lineno">  705</span>              energy += areas(i) * ((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2)) / (3 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1 * s2 * s3, 2. / 3.)));</div>
<div class="line"><span class="lineno">  706</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  707</span>            }</div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f">igl::SLIMData::EXP_CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  709</span>            {</div>
<div class="line"><span class="lineno">  710</span>              energy += areas(i) * <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2)) / (3 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1 * s2 * s3, 2. / 3.)));</div>
<div class="line"><span class="lineno">  711</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  712</span>            }</div>
<div class="line"><span class="lineno">  713</span>          }</div>
<div class="line"><span class="lineno">  714</span>        }</div>
<div class="line"><span class="lineno">  715</span>      }</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>      <span class="keywordflow">return</span> energy;</div>
<div class="line"><span class="lineno">  718</span>    }</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a2500b5d4f377a445cb98d3f1facfa1cf"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const ExpReturnType exp() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:88</div></div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a48e72df6412ca98881afcd657352a1d5"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const LogReturnType log() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:105</div></div>
<div class="ttc" id="aclass_eigen_1_1_matrix_html"><div class="ttname"><a href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix</a></div><div class="ttdoc">The matrix class, also used for vectors and row-vectors.</div><div class="ttdef"><b>Definition</b> Matrix.h:180</div></div>
<div class="ttc" id="anamespace_eigen_1_1half__impl_html_a829ad00a9c93131d5a8342b4ee29d83d"><div class="ttname"><a href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">Eigen::half_impl::pow</a></div><div class="ttdeci">EIGEN_STRONG_INLINE EIGEN_DEVICE_FUNC half pow(const half &amp;a, const half &amp;b)</div><div class="ttdef"><b>Definition</b> Half.h:477</div></div>
<div class="ttc" id="anamespaceigl_html_a46f5a6e912789678a86ebf66479a11a0"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#a46f5a6e912789678a86ebf66479a11a0">igl::polar_svd</a></div><div class="ttdeci">IGL_INLINE void polar_svd(const Eigen::PlainObjectBase&lt; DerivedA &gt; &amp;A, Eigen::PlainObjectBase&lt; DerivedR &gt; &amp;R, Eigen::PlainObjectBase&lt; DerivedT &gt; &amp;T, Eigen::PlainObjectBase&lt; DerivedU &gt; &amp;U, Eigen::PlainObjectBase&lt; DerivedS &gt; &amp;S, Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;V)</div><div class="ttdef"><b>Definition</b> polar_svd.cpp:36</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a4f4bf11823f39c8e000c96d0de0248d2"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a4f4bf11823f39c8e000c96d0de0248d2">igl::SLIMData::exp_factor</a></div><div class="ttdeci">double exp_factor</div><div class="ttdef"><b>Definition</b> slim.h:49</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2">igl::SLIMData::ARAP</a></div><div class="ttdeci">@ ARAP</div><div class="ttdef"><b>Definition</b> slim.h:34</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f">igl::SLIMData::EXP_CONFORMAL</a></div><div class="ttdeci">@ EXP_CONFORMAL</div><div class="ttdef"><b>Definition</b> slim.h:38</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306">igl::SLIMData::LOG_ARAP</a></div><div class="ttdeci">@ LOG_ARAP</div><div class="ttdef"><b>Definition</b> slim.h:35</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a">igl::SLIMData::CONFORMAL</a></div><div class="ttdeci">@ CONFORMAL</div><div class="ttdef"><b>Definition</b> slim.h:37</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a></div><div class="ttdeci">@ EXP_SYMMETRIC_DIRICHLET</div><div class="ttdef"><b>Definition</b> slim.h:39</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01">igl::SLIMData::SYMMETRIC_DIRICHLET</a></div><div class="ttdeci">@ SYMMETRIC_DIRICHLET</div><div class="ttdef"><b>Definition</b> slim.h:36</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_ae82e409fc689b63fa1b30be65ea4bca6"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae82e409fc689b63fa1b30be65ea4bca6">igl::SLIMData::slim_energy</a></div><div class="ttdeci">SLIM_ENERGY slim_energy</div><div class="ttdef"><b>Definition</b> slim.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">igl::SLIMData::ARAP</a>, <a class="el" href="../../#l00037">igl::SLIMData::CONFORMAL</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00088">exp()</a>, <a class="el" href="../../#l00038">igl::SLIMData::EXP_CONFORMAL</a>, <a class="el" href="../../#l00049">igl::SLIMData::exp_factor</a>, <a class="el" href="../../#l00039">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>, <a class="el" href="../../#l00071">igl::SLIMData::f_n</a>, <a class="el" href="../../#l00105">log()</a>, <a class="el" href="../../#l00035">igl::SLIMData::LOG_ARAP</a>, <a class="el" href="../../#l00036">igl::polar_svd()</a>, <a class="el" href="../../#l00041">igl::SLIMData::slim_energy</a>, and <a class="el" href="../../#l00036">igl::SLIMData::SYMMETRIC_DIRICHLET</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00574">compute_energy()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a05be9f4db44adddcc36efc382dc1db8f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a05be9f4db44adddcc36efc382dc1db8f_icgraph.svg" width="534" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af28f4bf8087b81c9fa49924ed8f997ca" name="af28f4bf8087b81c9fa49924ed8f997ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28f4bf8087b81c9fa49924ed8f997ca">&#9670;&#160;</a></span>compute_jacobians()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::compute_jacobians </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   96</span>    {</div>
<div class="line"><span class="lineno">   97</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.cols() == 3)</div>
<div class="line"><span class="lineno">   98</span>      {</div>
<div class="line"><span class="lineno">   99</span>        <span class="comment">// Ji=[D1*u,D2*u,D1*v,D2*v];</span></div>
<div class="line"><span class="lineno">  100</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> * uv.col(0);</div>
<div class="line"><span class="lineno">  101</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> * uv.col(0);</div>
<div class="line"><span class="lineno">  102</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(2) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> * uv.col(1);</div>
<div class="line"><span class="lineno">  103</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(3) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> * uv.col(1);</div>
<div class="line"><span class="lineno">  104</span>      }</div>
<div class="line"><span class="lineno">  105</span>      <span class="keywordflow">else</span> <span class="comment">/*tet mesh*/</span>{</div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">// Ji=[D1*u,D2*u,D3*u, D1*v,D2*v, D3*v, D1*w,D2*w,D3*w];</span></div>
<div class="line"><span class="lineno">  107</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> * uv.col(0);</div>
<div class="line"><span class="lineno">  108</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> * uv.col(0);</div>
<div class="line"><span class="lineno">  109</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(2) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a> * uv.col(0);</div>
<div class="line"><span class="lineno">  110</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(3) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> * uv.col(1);</div>
<div class="line"><span class="lineno">  111</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(4) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> * uv.col(1);</div>
<div class="line"><span class="lineno">  112</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(5) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a> * uv.col(1);</div>
<div class="line"><span class="lineno">  113</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(6) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> * uv.col(2);</div>
<div class="line"><span class="lineno">  114</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(7) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> * uv.col(2);</div>
<div class="line"><span class="lineno">  115</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.col(8) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a> * uv.col(2);</div>
<div class="line"><span class="lineno">  116</span>      }</div>
<div class="line"><span class="lineno">  117</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00070">igl::SLIMData::Dx</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dy</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dz</a>, <a class="el" href="../../#l00031">igl::SLIMData::F</a>, and <a class="el" href="../../#l00066">igl::SLIMData::Ji</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00574">compute_energy()</a>, and <a class="el" href="../../#l00119">update_weights_and_closest_rotations()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_af28f4bf8087b81c9fa49924ed8f997ca_icgraph.svg" width="538" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a08b1039f1fdb4bd05db76541ac038a15" name="a08b1039f1fdb4bd05db76541ac038a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b1039f1fdb4bd05db76541ac038a15">&#9670;&#160;</a></span>compute_soft_const_energy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> double igl::slim::compute_soft_const_energy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V_o</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  585</span>    {</div>
<div class="line"><span class="lineno">  586</span>      <span class="keywordtype">double</span> e = 0;</div>
<div class="line"><span class="lineno">  587</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae1f26a818f7a1b5c3bc032663d38813d">b</a>.rows(); i++)</div>
<div class="line"><span class="lineno">  588</span>      {</div>
<div class="line"><span class="lineno">  589</span>        e += s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aab6b59568a73e6494399da6398fec86e">soft_const_p</a> * (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7326dcc125c3389443fe9424a1f88855">bc</a>.row(i) - V_o.row(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae1f26a818f7a1b5c3bc032663d38813d">b</a>(i))).squaredNorm();</div>
<div class="line"><span class="lineno">  590</span>      }</div>
<div class="line"><span class="lineno">  591</span>      <span class="keywordflow">return</span> e;</div>
<div class="line"><span class="lineno">  592</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00045">igl::SLIMData::b</a>, <a class="el" href="../../#l00046">igl::SLIMData::bc</a>, and <a class="el" href="../../#l00047">igl::SLIMData::soft_const_p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00574">compute_energy()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a08b1039f1fdb4bd05db76541ac038a15_icgraph.svg" width="508" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae8a652d1d66dbf41b1bb7371815fbd4c" name="ae8a652d1d66dbf41b1bb7371815fbd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a652d1d66dbf41b1bb7371815fbd4c">&#9670;&#160;</a></span>compute_surface_gradient_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::compute_surface_gradient_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>F1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>F2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>D1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>D2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   83</span>    {</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> G;</div>
<div class="line"><span class="lineno">   86</span>      <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aedd3bbd0c09a229eb19576f779e1cb95">igl::grad</a>(V, F, G);</div>
<div class="line"><span class="lineno">   87</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> Dx = G.block(0, 0, F.rows(), V.rows());</div>
<div class="line"><span class="lineno">   88</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> Dy = G.block(F.rows(), 0, F.rows(), V.rows());</div>
<div class="line"><span class="lineno">   89</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> Dz = G.block(2 * F.rows(), 0, F.rows(), V.rows());</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>      D1 = F1.col(0).asDiagonal() * Dx + F1.col(1).asDiagonal() * Dy + F1.col(2).asDiagonal() * Dz;</div>
<div class="line"><span class="lineno">   92</span>      D2 = F2.col(0).asDiagonal() * Dx + F2.col(1).asDiagonal() * Dy + F2.col(2).asDiagonal() * Dz;</div>
<div class="line"><span class="lineno">   93</span>    }</div>
<div class="ttc" id="anamespaceigl_html_aedd3bbd0c09a229eb19576f779e1cb95"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#aedd3bbd0c09a229eb19576f779e1cb95">igl::grad</a></div><div class="ttdeci">IGL_INLINE void grad(const Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;V, const Eigen::PlainObjectBase&lt; DerivedF &gt; &amp;F, Eigen::SparseMatrix&lt; typename DerivedV::Scalar &gt; &amp;G, bool uniform=false)</div><div class="ttdef"><b>Definition</b> grad.cpp:227</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00227">igl::grad()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00439">pre_calc()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_ae8a652d1d66dbf41b1bb7371815fbd4c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_ae8a652d1d66dbf41b1bb7371815fbd4c_icgraph.svg" width="539" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3ed79c9d090f9441a4220061e4f546a1" name="a3ed79c9d090f9441a4220061e4f546a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed79c9d090f9441a4220061e4f546a1">&#9670;&#160;</a></span>pre_calc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::pre_calc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  440</span>    {</div>
<div class="line"><span class="lineno">  441</span>      <span class="keywordflow">if</span> (!s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a76584bbe384932765ccdb64c2a8704ff">has_pre_calc</a>)</div>
<div class="line"><span class="lineno">  442</span>      {</div>
<div class="line"><span class="lineno">  443</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a> = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a25c68c70641547300251ad372baffe0c">v_num</a>;</div>
<div class="line"><span class="lineno">  444</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a19ebf2e83160d820ee92688f23aab7cd">f_num</a>;</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.cols() == 3)</div>
<div class="line"><span class="lineno">  447</span>        {</div>
<div class="line"><span class="lineno">  448</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> = 2;</div>
<div class="line"><span class="lineno">  449</span>          Eigen::MatrixXd F1, F2, F3;</div>
<div class="line"><span class="lineno">  450</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aea48b79371a5317555bf3ca105de4329">igl::local_basis</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>, F1, F2, F3);</div>
<div class="line"><span class="lineno">  451</span>          <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#ae8a652d1d66dbf41b1bb7371815fbd4c">compute_surface_gradient_matrix</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>, F1, F2, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>);</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  454</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  455</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  456</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  457</span>        }</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  459</span>        {</div>
<div class="line"><span class="lineno">  460</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> = 3;</div>
<div class="line"><span class="lineno">  461</span>          <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> G;</div>
<div class="line"><span class="lineno">  462</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#aedd3bbd0c09a229eb19576f779e1cb95">igl::grad</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>, G,</div>
<div class="line"><span class="lineno">  463</span>                    s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a1f006ca2b423df1455584a2d727e2fab">mesh_improvement_3d</a> <span class="comment">/*use normal gradient, or one from a &quot;regular&quot; tet*/</span>);</div>
<div class="line"><span class="lineno">  464</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a> = G.block(0, 0, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.rows(), s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>.rows());</div>
<div class="line"><span class="lineno">  465</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a> = G.block(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.rows(), 0, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.rows(), s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>.rows());</div>
<div class="line"><span class="lineno">  466</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a> = G.block(2 * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.rows(), 0, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7230c04e2b1e764a9e81a7600daa85df">F</a>.rows(), s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a5c305368043e9a18e0196be96cfc31c3">V</a>.rows());</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  470</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  471</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  472</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  473</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  474</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  475</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  476</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  477</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  478</span>        }</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6b244e29028952a6bbb1012f06e5f6b0">Dx</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a5ff54ffc10296f9466dc81fa888733fd">makeCompressed</a>();</div>
<div class="line"><span class="lineno">  481</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8d0be8e241b33ab953d23e40b5ecb663">Dy</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a5ff54ffc10296f9466dc81fa888733fd">makeCompressed</a>();</div>
<div class="line"><span class="lineno">  482</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a879c8a130f88110d97c39dbd4fbb679d">Dz</a>.<a class="code hl_function" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html#a5ff54ffc10296f9466dc81fa888733fd">makeCompressed</a>();</div>
<div class="line"><span class="lineno">  483</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>);</div>
<div class="line"><span class="lineno">  484</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>);</div>
<div class="line"><span class="lineno">  485</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a25c68c70641547300251ad372baffe0c">v_num</a>);</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>        <span class="comment">// flattened weight matrix</span></div>
<div class="line"><span class="lineno">  488</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">WGL_M</a>.resize(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>);</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>; i++)</div>
<div class="line"><span class="lineno">  490</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a>; j++)</div>
<div class="line"><span class="lineno">  491</span>            s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a8013a9e8c749e71e465272fd05e2b1a4">WGL_M</a>(i * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ab46c3e37552205350f0b8bcecf537944">f_n</a> + j) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a2bc173c625140e700d6448680a9e4b1c">M</a>(j);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#af1ed4a065b1cf60abf3157a9bf821c19">first_solve</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  494</span>        s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a76584bbe384932765ccdb64c2a8704ff">has_pre_calc</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  495</span>      }</div>
<div class="line"><span class="lineno">  496</span>    }</div>
<div class="ttc" id="anamespaceigl_1_1slim_html_ae8a652d1d66dbf41b1bb7371815fbd4c"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#ae8a652d1d66dbf41b1bb7371815fbd4c">igl::slim::compute_surface_gradient_matrix</a></div><div class="ttdeci">IGL_INLINE void compute_surface_gradient_matrix(const Eigen::MatrixXd &amp;V, const Eigen::MatrixXi &amp;F, const Eigen::MatrixXd &amp;F1, const Eigen::MatrixXd &amp;F2, Eigen::SparseMatrix&lt; double &gt; &amp;D1, Eigen::SparseMatrix&lt; double &gt; &amp;D2)</div><div class="ttdef"><b>Definition</b> slim.cpp:80</div></div>
<div class="ttc" id="anamespaceigl_html_aea48b79371a5317555bf3ca105de4329"><div class="ttname"><a href="../../dc/d25/namespaceigl.html#aea48b79371a5317555bf3ca105de4329">igl::local_basis</a></div><div class="ttdeci">IGL_INLINE void local_basis(const Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;V, const Eigen::PlainObjectBase&lt; DerivedF &gt; &amp;F, Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;B1, Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;B2, Eigen::PlainObjectBase&lt; DerivedV &gt; &amp;B3)</div><div class="ttdef"><b>Definition</b> local_basis.cpp:19</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a19ebf2e83160d820ee92688f23aab7cd"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a19ebf2e83160d820ee92688f23aab7cd">igl::SLIMData::f_num</a></div><div class="ttdeci">int f_num</div><div class="ttdef"><b>Definition</b> slim.h:61</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a1f006ca2b423df1455584a2d727e2fab"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a1f006ca2b423df1455584a2d727e2fab">igl::SLIMData::mesh_improvement_3d</a></div><div class="ttdeci">bool mesh_improvement_3d</div><div class="ttdef"><b>Definition</b> slim.h:50</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_a76584bbe384932765ccdb64c2a8704ff"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a76584bbe384932765ccdb64c2a8704ff">igl::SLIMData::has_pre_calc</a></div><div class="ttdeci">bool has_pre_calc</div><div class="ttdef"><b>Definition</b> slim.h:73</div></div>
<div class="ttc" id="astructigl_1_1_s_l_i_m_data_html_af1ed4a065b1cf60abf3157a9bf821c19"><div class="ttname"><a href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#af1ed4a065b1cf60abf3157a9bf821c19">igl::SLIMData::first_solve</a></div><div class="ttdeci">bool first_solve</div><div class="ttdef"><b>Definition</b> slim.h:72</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00080">compute_surface_gradient_matrix()</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dx</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dy</a>, <a class="el" href="../../#l00070">igl::SLIMData::Dz</a>, <a class="el" href="../../#l00031">igl::SLIMData::F</a>, <a class="el" href="../../#l00071">igl::SLIMData::f_n</a>, <a class="el" href="../../#l00061">igl::SLIMData::f_num</a>, <a class="el" href="../../#l00072">igl::SLIMData::first_solve</a>, <a class="el" href="../../#l00227">igl::grad()</a>, <a class="el" href="../../#l00073">igl::SLIMData::has_pre_calc</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ji</a>, <a class="el" href="../../#l00019">igl::local_basis()</a>, <a class="el" href="../../#l00057">igl::SLIMData::M</a>, <a class="el" href="../../#l00464">Eigen::SparseMatrix&lt; _Scalar, _Options, _StorageIndex &gt;::makeCompressed()</a>, <a class="el" href="../../#l00050">igl::SLIMData::mesh_improvement_3d</a>, <a class="el" href="../../#l00065">igl::SLIMData::rhs</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ri</a>, <a class="el" href="../../#l00030">igl::SLIMData::V</a>, <a class="el" href="../../#l00071">igl::SLIMData::v_n</a>, <a class="el" href="../../#l00060">igl::SLIMData::v_num</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_11</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_12</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_13</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_21</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_22</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_23</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_31</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_32</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_33</a>, and <a class="el" href="../../#l00064">igl::SLIMData::WGL_M</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00899">igl::slim_precompute()</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a3ed79c9d090f9441a4220061e4f546a1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a3ed79c9d090f9441a4220061e4f546a1_icgraph.svg" width="324" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3b84e15ec78b5340fd5500cee1b2c294" name="a3b84e15ec78b5340fd5500cee1b2c294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b84e15ec78b5340fd5500cee1b2c294">&#9670;&#160;</a></span>solve_weighted_arap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::solve_weighted_arap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXi &amp;&#160;</td>
          <td class="paramname"><em>soft_b_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>soft_bc_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  400</span>    {</div>
<div class="line"><span class="lineno">  401</span>      <span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d0/da5/namespace_eigen.html">Eigen</a>;</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>      <a class="code hl_class" href="../../dc/dfe/class_eigen_1_1_sparse_matrix.html">Eigen::SparseMatrix&lt;double&gt;</a> <a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>;</div>
<div class="line"><span class="lineno">  404</span>      <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#a235b97333df31cd254b7a9ea5362978b">build_linear_system</a>(s,<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>);</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>      <a class="code hl_class" href="../../d0/d24/classigl_1_1_timer.html">igl::Timer</a> t;</div>
<div class="line"><span class="lineno">  407</span>      </div>
<div class="line"><span class="lineno">  408</span>      <span class="comment">//t.start();</span></div>
<div class="line"><span class="lineno">  409</span>      <span class="comment">// solve</span></div>
<div class="line"><span class="lineno">  410</span>      Eigen::VectorXd Uc;</div>
<div class="line"><span class="lineno">  411</span><span class="preprocessor">#ifndef CHOLMOD</span></div>
<div class="line"><span class="lineno">  412</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> == 2)</div>
<div class="line"><span class="lineno">  413</span>      {</div>
<div class="line"><span class="lineno">  414</span>        <a class="code hl_class" href="../../d4/d29/class_eigen_1_1_simplicial_l_d_l_t.html">SimplicialLDLT&lt;Eigen::SparseMatrix&lt;double&gt;</a> &gt; solver;</div>
<div class="line"><span class="lineno">  415</span>        Uc = solver.<a class="code hl_function" href="../../d4/d29/class_eigen_1_1_simplicial_l_d_l_t.html#a6fee7e9b14ee7fbaecabaa27620e2e99">compute</a>(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>).<a class="code hl_function" href="../../d4/d1e/class_eigen_1_1_sparse_solver_base.html#a57c5b7f5e35274b55b5d57e8c88cc4a6">solve</a>(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a>);</div>
<div class="line"><span class="lineno">  416</span>      }</div>
<div class="line"><span class="lineno">  417</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  418</span>      { <span class="comment">// seems like CG performs much worse for 2D and way better for 3D</span></div>
<div class="line"><span class="lineno">  419</span>        Eigen::VectorXd guess(uv.rows() * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>);</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a25c68c70641547300251ad372baffe0c">v_num</a>; i++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>; j++) guess(uv.rows() * j + i) = uv(i, j); <span class="comment">// flatten vector</span></div>
<div class="line"><span class="lineno">  421</span>        <a class="code hl_class" href="../../d2/d2a/class_eigen_1_1_conjugate_gradient.html">ConjugateGradient&lt;Eigen::SparseMatrix&lt;double&gt;</a>, Lower | Upper&gt; cg;</div>
<div class="line"><span class="lineno">  422</span>        cg.setTolerance(1e-8);</div>
<div class="line"><span class="lineno">  423</span>        cg.compute(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>);</div>
<div class="line"><span class="lineno">  424</span>        Uc = cg.solveWithGuess(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a>, guess);</div>
<div class="line"><span class="lineno">  425</span>      }</div>
<div class="line"><span class="lineno">  426</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  427</span>        <a class="code hl_class" href="../../de/d7d/class_eigen_1_1_cholmod_simplicial_l_d_l_t.html">CholmodSimplicialLDLT&lt;Eigen::SparseMatrix&lt;double&gt;</a> &gt; solver;</div>
<div class="line"><span class="lineno">  428</span>        Uc = solver.<a class="code hl_function" href="../../d1/d13/class_eigen_1_1_cholmod_base.html#a0f1dd31e16031ca91285db13202ab1eb">compute</a>(<a class="code hl_define" href="../../d4/d54/slic3r_2_g_u_i_2_i18_n_8hpp.html#a3948ef94e164df6b50c4a9d12ba60eb5">L</a>).solve(s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a002dfbdfde53ea23312a8630ff21a7c7">rhs</a>);</div>
<div class="line"><span class="lineno">  429</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  430</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a>; i++)</div>
<div class="line"><span class="lineno">  431</span>        uv.col(i) = Uc.block(i * s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>, 0, s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a7b7167eb3f9f47351f457f60df96f46c">v_n</a>, 1);</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>      <span class="comment">// t.stop();</span></div>
<div class="line"><span class="lineno">  434</span>      <span class="comment">// std::cerr &lt;&lt; &quot;solve: &quot; &lt;&lt; t.getElapsedTime() &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="ttc" id="aclass_eigen_1_1_cholmod_base_html_a0f1dd31e16031ca91285db13202ab1eb"><div class="ttname"><a href="../../d1/d13/class_eigen_1_1_cholmod_base.html#a0f1dd31e16031ca91285db13202ab1eb">Eigen::CholmodBase::compute</a></div><div class="ttdeci">Derived &amp; compute(const MatrixType &amp;matrix)</div><div class="ttdef"><b>Definition</b> CholmodSupport.h:232</div></div>
<div class="ttc" id="aclass_eigen_1_1_cholmod_simplicial_l_d_l_t_html"><div class="ttname"><a href="../../de/d7d/class_eigen_1_1_cholmod_simplicial_l_d_l_t.html">Eigen::CholmodSimplicialLDLT</a></div><div class="ttdoc">A simplicial direct Cholesky (LDLT) factorization and solver based on Cholmod.</div><div class="ttdef"><b>Definition</b> CholmodSupport.h:486</div></div>
<div class="ttc" id="aclass_eigen_1_1_conjugate_gradient_html"><div class="ttname"><a href="../../d2/d2a/class_eigen_1_1_conjugate_gradient.html">Eigen::ConjugateGradient</a></div><div class="ttdoc">A conjugate gradient solver for sparse (or dense) self-adjoint problems.</div><div class="ttdef"><b>Definition</b> ConjugateGradient.h:159</div></div>
<div class="ttc" id="aclass_eigen_1_1_simplicial_l_d_l_t_html"><div class="ttname"><a href="../../d4/d29/class_eigen_1_1_simplicial_l_d_l_t.html">Eigen::SimplicialLDLT</a></div><div class="ttdoc">A direct sparse LDLT Cholesky factorizations without square root.</div><div class="ttdef"><b>Definition</b> SimplicialCholesky.h:422</div></div>
<div class="ttc" id="aclass_eigen_1_1_simplicial_l_d_l_t_html_a6fee7e9b14ee7fbaecabaa27620e2e99"><div class="ttname"><a href="../../d4/d29/class_eigen_1_1_simplicial_l_d_l_t.html#a6fee7e9b14ee7fbaecabaa27620e2e99">Eigen::SimplicialLDLT::compute</a></div><div class="ttdeci">SimplicialLDLT &amp; compute(const MatrixType &amp;matrix)</div><div class="ttdef"><b>Definition</b> SimplicialCholesky.h:461</div></div>
<div class="ttc" id="aclass_eigen_1_1_sparse_solver_base_html_a57c5b7f5e35274b55b5d57e8c88cc4a6"><div class="ttname"><a href="../../d4/d1e/class_eigen_1_1_sparse_solver_base.html#a57c5b7f5e35274b55b5d57e8c88cc4a6">Eigen::SparseSolverBase::solve</a></div><div class="ttdeci">const Solve&lt; Derived, Rhs &gt; solve(const MatrixBase&lt; Rhs &gt; &amp;b) const</div><div class="ttdef"><b>Definition</b> SparseSolverBase.h:88</div></div>
<div class="ttc" id="aclassigl_1_1_timer_html"><div class="ttname"><a href="../../d0/d24/classigl_1_1_timer.html">igl::Timer</a></div><div class="ttdef"><b>Definition</b> Timer.h:29</div></div>
<div class="ttc" id="anamespace_eigen_html"><div class="ttname"><a href="../../d0/da5/namespace_eigen.html">Eigen</a></div><div class="ttdef"><b>Definition</b> LDLT.h:16</div></div>
<div class="ttc" id="anamespaceigl_1_1slim_html_a235b97333df31cd254b7a9ea5362978b"><div class="ttname"><a href="../../d5/d6b/namespaceigl_1_1slim.html#a235b97333df31cd254b7a9ea5362978b">igl::slim::build_linear_system</a></div><div class="ttdeci">IGL_INLINE void build_linear_system(igl::SLIMData &amp;s, Eigen::SparseMatrix&lt; double &gt; &amp;L)</div><div class="ttdef"><b>Definition</b> slim.cpp:498</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00498">build_linear_system()</a>, <a class="el" href="../../#l00232">Eigen::CholmodBase&lt; _MatrixType, _UpLo, Derived &gt;::compute()</a>, <a class="el" href="../../#l00461">Eigen::SimplicialLDLT&lt; _MatrixType, _UpLo, _Ordering &gt;::compute()</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00018">L</a>, <a class="el" href="../../#l00065">igl::SLIMData::rhs</a>, <a class="el" href="../../#l00088">Eigen::SparseSolverBase&lt; Derived &gt;::solve()</a>, <a class="el" href="../../#l00071">igl::SLIMData::v_n</a>, and <a class="el" href="../../#l00060">igl::SLIMData::v_num</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00937">igl::slim_solve()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a3b84e15ec78b5340fd5500cee1b2c294_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a3b84e15ec78b5340fd5500cee1b2c294_icgraph.svg" width="360" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a18fdbabfa4f5013fe156433796bb9a69" name="a18fdbabfa4f5013fe156433796bb9a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18fdbabfa4f5013fe156433796bb9a69">&#9670;&#160;</a></span>update_weights_and_closest_rotations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d68/igl__inline_8h.html#a838241279013352686271b4c4ce1f708">IGL_INLINE</a> <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> igl::slim::update_weights_and_closest_rotations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html">igl::SLIMData</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Eigen::MatrixXi &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>uv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  123</span>    {</div>
<div class="line"><span class="lineno">  124</span>      <a class="code hl_function" href="../../d5/d6b/namespaceigl_1_1slim.html#af28f4bf8087b81c9fa49924ed8f997ca">compute_jacobians</a>(s, uv);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>      <span class="keyword">const</span> <span class="keywordtype">double</span> eps = 1e-8;</div>
<div class="line"><span class="lineno">  127</span>      <span class="keywordtype">double</span> exp_f = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a4f4bf11823f39c8e000c96d0de0248d2">exp_factor</a>;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>      <span class="keywordflow">if</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad058f54a17eb3978975d7aebecb896f1">dim</a> == 2)</div>
<div class="line"><span class="lineno">  130</span>      {</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.rows(); ++i)</div>
<div class="line"><span class="lineno">  132</span>        {</div>
<div class="line"><span class="lineno">  133</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 2, 2&gt;</a> Mat2;</div>
<div class="line"><span class="lineno">  134</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 2, 1&gt;</a> Vec2;</div>
<div class="line"><span class="lineno">  135</span>          Mat2 ji, ri, ti, ui, vi;</div>
<div class="line"><span class="lineno">  136</span>          Vec2 sing;</div>
<div class="line"><span class="lineno">  137</span>          Vec2 closest_sing_vec;</div>
<div class="line"><span class="lineno">  138</span>          Mat2 mat_W;</div>
<div class="line"><span class="lineno">  139</span>          Vec2 m_sing_new;</div>
<div class="line"><span class="lineno">  140</span>          <span class="keywordtype">double</span> s1, s2;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>          ji(0, 0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 0);</div>
<div class="line"><span class="lineno">  143</span>          ji(0, 1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 1);</div>
<div class="line"><span class="lineno">  144</span>          ji(1, 0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 2);</div>
<div class="line"><span class="lineno">  145</span>          ji(1, 1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 3);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a46f5a6e912789678a86ebf66479a11a0">igl::polar_svd</a>(ji, ri, ti, ui, sing, vi);</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>          s1 = sing(0);</div>
<div class="line"><span class="lineno">  150</span>          s2 = sing(1);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>          <span class="comment">// Update Weights according to energy</span></div>
<div class="line"><span class="lineno">  153</span>          <span class="keywordflow">switch</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae82e409fc689b63fa1b30be65ea4bca6">slim_energy</a>)</div>
<div class="line"><span class="lineno">  154</span>          {</div>
<div class="line"><span class="lineno">  155</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2">igl::SLIMData::ARAP</a>:</div>
<div class="line"><span class="lineno">  156</span>            {</div>
<div class="line"><span class="lineno">  157</span>              m_sing_new &lt;&lt; 1, 1;</div>
<div class="line"><span class="lineno">  158</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  159</span>            }</div>
<div class="line"><span class="lineno">  160</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01">igl::SLIMData::SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  161</span>            {</div>
<div class="line"><span class="lineno">  162</span>              <span class="keywordtype">double</span> s1_g = 2 * (s1 - pow(s1, -3));</div>
<div class="line"><span class="lineno">  163</span>              <span class="keywordtype">double</span> s2_g = 2 * (s2 - pow(s2, -3));</div>
<div class="line"><span class="lineno">  164</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1)));</div>
<div class="line"><span class="lineno">  165</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  166</span>            }</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306">igl::SLIMData::LOG_ARAP</a>:</div>
<div class="line"><span class="lineno">  168</span>            {</div>
<div class="line"><span class="lineno">  169</span>              <span class="keywordtype">double</span> s1_g = 2 * (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s1) / s1);</div>
<div class="line"><span class="lineno">  170</span>              <span class="keywordtype">double</span> s2_g = 2 * (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s2) / s2);</div>
<div class="line"><span class="lineno">  171</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1)));</div>
<div class="line"><span class="lineno">  172</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  173</span>            }</div>
<div class="line"><span class="lineno">  174</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a">igl::SLIMData::CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  175</span>            {</div>
<div class="line"><span class="lineno">  176</span>              <span class="keywordtype">double</span> s1_g = 1 / (2 * s2) - s2 / (2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2));</div>
<div class="line"><span class="lineno">  177</span>              <span class="keywordtype">double</span> s2_g = 1 / (2 * s1) - s1 / (2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2));</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>              <span class="keywordtype">double</span> geo_avg = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1 * s2);</div>
<div class="line"><span class="lineno">  180</span>              <span class="keywordtype">double</span> s1_min = geo_avg;</div>
<div class="line"><span class="lineno">  181</span>              <span class="keywordtype">double</span> s2_min = geo_avg;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - s1_min))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - s2_min)));</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>              <span class="comment">// change local step</span></div>
<div class="line"><span class="lineno">  186</span>              closest_sing_vec &lt;&lt; s1_min, s2_min;</div>
<div class="line"><span class="lineno">  187</span>              ri = ui * closest_sing_vec.asDiagonal() * vi.transpose();</div>
<div class="line"><span class="lineno">  188</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  189</span>            }</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f">igl::SLIMData::EXP_CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  191</span>            {</div>
<div class="line"><span class="lineno">  192</span>              <span class="keywordtype">double</span> s1_g = 2 * (s1 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -3));</div>
<div class="line"><span class="lineno">  193</span>              <span class="keywordtype">double</span> s2_g = 2 * (s2 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -3));</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>              <span class="keywordtype">double</span> geo_avg = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1 * s2);</div>
<div class="line"><span class="lineno">  196</span>              <span class="keywordtype">double</span> s1_min = geo_avg;</div>
<div class="line"><span class="lineno">  197</span>              <span class="keywordtype">double</span> s2_min = geo_avg;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>              <span class="keywordtype">double</span> in_exp = exp_f * ((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2)) / (2 * s1 * s2));</div>
<div class="line"><span class="lineno">  200</span>              <span class="keywordtype">double</span> exp_thing = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(in_exp);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>              s1_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  203</span>              s2_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1)));</div>
<div class="line"><span class="lineno">  206</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  207</span>            }</div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  209</span>            {</div>
<div class="line"><span class="lineno">  210</span>              <span class="keywordtype">double</span> s1_g = 2 * (s1 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -3));</div>
<div class="line"><span class="lineno">  211</span>              <span class="keywordtype">double</span> s2_g = 2 * (s2 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -3));</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>              <span class="keywordtype">double</span> in_exp = exp_f * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -2));</div>
<div class="line"><span class="lineno">  214</span>              <span class="keywordtype">double</span> exp_thing = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(in_exp);</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>              s1_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  217</span>              s2_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1)));</div>
<div class="line"><span class="lineno">  220</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  221</span>            }</div>
<div class="line"><span class="lineno">  222</span>          }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>          <span class="keywordflow">if</span> (std::abs(s1 - 1) &lt; eps) m_sing_new(0) = 1;</div>
<div class="line"><span class="lineno">  225</span>          <span class="keywordflow">if</span> (std::abs(s2 - 1) &lt; eps) m_sing_new(1) = 1;</div>
<div class="line"><span class="lineno">  226</span>          mat_W = ui * m_sing_new.asDiagonal() * ui.transpose();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) = mat_W(0, 0);</div>
<div class="line"><span class="lineno">  229</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) = mat_W(0, 1);</div>
<div class="line"><span class="lineno">  230</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) = mat_W(1, 0);</div>
<div class="line"><span class="lineno">  231</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) = mat_W(1, 1);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>          <span class="comment">// 2) Update local step (doesn&#39;t have to be a rotation, for instance in case of conformal energy)</span></div>
<div class="line"><span class="lineno">  234</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) = ri(0, 0);</div>
<div class="line"><span class="lineno">  235</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1) = ri(1, 0);</div>
<div class="line"><span class="lineno">  236</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2) = ri(0, 1);</div>
<div class="line"><span class="lineno">  237</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3) = ri(1, 1);</div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span>      }</div>
<div class="line"><span class="lineno">  240</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  241</span>      {</div>
<div class="line"><span class="lineno">  242</span>        <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 3, 1&gt;</a> Vec3;</div>
<div class="line"><span class="lineno">  243</span>        <span class="keyword">typedef</span> <a class="code hl_class" href="../../d2/d2d/class_eigen_1_1_matrix.html">Eigen::Matrix&lt;double, 3, 3&gt;</a> Mat3;</div>
<div class="line"><span class="lineno">  244</span>        Mat3 ji;</div>
<div class="line"><span class="lineno">  245</span>        Vec3 m_sing_new;</div>
<div class="line"><span class="lineno">  246</span>        Vec3 closest_sing_vec;</div>
<div class="line"><span class="lineno">  247</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> sqrt_2 = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(2);</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>.rows(); ++i)</div>
<div class="line"><span class="lineno">  249</span>        {</div>
<div class="line"><span class="lineno">  250</span>          ji(0, 0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 0);</div>
<div class="line"><span class="lineno">  251</span>          ji(0, 1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 1);</div>
<div class="line"><span class="lineno">  252</span>          ji(0, 2) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 2);</div>
<div class="line"><span class="lineno">  253</span>          ji(1, 0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 3);</div>
<div class="line"><span class="lineno">  254</span>          ji(1, 1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 4);</div>
<div class="line"><span class="lineno">  255</span>          ji(1, 2) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 5);</div>
<div class="line"><span class="lineno">  256</span>          ji(2, 0) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 6);</div>
<div class="line"><span class="lineno">  257</span>          ji(2, 1) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 7);</div>
<div class="line"><span class="lineno">  258</span>          ji(2, 2) = s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a37b9e1ae8de3ed2e8639505e4cfc3f2f">Ji</a>(i, 8);</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>          Mat3 ri, ti, ui, vi;</div>
<div class="line"><span class="lineno">  261</span>          Vec3 sing;</div>
<div class="line"><span class="lineno">  262</span>          <a class="code hl_function" href="../../dc/d25/namespaceigl.html#a46f5a6e912789678a86ebf66479a11a0">igl::polar_svd</a>(ji, ri, ti, ui, sing, vi);</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>          <span class="keywordtype">double</span> s1 = sing(0);</div>
<div class="line"><span class="lineno">  265</span>          <span class="keywordtype">double</span> s2 = sing(1);</div>
<div class="line"><span class="lineno">  266</span>          <span class="keywordtype">double</span> s3 = sing(2);</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>          <span class="comment">// 1) Update Weights</span></div>
<div class="line"><span class="lineno">  269</span>          <span class="keywordflow">switch</span> (s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ae82e409fc689b63fa1b30be65ea4bca6">slim_energy</a>)</div>
<div class="line"><span class="lineno">  270</span>          {</div>
<div class="line"><span class="lineno">  271</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa04794558d5edb6f52ce6c8bacd58c7e2">igl::SLIMData::ARAP</a>:</div>
<div class="line"><span class="lineno">  272</span>            {</div>
<div class="line"><span class="lineno">  273</span>              m_sing_new &lt;&lt; 1, 1, 1;</div>
<div class="line"><span class="lineno">  274</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  275</span>            }</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa09f0f824e4938b5efdb2b705bf110306">igl::SLIMData::LOG_ARAP</a>:</div>
<div class="line"><span class="lineno">  277</span>            {</div>
<div class="line"><span class="lineno">  278</span>              <span class="keywordtype">double</span> s1_g = 2 * (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s1) / s1);</div>
<div class="line"><span class="lineno">  279</span>              <span class="keywordtype">double</span> s2_g = 2 * (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s2) / s2);</div>
<div class="line"><span class="lineno">  280</span>              <span class="keywordtype">double</span> s3_g = 2 * (<a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a48e72df6412ca98881afcd657352a1d5">log</a>(s3) / s3);</div>
<div class="line"><span class="lineno">  281</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s3_g / (2 * (s3 - 1)));</div>
<div class="line"><span class="lineno">  282</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  283</span>            }</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa6f055ee7dfcc3da58ee23a42c818bf01">igl::SLIMData::SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  285</span>            {</div>
<div class="line"><span class="lineno">  286</span>              <span class="keywordtype">double</span> s1_g = 2 * (s1 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -3));</div>
<div class="line"><span class="lineno">  287</span>              <span class="keywordtype">double</span> s2_g = 2 * (s2 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -3));</div>
<div class="line"><span class="lineno">  288</span>              <span class="keywordtype">double</span> s3_g = 2 * (s3 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, -3));</div>
<div class="line"><span class="lineno">  289</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s3_g / (2 * (s3 - 1)));</div>
<div class="line"><span class="lineno">  290</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  291</span>            }</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa5f13c241091d5d048e13fc3ff9d9277f">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>:</div>
<div class="line"><span class="lineno">  293</span>            {</div>
<div class="line"><span class="lineno">  294</span>              <span class="keywordtype">double</span> s1_g = 2 * (s1 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -3));</div>
<div class="line"><span class="lineno">  295</span>              <span class="keywordtype">double</span> s2_g = 2 * (s2 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -3));</div>
<div class="line"><span class="lineno">  296</span>              <span class="keywordtype">double</span> s3_g = 2 * (s3 - <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, -3));</div>
<div class="line"><span class="lineno">  297</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s3_g / (2 * (s3 - 1)));</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>              <span class="keywordtype">double</span> in_exp = exp_f * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, -2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, -2));</div>
<div class="line"><span class="lineno">  300</span>              <span class="keywordtype">double</span> exp_thing = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(in_exp);</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>              s1_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  303</span>              s2_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  304</span>              s3_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - 1))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s3_g / (2 * (s3 - 1)));</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  309</span>            }</div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa59c39a8e6dc832e7efb6aaf363d99b1a">igl::SLIMData::CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  311</span>            {</div>
<div class="line"><span class="lineno">  312</span>              <span class="keywordtype">double</span> common_div = 9 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1 * s2 * s3, 5. / 3.));</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>              <span class="keywordtype">double</span> s1_g = (-2 * s2 * s3 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2))) / common_div;</div>
<div class="line"><span class="lineno">  315</span>              <span class="keywordtype">double</span> s2_g = (-2 * s1 * s3 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2))) / common_div;</div>
<div class="line"><span class="lineno">  316</span>              <span class="keywordtype">double</span> s3_g = (-2 * s1 * s2 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2))) / common_div;</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>              <span class="keywordtype">double</span> closest_s = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2)) / sqrt_2;</div>
<div class="line"><span class="lineno">  319</span>              <span class="keywordtype">double</span> s1_min = closest_s;</div>
<div class="line"><span class="lineno">  320</span>              <span class="keywordtype">double</span> s2_min = closest_s;</div>
<div class="line"><span class="lineno">  321</span>              <span class="keywordtype">double</span> s3_min = closest_s;</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - s1_min))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - s2_min))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(</div>
<div class="line"><span class="lineno">  324</span>                  s3_g / (2 * (s3 - s3_min)));</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>              <span class="comment">// change local step</span></div>
<div class="line"><span class="lineno">  327</span>              closest_sing_vec &lt;&lt; s1_min, s2_min, s3_min;</div>
<div class="line"><span class="lineno">  328</span>              ri = ui * closest_sing_vec.asDiagonal() * vi.transpose();</div>
<div class="line"><span class="lineno">  329</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a84c39915a9216d150437d943133daa1fa0987468c2f1a37d4c947895c6be1145f">igl::SLIMData::EXP_CONFORMAL</a>:</div>
<div class="line"><span class="lineno">  332</span>            {</div>
<div class="line"><span class="lineno">  333</span>              <span class="comment">// E_conf = (s1^2 + s2^2 + s3^2)/(3*(s1*s2*s3)^(2/3) )</span></div>
<div class="line"><span class="lineno">  334</span>              <span class="comment">// dE_conf/ds1 = (-2*(s2*s3)*(s2^2+s3^2 -2*s1^2) ) / (9*(s1*s2*s3)^(5/3))</span></div>
<div class="line"><span class="lineno">  335</span>              <span class="comment">// Argmin E_conf(s1): s1 = sqrt(s1^2+s2^2)/sqrt(2)</span></div>
<div class="line"><span class="lineno">  336</span>              <span class="keywordtype">double</span> common_div = 9 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1 * s2 * s3, 5. / 3.));</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>              <span class="keywordtype">double</span> s1_g = (-2 * s2 * s3 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2))) / common_div;</div>
<div class="line"><span class="lineno">  339</span>              <span class="keywordtype">double</span> s2_g = (-2 * s1 * s3 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2))) / common_div;</div>
<div class="line"><span class="lineno">  340</span>              <span class="keywordtype">double</span> s3_g = (-2 * s1 * s2 * (<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) - 2 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2))) / common_div;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>              <span class="keywordtype">double</span> in_exp = exp_f * ((<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s2, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2)) / (3 * <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>((s1 * s2 * s3), 2. / 3)));;</div>
<div class="line"><span class="lineno">  343</span>              <span class="keywordtype">double</span> exp_thing = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a2500b5d4f377a445cb98d3f1facfa1cf">exp</a>(in_exp);</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>              <span class="keywordtype">double</span> closest_s = <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(<a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s1, 2) + <a class="code hl_function" href="../../d6/d88/namespace_eigen_1_1half__impl.html#a829ad00a9c93131d5a8342b4ee29d83d">pow</a>(s3, 2)) / sqrt_2;</div>
<div class="line"><span class="lineno">  346</span>              <span class="keywordtype">double</span> s1_min = closest_s;</div>
<div class="line"><span class="lineno">  347</span>              <span class="keywordtype">double</span> s2_min = closest_s;</div>
<div class="line"><span class="lineno">  348</span>              <span class="keywordtype">double</span> s3_min = closest_s;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>              s1_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  351</span>              s2_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  352</span>              s3_g *= exp_thing * exp_f;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>              m_sing_new &lt;&lt; <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s1_g / (2 * (s1 - s1_min))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(s2_g / (2 * (s2 - s2_min))), <a class="code hl_function" href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a>(</div>
<div class="line"><span class="lineno">  355</span>                  s3_g / (2 * (s3 - s3_min)));</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>              <span class="comment">// change local step</span></div>
<div class="line"><span class="lineno">  358</span>              closest_sing_vec &lt;&lt; s1_min, s2_min, s3_min;</div>
<div class="line"><span class="lineno">  359</span>              ri = ui * closest_sing_vec.asDiagonal() * vi.transpose();</div>
<div class="line"><span class="lineno">  360</span>            }</div>
<div class="line"><span class="lineno">  361</span>          }</div>
<div class="line"><span class="lineno">  362</span>          <span class="keywordflow">if</span> (std::abs(s1 - 1) &lt; eps) m_sing_new(0) = 1;</div>
<div class="line"><span class="lineno">  363</span>          <span class="keywordflow">if</span> (std::abs(s2 - 1) &lt; eps) m_sing_new(1) = 1;</div>
<div class="line"><span class="lineno">  364</span>          <span class="keywordflow">if</span> (std::abs(s3 - 1) &lt; eps) m_sing_new(2) = 1;</div>
<div class="line"><span class="lineno">  365</span>          Mat3 mat_W;</div>
<div class="line"><span class="lineno">  366</span>          mat_W = ui * m_sing_new.asDiagonal() * ui.transpose();</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a9f069f1e37ede3a946210f01c7d4f81c">W_11</a>(i) = mat_W(0, 0);</div>
<div class="line"><span class="lineno">  369</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0eda3f88d8b0a43e56306d1c55a60add">W_12</a>(i) = mat_W(0, 1);</div>
<div class="line"><span class="lineno">  370</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a761e17c5ad46e87f1fde5c265f996f7a">W_13</a>(i) = mat_W(0, 2);</div>
<div class="line"><span class="lineno">  371</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#ad2cde15bd06c0593b6d3a3f43d94dca2">W_21</a>(i) = mat_W(1, 0);</div>
<div class="line"><span class="lineno">  372</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a87d1384968233a792069827f3b842937">W_22</a>(i) = mat_W(1, 1);</div>
<div class="line"><span class="lineno">  373</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#aa45e0bf797bf9db564cbb5ea36ec6cf1">W_23</a>(i) = mat_W(1, 2);</div>
<div class="line"><span class="lineno">  374</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a6d1907e4bd3ffa2450e779acabd48cfb">W_31</a>(i) = mat_W(2, 0);</div>
<div class="line"><span class="lineno">  375</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a38456e136e0293fcec429229e85fcf76">W_32</a>(i) = mat_W(2, 1);</div>
<div class="line"><span class="lineno">  376</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a0fb5d3efc96233b261c5e442a50d1863">W_33</a>(i) = mat_W(2, 2);</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>          <span class="comment">// 2) Update closest rotations (not rotations in case of conformal energy)</span></div>
<div class="line"><span class="lineno">  379</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 0) = ri(0, 0);</div>
<div class="line"><span class="lineno">  380</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 1) = ri(1, 0);</div>
<div class="line"><span class="lineno">  381</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 2) = ri(2, 0);</div>
<div class="line"><span class="lineno">  382</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 3) = ri(0, 1);</div>
<div class="line"><span class="lineno">  383</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 4) = ri(1, 1);</div>
<div class="line"><span class="lineno">  384</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 5) = ri(2, 1);</div>
<div class="line"><span class="lineno">  385</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 6) = ri(0, 2);</div>
<div class="line"><span class="lineno">  386</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 7) = ri(1, 2);</div>
<div class="line"><span class="lineno">  387</span>          s.<a class="code hl_variable" href="../../d9/dc9/structigl_1_1_s_l_i_m_data.html#a03aec7d4e2f3b357123d3c744b43e08c">Ri</a>(i, 8) = ri(2, 2);</div>
<div class="line"><span class="lineno">  388</span>        } <span class="comment">// for loop end</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>      } <span class="comment">// if dim end</span></div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="ttc" id="a_array_cwise_unary_ops_8h_html_a656b9217a2fcb6de59dc8d1eb3079cc7"><div class="ttname"><a href="../../d4/df0/_array_cwise_unary_ops_8h.html#a656b9217a2fcb6de59dc8d1eb3079cc7">sqrt</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC const SqrtReturnType sqrt() const</div><div class="ttdef"><b>Definition</b> ArrayCwiseUnaryOps.h:152</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00034">igl::SLIMData::ARAP</a>, <a class="el" href="../../#l00095">compute_jacobians()</a>, <a class="el" href="../../#l00037">igl::SLIMData::CONFORMAL</a>, <a class="el" href="../../#l00074">igl::SLIMData::dim</a>, <a class="el" href="../../#l00088">exp()</a>, <a class="el" href="../../#l00038">igl::SLIMData::EXP_CONFORMAL</a>, <a class="el" href="../../#l00049">igl::SLIMData::exp_factor</a>, <a class="el" href="../../#l00039">igl::SLIMData::EXP_SYMMETRIC_DIRICHLET</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ji</a>, <a class="el" href="../../#l00105">log()</a>, <a class="el" href="../../#l00035">igl::SLIMData::LOG_ARAP</a>, <a class="el" href="../../#l00036">igl::polar_svd()</a>, <a class="el" href="../../#l00066">igl::SLIMData::Ri</a>, <a class="el" href="../../#l00041">igl::SLIMData::slim_energy</a>, <a class="el" href="../../#l00152">sqrt()</a>, <a class="el" href="../../#l00036">igl::SLIMData::SYMMETRIC_DIRICHLET</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_11</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_12</a>, <a class="el" href="../../#l00067">igl::SLIMData::W_13</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_21</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_22</a>, <a class="el" href="../../#l00068">igl::SLIMData::W_23</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_31</a>, <a class="el" href="../../#l00069">igl::SLIMData::W_32</a>, and <a class="el" href="../../#l00069">igl::SLIMData::W_33</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00937">igl::slim_solve()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a18fdbabfa4f5013fe156433796bb9a69_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d6b/namespaceigl_1_1slim_a18fdbabfa4f5013fe156433796bb9a69_icgraph.svg" width="328" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d25/namespaceigl.html">igl</a></li><li class="navelem"><a class="el" href="../../d5/d6b/namespaceigl_1_1slim.html">slim</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
