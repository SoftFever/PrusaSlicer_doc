<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: src/avrdude/update.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d1/d69/update_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">update.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../">avrdude.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../">libavrdude.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for update.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d85/update_8c__incl.svg" width="100%" height="438"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afcec58fd803c75a0d0b70b33aec8bc7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d69/update_8c.html#afcec58fd803c75a0d0b70b33aec8bc7d">parse_op</a> (char *s)</td></tr>
<tr class="separator:afcec58fd803c75a0d0b70b33aec8bc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374ddc76c9ba8c688e039ef6e19fd322"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d69/update_8c.html#a374ddc76c9ba8c688e039ef6e19fd322">dup_update</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *upd)</td></tr>
<tr class="separator:a374ddc76c9ba8c688e039ef6e19fd322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84ce77f51b092f99dc19b9e381068d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d69/update_8c.html#ae84ce77f51b092f99dc19b9e381068d0">new_update</a> (int op, char *memtype, int filefmt, char *filename, unsigned section)</td></tr>
<tr class="separator:ae84ce77f51b092f99dc19b9e381068d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bae4c598d79a2a560b4a56c2e474fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d69/update_8c.html#ae0bae4c598d79a2a560b4a56c2e474fa">free_update</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *u)</td></tr>
<tr class="separator:ae0bae4c598d79a2a560b4a56c2e474fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1794dca72b9814e587273f662de0e370"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d69/update_8c.html#a1794dca72b9814e587273f662de0e370">do_op</a> (<a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *<a class="el" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, struct <a class="el" href="../../d2/d68/libavrdude_8h.html#d7/d8f/structavrpart">avrpart</a> *p, <a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *upd, enum <a class="el" href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64">updateflags</a> flags)</td></tr>
<tr class="separator:a1794dca72b9814e587273f662de0e370"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1794dca72b9814e587273f662de0e370" name="a1794dca72b9814e587273f662de0e370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1794dca72b9814e587273f662de0e370">&#9670;&#160;</a></span>do_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_op </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#ae3bf8f66abca96195187549ee1a7bba7">PROGRAMMER</a> *&#160;</td>
          <td class="paramname"><em>pgm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d68/libavrdude_8h.html#d7/d8f/structavrpart">avrpart</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td>
          <td class="paramname"><em>upd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64">updateflags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  238</span>{</div>
<div class="line"><span class="lineno">  239</span>  <span class="keyword">struct </span><a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d7/d8f/structavrpart">avrpart</a> * v;</div>
<div class="line"><span class="lineno">  240</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">AVRMEM</a> * <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>;</div>
<div class="line"><span class="lineno">  241</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a>, vsize;</div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a> = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a>(p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  245</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a> == NULL) {</div>
<div class="line"><span class="lineno">  246</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;\&quot;%s\&quot; memory type not defined for part \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno">  247</span>            upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, p-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">desc</a>);</div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  249</span>  }</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>  <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> == <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da7a1d740684e07036afced45f27a05b99">DEVICE_READ</a>) {</div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  253</span><span class="comment">     * read out the specified device memory and write it to a file</span></div>
<div class="line"><span class="lineno">  254</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  256</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: reading %s memory:\n&quot;</span>,</div>
<div class="line"><span class="lineno">  257</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc);</div>
<div class="line"><span class="lineno">  258</span>    }</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a>(0,1,<span class="stringliteral">&quot;Reading&quot;</span>);</div>
<div class="line"><span class="lineno">  260</span>    rc = <a class="code hl_function" href="../../d1/d26/avr_8c.html#adde728e207d0ba1c5eebb703139142fa">avr_read</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, 0);</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  262</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: failed to read all of %s memory, rc=%d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  263</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, rc);</div>
<div class="line"><span class="lineno">  264</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a>(1,1,NULL);</div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> = rc;</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  270</span>      <span class="keywordflow">if</span> (rc == 0)</div>
<div class="line"><span class="lineno">  271</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: Flash is empty, resulting file has no contents.\n&quot;</span>,</div>
<div class="line"><span class="lineno">  272</span>                        <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  273</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: writing output file \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno">  274</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,</div>
<div class="line"><span class="lineno">  275</span>                      strcmp(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, <span class="stringliteral">&quot;-&quot;</span>)==0 ? <span class="stringliteral">&quot;&lt;stdout&gt;&quot;</span> : upd-&gt;filename);</div>
<div class="line"><span class="lineno">  276</span>    }</div>
<div class="line"><span class="lineno">  277</span>    rc = <a class="code hl_function" href="../../d8/dec/fileio_8c.html#a52584bb5c2e5bb8c1f52118131006dbb">fileio</a>(<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a385c44f6fb256e5716a2302a5b940388a462b50a1cb87bd29bbdd02ba4640633c">FIO_WRITE</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, size, 0);</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  279</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: write to file &#39;%s&#39; failed\n&quot;</span>,</div>
<div class="line"><span class="lineno">  280</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  281</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="line"><span class="lineno">  283</span>  }</div>
<div class="line"><span class="lineno">  284</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> == <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da572524ae95f6a949b4c3c760726e7e45">DEVICE_WRITE</a>) {</div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment">     * write the selected device memory using data from a file; first</span></div>
<div class="line"><span class="lineno">  287</span><span class="comment">     * read the data from the specified file</span></div>
<div class="line"><span class="lineno">  288</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  290</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: reading input file \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><span class="lineno">  291</span>                      <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,</div>
<div class="line"><span class="lineno">  292</span>                      strcmp(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, <span class="stringliteral">&quot;-&quot;</span>)==0 ? <span class="stringliteral">&quot;&lt;stdin&gt;&quot;</span> : upd-&gt;filename);</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span>    rc = <a class="code hl_function" href="../../d8/dec/fileio_8c.html#a52584bb5c2e5bb8c1f52118131006dbb">fileio</a>(<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a385c44f6fb256e5716a2302a5b940388ac15cbb3a5cad099d083c457ddf43c666">FIO_READ</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, -1, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5c7e99428b2ef2cb46d2d573531bbaa0">section</a>);</div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  296</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: read from file &#39;%s&#39; failed\n&quot;</span>,</div>
<div class="line"><span class="lineno">  297</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  298</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> = rc;</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  303</span><span class="comment">     * write the buffer contents to the selected memory type</span></div>
<div class="line"><span class="lineno">  304</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  306</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: writing %s (%d bytes):\n&quot;</span>,</div>
<div class="line"><span class="lineno">  307</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, size);</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>  <span class="comment">//Prusa3D bootloader progress on lcd</span></div>
<div class="line"><span class="lineno">  311</span>  <span class="keywordflow">if</span> (strcmp(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">type</a>, <span class="stringliteral">&quot;Wiring&quot;</span>) == 0)</div>
<div class="line"><span class="lineno">  312</span>  {</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a71b8caf63c5a545db6a062cdd4696b68">set_upload_size</a> != 0)</div>
<div class="line"><span class="lineno">  314</span>      <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a71b8caf63c5a545db6a062cdd4696b68">set_upload_size</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, size);</div>
<div class="line"><span class="lineno">  315</span>  }</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64af5f27b84c84c8433ba5a8da55f7ea443">UF_NOWRITE</a>)) {</div>
<div class="line"><span class="lineno">  318</span>      <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a>(0,1,<span class="stringliteral">&quot;Writing&quot;</span>);</div>
<div class="line"><span class="lineno">  319</span>      rc = <a class="code hl_function" href="../../d1/d26/avr_8c.html#a1f5aa2b90ff0dc3f53adb5de8991cd00">avr_write</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, size, (<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">flags</a> &amp; <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64aba112d9c0a77cdf1506cf76b5697b9d4">UF_AUTO_ERASE</a>) != 0);</div>
<div class="line"><span class="lineno">  320</span>      <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a>(1,1,NULL);</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  323</span>      <span class="comment">// /*</span></div>
<div class="line"><span class="lineno">  324</span>      <span class="comment">//  * test mode, don&#39;t actually write to the chip, output the buffer</span></div>
<div class="line"><span class="lineno">  325</span>      <span class="comment">//  * to stdout in intel hex instead</span></div>
<div class="line"><span class="lineno">  326</span>      <span class="comment">//  */</span></div>
<div class="line"><span class="lineno">  327</span>      <span class="comment">// rc = fileio(FIO_WRITE, &quot;-&quot;, FMT_IHEX, p, upd-&gt;memtype, size, 0);</span></div>
<div class="line"><span class="lineno">  328</span>    }</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  331</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: failed to write %s memory, rc=%d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  332</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, rc);</div>
<div class="line"><span class="lineno">  333</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  334</span>    }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    vsize = rc;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  339</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: %d bytes of %s written\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>,</div>
<div class="line"><span class="lineno">  340</span>            vsize, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc);</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>  }</div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> == <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da46921c2594dd0d7f4dcb632bad891584">DEVICE_VERIFY</a>) {</div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  346</span><span class="comment">     * verify that the in memory file (p-&gt;mem[AVR_M_FLASH|AVR_M_EEPROM])</span></div>
<div class="line"><span class="lineno">  347</span><span class="comment">     * is the same as what is on the chip</span></div>
<div class="line"><span class="lineno">  348</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6f45d35b6aa2c77f7fbfffbd3f31585b">vfy_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  352</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: verifying %s memory against %s:\n&quot;</span>,</div>
<div class="line"><span class="lineno">  353</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: load data %s data from input file %s:\n&quot;</span>,</div>
<div class="line"><span class="lineno">  356</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  357</span>    }</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    rc = <a class="code hl_function" href="../../d8/dec/fileio_8c.html#a52584bb5c2e5bb8c1f52118131006dbb">fileio</a>(<a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#a385c44f6fb256e5716a2302a5b940388ac15cbb3a5cad099d083c457ddf43c666">FIO_READ</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, -1, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5c7e99428b2ef2cb46d2d573531bbaa0">section</a>);</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  361</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: read from file &#39;%s&#39; failed\n&quot;</span>,</div>
<div class="line"><span class="lineno">  362</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  363</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  364</span>    }</div>
<div class="line"><span class="lineno">  365</span>    v = <a class="code hl_function" href="../../df/dd5/avrpart_8c.html#a54dca6a89bbc650cedbf159271650309">avr_dup_part</a>(p);</div>
<div class="line"><span class="lineno">  366</span>    <a class="code hl_function" href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">size</a> = rc;</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  368</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: input file %s contains %d bytes\n&quot;</span>,</div>
<div class="line"><span class="lineno">  369</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, size);</div>
<div class="line"><span class="lineno">  370</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: reading on-chip %s data:\n&quot;</span>,</div>
<div class="line"><span class="lineno">  371</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc);</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a> (0,1,<span class="stringliteral">&quot;Reading&quot;</span>);</div>
<div class="line"><span class="lineno">  375</span>    rc = <a class="code hl_function" href="../../d1/d26/avr_8c.html#adde728e207d0ba1c5eebb703139142fa">avr_read</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, p, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, v);</div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  377</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: failed to read all of %s memory, rc=%d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  378</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc, rc);</div>
<div class="line"><span class="lineno">  379</span>      <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a96acab1f07bb27fc526f2890172843e6">err_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"><span class="lineno">  380</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  381</span>    }</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_function" href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a> (1,1,NULL);</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  387</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: verifying ...\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  388</span>    }</div>
<div class="line"><span class="lineno">  389</span>    rc = <a class="code hl_function" href="../../d1/d26/avr_8c.html#ad8820a8e89d0d2730b1158ab380eba59">avr_verify</a>(p, v, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, size);</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (rc &lt; 0) {</div>
<div class="line"><span class="lineno">  391</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: verification error; content mismatch\n&quot;</span>,</div>
<div class="line"><span class="lineno">  392</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  393</span>      <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a96acab1f07bb27fc526f2890172843e6">err_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>);</div>
<div class="line"><span class="lineno">  394</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  395</span>    }</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a> &lt; 2) {</div>
<div class="line"><span class="lineno">  398</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: %d bytes of %s verified\n&quot;</span>,</div>
<div class="line"><span class="lineno">  399</span>              <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, rc, <a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">mem</a>-&gt;desc);</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>-&gt;<a class="code hl_variable" href="../../d6/d82/structprogrammer__t.html#a6f45d35b6aa2c77f7fbfffbd3f31585b">vfy_led</a>(<a class="code hl_variable" href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a>, <a class="code hl_define" href="../../d2/d68/libavrdude_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a>);</div>
<div class="line"><span class="lineno">  403</span>  }</div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  405</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: invalid update operation (%d) requested\n&quot;</span>,</div>
<div class="line"><span class="lineno">  406</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a>);</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  408</span>  }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  411</span>}</div>
<div class="ttc" id="aavr_8c_html_a1f5aa2b90ff0dc3f53adb5de8991cd00"><div class="ttname"><a href="../../d1/d26/avr_8c.html#a1f5aa2b90ff0dc3f53adb5de8991cd00">avr_write</a></div><div class="ttdeci">int avr_write(PROGRAMMER *pgm, AVRPART *p, char *memtype, int size, int auto_erase)</div><div class="ttdef"><b>Definition</b> avr.c:831</div></div>
<div class="ttc" id="aavr_8c_html_a9874434912e967304a0275dae69ee2b0"><div class="ttname"><a href="../../d1/d26/avr_8c.html#a9874434912e967304a0275dae69ee2b0">report_progress</a></div><div class="ttdeci">void report_progress(int completed, int total, char *hdr)</div><div class="ttdef"><b>Definition</b> avr.c:1224</div></div>
<div class="ttc" id="aavr_8c_html_ad8820a8e89d0d2730b1158ab380eba59"><div class="ttname"><a href="../../d1/d26/avr_8c.html#ad8820a8e89d0d2730b1158ab380eba59">avr_verify</a></div><div class="ttdeci">int avr_verify(AVRPART *p, AVRPART *v, char *memtype, int size)</div><div class="ttdef"><b>Definition</b> avr.c:1079</div></div>
<div class="ttc" id="aavr_8c_html_adde728e207d0ba1c5eebb703139142fa"><div class="ttname"><a href="../../d1/d26/avr_8c.html#adde728e207d0ba1c5eebb703139142fa">avr_read</a></div><div class="ttdeci">int avr_read(PROGRAMMER *pgm, AVRPART *p, char *memtype, AVRPART *v)</div><div class="ttdef"><b>Definition</b> avr.c:312</div></div>
<div class="ttc" id="aavrdude_8h_html_a1ddcc97224a95cec04b38b0ac866fa19"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a></div><div class="ttdeci">#define MSG_INFO</div><div class="ttdef"><b>Definition</b> avrdude.h:51</div></div>
<div class="ttc" id="aavrdude_8h_html_ab9e1449fd00c98428516f0b41eddcb10"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></div><div class="ttdeci">char * progname</div><div class="ttdef"><b>Definition</b> main.c:61</div></div>
<div class="ttc" id="aavrdude_8h_html_ae3011b9c6440c863e64eed3fed5106e3"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a></div><div class="ttdeci">int avrdude_message(const int msglvl, const char *format,...)</div><div class="ttdef"><b>Definition</b> main.c:93</div></div>
<div class="ttc" id="aavrdude_8h_html_afe33d420e205f0ec3c527152fe5ec45a"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#afe33d420e205f0ec3c527152fe5ec45a">quell_progress</a></div><div class="ttdeci">int quell_progress</div><div class="ttdef"><b>Definition</b> main.c:199</div></div>
<div class="ttc" id="aavrpart_8c_html_a54dca6a89bbc650cedbf159271650309"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#a54dca6a89bbc650cedbf159271650309">avr_dup_part</a></div><div class="ttdeci">AVRPART * avr_dup_part(AVRPART *d)</div><div class="ttdef"><b>Definition</b> avrpart.c:473</div></div>
<div class="ttc" id="aavrpart_8c_html_ac270cad9c51ac6da0bb27ee27620f524"><div class="ttname"><a href="../../df/dd5/avrpart_8c.html#ac270cad9c51ac6da0bb27ee27620f524">avr_locate_mem</a></div><div class="ttdeci">AVRMEM * avr_locate_mem(AVRPART *p, char *desc)</div><div class="ttdef"><b>Definition</b> avrpart.c:354</div></div>
<div class="ttc" id="afileio_8c_html_a52584bb5c2e5bb8c1f52118131006dbb"><div class="ttname"><a href="../../d8/dec/fileio_8c.html#a52584bb5c2e5bb8c1f52118131006dbb">fileio</a></div><div class="ttdeci">int fileio(int op, char *filename, FILEFMT format, struct avrpart *p, char *memtype, int size, unsigned section)</div><div class="ttdef"><b>Definition</b> fileio.c:1512</div></div>
<div class="ttc" id="alibavrdude_8h_html_a02ec56d31b1dfba13d735b3493b4fdbe"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">update_t::op</a></div><div class="ttdeci">int op</div><div class="ttdef"><b>Definition</b> libavrdude.h:870</div></div>
<div class="ttc" id="alibavrdude_8h_html_a1a8aa66b0ddc4ae0721cf7b20d17b531"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">update_t::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition</b> libavrdude.h:872</div></div>
<div class="ttc" id="alibavrdude_8h_html_a29e413f6725b2ba32d165ffaa35b01e5"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a></div><div class="ttdeci">#define OFF</div><div class="ttdef"><b>Definition</b> libavrdude.h:585</div></div>
<div class="ttc" id="alibavrdude_8h_html_a385c44f6fb256e5716a2302a5b940388a462b50a1cb87bd29bbdd02ba4640633c"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a385c44f6fb256e5716a2302a5b940388a462b50a1cb87bd29bbdd02ba4640633c">FIO_WRITE</a></div><div class="ttdeci">@ FIO_WRITE</div><div class="ttdef"><b>Definition</b> libavrdude.h:810</div></div>
<div class="ttc" id="alibavrdude_8h_html_a385c44f6fb256e5716a2302a5b940388ac15cbb3a5cad099d083c457ddf43c666"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a385c44f6fb256e5716a2302a5b940388ac15cbb3a5cad099d083c457ddf43c666">FIO_READ</a></div><div class="ttdeci">@ FIO_READ</div><div class="ttdef"><b>Definition</b> libavrdude.h:809</div></div>
<div class="ttc" id="alibavrdude_8h_html_a5c7e99428b2ef2cb46d2d573531bbaa0"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a5c7e99428b2ef2cb46d2d573531bbaa0">update_t::section</a></div><div class="ttdeci">unsigned section</div><div class="ttdef"><b>Definition</b> libavrdude.h:871</div></div>
<div class="ttc" id="alibavrdude_8h_html_a63e9547f10709ae7c915b5f3728ae919"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">update_t::memtype</a></div><div class="ttdeci">char * memtype</div><div class="ttdef"><b>Definition</b> libavrdude.h:869</div></div>
<div class="ttc" id="alibavrdude_8h_html_a83cdd6b4f2dd01c960e9a304f0414f64aba112d9c0a77cdf1506cf76b5697b9d4"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64aba112d9c0a77cdf1506cf76b5697b9d4">UF_AUTO_ERASE</a></div><div class="ttdeci">@ UF_AUTO_ERASE</div><div class="ttdef"><b>Definition</b> libavrdude.h:864</div></div>
<div class="ttc" id="alibavrdude_8h_html_a83cdd6b4f2dd01c960e9a304f0414f64af5f27b84c84c8433ba5a8da55f7ea443"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a83cdd6b4f2dd01c960e9a304f0414f64af5f27b84c84c8433ba5a8da55f7ea443">UF_NOWRITE</a></div><div class="ttdeci">@ UF_NOWRITE</div><div class="ttdef"><b>Definition</b> libavrdude.h:863</div></div>
<div class="ttc" id="alibavrdude_8h_html_a87f2f2db48ffb9c1a0448d8eeffa4241"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">update_t::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition</b> libavrdude.h:873</div></div>
<div class="ttc" id="alibavrdude_8h_html_a8a1a31ff99738c37d5a3b15712261ead"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#a8a1a31ff99738c37d5a3b15712261ead">avrpart::desc</a></div><div class="ttdeci">char desc[AVR_DESCLEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:218</div></div>
<div class="ttc" id="alibavrdude_8h_html_abc5c98fcc1211af2b80116dd6e0a035da46921c2594dd0d7f4dcb632bad891584"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da46921c2594dd0d7f4dcb632bad891584">DEVICE_VERIFY</a></div><div class="ttdeci">@ DEVICE_VERIFY</div><div class="ttdef"><b>Definition</b> libavrdude.h:858</div></div>
<div class="ttc" id="alibavrdude_8h_html_abc5c98fcc1211af2b80116dd6e0a035da572524ae95f6a949b4c3c760726e7e45"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da572524ae95f6a949b4c3c760726e7e45">DEVICE_WRITE</a></div><div class="ttdeci">@ DEVICE_WRITE</div><div class="ttdef"><b>Definition</b> libavrdude.h:857</div></div>
<div class="ttc" id="alibavrdude_8h_html_abc5c98fcc1211af2b80116dd6e0a035da7a1d740684e07036afced45f27a05b99"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da7a1d740684e07036afced45f27a05b99">DEVICE_READ</a></div><div class="ttdeci">@ DEVICE_READ</div><div class="ttdef"><b>Definition</b> libavrdude.h:856</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad76d1750a6cdeebd506bfcd6752554d2"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a></div><div class="ttdeci">#define ON</div><div class="ttdef"><b>Definition</b> libavrdude.h:584</div></div>
<div class="ttc" id="alibavrdude_8h_html_ae9622e4b2cb8e28cee9a0f7dca9baa92"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ae9622e4b2cb8e28cee9a0f7dca9baa92">avrpart::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition</b> libavrdude.h:230</div></div>
<div class="ttc" id="alibavrdude_8h_html_afc9d7b525f50db392368eb7fa6f53336"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#afc9d7b525f50db392368eb7fa6f53336">avrpart::mem</a></div><div class="ttdeci">LISTID mem</div><div class="ttdef"><b>Definition</b> libavrdude.h:277</div></div>
<div class="ttc" id="alibavrdude_8h_html_d5/dbe/structavrmem"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#d5/dbe/structavrmem">avrmem</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:283</div></div>
<div class="ttc" id="alibavrdude_8h_html_d7/d8f/structavrpart"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#d7/d8f/structavrpart">avrpart</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:217</div></div>
<div class="ttc" id="amain_8c_html_a5dce38ae4dc703c88d229316a6a00dee"><div class="ttname"><a href="../../d0/d29/main_8c.html#a5dce38ae4dc703c88d229316a6a00dee">pgm</a></div><div class="ttdeci">static PROGRAMMER * pgm</div><div class="ttdef"><b>Definition</b> main.c:192</div></div>
<div class="ttc" id="anamespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail_html_a876af6f91231ae4e7e7316f5402682dc"><div class="ttname"><a href="../../d7/d96/namespace_t_c_b___s_p_a_n___n_a_m_e_s_p_a_c_e___n_a_m_e_1_1detail.html#a876af6f91231ae4e7e7316f5402682dc">TCB_SPAN_NAMESPACE_NAME::detail::size</a></div><div class="ttdeci">constexpr auto size(const C &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition</b> span.hpp:183</div></div>
<div class="ttc" id="astructprogrammer__t_html_a6f45d35b6aa2c77f7fbfffbd3f31585b"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a6f45d35b6aa2c77f7fbfffbd3f31585b">programmer_t::vfy_led</a></div><div class="ttdeci">int(* vfy_led)(struct programmer_t *pgm, int value)</div><div class="ttdef"><b>Definition</b> libavrdude.h:642</div></div>
<div class="ttc" id="astructprogrammer__t_html_a71b8caf63c5a545db6a062cdd4696b68"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a71b8caf63c5a545db6a062cdd4696b68">programmer_t::set_upload_size</a></div><div class="ttdeci">void(* set_upload_size)(struct programmer_t *pgm, int size)</div><div class="ttdef"><b>Definition</b> libavrdude.h:686</div></div>
<div class="ttc" id="astructprogrammer__t_html_a96acab1f07bb27fc526f2890172843e6"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#a96acab1f07bb27fc526f2890172843e6">programmer_t::err_led</a></div><div class="ttdeci">int(* err_led)(struct programmer_t *pgm, int value)</div><div class="ttdef"><b>Definition</b> libavrdude.h:640</div></div>
<div class="ttc" id="astructprogrammer__t_html_adb113747399343501adc958df6c201ff"><div class="ttname"><a href="../../d6/d82/structprogrammer__t.html#adb113747399343501adc958df6c201ff">programmer_t::type</a></div><div class="ttdeci">char type[PGM_TYPELEN]</div><div class="ttdef"><b>Definition</b> libavrdude.h:619</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00473">avr_dup_part()</a>, <a class="el" href="../../#l00354">avr_locate_mem()</a>, <a class="el" href="../../#l00312">avr_read()</a>, <a class="el" href="../../#l01079">avr_verify()</a>, <a class="el" href="../../#l00831">avr_write()</a>, <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00218">avrpart::desc</a>, <a class="el" href="../../#l00856">DEVICE_READ</a>, <a class="el" href="../../#l00858">DEVICE_VERIFY</a>, <a class="el" href="../../#l00857">DEVICE_WRITE</a>, <a class="el" href="../../#l00640">programmer_t::err_led</a>, <a class="el" href="../../#l01512">fileio()</a>, <a class="el" href="../../#l00872">update_t::filename</a>, <a class="el" href="../../#l00809">FIO_READ</a>, <a class="el" href="../../#l00810">FIO_WRITE</a>, <a class="el" href="../../#l00230">avrpart::flags</a>, <a class="el" href="../../#l00873">update_t::format</a>, <a class="el" href="../../#l00277">avrpart::mem</a>, <a class="el" href="../../#l00869">update_t::memtype</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00585">OFF</a>, <a class="el" href="../../#l00584">ON</a>, <a class="el" href="../../#l00870">update_t::op</a>, <a class="el" href="../../#l00192">pgm</a>, <a class="el" href="../../#l00061">progname</a>, <a class="el" href="../../#l00199">quell_progress</a>, <a class="el" href="../../#l01224">report_progress()</a>, <a class="el" href="../../#l00871">update_t::section</a>, <a class="el" href="../../#l00686">programmer_t::set_upload_size</a>, <a class="el" href="../../#l00619">programmer_t::type</a>, <a class="el" href="../../#l00864">UF_AUTO_ERASE</a>, <a class="el" href="../../#l00863">UF_NOWRITE</a>, and <a class="el" href="../../#l00642">programmer_t::vfy_led</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00429">avrdude_main()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_a1794dca72b9814e587273f662de0e370_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_a1794dca72b9814e587273f662de0e370_icgraph.svg" width="408" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a374ddc76c9ba8c688e039ef6e19fd322" name="a374ddc76c9ba8c688e039ef6e19fd322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a374ddc76c9ba8c688e039ef6e19fd322">&#9670;&#160;</a></span>dup_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> * dup_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td>
          <td class="paramname"><em>upd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  180</span>{</div>
<div class="line"><span class="lineno">  181</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> * u;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  u = (<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a>));</div>
<div class="line"><span class="lineno">  184</span>  <span class="keywordflow">if</span> (u == NULL) {</div>
<div class="line"><span class="lineno">  185</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: out of memory\n&quot;, progname);</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;dup_update: out of memory\n&quot;</span>);</div>
<div class="line"><span class="lineno">  188</span>  }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  memcpy(u, upd, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a>));</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>  <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> != NULL)</div>
<div class="line"><span class="lineno">  193</span>    u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = strdup(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  195</span>    u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = NULL;</div>
<div class="line"><span class="lineno">  196</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = strdup(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">return</span> u;</div>
<div class="line"><span class="lineno">  199</span>}</div>
<div class="ttc" id="aavrdude_8h_html_a337978586dbb68391dd6a4c9dc9a2e59"><div class="ttname"><a href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a></div><div class="ttdeci">void avrdude_oom(const char *context)</div><div class="ttdef"><b>Definition</b> main.c:169</div></div>
<div class="ttc" id="aconfig__gram_8c_html_a8d12df60024a0ab3de3a276240433890"><div class="ttname"><a href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a></div><div class="ttdeci">void * malloc(YYSIZE_T)</div></div>
<div class="ttc" id="alibavrdude_8h_html_d5/d64/structupdate__t"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">update_t</a></div><div class="ttdef"><b>Definition</b> libavrdude.h:868</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00169">avrdude_oom()</a>, <a class="el" href="../../#l00872">update_t::filename</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, and <a class="el" href="../../#l00869">update_t::memtype</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00429">avrdude_main()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_a374ddc76c9ba8c688e039ef6e19fd322_cgraph.svg" width="247" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_a374ddc76c9ba8c688e039ef6e19fd322_icgraph.svg" width="440" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae0bae4c598d79a2a560b4a56c2e474fa" name="ae0bae4c598d79a2a560b4a56c2e474fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bae4c598d79a2a560b4a56c2e474fa">&#9670;&#160;</a></span>free_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> free_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> *&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  222</span>{</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span> (u != NULL) {</div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span>(u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> != NULL) {</div>
<div class="line"><span class="lineno">  225</span>      <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  226</span>      u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = NULL;</div>
<div class="line"><span class="lineno">  227</span>  }</div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">if</span>(u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> != NULL) {</div>
<div class="line"><span class="lineno">  229</span>      <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>);</div>
<div class="line"><span class="lineno">  230</span>      u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = NULL;</div>
<div class="line"><span class="lineno">  231</span>  }</div>
<div class="line"><span class="lineno">  232</span>  <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(u);</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span>}</div>
<div class="ttc" id="aconfig__gram_8c_html_af07d89f5ceaea0c7c8252cc41fd75f37"><div class="ttname"><a href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a></div><div class="ttdeci">void free(void *)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00872">update_t::filename</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, and <a class="el" href="../../#l00869">update_t::memtype</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00402">cleanup_main()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_ae0bae4c598d79a2a560b4a56c2e474fa_cgraph.svg" width="192" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_ae0bae4c598d79a2a560b4a56c2e474fa_icgraph.svg" width="591" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae84ce77f51b092f99dc19b9e381068d0" name="ae84ce77f51b092f99dc19b9e381068d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84ce77f51b092f99dc19b9e381068d0">&#9670;&#160;</a></span>new_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> * new_update </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>memtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>filefmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>section</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  202</span>{</div>
<div class="line"><span class="lineno">  203</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> * u;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  u = (<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a>));</div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordflow">if</span> (u == NULL) {</div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: out of memory\n&quot;, progname);</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;new_update: out of memory\n&quot;</span>);</div>
<div class="line"><span class="lineno">  210</span>  }</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = strdup(memtype);</div>
<div class="line"><span class="lineno">  213</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = strdup(filename);</div>
<div class="line"><span class="lineno">  214</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> = op;</div>
<div class="line"><span class="lineno">  215</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = filefmt;</div>
<div class="line"><span class="lineno">  216</span>  u-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5c7e99428b2ef2cb46d2d573531bbaa0">section</a> = section;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">return</span> u;</div>
<div class="line"><span class="lineno">  219</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00169">avrdude_oom()</a>, <a class="el" href="../../#l00872">update_t::filename</a>, <a class="el" href="../../#l00873">update_t::format</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00869">update_t::memtype</a>, <a class="el" href="../../#l00870">update_t::op</a>, and <a class="el" href="../../#l00871">update_t::section</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00801">Slic3r::PresetUpdater::priv::get_config_updates()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_ae84ce77f51b092f99dc19b9e381068d0_cgraph.svg" width="250" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_ae84ce77f51b092f99dc19b9e381068d0_icgraph.svg" width="322" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afcec58fd803c75a0d0b70b33aec8bc7d" name="afcec58fd803c75a0d0b70b33aec8bc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcec58fd803c75a0d0b70b33aec8bc7d">&#9670;&#160;</a></span>parse_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d68/libavrdude_8h.html#a0e308e084b96cdedd5836612bcb1e356">UPDATE</a> * parse_op </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   32</span>{</div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><span class="lineno">   34</span>  <span class="keywordtype">char</span> * p, * cp, <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a>;</div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> * upd;</div>
<div class="line"><span class="lineno">   36</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">   37</span>  <span class="keywordtype">size_t</span> fnlen;</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>  upd = (<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d2/d68/libavrdude_8h.html#d5/d64/structupdate__t">UPDATE</a>));</div>
<div class="line"><span class="lineno">   40</span>  <span class="keywordflow">if</span> (upd == NULL) {</div>
<div class="line"><span class="lineno">   41</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: out of memory\n&quot;, progname);</span></div>
<div class="line"><span class="lineno">   42</span>    <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;parse_op: out of memory\n&quot;</span>);</div>
<div class="line"><span class="lineno">   44</span>  }</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>  i = 0;</div>
<div class="line"><span class="lineno">   47</span>  p = s;</div>
<div class="line"><span class="lineno">   48</span>  <span class="keywordflow">while</span> ((i &lt; (<span class="keyword">sizeof</span>(buf)-1) &amp;&amp; *p &amp;&amp; (*p != <span class="charliteral">&#39;:&#39;</span>)))</div>
<div class="line"><span class="lineno">   49</span>    buf[i++] = *p++;</div>
<div class="line"><span class="lineno">   50</span>  buf[i] = 0;</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><span class="lineno">   53</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = NULL;        <span class="comment">/* default memtype, &quot;flash&quot;, or &quot;application&quot; */</span></div>
<div class="line"><span class="lineno">   54</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da572524ae95f6a949b4c3c760726e7e45">DEVICE_WRITE</a>;</div>
<div class="line"><span class="lineno">   55</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(strlen(buf) + 1);</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> == NULL) {</div>
<div class="line"><span class="lineno">   57</span>        <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: out of memory\n&quot;, progname);</span></div>
<div class="line"><span class="lineno">   58</span>        <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">   59</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;parse_op: out of memory\n&quot;</span>);</div>
<div class="line"><span class="lineno">   60</span>    }</div>
<div class="line"><span class="lineno">   61</span>    strcpy(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, buf);</div>
<div class="line"><span class="lineno">   62</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa26f2822cba431b559ab85de29bd30706">FMT_AUTO</a>;</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">return</span> upd;</div>
<div class="line"><span class="lineno">   64</span>  }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(strlen(buf)+1);</div>
<div class="line"><span class="lineno">   67</span>  <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a> == NULL) {</div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">// avrdude_message(MSG_INFO, &quot;%s: out of memory\n&quot;, progname);</span></div>
<div class="line"><span class="lineno">   69</span>    <span class="comment">// exit(1);</span></div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#a337978586dbb68391dd6a4c9dc9a2e59">avrdude_oom</a>(<span class="stringliteral">&quot;parse_op: out of memory\n&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span>  strcpy(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>, buf);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>  p++;</div>
<div class="line"><span class="lineno">   75</span>  <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;r&#39;</span>) {</div>
<div class="line"><span class="lineno">   76</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da7a1d740684e07036afced45f27a05b99">DEVICE_READ</a>;</div>
<div class="line"><span class="lineno">   77</span>  }</div>
<div class="line"><span class="lineno">   78</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;w&#39;</span>) {</div>
<div class="line"><span class="lineno">   79</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da572524ae95f6a949b4c3c760726e7e45">DEVICE_WRITE</a>;</div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;v&#39;</span>) {</div>
<div class="line"><span class="lineno">   82</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a02ec56d31b1dfba13d735b3493b4fdbe">op</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#abc5c98fcc1211af2b80116dd6e0a035da46921c2594dd0d7f4dcb632bad891584">DEVICE_VERIFY</a>;</div>
<div class="line"><span class="lineno">   83</span>  }</div>
<div class="line"><span class="lineno">   84</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: invalid I/O mode &#39;%c&#39; in update specification\n&quot;</span>,</div>
<div class="line"><span class="lineno">   86</span>            <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, *p);</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;  allowed values are:\n&quot;</span></div>
<div class="line"><span class="lineno">   88</span>                    <span class="stringliteral">&quot;    r = read device\n&quot;</span></div>
<div class="line"><span class="lineno">   89</span>                    <span class="stringliteral">&quot;    w = write device\n&quot;</span></div>
<div class="line"><span class="lineno">   90</span>                    <span class="stringliteral">&quot;    v = verify device\n&quot;</span>);</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd);</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   94</span>  }</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>  p++;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>  <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: invalid update specification\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd);</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  103</span>  }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  p++;</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>  <span class="comment">// Extension: Parse file section number</span></div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordtype">unsigned</span> section = 0;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <span class="keywordflow">for</span> (; *p != <span class="charliteral">&#39;:&#39;</span>; p++) {</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (*p &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *p &lt;= <span class="charliteral">&#39;9&#39;</span>) {</div>
<div class="line"><span class="lineno">  112</span>      section *= 10;</div>
<div class="line"><span class="lineno">  113</span>      section += *p - 0x30;</div>
<div class="line"><span class="lineno">  114</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  115</span>      <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: invalid update specification: &lt;section&gt; is not a number\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  116</span>      <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  117</span>      <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd);</div>
<div class="line"><span class="lineno">  118</span>      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span>  }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>  upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a5c7e99428b2ef2cb46d2d573531bbaa0">section</a> = section;</div>
<div class="line"><span class="lineno">  123</span>  p++;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  126</span><span class="comment">   * Now, parse the filename component.  Instead of looking for the</span></div>
<div class="line"><span class="lineno">  127</span><span class="comment">   * leftmost possible colon delimiter, we look for the rightmost one.</span></div>
<div class="line"><span class="lineno">  128</span><span class="comment">   * If we found one, we do have a trailing :format specifier, and</span></div>
<div class="line"><span class="lineno">  129</span><span class="comment">   * process it.  Otherwise, the remainder of the string is our file</span></div>
<div class="line"><span class="lineno">  130</span><span class="comment">   * name component.  That way, the file name itself is allowed to</span></div>
<div class="line"><span class="lineno">  131</span><span class="comment">   * contain a colon itself (e. g. C:/some/file.hex), except the</span></div>
<div class="line"><span class="lineno">  132</span><span class="comment">   * optional format specifier becomes mandatory then.</span></div>
<div class="line"><span class="lineno">  133</span><span class="comment">   */</span></div>
<div class="line"><span class="lineno">  134</span>  cp = p;</div>
<div class="line"><span class="lineno">  135</span>  p = strrchr(cp, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno">  136</span>  <span class="keywordflow">if</span> (p == NULL) {</div>
<div class="line"><span class="lineno">  137</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa26f2822cba431b559ab85de29bd30706">FMT_AUTO</a>;</div>
<div class="line"><span class="lineno">  138</span>    fnlen = strlen(cp);</div>
<div class="line"><span class="lineno">  139</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(fnlen + 1);</div>
<div class="line"><span class="lineno">  140</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  141</span>    fnlen = p - cp;</div>
<div class="line"><span class="lineno">  142</span>    upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc</a>(fnlen +1);</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> = *++p;</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (c &amp;&amp; p[1])</div>
<div class="line"><span class="lineno">  145</span>      <span class="comment">/* More than one char - force failure below. */</span></div>
<div class="line"><span class="lineno">  146</span>      <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">c</a> = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">switch</span> (c) {</div>
<div class="line"><span class="lineno">  148</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa26f2822cba431b559ab85de29bd30706">FMT_AUTO</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  149</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aafcdce4cb351f158c8c9828a94b2c3b68">FMT_SREC</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  150</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aaaec8c544b8c90424dc9f753d997211af">FMT_IHEX</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  151</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa27d1752a5ccca21871da90457b1c3e78">FMT_RBIN</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  152</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac210b6268248e4e592d8659cee6b6ca2">FMT_ELF</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  153</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac7aa7bbc307de503cb59fd387f248689">FMT_IMM</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  154</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa65eb0d051cdb3841f83885e2cba3e435">FMT_BIN</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  155</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aae57ce93c0682d65a74ebe5337fa41204">FMT_DEC</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  156</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa5f76279292ac2d174b6d039c9b648aed">FMT_HEX</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  157</span>      <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>: upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a87f2f2db48ffb9c1a0448d8eeffa4241">format</a> = <a class="code hl_enumvalue" href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa9471b8b06599678c1fb406b4e6afbc83">FMT_OCT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  158</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  159</span>        <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: invalid file format &#39;%s&#39; in update specifier\n&quot;</span>,</div>
<div class="line"><span class="lineno">  160</span>                <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, p);</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd);</div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span>  }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  <span class="keywordflow">if</span> (upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a> == NULL) {</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="../../db/daf/avrdude_8h.html#ae3011b9c6440c863e64eed3fed5106e3">avrdude_message</a>(<a class="code hl_define" href="../../db/daf/avrdude_8h.html#a1ddcc97224a95cec04b38b0ac866fa19">MSG_INFO</a>, <span class="stringliteral">&quot;%s: out of memory\n&quot;</span>, <a class="code hl_variable" href="../../db/daf/avrdude_8h.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);</div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a63e9547f10709ae7c915b5f3728ae919">memtype</a>);</div>
<div class="line"><span class="lineno">  170</span>    <a class="code hl_function" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(upd);</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  172</span>  }</div>
<div class="line"><span class="lineno">  173</span>  memcpy(upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>, cp, fnlen);</div>
<div class="line"><span class="lineno">  174</span>  upd-&gt;<a class="code hl_variable" href="../../d2/d68/libavrdude_8h.html#a1a8aa66b0ddc4ae0721cf7b20d17b531">filename</a>[fnlen] = 0;</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>  <span class="keywordflow">return</span> upd;</div>
<div class="line"><span class="lineno">  177</span>}</div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa26f2822cba431b559ab85de29bd30706"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa26f2822cba431b559ab85de29bd30706">FMT_AUTO</a></div><div class="ttdeci">@ FMT_AUTO</div><div class="ttdef"><b>Definition</b> libavrdude.h:787</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa27d1752a5ccca21871da90457b1c3e78"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa27d1752a5ccca21871da90457b1c3e78">FMT_RBIN</a></div><div class="ttdeci">@ FMT_RBIN</div><div class="ttdef"><b>Definition</b> libavrdude.h:790</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa5f76279292ac2d174b6d039c9b648aed"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa5f76279292ac2d174b6d039c9b648aed">FMT_HEX</a></div><div class="ttdeci">@ FMT_HEX</div><div class="ttdef"><b>Definition</b> libavrdude.h:792</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa65eb0d051cdb3841f83885e2cba3e435"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa65eb0d051cdb3841f83885e2cba3e435">FMT_BIN</a></div><div class="ttdeci">@ FMT_BIN</div><div class="ttdef"><b>Definition</b> libavrdude.h:795</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa9471b8b06599678c1fb406b4e6afbc83"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aa9471b8b06599678c1fb406b4e6afbc83">FMT_OCT</a></div><div class="ttdeci">@ FMT_OCT</div><div class="ttdef"><b>Definition</b> libavrdude.h:794</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aaaec8c544b8c90424dc9f753d997211af"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aaaec8c544b8c90424dc9f753d997211af">FMT_IHEX</a></div><div class="ttdeci">@ FMT_IHEX</div><div class="ttdef"><b>Definition</b> libavrdude.h:789</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac210b6268248e4e592d8659cee6b6ca2"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac210b6268248e4e592d8659cee6b6ca2">FMT_ELF</a></div><div class="ttdeci">@ FMT_ELF</div><div class="ttdef"><b>Definition</b> libavrdude.h:796</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac7aa7bbc307de503cb59fd387f248689"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aac7aa7bbc307de503cb59fd387f248689">FMT_IMM</a></div><div class="ttdeci">@ FMT_IMM</div><div class="ttdef"><b>Definition</b> libavrdude.h:791</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aae57ce93c0682d65a74ebe5337fa41204"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aae57ce93c0682d65a74ebe5337fa41204">FMT_DEC</a></div><div class="ttdeci">@ FMT_DEC</div><div class="ttdef"><b>Definition</b> libavrdude.h:793</div></div>
<div class="ttc" id="alibavrdude_8h_html_ad7ff7ab00ee7fa5051eab7bb0f6f3b6aafcdce4cb351f158c8c9828a94b2c3b68"><div class="ttname"><a href="../../d2/d68/libavrdude_8h.html#ad7ff7ab00ee7fa5051eab7bb0f6f3b6aafcdce4cb351f158c8c9828a94b2c3b68">FMT_SREC</a></div><div class="ttdeci">@ FMT_SREC</div><div class="ttdef"><b>Definition</b> libavrdude.h:788</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a4a8a08f09d37b73795649038408b5f33">marchsq::__impl::SquareTag::c</a></div><div class="ttdeci">@ c</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00093">avrdude_message()</a>, <a class="el" href="../../#l00169">avrdude_oom()</a>, <a class="el" href="../../#l00856">DEVICE_READ</a>, <a class="el" href="../../#l00858">DEVICE_VERIFY</a>, <a class="el" href="../../#l00857">DEVICE_WRITE</a>, <a class="el" href="../../#l00872">update_t::filename</a>, <a class="el" href="../../#l00787">FMT_AUTO</a>, <a class="el" href="../../#l00795">FMT_BIN</a>, <a class="el" href="../../#l00793">FMT_DEC</a>, <a class="el" href="../../#l00796">FMT_ELF</a>, <a class="el" href="../../#l00792">FMT_HEX</a>, <a class="el" href="../../#l00789">FMT_IHEX</a>, <a class="el" href="../../#l00791">FMT_IMM</a>, <a class="el" href="../../#l00794">FMT_OCT</a>, <a class="el" href="../../#l00790">FMT_RBIN</a>, <a class="el" href="../../#l00788">FMT_SREC</a>, <a class="el" href="../../#l00873">update_t::format</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free()</a>, <a class="el" href="../../d3/dbc/config__gram_8c.html#a8d12df60024a0ab3de3a276240433890">malloc()</a>, <a class="el" href="../../#l00869">update_t::memtype</a>, <a class="el" href="../../#l00051">MSG_INFO</a>, <a class="el" href="../../#l00870">update_t::op</a>, <a class="el" href="../../#l00061">progname</a>, and <a class="el" href="../../#l00871">update_t::section</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00429">avrdude_main()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_afcec58fd803c75a0d0b70b33aec8bc7d_cgraph.svg" width="260" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d1/d69/update_8c_afcec58fd803c75a0d0b70b33aec8bc7d_icgraph.svg" width="426" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3152723ac38ccb2051caa7ee1212accf.html">avrdude</a></li><li class="navelem"><a class="el" href="../../d1/d69/update_8c.html">update.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
