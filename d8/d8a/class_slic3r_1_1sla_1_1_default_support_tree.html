<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prusa Slicer: Slic3r::sla::DefaultSupportTree Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../PrusaSlicer_32px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Prusa Slicer<span id="projectnumber">&#160;2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dd/dc1/class_slic3r_1_1sla_1_1_default_support_tree-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Slic3r::sla::DefaultSupportTree Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../">src/libslic3r/SLA/DefaultSupportTree.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Slic3r::sla::DefaultSupportTree:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d3b/class_slic3r_1_1sla_1_1_default_support_tree__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3028d0478e72a46db31a3ce58f608351"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3028d0478e72a46db31a3ce58f608351">DefaultSupportTree</a> (<a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a> &amp;builder, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a> &amp;sm)</td></tr>
<tr class="separator:a3028d0478e72a46db31a3ce58f608351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18467f1e2613a5f954075295cd366393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a18467f1e2613a5f954075295cd366393">add_pinheads</a> ()</td></tr>
<tr class="separator:a18467f1e2613a5f954075295cd366393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6944b33eadda2b3a620b62c07fb48431"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6944b33eadda2b3a620b62c07fb48431">classify</a> ()</td></tr>
<tr class="separator:a6944b33eadda2b3a620b62c07fb48431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28517ac516d5aae1a1d53e3bf0ac41cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a28517ac516d5aae1a1d53e3bf0ac41cb">routing_to_ground</a> ()</td></tr>
<tr class="separator:a28517ac516d5aae1a1d53e3bf0ac41cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83a50e5b42513a911e826a9863c2ecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae83a50e5b42513a911e826a9863c2ecd">routing_to_model</a> ()</td></tr>
<tr class="separator:ae83a50e5b42513a911e826a9863c2ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ede8d634c88d0796968d7708526621"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae9ede8d634c88d0796968d7708526621">interconnect_pillars</a> ()</td></tr>
<tr class="separator:ae9ede8d634c88d0796968d7708526621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176c5e75f7c6d4df3a11dbb917799515"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a176c5e75f7c6d4df3a11dbb917799515">merge_result</a> ()</td></tr>
<tr class="separator:a176c5e75f7c6d4df3a11dbb917799515"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5f3f8329b7c99171780e485d9d659aeb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a5f3f8329b7c99171780e485d9d659aeb">execute</a> (<a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a> &amp;builder, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a> &amp;sm)</td></tr>
<tr class="separator:a5f3f8329b7c99171780e485d9d659aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a23a0579fd23041fa73a12d94960e7a01"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> = std::vector&lt; unsigned &gt;</td></tr>
<tr class="separator:a23a0579fd23041fa73a12d94960e7a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8601e9bdd706d1fe96e3bedec24bc629"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8601e9bdd706d1fe96e3bedec24bc629">ray_mesh_intersect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir)</td></tr>
<tr class="separator:a8601e9bdd706d1fe96e3bedec24bc629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d43fb376d9519dd0171a1b4afcee15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae1d43fb376d9519dd0171a1b4afcee15">pinhead_mesh_intersect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir, double r_pin, double r_back, double width, double safety_d)</td></tr>
<tr class="separator:ae1d43fb376d9519dd0171a1b4afcee15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a16bb846b05293daaf746993e05b704"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3a16bb846b05293daaf746993e05b704">pinhead_mesh_intersect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir, double r_pin, double r_back, double width)</td></tr>
<tr class="separator:a3a16bb846b05293daaf746993e05b704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace23a8b24ed471b7fff260e2334698f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">bridge_mesh_intersect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir, double r, double safety_d)</td></tr>
<tr class="separator:ace23a8b24ed471b7fff260e2334698f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae437d9642e3d17735f7fdaa530e88379"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae437d9642e3d17735f7fdaa530e88379">bridge_mesh_intersect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;s, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir, double r)</td></tr>
<tr class="separator:ae437d9642e3d17735f7fdaa530e88379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd5ab6e34d28eb06c8869ca9e8cdf7d"><td class="memTemplParams" colspan="2">template&lt;class... Args&gt; </td></tr>
<tr class="memitem:afcd5ab6e34d28eb06c8869ca9e8cdf7d"><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a> (Args &amp;&amp;...args)</td></tr>
<tr class="separator:afcd5ab6e34d28eb06c8869ca9e8cdf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88fdd2c72db851a70846123057050f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ac88fdd2c72db851a70846123057050f4">interconnect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d22/struct_slic3r_1_1sla_1_1_pillar.html">Pillar</a> &amp;pillar, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d22/struct_slic3r_1_1sla_1_1_pillar.html">Pillar</a> &amp;nextpillar)</td></tr>
<tr class="separator:ac88fdd2c72db851a70846123057050f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf057154f70931d7aaeffe4b7f50b66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a0cf057154f70931d7aaeffe4b7f50b66">connect_to_nearpillar</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;<a class="el" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>, <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> nearpillar_id)</td></tr>
<tr class="separator:a0cf057154f70931d7aaeffe4b7f50b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6d8c5761dcf669ea478b545f64786d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6b6d8c5761dcf669ea478b545f64786d">connect_to_ground</a> (<a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;<a class="el" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>)</td></tr>
<tr class="separator:a6b6d8c5761dcf669ea478b545f64786d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d43bcb5868a3e62d90d02387d7fa25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a89d43bcb5868a3e62d90d02387d7fa25">connect_to_model_body</a> (<a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;<a class="el" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>)</td></tr>
<tr class="separator:a89d43bcb5868a3e62d90d02387d7fa25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23b747823ffb3723208a96023580539"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#aa23b747823ffb3723208a96023580539">search_pillar_and_connect</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;source)</td></tr>
<tr class="separator:aa23b747823ffb3723208a96023580539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da80ed50f099c60976f7e9d9a2d3a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a72da80ed50f099c60976f7e9d9a2d3a4">create_ground_pillar</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/d98/struct_slic3r_1_1sla_1_1_junction.html">Junction</a> &amp;jp, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;sourcedir, <a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> head_id=<a class="el" href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">SupportTreeNode::ID_UNSET</a>)</td></tr>
<tr class="separator:a72da80ed50f099c60976f7e9d9a2d3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9209eb0c1edfa398938bd006d36ce78f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9209eb0c1edfa398938bd006d36ce78f">add_pillar_base</a> (<a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a> pid)</td></tr>
<tr class="separator:a9209eb0c1edfa398938bd006d36ce78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98147cc110ff2a817c2ab4c41e559fb1"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="../../d7/d4c/struct_slic3r_1_1sla_1_1_diff_bridge.html">DiffBridge</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a98147cc110ff2a817c2ab4c41e559fb1">search_widening_path</a> (<a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;jp, <a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;dir, double radius, double new_radius)</td></tr>
<tr class="separator:a98147cc110ff2a817c2ab4c41e559fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2c88aceca54ea207b70b6159c6f69b54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a></td></tr>
<tr class="separator:a2c88aceca54ea207b70b6159c6f69b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60c5d2a7e2fbfb5c9b2aa9040f9d001"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a></td></tr>
<tr class="separator:ae60c5d2a7e2fbfb5c9b2aa9040f9d001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9055fc63dcacd48415ebdf8b489ccde7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a></td></tr>
<tr class="separator:a9055fc63dcacd48415ebdf8b489ccde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b311c62bf3089d4b6ea31fbf4cf60a4"><td class="memItemLeft" align="right" valign="top">std::map&lt; unsigned, <a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a4b311c62bf3089d4b6ea31fbf4cf60a4">m_head_to_ground_scans</a></td></tr>
<tr class="separator:a4b311c62bf3089d4b6ea31fbf4cf60a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9baf55963cbfb17d79bc581bb0ca0910"><td class="memItemLeft" align="right" valign="top">Eigen::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9baf55963cbfb17d79bc581bb0ca0910">m_support_nmls</a></td></tr>
<tr class="separator:a9baf55963cbfb17d79bc581bb0ca0910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c911098941242486a991f97678bb2cd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">m_pillar_clusters</a></td></tr>
<tr class="separator:a8c911098941242486a991f97678bb2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b0e38e8985bef374c95e1f273435f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a></td></tr>
<tr class="separator:a30b0e38e8985bef374c95e1f273435f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfa102f97338e2bdae2ea69a5ddbee3"><td class="memItemLeft" align="right" valign="top">Eigen::MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a></td></tr>
<tr class="separator:abcfa102f97338e2bdae2ea69a5ddbee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb2a5a8591c803ec799a01933e03176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#adda397976fb15a4bfcd4468c0668acea">ThrowOnCancel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a></td></tr>
<tr class="separator:a8eb2a5a8591c803ec799a01933e03176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bdcde67234461310a4eace989d3115"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html">PillarIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a></td></tr>
<tr class="separator:a39bdcde67234461310a4eace989d3115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0ece7c8f1a624b0ddf87bea38aed84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d43/namespace_slic3r_1_1execution.html#a38c42b668b8f0efafab6799784823866">execution::BlockingMutex</a>&lt; <a class="el" href="../../de/db8/namespace_slic3r.html#d4/dac/struct_slic3r_1_1_execution_t_b_b">ExecutionTBB</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3c0ece7c8f1a624b0ddf87bea38aed84">m_bridge_mutex</a></td></tr>
<tr class="separator:a3c0ece7c8f1a624b0ddf87bea38aed84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a23a0579fd23041fa73a12d94960e7a01" name="a23a0579fd23041fa73a12d94960e7a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a0579fd23041fa73a12d94960e7a01">&#9670;&#160;</a></span>PtIndices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">Slic3r::sla::DefaultSupportTree::PtIndices</a> =  std::vector&lt;unsigned&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3028d0478e72a46db31a3ce58f608351" name="a3028d0478e72a46db31a3ce58f608351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3028d0478e72a46db31a3ce58f608351">&#9670;&#160;</a></span>DefaultSupportTree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slic3r::sla::DefaultSupportTree::DefaultSupportTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a> &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>sm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   19</span>    : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>(sm)</div>
<div class="line"><span class="lineno">   20</span>    , <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9baf55963cbfb17d79bc581bb0ca0910">m_support_nmls</a>(sm.pts.size(), 3)</div>
<div class="line"><span class="lineno">   21</span>    , <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>(builder)</div>
<div class="line"><span class="lineno">   22</span>    , <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>(sm.pts.size(), 3)</div>
<div class="line"><span class="lineno">   23</span>    , <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>(builder.ctl().cancelfn)</div>
<div class="line"><span class="lineno">   24</span>{</div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">// Prepare the support points in Eigen/IGL format as well, we will use</span></div>
<div class="line"><span class="lineno">   26</span>    <span class="comment">// it mostly in this form.</span></div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordtype">long</span> i = 0;</div>
<div class="line"><span class="lineno">   29</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.pts) {</div>
<div class="line"><span class="lineno">   30</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>.row(i).x() = double(sp.pos.x());</div>
<div class="line"><span class="lineno">   31</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>.row(i).y() = double(sp.pos.y());</div>
<div class="line"><span class="lineno">   32</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>.row(i).z() = double(sp.pos.z());</div>
<div class="line"><span class="lineno">   33</span>        ++i;</div>
<div class="line"><span class="lineno">   34</span>    }</div>
<div class="line"><span class="lineno">   35</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a2c88aceca54ea207b70b6159c6f69b54"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">Slic3r::sla::DefaultSupportTree::m_sm</a></div><div class="ttdeci">const SupportableMesh &amp; m_sm</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:59</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a30b0e38e8985bef374c95e1f273435f8"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">Slic3r::sla::DefaultSupportTree::m_builder</a></div><div class="ttdeci">SupportTreeBuilder &amp; m_builder</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:77</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a8eb2a5a8591c803ec799a01933e03176"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">Slic3r::sla::DefaultSupportTree::m_thr</a></div><div class="ttdeci">ThrowOnCancel m_thr</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:84</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a9baf55963cbfb17d79bc581bb0ca0910"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9baf55963cbfb17d79bc581bb0ca0910">Slic3r::sla::DefaultSupportTree::m_support_nmls</a></div><div class="ttdeci">Eigen::MatrixXd m_support_nmls</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:69</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_abcfa102f97338e2bdae2ea69a5ddbee3"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">Slic3r::sla::DefaultSupportTree::m_points</a></div><div class="ttdeci">Eigen::MatrixXd m_points</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:80</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00080">m_points</a>, <a class="el" href="../../#l00059">m_sm</a>, and <a class="el" href="../../#l00116">Slic3r::sla::SupportableMesh::pts</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9209eb0c1edfa398938bd006d36ce78f" name="a9209eb0c1edfa398938bd006d36ce78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9209eb0c1edfa398938bd006d36ce78f">&#9670;&#160;</a></span>add_pillar_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::add_pillar_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  183</span>    {</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a885b9c48060246d278a6d69c898ef7e1">add_pillar_base</a>(pid, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a3f463807b0288b56e397262ecbb1b433">base_height_mm</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">base_radius_mm</a>);</div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a885b9c48060246d278a6d69c898ef7e1"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a885b9c48060246d278a6d69c898ef7e1">Slic3r::sla::SupportTreeBuilder::add_pillar_base</a></div><div class="ttdeci">void add_pillar_base(long pid, double baseheight=3, double radius=2)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.cpp:74</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a3f463807b0288b56e397262ecbb1b433"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a3f463807b0288b56e397262ecbb1b433">Slic3r::sla::SupportTreeConfig::base_height_mm</a></div><div class="ttdeci">double base_height_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:57</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_acd6d38bb77e453b7b6cc42a60001a18a"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">Slic3r::sla::SupportTreeConfig::base_radius_mm</a></div><div class="ttdeci">double base_radius_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:54</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_supportable_mesh_html_a451d3c2e9eb01074d093b3fae9e5443e"><div class="ttname"><a href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">Slic3r::sla::SupportableMesh::cfg</a></div><div class="ttdeci">SupportTreeConfig cfg</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:117</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00074">Slic3r::sla::SupportTreeBuilder::add_pillar_base()</a>, <a class="el" href="../../#l00057">Slic3r::sla::SupportTreeConfig::base_height_mm</a>, <a class="el" href="../../#l00054">Slic3r::sla::SupportTreeConfig::base_radius_mm</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00077">m_builder</a>, and <a class="el" href="../../#l00059">m_sm</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a9209eb0c1edfa398938bd006d36ce78f_cgraph.svg" width="392" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a18467f1e2613a5f954075295cd366393" name="a18467f1e2613a5f954075295cd366393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18467f1e2613a5f954075295cd366393">&#9670;&#160;</a></span>add_pinheads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::add_pinheads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  364</span>{</div>
<div class="line"><span class="lineno">  365</span>    <span class="comment">// The minimum distance for two support points to remain valid.</span></div>
<div class="line"><span class="lineno">  366</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> <span class="comment">/*constexpr*/</span> D_SP = 0.1;</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    <span class="comment">// Get the points that are too close to each other and keep only the</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">// first one</span></div>
<div class="line"><span class="lineno">  370</span>    <span class="keyword">auto</span> aliases = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a11c5880b41bdccb74b532b3a46e7e66a">cluster</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>, D_SP, 2);</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_typedef" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> filtered_indices;</div>
<div class="line"><span class="lineno">  373</span>    filtered_indices.reserve(aliases.size());</div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a>.reserve(aliases.size());</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; a : aliases) {</div>
<div class="line"><span class="lineno">  376</span>        <span class="comment">// Here we keep only the front point of the cluster.</span></div>
<div class="line"><span class="lineno">  377</span>        filtered_indices.emplace_back(<a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a>.front());</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="comment">// calculate the normals to the triangles for filtered points</span></div>
<div class="line"><span class="lineno">  381</span>    <span class="keyword">auto</span> nmls = <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a289ca1c05974b158c7fc310b18732eee">normals</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>,</div>
<div class="line"><span class="lineno">  382</span>                        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ac28ffc139e12ef4ed5b515b1800ffa4c">head_front_radius_mm</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>,</div>
<div class="line"><span class="lineno">  383</span>                        filtered_indices);</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">// Not all of the support points have to be a valid position for</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="comment">// support creation. The angle may be inappropriate or there may</span></div>
<div class="line"><span class="lineno">  387</span>    <span class="comment">// not be enough space for the pinhead. Filtering is applied for</span></div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">// these reasons.</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <span class="keyword">auto</span> heads = reserve_vector&lt;Head&gt;(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#af36581ed6084d19373ac1f2501ce1a88">pts</a>.size());</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> SupportPoint &amp;sp : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.pts) {</div>
<div class="line"><span class="lineno">  392</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  393</span>        heads.emplace_back(</div>
<div class="line"><span class="lineno">  394</span>            <a class="code hl_variable" href="../../de/db8/namespace_slic3r.html#a6d1a14f305df874ff75404512ecc5e3b">NaNd</a>,</div>
<div class="line"><span class="lineno">  395</span>            sp.head_front_radius,</div>
<div class="line"><span class="lineno">  396</span>            0.,</div>
<div class="line"><span class="lineno">  397</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">head_penetration_mm</a>,</div>
<div class="line"><span class="lineno">  398</span>            Vec3d::Zero(),         <span class="comment">// dir</span></div>
<div class="line"><span class="lineno">  399</span>            sp.pos.cast&lt;<span class="keywordtype">double</span>&gt;()  <span class="comment">// displacement</span></div>
<div class="line"><span class="lineno">  400</span>            );</div>
<div class="line"><span class="lineno">  401</span>    }</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    std::function&lt;<a class="code hl_function" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>(<span class="keywordtype">unsigned</span>, <span class="keywordtype">size_t</span>, <span class="keywordtype">double</span>)&gt; filterfn;</div>
<div class="line"><span class="lineno">  404</span>    filterfn = [<span class="keyword">this</span>, &amp;nmls, &amp;heads, &amp;filterfn](<span class="keywordtype">unsigned</span> fidx, <span class="keywordtype">size_t</span> i, <span class="keywordtype">double</span> back_r) {</div>
<div class="line"><span class="lineno">  405</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> n = nmls.row(<a class="code hl_typedef" href="../../d0/da5/namespace_eigen.html#a62e77e0933482dafde8fe197d9a2cfde">Eigen::Index</a>(i));</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>        <span class="comment">// for all normals we generate the spherical coordinates and</span></div>
<div class="line"><span class="lineno">  410</span>        <span class="comment">// saturate the polar angle to 45 degrees from the bottom then</span></div>
<div class="line"><span class="lineno">  411</span>        <span class="comment">// convert back to standard coordinates to get the new normal.</span></div>
<div class="line"><span class="lineno">  412</span>        <span class="comment">// Then we just create a quaternion from the two normals</span></div>
<div class="line"><span class="lineno">  413</span>        <span class="comment">// (Quaternion::FromTwoVectors) and apply the rotation to the</span></div>
<div class="line"><span class="lineno">  414</span>        <span class="comment">// arrow head.</span></div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        <span class="keyword">auto</span> [polar, azimuth] = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ad5e0b267d5ff75af759f09e8b1f52d1a">dir_to_spheric</a>(n);</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">// skip if the tilt is not sane</span></div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> (polar &lt; <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> - <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19d9f8e91150b93dff3e90be756af0be">normal_cutoff_angle</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="comment">// We saturate the polar angle to 3pi/4</span></div>
<div class="line"><span class="lineno">  422</span>        polar = std::max(polar, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> - <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">bridge_slope</a>);</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>        <span class="comment">// save the head (pinpoint) position</span></div>
<div class="line"><span class="lineno">  425</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> hp = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>.row(fidx);</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordtype">double</span> lmin = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aef9c770499b2340c9f75a00c40ec56b2">head_width_mm</a>, lmax = lmin;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">if</span> (back_r &lt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>) {</div>
<div class="line"><span class="lineno">  430</span>            lmin = 0., lmax = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">head_penetration_mm</a>;</div>
<div class="line"><span class="lineno">  431</span>        }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        <span class="comment">// The distance needed for a pinhead to not collide with model.</span></div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordtype">double</span> w = lmin + 2 * back_r + 2 * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ac28ffc139e12ef4ed5b515b1800ffa4c">head_front_radius_mm</a> -</div>
<div class="line"><span class="lineno">  435</span>                   <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">head_penetration_mm</a>;</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordtype">double</span> pin_r = double(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#af36581ed6084d19373ac1f2501ce1a88">pts</a>[fidx].head_front_radius);</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>        <span class="comment">// Reassemble the now corrected normal</span></div>
<div class="line"><span class="lineno">  440</span>        <span class="keyword">auto</span> nn = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ac495628719e83c8c05c436e40a890686">spheric_to_dir</a>(polar, azimuth).normalized();</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        <span class="comment">// check available distance</span></div>
<div class="line"><span class="lineno">  443</span>        AABBMesh::hit_result t = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae1d43fb376d9519dd0171a1b4afcee15">pinhead_mesh_intersect</a>(hp, nn, pin_r, back_r, w);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordflow">if</span> (t.distance() &lt; w) {</div>
<div class="line"><span class="lineno">  446</span>            <span class="comment">// Let&#39;s try to optimize this angle, there might be a</span></div>
<div class="line"><span class="lineno">  447</span>            <span class="comment">// viable normal that doesn&#39;t collide with the model</span></div>
<div class="line"><span class="lineno">  448</span>            <span class="comment">// geometry and its very close to the default.</span></div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>            Optimizer&lt;AlgNLoptGenetic&gt; solver(<a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ac95d11abfe682f14a45bf0aaa9f022fa">get_criteria</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>));</div>
<div class="line"><span class="lineno">  451</span>            solver.seed(0); <span class="comment">// we want deterministic behavior</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>            <span class="keyword">auto</span> oresult = solver.to_max().optimize(</div>
<div class="line"><span class="lineno">  454</span>                [<span class="keyword">this</span>, pin_r, back_r, hp](<span class="keyword">const</span> opt::Input&lt;3&gt; &amp;<a class="code hl_function" href="../../d8/d33/lexer_8c.html#a171692544b8e065853e387755849a433">input</a>)</div>
<div class="line"><span class="lineno">  455</span>                {</div>
<div class="line"><span class="lineno">  456</span>                    <span class="keyword">auto</span> &amp;[plr, azm, l] = <a class="code hl_function" href="../../d8/d33/lexer_8c.html#a171692544b8e065853e387755849a433">input</a>;</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>                    <span class="keyword">auto</span> dir = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ac495628719e83c8c05c436e40a890686">spheric_to_dir</a>(plr, azm).normalized();</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae1d43fb376d9519dd0171a1b4afcee15">pinhead_mesh_intersect</a>(</div>
<div class="line"><span class="lineno">  461</span>                               hp, dir, pin_r, back_r, l).<a class="code hl_function" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html#aa98800f1b55092e72082d0582c88543e">distance</a>();</div>
<div class="line"><span class="lineno">  462</span>                },</div>
<div class="line"><span class="lineno">  463</span>                <a class="code hl_function" href="../../db/dc1/namespacelibnest2d_1_1opt.html#acbcb2d5b28f92a5b9a2a0e77c10e3daf">initvals</a>({polar, azimuth, (lmin + lmax) / 2.}), <span class="comment">// start with what we have</span></div>
<div class="line"><span class="lineno">  464</span>                <a class="code hl_function" href="../../d8/d86/namespace_slic3r_1_1opt.html#ad9b818b6999367924c5dcf86a940c2f4">bounds</a>({</div>
<div class="line"><span class="lineno">  465</span>                    {<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> - <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">bridge_slope</a>, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>},    <span class="comment">// Must not exceed the slope limit</span></div>
<div class="line"><span class="lineno">  466</span>                    {-<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>}, <span class="comment">// azimuth can be a full search</span></div>
<div class="line"><span class="lineno">  467</span>                    {lmin, lmax}</div>
<div class="line"><span class="lineno">  468</span>                }));</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">if</span>(oresult.score &gt; w) {</div>
<div class="line"><span class="lineno">  471</span>                polar = std::get&lt;0&gt;(oresult.optimum);</div>
<div class="line"><span class="lineno">  472</span>                azimuth = std::get&lt;1&gt;(oresult.optimum);</div>
<div class="line"><span class="lineno">  473</span>                nn = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ac495628719e83c8c05c436e40a890686">spheric_to_dir</a>(polar, azimuth).normalized();</div>
<div class="line"><span class="lineno">  474</span>                lmin = std::get&lt;2&gt;(oresult.optimum);</div>
<div class="line"><span class="lineno">  475</span>                t = AABBMesh::hit_result(oresult.score);</div>
<div class="line"><span class="lineno">  476</span>            }</div>
<div class="line"><span class="lineno">  477</span>        }</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">if</span> (t.distance() &gt; w &amp;&amp; hp.z() + w * nn.z() &gt;= <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>)) {</div>
<div class="line"><span class="lineno">  480</span>            Head &amp;h = heads[fidx];</div>
<div class="line"><span class="lineno">  481</span>            h.id        = fidx;</div>
<div class="line"><span class="lineno">  482</span>            h.dir       = nn;</div>
<div class="line"><span class="lineno">  483</span>            h.width_mm  = lmin;</div>
<div class="line"><span class="lineno">  484</span>            h.r_back_mm = back_r;</div>
<div class="line"><span class="lineno">  485</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (back_r &gt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af17596cc20d49a9037865f48ae78d44e">head_fallback_radius_mm</a>) {</div>
<div class="line"><span class="lineno">  486</span>            filterfn(fidx, i, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af17596cc20d49a9037865f48ae78d44e">head_fallback_radius_mm</a>);</div>
<div class="line"><span class="lineno">  487</span>        }</div>
<div class="line"><span class="lineno">  488</span>    };</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_function" href="../../dd/d43/namespace_slic3r_1_1execution.html#a7707f5e49d8a4e2e9fce66b91a5c1488">execution::for_each</a>(</div>
<div class="line"><span class="lineno">  491</span>        <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <span class="keywordtype">size_t</span>(0), filtered_indices.size(),</div>
<div class="line"><span class="lineno">  492</span>        [<span class="keyword">this</span>, &amp;filterfn, &amp;filtered_indices](<span class="keywordtype">size_t</span> i) {</div>
<div class="line"><span class="lineno">  493</span>            filterfn(filtered_indices[i], i, m_sm.cfg.head_back_radius_mm);</div>
<div class="line"><span class="lineno">  494</span>        },</div>
<div class="line"><span class="lineno">  495</span>        <a class="code hl_function" href="../../dd/d43/namespace_slic3r_1_1execution.html#ab1e33cdef542abaf3b8a479f4ce3b38f">execution::max_concurrency</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>));</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; heads.size(); ++i)</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> (heads[i].<a class="code hl_function" href="../../dc/db2/namespacepriv.html#ac4b6483b6a089d3ac57d0b39ef1cdeee">is_valid</a>()) {</div>
<div class="line"><span class="lineno">  499</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#af350fc6b6f247b8151ee6ed97820c3a9">add_head</a>(i, heads[i]);</div>
<div class="line"><span class="lineno">  500</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a>.emplace_back(i);</div>
<div class="line"><span class="lineno">  501</span>        }</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  504</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_mesh_1_1hit__result_html_aa98800f1b55092e72082d0582c88543e"><div class="ttname"><a href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html#aa98800f1b55092e72082d0582c88543e">Slic3r::AABBMesh::hit_result::distance</a></div><div class="ttdeci">double distance() const</div><div class="ttdef"><b>Definition</b> AABBMesh.hpp:84</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a23a0579fd23041fa73a12d94960e7a01"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">Slic3r::sla::DefaultSupportTree::PtIndices</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; PtIndices</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:61</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ae1d43fb376d9519dd0171a1b4afcee15"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae1d43fb376d9519dd0171a1b4afcee15">Slic3r::sla::DefaultSupportTree::pinhead_mesh_intersect</a></div><div class="ttdeci">AABBMesh::hit_result pinhead_mesh_intersect(const Vec3d &amp;s, const Vec3d &amp;dir, double r_pin, double r_back, double width, double safety_d)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:150</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ae60c5d2a7e2fbfb5c9b2aa9040f9d001"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">Slic3r::sla::DefaultSupportTree::m_iheads</a></div><div class="ttdeci">PtIndices m_iheads</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:63</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_af350fc6b6f247b8151ee6ed97820c3a9"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#af350fc6b6f247b8151ee6ed97820c3a9">Slic3r::sla::SupportTreeBuilder::add_head</a></div><div class="ttdeci">Head &amp; add_head(unsigned id, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:258</div></div>
<div class="ttc" id="aglu-libtess_8h_html_a4292190e3f1f6b373a760c7d9316ad3c"><div class="ttname"><a href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a></div><div class="ttdeci">typedef void(GLAPIENTRYP _GLUfuncptr)(void)</div></div>
<div class="ttc" id="alexer_8c_html_a171692544b8e065853e387755849a433"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#a171692544b8e065853e387755849a433">input</a></div><div class="ttdeci">static int input(void)</div></div>
<div class="ttc" id="alibslic3r_8h_html_a299aabc5fc8285cbf99025330a3d0d0d"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a></div><div class="ttdeci">static constexpr double PI</div><div class="ttdef"><b>Definition</b> libslic3r.h:58</div></div>
<div class="ttc" id="anamespace_eigen_html_a62e77e0933482dafde8fe197d9a2cfde"><div class="ttname"><a href="../../d0/da5/namespace_eigen.html#a62e77e0933482dafde8fe197d9a2cfde">Eigen::Index</a></div><div class="ttdeci">EIGEN_DEFAULT_DENSE_INDEX_TYPE Index</div><div class="ttdoc">The Index type as used for the API.</div><div class="ttdef"><b>Definition</b> Meta.h:33</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_ac495628719e83c8c05c436e40a890686"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ac495628719e83c8c05c436e40a890686">Slic3r::Geometry::spheric_to_dir</a></div><div class="ttdeci">Vec&lt; 3, T &gt; spheric_to_dir(double polar, double azimuth)</div><div class="ttdef"><b>Definition</b> Geometry.hpp:519</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_ad5e0b267d5ff75af759f09e8b1f52d1a"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#ad5e0b267d5ff75af759f09e8b1f52d1a">Slic3r::Geometry::dir_to_spheric</a></div><div class="ttdeci">std::pair&lt; Tout, Tout &gt; dir_to_spheric(const Vec&lt; 3, Tin &gt; &amp;n, Tout norm=1.)</div><div class="ttdef"><b>Definition</b> Geometry.hpp:509</div></div>
<div class="ttc" id="anamespace_slic3r_1_1execution_html_a7707f5e49d8a4e2e9fce66b91a5c1488"><div class="ttname"><a href="../../dd/d43/namespace_slic3r_1_1execution.html#a7707f5e49d8a4e2e9fce66b91a5c1488">Slic3r::execution::for_each</a></div><div class="ttdeci">void for_each(const EP &amp;ep, It from, It to, Fn &amp;&amp;fn, size_t granularity=1)</div><div class="ttdef"><b>Definition</b> Execution.hpp:46</div></div>
<div class="ttc" id="anamespace_slic3r_1_1execution_html_ab1e33cdef542abaf3b8a479f4ce3b38f"><div class="ttname"><a href="../../dd/d43/namespace_slic3r_1_1execution.html#ab1e33cdef542abaf3b8a479f4ce3b38f">Slic3r::execution::max_concurrency</a></div><div class="ttdeci">size_t max_concurrency(const EP &amp;ep)</div><div class="ttdef"><b>Definition</b> Execution.hpp:38</div></div>
<div class="ttc" id="anamespace_slic3r_1_1opt_html_ad9b818b6999367924c5dcf86a940c2f4"><div class="ttname"><a href="../../d8/d86/namespace_slic3r_1_1opt.html#ad9b818b6999367924c5dcf86a940c2f4">Slic3r::opt::bounds</a></div><div class="ttdeci">Bounds&lt; N &gt; bounds(const Bound(&amp;b)[N])</div><div class="ttdef"><b>Definition</b> Optimizer.hpp:192</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a11c5880b41bdccb74b532b3a46e7e66a"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a11c5880b41bdccb74b532b3a46e7e66a">Slic3r::sla::cluster</a></div><div class="ttdeci">ClusteredPoints cluster(const std::vector&lt; unsigned &gt; &amp;indices, std::function&lt; Vec3d(unsigned)&gt; pointfn, double dist, unsigned max_points)</div><div class="ttdef"><b>Definition</b> Clustering.cpp:93</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a1f28b9cd31b45305dbb04a98eff8dae3"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">Slic3r::sla::suptree_ex_policy</a></div><div class="ttdeci">constexpr const auto &amp; suptree_ex_policy</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:11</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_aa20f7e9692481f118a14e85faa01ed0e"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Slic3r::sla::Vec3d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 3, 1, Eigen::DontAlign &gt; Vec3d</div><div class="ttdef"><b>Definition</b> SpatIndex.hpp:15</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_ab41efd0a7605e561ab59549056b570c3"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">Slic3r::sla::ground_level</a></div><div class="ttdeci">double ground_level(const SupportableMesh &amp;sm)</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:134</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_ac95d11abfe682f14a45bf0aaa9f022fa"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#ac95d11abfe682f14a45bf0aaa9f022fa">Slic3r::sla::get_criteria</a></div><div class="ttdeci">StopCriteria get_criteria(const SupportTreeConfig &amp;cfg)</div><div class="ttdef"><b>Definition</b> SupportTreeUtils.hpp:106</div></div>
<div class="ttc" id="anamespace_slic3r_html_a289ca1c05974b158c7fc310b18732eee"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a289ca1c05974b158c7fc310b18732eee">Slic3r::normals</a></div><div class="ttdeci">Eigen::MatrixXd normals(Ex ex_policy, const PointSet &amp;points, const AABBMesh &amp;mesh, double eps, std::function&lt; void()&gt; thr, const std::vector&lt; unsigned &gt; &amp;pt_indices)</div><div class="ttdef"><b>Definition</b> MeshNormals.cpp:116</div></div>
<div class="ttc" id="anamespace_slic3r_html_a6d1a14f305df874ff75404512ecc5e3b"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a6d1a14f305df874ff75404512ecc5e3b">Slic3r::NaNd</a></div><div class="ttdeci">constexpr double NaNd</div><div class="ttdef"><b>Definition</b> libslic3r.h:365</div></div>
<div class="ttc" id="anamespacelibnest2d_1_1opt_html_acbcb2d5b28f92a5b9a2a0e77c10e3daf"><div class="ttname"><a href="../../db/dc1/namespacelibnest2d_1_1opt.html#acbcb2d5b28f92a5b9a2a0e77c10e3daf">libnest2d::opt::initvals</a></div><div class="ttdeci">tuple&lt; Args... &gt; initvals(Args...args)</div><div class="ttdef"><b>Definition</b> optimizer.hpp:54</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">marchsq::__impl::SquareTag::a</a></div><div class="ttdeci">@ a</div></div>
<div class="ttc" id="anamespacepriv_html_ac4b6483b6a089d3ac57d0b39ef1cdeee"><div class="ttname"><a href="../../dc/db2/namespacepriv.html#ac4b6483b6a089d3ac57d0b39ef1cdeee">priv::is_valid</a></div><div class="ttdeci">bool is_valid(const FontFile &amp;font, unsigned int index)</div><div class="ttdef"><b>Definition</b> Emboss.cpp:233</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a19d9f8e91150b93dff3e90be756af0be"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19d9f8e91150b93dff3e90be756af0be">Slic3r::sla::SupportTreeConfig::normal_cutoff_angle</a></div><div class="ttdeci">static const double constexpr normal_cutoff_angle</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:96</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a19fdd4d4863568ec196e1c7abcf6316a"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">Slic3r::sla::SupportTreeConfig::bridge_slope</a></div><div class="ttdeci">double bridge_slope</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:60</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a2c75265d112b6139202567bb55576f60"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a></div><div class="ttdeci">double head_back_radius_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:34</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_ac28ffc139e12ef4ed5b515b1800ffa4c"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ac28ffc139e12ef4ed5b515b1800ffa4c">Slic3r::sla::SupportTreeConfig::head_front_radius_mm</a></div><div class="ttdeci">double head_front_radius_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:28</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_ad10a5d307debda7615ac59b74cf54434"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">Slic3r::sla::SupportTreeConfig::head_penetration_mm</a></div><div class="ttdeci">double head_penetration_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:31</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_aef9c770499b2340c9f75a00c40ec56b2"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aef9c770499b2340c9f75a00c40ec56b2">Slic3r::sla::SupportTreeConfig::head_width_mm</a></div><div class="ttdeci">double head_width_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:39</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_af17596cc20d49a9037865f48ae78d44e"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af17596cc20d49a9037865f48ae78d44e">Slic3r::sla::SupportTreeConfig::head_fallback_radius_mm</a></div><div class="ttdeci">double head_fallback_radius_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:36</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_supportable_mesh_html_a2ad7c2a49bb9abbed404ef98ac08b498"><div class="ttname"><a href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">Slic3r::sla::SupportableMesh::emesh</a></div><div class="ttdeci">AABBMesh emesh</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:115</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_supportable_mesh_html_af36581ed6084d19373ac1f2501ce1a88"><div class="ttname"><a href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#af36581ed6084d19373ac1f2501ce1a88">Slic3r::sla::SupportableMesh::pts</a></div><div class="ttdeci">SupportPoints pts</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:116</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00258">Slic3r::sla::SupportTreeBuilder::add_head()</a>, <a class="el" href="../../#l00060">Slic3r::sla::SupportTreeConfig::bridge_slope</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00093">Slic3r::sla::cluster()</a>, <a class="el" href="../../#l00080">Slic3r::sla::Head::dir</a>, <a class="el" href="../../#l00084">Slic3r::AABBMesh::hit_result::distance()</a>, <a class="el" href="../../#l00115">Slic3r::sla::SupportableMesh::emesh</a>, <a class="el" href="../../#l00046">Slic3r::execution::for_each()</a>, <a class="el" href="../../#l00106">Slic3r::sla::get_criteria()</a>, <a class="el" href="../../#l00134">Slic3r::sla::ground_level()</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00036">Slic3r::sla::SupportTreeConfig::head_fallback_radius_mm</a>, <a class="el" href="../../#l00028">Slic3r::sla::SupportTreeConfig::head_front_radius_mm</a>, <a class="el" href="../../#l00031">Slic3r::sla::SupportTreeConfig::head_penetration_mm</a>, <a class="el" href="../../#l00039">Slic3r::sla::SupportTreeConfig::head_width_mm</a>, <a class="el" href="../../#l00067">Slic3r::sla::SupportTreeNode::id</a>, <a class="el" href="../../d8/d33/lexer_8c.html#a171692544b8e065853e387755849a433">input()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00063">m_iheads</a>, <a class="el" href="../../#l00080">m_points</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00084">m_thr</a>, <a class="el" href="../../#l00038">Slic3r::execution::max_concurrency()</a>, <a class="el" href="../../#l00365">Slic3r::NaNd</a>, <a class="el" href="../../#l00096">Slic3r::sla::SupportTreeConfig::normal_cutoff_angle</a>, <a class="el" href="../../#l00116">Slic3r::normals()</a>, <a class="el" href="../../#l00162">Slic3r::opt::Optimizer&lt; Method, Enable &gt;::optimize()</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00150">pinhead_mesh_intersect()</a>, <a class="el" href="../../#l00116">Slic3r::sla::SupportableMesh::pts</a>, <a class="el" href="../../#l00083">Slic3r::sla::Head::r_back_mm</a>, <a class="el" href="../../#l00170">Slic3r::opt::Optimizer&lt; Method, Enable &gt;::seed()</a>, <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>, <a class="el" href="../../#l00133">Slic3r::opt::Optimizer&lt; Method, Enable &gt;::to_max()</a>, <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void()</a>, and <a class="el" href="../../#l00085">Slic3r::sla::Head::width_mm</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a18467f1e2613a5f954075295cd366393_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a18467f1e2613a5f954075295cd366393_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afcd5ab6e34d28eb06c8869ca9e8cdf7d" name="afcd5ab6e34d28eb06c8869ca9e8cdf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd5ab6e34d28eb06c8869ca9e8cdf7d">&#9670;&#160;</a></span>bridge_mesh_distance()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Slic3r::sla::DefaultSupportTree::bridge_mesh_distance </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  153</span>                                                      {</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">bridge_mesh_intersect</a>(std::forward&lt;Args&gt;(args)...).<a class="code hl_function" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html#aa98800f1b55092e72082d0582c88543e">distance</a>();</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ace23a8b24ed471b7fff260e2334698f4"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">Slic3r::sla::DefaultSupportTree::bridge_mesh_intersect</a></div><div class="ttdeci">AABBMesh::hit_result bridge_mesh_intersect(const Vec3d &amp;s, const Vec3d &amp;dir, double r, double safety_d)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:161</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00161">bridge_mesh_intersect()</a>, and <a class="el" href="../../#l00084">Slic3r::AABBMesh::hit_result::distance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00260">connect_to_nearpillar()</a>, and <a class="el" href="../../#l00167">interconnect()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_afcd5ab6e34d28eb06c8869ca9e8cdf7d_cgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_afcd5ab6e34d28eb06c8869ca9e8cdf7d_icgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae437d9642e3d17735f7fdaa530e88379" name="ae437d9642e3d17735f7fdaa530e88379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae437d9642e3d17735f7fdaa530e88379">&#9670;&#160;</a></span>bridge_mesh_intersect() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> Slic3r::sla::DefaultSupportTree::bridge_mesh_intersect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  146</span>    {</div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">bridge_mesh_intersect</a>(s, dir, r,</div>
<div class="line"><span class="lineno">  148</span>                                     r * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aa641974bb0ee1c24c90bb754e4360271">safety_distance_mm</a> /</div>
<div class="line"><span class="lineno">  149</span>                                         <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>);</div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_aa641974bb0ee1c24c90bb754e4360271"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aa641974bb0ee1c24c90bb754e4360271">Slic3r::sla::SupportTreeConfig::safety_distance_mm</a></div><div class="ttdeci">static const double constexpr safety_distance_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:101</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00161">bridge_mesh_intersect()</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00059">m_sm</a>, and <a class="el" href="../../#l00101">Slic3r::sla::SupportTreeConfig::safety_distance_mm</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae437d9642e3d17735f7fdaa530e88379_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ace23a8b24ed471b7fff260e2334698f4" name="ace23a8b24ed471b7fff260e2334698f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace23a8b24ed471b7fff260e2334698f4">&#9670;&#160;</a></span>bridge_mesh_intersect() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> Slic3r::sla::DefaultSupportTree::bridge_mesh_intersect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>safety_d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  163</span>{</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#afc84d5da9eaf6307c3348c9319960576">sla::beam_mesh_hit</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>, {src, dir, r}, sd);</div>
<div class="line"><span class="lineno">  165</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_afc84d5da9eaf6307c3348c9319960576"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#afc84d5da9eaf6307c3348c9319960576">Slic3r::sla::beam_mesh_hit</a></div><div class="ttdeci">Hit beam_mesh_hit(Ex policy, const AABBMesh &amp;mesh, const Beam_&lt; RayCount &gt; &amp;beam, double sd)</div><div class="ttdef"><b>Definition</b> SupportTreeUtils.hpp:146</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00146">Slic3r::sla::beam_mesh_hit()</a>, <a class="el" href="../../#l00115">Slic3r::sla::SupportableMesh::emesh</a>, <a class="el" href="../../#l00059">m_sm</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00153">bridge_mesh_distance()</a>, <a class="el" href="../../#l00142">bridge_mesh_intersect()</a>, and <a class="el" href="../../#l00506">classify()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ace23a8b24ed471b7fff260e2334698f4_cgraph.svg" width="599" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ace23a8b24ed471b7fff260e2334698f4_icgraph.svg" width="100%" height="436"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6944b33eadda2b3a620b62c07fb48431" name="a6944b33eadda2b3a620b62c07fb48431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6944b33eadda2b3a620b62c07fb48431">&#9670;&#160;</a></span>classify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::classify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">// We should first get the heads that reach the ground directly</span></div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_typedef" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> ground_head_indices;</div>
<div class="line"><span class="lineno">  510</span>    ground_head_indices.reserve(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a>.size());</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a>.reserve(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a>.size());</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    <span class="comment">// First we decide which heads reach the ground and can be full</span></div>
<div class="line"><span class="lineno">  514</span>    <span class="comment">// pillars and which shall be connected to the model surface (or</span></div>
<div class="line"><span class="lineno">  515</span>    <span class="comment">// search a suitable path around the surface that leads to the</span></div>
<div class="line"><span class="lineno">  516</span>    <span class="comment">// ground -- TODO)</span></div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">m_iheads</a>) {</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>        Head &amp;<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a> = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">head</a>(i);</div>
<div class="line"><span class="lineno">  521</span>        <span class="keywordtype">double</span> r = <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm;</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> headjp = <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.junction_point();</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>           <span class="comment">// collision check</span></div>
<div class="line"><span class="lineno">  525</span>        <span class="keyword">auto</span> hit = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">bridge_mesh_intersect</a>(headjp, <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab2c5a8d29e1e239213ee1f858a0f9014">DOWN</a>, r);</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">if</span>(std::isinf(hit.distance())) ground_head_indices.emplace_back(i);</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a6830954d166c09e66ab41cdb40376b7d">ground_facing_only</a>)  <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.invalidate();</div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">else</span> <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a>.emplace_back(i);</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a4b311c62bf3089d4b6ea31fbf4cf60a4">m_head_to_ground_scans</a>[i] = hit;</div>
<div class="line"><span class="lineno">  532</span>    }</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// We want to search for clusters of points that are far enough</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">// from each other in the XY plane to not cross their pillar bases</span></div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">// These clusters of support points will join in one pillar,</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="comment">// possibly in their centroid support point.</span></div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keyword">auto</span> pointfn = [<span class="keyword">this</span>](<span class="keywordtype">unsigned</span> i) {</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">head</a>(i).<a class="code hl_function" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html#a520e3ac5a258ff6c79e31b2fdb13e52c">junction_point</a>();</div>
<div class="line"><span class="lineno">  541</span>    };</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    <span class="keyword">auto</span> predicate = [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a> &amp;e1,</div>
<div class="line"><span class="lineno">  544</span>                            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a> &amp;e2) {</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordtype">double</span> d2d = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a578a3c893e3dcbd808e579b6f488901c">to_2d</a>(e1.first), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a578a3c893e3dcbd808e579b6f488901c">to_2d</a>(e2.first));</div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordtype">double</span> d3d = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(e1.first, e2.first);</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">return</span> d2d &lt; 2 * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">base_radius_mm</a></div>
<div class="line"><span class="lineno">  548</span>               &amp;&amp; d3d &lt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a0c7dd6d1b6ab761e6bb8d29d3b3808e1">max_bridge_length_mm</a>;</div>
<div class="line"><span class="lineno">  549</span>    };</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">m_pillar_clusters</a> = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a11c5880b41bdccb74b532b3a46e7e66a">cluster</a>(ground_head_indices, pointfn, predicate,</div>
<div class="line"><span class="lineno">  552</span>                                <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a07fd7cd4b86424405fa6a1eb5beed422">max_bridges_on_pillar</a>);</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="a_block_methods_8h_html_a66cee6936cfa159827535f010684d973"><div class="ttname"><a href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a></div><div class="ttdeci">EIGEN_DEVICE_FUNC SegmentReturnType head(Index n)</div><div class="ttdoc">This is the const version of head(Index).</div><div class="ttdef"><b>Definition</b> BlockMethods.h:919</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a4b311c62bf3089d4b6ea31fbf4cf60a4"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a4b311c62bf3089d4b6ea31fbf4cf60a4">Slic3r::sla::DefaultSupportTree::m_head_to_ground_scans</a></div><div class="ttdeci">std::map&lt; unsigned, AABBMesh::hit_result &gt; m_head_to_ground_scans</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:66</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a8c911098941242486a991f97678bb2cd"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">Slic3r::sla::DefaultSupportTree::m_pillar_clusters</a></div><div class="ttdeci">std::vector&lt; PtIndices &gt; m_pillar_clusters</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:73</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a9055fc63dcacd48415ebdf8b489ccde7"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">Slic3r::sla::DefaultSupportTree::m_iheads_onmodel</a></div><div class="ttdeci">PtIndices m_iheads_onmodel</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:64</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a19c45b0758c7142dfcb00ea6d7ecdf99"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">Slic3r::sla::SupportTreeBuilder::head</a></div><div class="ttdeci">Head &amp; head(unsigned id)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:380</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a4bdef96a096b7124e071e180958ee0a7"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">Slic3r::sla::PointIndexEl</a></div><div class="ttdeci">std::pair&lt; Vec3d, unsigned &gt; PointIndexEl</div><div class="ttdef"><b>Definition</b> SpatIndex.hpp:16</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_aa4f41ff28d4c9d4af10cb1f86fe6d30e"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">Slic3r::sla::distance</a></div><div class="ttdeci">T distance(const Vec&lt; I, T &gt; &amp;p)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:52</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_ab2c5a8d29e1e239213ee1f858a0f9014"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#ab2c5a8d29e1e239213ee1f858a0f9014">Slic3r::sla::DOWN</a></div><div class="ttdeci">const Vec3d DOWN</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:61</div></div>
<div class="ttc" id="anamespace_slic3r_html_a578a3c893e3dcbd808e579b6f488901c"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a578a3c893e3dcbd808e579b6f488901c">Slic3r::to_2d</a></div><div class="ttdeci">Eigen::Matrix&lt; typename Derived::Scalar, 2, 1, Eigen::DontAlign &gt; to_2d(const Eigen::MatrixBase&lt; Derived &gt; &amp;ptN)</div><div class="ttdef"><b>Definition</b> Point.hpp:121</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_head_html_a520e3ac5a258ff6c79e31b2fdb13e52c"><div class="ttname"><a href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html#a520e3ac5a258ff6c79e31b2fdb13e52c">Slic3r::sla::Head::junction_point</a></div><div class="ttdeci">Vec3d junction_point() const</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:122</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a07fd7cd4b86424405fa6a1eb5beed422"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a07fd7cd4b86424405fa6a1eb5beed422">Slic3r::sla::SupportTreeConfig::max_bridges_on_pillar</a></div><div class="ttdeci">unsigned max_bridges_on_pillar</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:76</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a0c7dd6d1b6ab761e6bb8d29d3b3808e1"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a0c7dd6d1b6ab761e6bb8d29d3b3808e1">Slic3r::sla::SupportTreeConfig::max_bridge_length_mm</a></div><div class="ttdeci">double max_bridge_length_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:63</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a6830954d166c09e66ab41cdb40376b7d"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a6830954d166c09e66ab41cdb40376b7d">Slic3r::sla::SupportTreeConfig::ground_facing_only</a></div><div class="ttdeci">bool ground_facing_only</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:45</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00054">Slic3r::sla::SupportTreeConfig::base_radius_mm</a>, <a class="el" href="../../#l00161">bridge_mesh_intersect()</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00093">Slic3r::sla::cluster()</a>, <a class="el" href="../../#l00052">Slic3r::sla::distance()</a>, <a class="el" href="../../#l00061">Slic3r::sla::DOWN</a>, <a class="el" href="../../#l00045">Slic3r::sla::SupportTreeConfig::ground_facing_only</a>, <a class="el" href="../../#l00919">head()</a>, <a class="el" href="../../#l00380">Slic3r::sla::SupportTreeBuilder::head()</a>, <a class="el" href="../../#l00122">Slic3r::sla::Head::junction_point()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00066">m_head_to_ground_scans</a>, <a class="el" href="../../#l00063">m_iheads</a>, <a class="el" href="../../#l00064">m_iheads_onmodel</a>, <a class="el" href="../../#l00073">m_pillar_clusters</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00084">m_thr</a>, <a class="el" href="../../#l00063">Slic3r::sla::SupportTreeConfig::max_bridge_length_mm</a>, <a class="el" href="../../#l00076">Slic3r::sla::SupportTreeConfig::max_bridges_on_pillar</a>, and <a class="el" href="../../#l00121">Slic3r::to_2d()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a6944b33eadda2b3a620b62c07fb48431_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a6944b33eadda2b3a620b62c07fb48431_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a6b6d8c5761dcf669ea478b545f64786d" name="a6b6d8c5761dcf669ea478b545f64786d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6d8c5761dcf669ea478b545f64786d">&#9670;&#160;</a></span>connect_to_ground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::connect_to_ground </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  629</span>{</div>
<div class="line"><span class="lineno">  630</span>    <span class="keyword">auto</span> [ret, pillar_id] = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab55894cb6751cbc83a3a3a8eabcf3274">sla::search_ground_route</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>,</div>
<div class="line"><span class="lineno">  631</span>                                                     <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>,</div>
<div class="line"><span class="lineno">  632</span>                                                     {<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.junction_point(),</div>
<div class="line"><span class="lineno">  633</span>                                                      <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm},</div>
<div class="line"><span class="lineno">  634</span>                                                     <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm,</div>
<div class="line"><span class="lineno">  635</span>                                                     <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.dir);</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (pillar_id &gt;= 0) {</div>
<div class="line"><span class="lineno">  638</span>        <span class="comment">// Save the pillar endpoint in the spatial index</span></div>
<div class="line"><span class="lineno">  639</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a6c5f1c5f849ddd4541770f714b195c9a">guarded_insert</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(pillar_id).endpt,</div>
<div class="line"><span class="lineno">  640</span>                                      <span class="keywordtype">unsigned</span>(pillar_id));</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>        <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.pillar_id = pillar_id;</div>
<div class="line"><span class="lineno">  643</span>    }</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  646</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a39bdcde67234461310a4eace989d3115"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">Slic3r::sla::DefaultSupportTree::m_pillar_index</a></div><div class="ttdeci">PillarIndex m_pillar_index</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:87</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_pillar_index_html_a6c5f1c5f849ddd4541770f714b195c9a"><div class="ttname"><a href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a6c5f1c5f849ddd4541770f714b195c9a">Slic3r::sla::PillarIndex::guarded_insert</a></div><div class="ttdeci">void guarded_insert(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:20</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_ae3ed5926f49bcb0701fa7866c7f22fbb"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">Slic3r::sla::SupportTreeBuilder::pillar</a></div><div class="ttdeci">IntegerOnly&lt; T, const Pillar &amp; &gt; pillar(T id) const</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:399</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_ab55894cb6751cbc83a3a3a8eabcf3274"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#ab55894cb6751cbc83a3a3a8eabcf3274">Slic3r::sla::search_ground_route</a></div><div class="ttdeci">std::pair&lt; bool, long &gt; search_ground_route(Ex policy, SupportTreeBuilder &amp;builder, const SupportableMesh &amp;sm, const Junction &amp;j, double end_radius, const Vec3d &amp;init_dir=DOWN)</div><div class="ttdef"><b>Definition</b> SupportTreeUtilsLegacy.hpp:261</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00020">Slic3r::sla::PillarIndex::guarded_insert()</a>, <a class="el" href="../../#l00919">head()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00087">m_pillar_index</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00399">Slic3r::sla::SupportTreeBuilder::pillar()</a>, <a class="el" href="../../#l00261">Slic3r::sla::search_ground_route()</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00738">routing_to_model()</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a6b6d8c5761dcf669ea478b545f64786d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a6b6d8c5761dcf669ea478b545f64786d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a89d43bcb5868a3e62d90d02387d7fa25" name="a89d43bcb5868a3e62d90d02387d7fa25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d43bcb5868a3e62d90d02387d7fa25">&#9670;&#160;</a></span>connect_to_model_body()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::connect_to_model_body </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;&#160;</td>
          <td class="paramname"><em>head</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  649</span>{</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.id &lt;= <a class="code hl_variable" href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">SupportTreeNode::ID_UNSET</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a4b311c62bf3089d4b6ea31fbf4cf60a4">m_head_to_ground_scans</a>.find(<span class="keywordtype">unsigned</span>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.id));</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a4b311c62bf3089d4b6ea31fbf4cf60a4">m_head_to_ground_scans</a>.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    <span class="keyword">auto</span> &amp;hit = it-&gt;second;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">if</span> (!hit.is_hit()) {</div>
<div class="line"><span class="lineno">  658</span>        <span class="comment">// TODO scan for potential anchor points on model surface</span></div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> hjp = <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.junction_point();</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordtype">double</span> zangle = std::asin(hit.direction().z());</div>
<div class="line"><span class="lineno">  664</span>    zangle = std::max(zangle, <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>/4);</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordtype">double</span> h = std::sin(zangle) * <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.fullwidth();</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="comment">// The width of the tail head that we would like to have...</span></div>
<div class="line"><span class="lineno">  668</span>    h = std::min(hit.distance() - <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm, h);</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    <span class="comment">// If this is a mini pillar dont bother with the tail width, can be 0.</span></div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm &lt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>) h = std::max(h, 0.);</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (h &lt;= 0.) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> endp{hjp.x(), hjp.y(), hjp.z() - hit.distance() + h};</div>
<div class="line"><span class="lineno">  675</span>    <span class="keyword">auto</span> center_hit = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>.<a class="code hl_function" href="../../d7/dfa/class_slic3r_1_1_a_a_b_b_mesh.html#a8f00c75f38098019f11b771bbc14ed96">query_ray_hit</a>(hjp, <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab2c5a8d29e1e239213ee1f858a0f9014">DOWN</a>);</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordtype">double</span> hitdiff = center_hit.<a class="code hl_function" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html#aa98800f1b55092e72082d0582c88543e">distance</a>() - hit.distance();</div>
<div class="line"><span class="lineno">  678</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> hitp = std::abs(hitdiff) &lt; 2*<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm?</div>
<div class="line"><span class="lineno">  679</span>                     center_hit.position() : hit.position();</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordtype">long</span> pillar_id = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a130726add7685bbdc8da605c3511814a">add_pillar</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.id, hjp.z() - endp.z());</div>
<div class="line"><span class="lineno">  682</span>    Pillar &amp;pill = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(pillar_id);</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> taildir = endp - hitp;</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> = (hitp - endp).norm() + <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">head_penetration_mm</a>;</div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordtype">double</span> w = <a class="code hl_function" href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">dist</a> - 2 * <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_pin_mm - <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm;</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">if</span> (w &lt; 0.) {</div>
<div class="line"><span class="lineno">  689</span>        BOOST_LOG_TRIVIAL(warning) &lt;&lt; <span class="stringliteral">&quot;Pinhead width is negative!&quot;</span>;</div>
<div class="line"><span class="lineno">  690</span>        w = 0.;</div>
<div class="line"><span class="lineno">  691</span>    }</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a60ba8a33efdba2138201545d5d686bf6">add_anchor</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm, <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_pin_mm, w,</div>
<div class="line"><span class="lineno">  694</span>                         <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ad10a5d307debda7615ac59b74cf54434">head_penetration_mm</a>, taildir, hitp);</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a6c5f1c5f849ddd4541770f714b195c9a">guarded_insert</a>(pill.endpoint(), pill.id);</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  699</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_mesh_html_a8f00c75f38098019f11b771bbc14ed96"><div class="ttname"><a href="../../d7/dfa/class_slic3r_1_1_a_a_b_b_mesh.html#a8f00c75f38098019f11b771bbc14ed96">Slic3r::AABBMesh::query_ray_hit</a></div><div class="ttdeci">hit_result query_ray_hit(const Vec3d &amp;s, const Vec3d &amp;dir) const</div><div class="ttdef"><b>Definition</b> AABBMesh.cpp:152</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a130726add7685bbdc8da605c3511814a"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a130726add7685bbdc8da605c3511814a">Slic3r::sla::SupportTreeBuilder::add_pillar</a></div><div class="ttdeci">long add_pillar(long headid, double length)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:271</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a60ba8a33efdba2138201545d5d686bf6"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a60ba8a33efdba2138201545d5d686bf6">Slic3r::sla::SupportTreeBuilder::add_anchor</a></div><div class="ttdeci">const Anchor &amp; add_anchor(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:295</div></div>
<div class="ttc" id="anamespace_slic3r_1_1_geometry_html_a2b2112c1026a31e7c4c00693ca0bc2e2"><div class="ttname"><a href="../../d3/dfb/namespace_slic3r_1_1_geometry.html#a2b2112c1026a31e7c4c00693ca0bc2e2">Slic3r::Geometry::dist</a></div><div class="ttdeci">T dist(const boost::polygon::point_data&lt; T &gt; &amp;p1, const boost::polygon::point_data&lt; T &gt; &amp;p2)</div><div class="ttdef"><b>Definition</b> Geometry.cpp:280</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_node_html_a76078addba57fd698274703ced05c0d3"><div class="ttname"><a href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">Slic3r::sla::SupportTreeNode::ID_UNSET</a></div><div class="ttdeci">static const constexpr long ID_UNSET</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:65</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00295">Slic3r::sla::SupportTreeBuilder::add_anchor()</a>, <a class="el" href="../../#l00271">Slic3r::sla::SupportTreeBuilder::add_pillar()</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00084">Slic3r::AABBMesh::hit_result::distance()</a>, <a class="el" href="../../#l00061">Slic3r::sla::DOWN</a>, <a class="el" href="../../#l00115">Slic3r::sla::SupportableMesh::emesh</a>, <a class="el" href="../../#l00162">Slic3r::sla::Pillar::endpoint()</a>, <a class="el" href="../../#l00020">Slic3r::sla::PillarIndex::guarded_insert()</a>, <a class="el" href="../../#l00919">head()</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00031">Slic3r::sla::SupportTreeConfig::head_penetration_mm</a>, <a class="el" href="../../#l00067">Slic3r::sla::SupportTreeNode::id</a>, <a class="el" href="../../#l00065">Slic3r::sla::SupportTreeNode::ID_UNSET</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00066">m_head_to_ground_scans</a>, <a class="el" href="../../#l00087">m_pillar_index</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00058">PI</a>, <a class="el" href="../../#l00399">Slic3r::sla::SupportTreeBuilder::pillar()</a>, and <a class="el" href="../../#l00152">Slic3r::AABBMesh::query_ray_hit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00738">routing_to_model()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a89d43bcb5868a3e62d90d02387d7fa25_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a89d43bcb5868a3e62d90d02387d7fa25_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0cf057154f70931d7aaeffe4b7f50b66" name="a0cf057154f70931d7aaeffe4b7f50b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf057154f70931d7aaeffe4b7f50b66">&#9670;&#160;</a></span>connect_to_nearpillar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::connect_to_nearpillar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>nearpillar_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  262</span>{</div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">auto</span> nearpillar = [<span class="keyword">this</span>, nearpillar_id]() -&gt; <span class="keyword">const</span> Pillar&amp; {</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(nearpillar_id);</div>
<div class="line"><span class="lineno">  265</span>    };</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a94857c5648acbe10e789562b9778d67f">bridgecount</a>(nearpillar()) &gt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a07fd7cd4b86424405fa6a1eb5beed422">max_bridges_on_pillar</a>)</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> headjp = <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.junction_point();</div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> nearjp_u = nearpillar().startpoint();</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> nearjp_l = nearpillar().endpoint();</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordtype">double</span> r = <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm;</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordtype">double</span> d2d = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(<a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a578a3c893e3dcbd808e579b6f488901c">to_2d</a>(headjp), <a class="code hl_function" href="../../de/db8/namespace_slic3r.html#a578a3c893e3dcbd808e579b6f488901c">to_2d</a>(nearjp_u));</div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordtype">double</span> d3d = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(headjp, nearjp_u);</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordtype">double</span> hdiff = nearjp_u.z() - headjp.z();</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">double</span> slope = std::atan2(hdiff, d2d);</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> bridgestart = headjp;</div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> bridgeend = nearjp_u;</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordtype">double</span> max_len = r * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a0c7dd6d1b6ab761e6bb8d29d3b3808e1">max_bridge_length_mm</a> / <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>;</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordtype">double</span> max_slope = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">bridge_slope</a>;</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordtype">double</span> zdiff = 0.0;</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>       <span class="comment">// check the default situation if feasible for a bridge</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span>(d3d &gt; max_len || slope &gt; -max_slope) {</div>
<div class="line"><span class="lineno">  289</span>        <span class="comment">// not feasible to connect the two head junctions. We have to search</span></div>
<div class="line"><span class="lineno">  290</span>        <span class="comment">// for a suitable touch point.</span></div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordtype">double</span> Zdown = headjp.z() + d2d * std::tan(-max_slope);</div>
<div class="line"><span class="lineno">  293</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> touchjp = bridgeend; touchjp.z() = Zdown;</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordtype">double</span> D = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(headjp, touchjp);</div>
<div class="line"><span class="lineno">  295</span>        zdiff = Zdown - nearjp_u.z();</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">if</span>(zdiff &gt; 0) {</div>
<div class="line"><span class="lineno">  298</span>            Zdown -= zdiff;</div>
<div class="line"><span class="lineno">  299</span>            bridgestart.z() -= zdiff;</div>
<div class="line"><span class="lineno">  300</span>            touchjp.z() = Zdown;</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordtype">double</span> t = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a>(headjp, <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab2c5a8d29e1e239213ee1f858a0f9014">DOWN</a>, r);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>               <span class="comment">// We can&#39;t insert a pillar under the source head to connect</span></div>
<div class="line"><span class="lineno">  305</span>               <span class="comment">// with the nearby pillar&#39;s starting junction</span></div>
<div class="line"><span class="lineno">  306</span>            <span class="keywordflow">if</span>(t &lt; zdiff) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  307</span>        }</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span>(Zdown &lt;= nearjp_u.z() &amp;&amp; Zdown &gt;= nearjp_l.z() &amp;&amp; D &lt; max_len)</div>
<div class="line"><span class="lineno">  310</span>            bridgeend.z() = Zdown;</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  313</span>    }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>       <span class="comment">// There will be a minimum distance from the ground where the</span></div>
<div class="line"><span class="lineno">  316</span>       <span class="comment">// bridge is allowed to connect. This is an empiric value.</span></div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordtype">double</span> minz = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>) + 4 * <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.r_back_mm;</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span>(bridgeend.z() &lt; minz) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordtype">double</span> t = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a>(bridgestart, <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#af7fb78600461d0f438f5eb6d7708822a">dirv</a>(bridgestart, bridgeend), r);</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>       <span class="comment">// Cannot insert the bridge. (further search might not worth the hassle)</span></div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">if</span>(t &lt; <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(bridgestart, bridgeend)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>    std::lock_guard lk(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3c0ece7c8f1a624b0ddf87bea38aed84">m_bridge_mutex</a>);</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a94857c5648acbe10e789562b9778d67f">bridgecount</a>(nearpillar()) &lt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a07fd7cd4b86424405fa6a1eb5beed422">max_bridges_on_pillar</a>) {</div>
<div class="line"><span class="lineno">  328</span>        <span class="comment">// A partial pillar is needed under the starting head.</span></div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span>(zdiff &gt; 0) {</div>
<div class="line"><span class="lineno">  330</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a130726add7685bbdc8da605c3511814a">add_pillar</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.id, headjp.z() - bridgestart.z());</div>
<div class="line"><span class="lineno">  331</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a39bc20e522b9699d6b4fa1ff10cbaaba">add_junction</a>(bridgestart, r);</div>
<div class="line"><span class="lineno">  332</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a23976481a726809d6737abefa6c77f1b">add_bridge</a>(bridgestart, bridgeend, r);</div>
<div class="line"><span class="lineno">  333</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  334</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a23976481a726809d6737abefa6c77f1b">add_bridge</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.id, bridgeend);</div>
<div class="line"><span class="lineno">  335</span>        }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a58def42683c9fb1345be8355df3d8a64">increment_bridges</a>(nearpillar());</div>
<div class="line"><span class="lineno">  338</span>    } <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a3c0ece7c8f1a624b0ddf87bea38aed84"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3c0ece7c8f1a624b0ddf87bea38aed84">Slic3r::sla::DefaultSupportTree::m_bridge_mutex</a></div><div class="ttdeci">execution::BlockingMutex&lt; ExecutionTBB &gt; m_bridge_mutex</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:90</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_afcd5ab6e34d28eb06c8869ca9e8cdf7d"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">Slic3r::sla::DefaultSupportTree::bridge_mesh_distance</a></div><div class="ttdeci">double bridge_mesh_distance(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:153</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a23976481a726809d6737abefa6c77f1b"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a23976481a726809d6737abefa6c77f1b">Slic3r::sla::SupportTreeBuilder::add_bridge</a></div><div class="ttdeci">const Bridge &amp; add_bridge(const Vec3d &amp;s, const Vec3d &amp;e, double r)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:351</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a39bc20e522b9699d6b4fa1ff10cbaaba"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a39bc20e522b9699d6b4fa1ff10cbaaba">Slic3r::sla::SupportTreeBuilder::add_junction</a></div><div class="ttdeci">const Junction &amp; add_junction(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:342</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a58def42683c9fb1345be8355df3d8a64"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a58def42683c9fb1345be8355df3d8a64">Slic3r::sla::SupportTreeBuilder::increment_bridges</a></div><div class="ttdeci">void increment_bridges(const Pillar &amp;pillar)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:304</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a94857c5648acbe10e789562b9778d67f"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a94857c5648acbe10e789562b9778d67f">Slic3r::sla::SupportTreeBuilder::bridgecount</a></div><div class="ttdeci">unsigned bridgecount(const Pillar &amp;pillar) const</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:322</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_af7fb78600461d0f438f5eb6d7708822a"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#af7fb78600461d0f438f5eb6d7708822a">Slic3r::sla::dirv</a></div><div class="ttdeci">Vec&lt; N, T &gt; dirv(const Vec&lt; N, T &gt; &amp;startp, const Vec&lt; N, T &gt; &amp;endp)</div><div class="ttdef"><b>Definition</b> SupportTreeUtils.hpp:91</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00351">Slic3r::sla::SupportTreeBuilder::add_bridge()</a>, <a class="el" href="../../#l00342">Slic3r::sla::SupportTreeBuilder::add_junction()</a>, <a class="el" href="../../#l00271">Slic3r::sla::SupportTreeBuilder::add_pillar()</a>, <a class="el" href="../../#l00153">bridge_mesh_distance()</a>, <a class="el" href="../../#l00060">Slic3r::sla::SupportTreeConfig::bridge_slope</a>, <a class="el" href="../../#l00322">Slic3r::sla::SupportTreeBuilder::bridgecount()</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00091">Slic3r::sla::dirv()</a>, <a class="el" href="../../#l00052">Slic3r::sla::distance()</a>, <a class="el" href="../../#l00061">Slic3r::sla::DOWN</a>, <a class="el" href="../../#l00134">Slic3r::sla::ground_level()</a>, <a class="el" href="../../#l00919">head()</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00304">Slic3r::sla::SupportTreeBuilder::increment_bridges()</a>, <a class="el" href="../../#l00090">m_bridge_mutex</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00063">Slic3r::sla::SupportTreeConfig::max_bridge_length_mm</a>, <a class="el" href="../../#l00076">Slic3r::sla::SupportTreeConfig::max_bridges_on_pillar</a>, <a class="el" href="../../#l00399">Slic3r::sla::SupportTreeBuilder::pillar()</a>, and <a class="el" href="../../#l00121">Slic3r::to_2d()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00555">routing_to_ground()</a>, and <a class="el" href="../../#l00701">search_pillar_and_connect()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a0cf057154f70931d7aaeffe4b7f50b66_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a0cf057154f70931d7aaeffe4b7f50b66_icgraph.svg" width="100%" height="374"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a72da80ed50f099c60976f7e9d9a2d3a4" name="a72da80ed50f099c60976f7e9d9a2d3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72da80ed50f099c60976f7e9d9a2d3a4">&#9670;&#160;</a></span>create_ground_pillar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::create_ground_pillar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d5/d98/struct_slic3r_1_1sla_1_1_junction.html">Junction</a> &amp;&#160;</td>
          <td class="paramname"><em>jp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>sourcedir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d34/windows_8hpp.html#abc8f9f29715ddba51ee7f197feb6fd26">long</a>&#160;</td>
          <td class="paramname"><em>head_id</em> = <code><a class="el" href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">SupportTreeNode::ID_UNSET</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  346</span>{</div>
<div class="line"><span class="lineno">  347</span>    <span class="keyword">auto</span> [ret, pillar_id] = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a161682cfd44c232dec28db061655644e">sla::create_ground_pillar</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>,</div>
<div class="line"><span class="lineno">  348</span>                                                      <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>,</div>
<div class="line"><span class="lineno">  349</span>                                                      <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>,</div>
<div class="line"><span class="lineno">  350</span>                                                      hjp.pos,</div>
<div class="line"><span class="lineno">  351</span>                                                      sourcedir,</div>
<div class="line"><span class="lineno">  352</span>                                                      hjp.r,</div>
<div class="line"><span class="lineno">  353</span>                                                      hjp.r,</div>
<div class="line"><span class="lineno">  354</span>                                                      head_id);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (pillar_id &gt;= 0) <span class="comment">// Save the pillar endpoint in the spatial index</span></div>
<div class="line"><span class="lineno">  357</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a6c5f1c5f849ddd4541770f714b195c9a">guarded_insert</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(pillar_id).endpt,</div>
<div class="line"><span class="lineno">  358</span>                                      <span class="keywordtype">unsigned</span>(pillar_id));</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  361</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a161682cfd44c232dec28db061655644e"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a161682cfd44c232dec28db061655644e">Slic3r::sla::create_ground_pillar</a></div><div class="ttdeci">std::pair&lt; bool, long &gt; create_ground_pillar(Ex policy, SupportTreeBuilder &amp;builder, const SupportableMesh &amp;sm, const Vec3d &amp;pinhead_junctionpt, const Vec3d &amp;sourcedir, double radius, double end_radius, long head_id=SupportTreeNode::ID_UNSET)</div><div class="ttdef"><b>Definition</b> SupportTreeUtilsLegacy.hpp:97</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00097">Slic3r::sla::create_ground_pillar()</a>, <a class="el" href="../../#l00020">Slic3r::sla::PillarIndex::guarded_insert()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00087">m_pillar_index</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00399">Slic3r::sla::SupportTreeBuilder::pillar()</a>, <a class="el" href="../../#l00073">Slic3r::sla::Junction::pos</a>, <a class="el" href="../../#l00072">Slic3r::sla::Junction::r</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00555">routing_to_ground()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a72da80ed50f099c60976f7e9d9a2d3a4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a72da80ed50f099c60976f7e9d9a2d3a4_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5f3f8329b7c99171780e485d9d659aeb" name="a5f3f8329b7c99171780e485d9d659aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f3f8329b7c99171780e485d9d659aeb">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a> &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a> &amp;&#160;</td>
          <td class="paramname"><em>sm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span>(sm.pts.empty()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3028d0478e72a46db31a3ce58f608351">DefaultSupportTree</a> alg(builder, sm);</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>       <span class="comment">// Let&#39;s define the individual steps of the processing. We can experiment</span></div>
<div class="line"><span class="lineno">   45</span>       <span class="comment">// later with the ordering and the dependencies between them.</span></div>
<div class="line"><span class="lineno">   46</span>    <span class="keyword">enum</span> Steps {</div>
<div class="line"><span class="lineno">   47</span>        <a class="code hl_define" href="../../d8/d33/lexer_8c.html#ab766bbbee08d04b67e3fe599d6900873">BEGIN</a>,</div>
<div class="line"><span class="lineno">   48</span>        PINHEADS,</div>
<div class="line"><span class="lineno">   49</span>        CLASSIFY,</div>
<div class="line"><span class="lineno">   50</span>        ROUTING_GROUND,</div>
<div class="line"><span class="lineno">   51</span>        ROUTING_NONGROUND,</div>
<div class="line"><span class="lineno">   52</span>        CASCADE_PILLARS,</div>
<div class="line"><span class="lineno">   53</span>        MERGE_RESULT,</div>
<div class="line"><span class="lineno">   54</span>        DONE,</div>
<div class="line"><span class="lineno">   55</span>        ABORT,</div>
<div class="line"><span class="lineno">   56</span>        NUM_STEPS</div>
<div class="line"><span class="lineno">   57</span>        <span class="comment">//...</span></div>
<div class="line"><span class="lineno">   58</span>    };</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>       <span class="comment">// Collect the algorithm steps into a nice sequence</span></div>
<div class="line"><span class="lineno">   61</span>    std::array&lt;std::function&lt;<a class="code hl_function" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a>()&gt;, NUM_STEPS&gt; program = {</div>
<div class="line"><span class="lineno">   62</span>        [] () {</div>
<div class="line"><span class="lineno">   63</span>            <span class="comment">// Begin...</span></div>
<div class="line"><span class="lineno">   64</span>            <span class="comment">// Potentially clear up the shared data (not needed for now)</span></div>
<div class="line"><span class="lineno">   65</span>        },</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a18467f1e2613a5f954075295cd366393">DefaultSupportTree::add_pinheads</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6944b33eadda2b3a620b62c07fb48431">DefaultSupportTree::classify</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a28517ac516d5aae1a1d53e3bf0ac41cb">DefaultSupportTree::routing_to_ground</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae83a50e5b42513a911e826a9863c2ecd">DefaultSupportTree::routing_to_model</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae9ede8d634c88d0796968d7708526621">DefaultSupportTree::interconnect_pillars</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        std::bind(&amp;<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a176c5e75f7c6d4df3a11dbb917799515">DefaultSupportTree::merge_result</a>, &amp;alg),</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        [] () {</div>
<div class="line"><span class="lineno">   80</span>            <span class="comment">// Done</span></div>
<div class="line"><span class="lineno">   81</span>        },</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        [] () {</div>
<div class="line"><span class="lineno">   84</span>            <span class="comment">// Abort</span></div>
<div class="line"><span class="lineno">   85</span>        }</div>
<div class="line"><span class="lineno">   86</span>    };</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    Steps pc = <a class="code hl_define" href="../../d8/d33/lexer_8c.html#ab766bbbee08d04b67e3fe599d6900873">BEGIN</a>;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span>(sm.cfg.ground_facing_only) {</div>
<div class="line"><span class="lineno">   91</span>        program[ROUTING_NONGROUND] = []() {</div>
<div class="line"><span class="lineno">   92</span>            BOOST_LOG_TRIVIAL(info)</div>
<div class="line"><span class="lineno">   93</span>                &lt;&lt; <span class="stringliteral">&quot;Skipping model-facing supports as requested.&quot;</span>;</div>
<div class="line"><span class="lineno">   94</span>        };</div>
<div class="line"><span class="lineno">   95</span>    }</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>       <span class="comment">// Let&#39;s define a simple automaton that will run our program.</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="keyword">auto</span> progress = [&amp;builder, &amp;pc] () {</div>
<div class="line"><span class="lineno">   99</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;std::string, NUM_STEPS&gt; stepstr {</div>
<div class="line"><span class="lineno">  100</span>            <span class="stringliteral">&quot;Starting&quot;</span>,</div>
<div class="line"><span class="lineno">  101</span>            <span class="stringliteral">&quot;Generate pinheads&quot;</span>,</div>
<div class="line"><span class="lineno">  102</span>            <span class="stringliteral">&quot;Classification&quot;</span>,</div>
<div class="line"><span class="lineno">  103</span>            <span class="stringliteral">&quot;Routing to ground&quot;</span>,</div>
<div class="line"><span class="lineno">  104</span>            <span class="stringliteral">&quot;Routing supports to model surface&quot;</span>,</div>
<div class="line"><span class="lineno">  105</span>            <span class="stringliteral">&quot;Interconnecting pillars&quot;</span>,</div>
<div class="line"><span class="lineno">  106</span>            <span class="stringliteral">&quot;Merging support mesh&quot;</span>,</div>
<div class="line"><span class="lineno">  107</span>            <span class="stringliteral">&quot;Done&quot;</span>,</div>
<div class="line"><span class="lineno">  108</span>            <span class="stringliteral">&quot;Abort&quot;</span></div>
<div class="line"><span class="lineno">  109</span>        };</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;unsigned, NUM_STEPS&gt; stepstate {</div>
<div class="line"><span class="lineno">  112</span>            0,</div>
<div class="line"><span class="lineno">  113</span>            30,</div>
<div class="line"><span class="lineno">  114</span>            50,</div>
<div class="line"><span class="lineno">  115</span>            60,</div>
<div class="line"><span class="lineno">  116</span>            70,</div>
<div class="line"><span class="lineno">  117</span>            80,</div>
<div class="line"><span class="lineno">  118</span>            99,</div>
<div class="line"><span class="lineno">  119</span>            100,</div>
<div class="line"><span class="lineno">  120</span>            0</div>
<div class="line"><span class="lineno">  121</span>        };</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">if</span>(builder.ctl().stopcondition()) pc = ABORT;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">switch</span>(pc) {</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="../../d8/d33/lexer_8c.html#ab766bbbee08d04b67e3fe599d6900873">BEGIN</a>: pc = PINHEADS; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">case</span> PINHEADS: pc = CLASSIFY; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">case</span> CLASSIFY: pc = ROUTING_GROUND; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  129</span>        <span class="keywordflow">case</span> ROUTING_GROUND: pc = ROUTING_NONGROUND; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">case</span> ROUTING_NONGROUND: pc = CASCADE_PILLARS; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">case</span> CASCADE_PILLARS: pc = MERGE_RESULT; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">case</span> MERGE_RESULT: pc = DONE; <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">case</span> DONE:</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">case</span> ABORT: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">default</span>: ;</div>
<div class="line"><span class="lineno">  136</span>        }</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>        builder.ctl().statuscb(stepstate[pc], stepstr[pc]);</div>
<div class="line"><span class="lineno">  139</span>    };</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>       <span class="comment">// Just here we run the computation...</span></div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">while</span>(pc &lt; DONE) {</div>
<div class="line"><span class="lineno">  143</span>        progress();</div>
<div class="line"><span class="lineno">  144</span>        program[pc]();</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">return</span> pc == ABORT;</div>
<div class="line"><span class="lineno">  148</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a176c5e75f7c6d4df3a11dbb917799515"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a176c5e75f7c6d4df3a11dbb917799515">Slic3r::sla::DefaultSupportTree::merge_result</a></div><div class="ttdeci">void merge_result()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:233</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a18467f1e2613a5f954075295cd366393"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a18467f1e2613a5f954075295cd366393">Slic3r::sla::DefaultSupportTree::add_pinheads</a></div><div class="ttdeci">void add_pinheads()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:363</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a28517ac516d5aae1a1d53e3bf0ac41cb"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a28517ac516d5aae1a1d53e3bf0ac41cb">Slic3r::sla::DefaultSupportTree::routing_to_ground</a></div><div class="ttdeci">void routing_to_ground()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:555</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a3028d0478e72a46db31a3ce58f608351"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a3028d0478e72a46db31a3ce58f608351">Slic3r::sla::DefaultSupportTree::DefaultSupportTree</a></div><div class="ttdeci">DefaultSupportTree(SupportTreeBuilder &amp;builder, const SupportableMesh &amp;sm)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:17</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a6944b33eadda2b3a620b62c07fb48431"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6944b33eadda2b3a620b62c07fb48431">Slic3r::sla::DefaultSupportTree::classify</a></div><div class="ttdeci">void classify()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:506</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ae83a50e5b42513a911e826a9863c2ecd"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae83a50e5b42513a911e826a9863c2ecd">Slic3r::sla::DefaultSupportTree::routing_to_model</a></div><div class="ttdeci">void routing_to_model()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:738</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ae9ede8d634c88d0796968d7708526621"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae9ede8d634c88d0796968d7708526621">Slic3r::sla::DefaultSupportTree::interconnect_pillars</a></div><div class="ttdeci">void interconnect_pillars()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:770</div></div>
<div class="ttc" id="alexer_8c_html_ab766bbbee08d04b67e3fe599d6900873"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#ab766bbbee08d04b67e3fe599d6900873">BEGIN</a></div><div class="ttdeci">#define BEGIN</div><div class="ttdef"><b>Definition</b> lexer.c:117</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00363">add_pinheads()</a>, <a class="el" href="../../#l00117">BEGIN</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00506">classify()</a>, <a class="el" href="../../#l00256">Slic3r::sla::SupportTreeBuilder::ctl()</a>, <a class="el" href="../../#l00045">Slic3r::sla::SupportTreeConfig::ground_facing_only</a>, <a class="el" href="../../#l00770">interconnect_pillars()</a>, <a class="el" href="../../#l00233">merge_result()</a>, <a class="el" href="../../#l00116">Slic3r::sla::SupportableMesh::pts</a>, <a class="el" href="../../#l00555">routing_to_ground()</a>, <a class="el" href="../../#l00738">routing_to_model()</a>, <a class="el" href="../../#l00018">Slic3r::sla::JobController::statuscb</a>, <a class="el" href="../../#l00021">Slic3r::sla::JobController::stopcondition</a>, and <a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00238">Slic3r::sla::create_default_tree()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a5f3f8329b7c99171780e485d9d659aeb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a5f3f8329b7c99171780e485d9d659aeb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac88fdd2c72db851a70846123057050f4" name="ac88fdd2c72db851a70846123057050f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88fdd2c72db851a70846123057050f4">&#9670;&#160;</a></span>interconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::interconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d22/struct_slic3r_1_1sla_1_1_pillar.html">Pillar</a> &amp;&#160;</td>
          <td class="paramname"><em>pillar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../dd/d22/struct_slic3r_1_1sla_1_1_pillar.html">Pillar</a> &amp;&#160;</td>
          <td class="paramname"><em>nextpillar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  169</span>{</div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// We need to get the starting point of the zig-zag pattern. We have to</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="comment">// be aware that the two head junctions are at different heights. We</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="comment">// may start from the lowest junction and call it a day but this</span></div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">// strategy would leave unconnected a lot of pillar duos where the</span></div>
<div class="line"><span class="lineno">  174</span>    <span class="comment">// shorter pillar is too short to start a new bridge but the taller</span></div>
<div class="line"><span class="lineno">  175</span>    <span class="comment">// pillar could still be bridged with the shorter one.</span></div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordtype">bool</span> was_connected = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> supper = pillar.startpoint();</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> slower = nextpillar.startpoint();</div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> eupper = pillar.endpoint();</div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> elower = nextpillar.endpoint();</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordtype">double</span> zmin = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>) + <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a3f463807b0288b56e397262ecbb1b433">base_height_mm</a>;</div>
<div class="line"><span class="lineno">  184</span>    eupper.z() = std::max(eupper.z(), zmin);</div>
<div class="line"><span class="lineno">  185</span>    elower.z() = std::max(elower.z(), zmin);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>       <span class="comment">// The usable length of both pillars should be positive</span></div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span>(slower.z() - elower.z() &lt; 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">if</span>(supper.z() - eupper.z() &lt; 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">double</span> pillar_dist = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>{slower.x(), slower.y()},</div>
<div class="line"><span class="lineno">  192</span>                                      <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>{supper.x(), supper.y()});</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordtype">double</span> bridge_distance = pillar_dist / std::cos(-<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">bridge_slope</a>);</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">double</span> zstep = pillar_dist * std::tan(-<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a19fdd4d4863568ec196e1c7abcf6316a">bridge_slope</a>);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span>(pillar_dist &lt; 2 * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a> ||</div>
<div class="line"><span class="lineno">  197</span>        pillar_dist &gt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af81c7c272736d1079d33da417a4029e8">max_pillar_link_distance_mm</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span>(supper.z() &lt; slower.z()) supper.swap(slower);</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span>(eupper.z() &lt; elower.z()) eupper.swap(elower);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordtype">double</span> startz = 0, endz = 0;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    startz = slower.z() - zstep &lt; supper.z() ? slower.z() - zstep : slower.z();</div>
<div class="line"><span class="lineno">  205</span>    endz = eupper.z() + zstep &gt; elower.z() ? eupper.z() + zstep : eupper.z();</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">if</span>(slower.z() - eupper.z() &lt; std::abs(zstep)) {</div>
<div class="line"><span class="lineno">  208</span>        <span class="comment">// no space for even one cross</span></div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>           <span class="comment">// Get max available space</span></div>
<div class="line"><span class="lineno">  211</span>        startz = std::min(supper.z(), slower.z() - zstep);</div>
<div class="line"><span class="lineno">  212</span>        endz = std::max(eupper.z() + zstep, elower.z());</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>           <span class="comment">// Align to center</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordtype">double</span> available_dist = (startz - endz);</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordtype">double</span> rounds = std::floor(available_dist / std::abs(zstep));</div>
<div class="line"><span class="lineno">  217</span>        startz -= 0.5 * (available_dist - rounds * std::abs(zstep));</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">auto</span> pcm = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a0f0b055a45504fd2ae90765f4cefe6db">pillar_connection_mode</a>;</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordtype">bool</span> docrosses =</div>
<div class="line"><span class="lineno">  222</span>        pcm == <a class="code hl_enumvalue" href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2ea22aadb26447d87b550b155a4d764fad0">PillarConnectionMode::cross</a> ||</div>
<div class="line"><span class="lineno">  223</span>        (pcm == <a class="code hl_enumvalue" href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2eab72f3bd391ba731a35708bfd8cd8a68f">PillarConnectionMode::dynamic</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  224</span>         pillar_dist &gt; 2*<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">base_radius_mm</a>);</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>       <span class="comment">// &#39;sj&#39; means starting junction, &#39;ej&#39; is the end junction of a bridge.</span></div>
<div class="line"><span class="lineno">  227</span>       <span class="comment">// They will be swapped in every iteration thus the zig-zag pattern.</span></div>
<div class="line"><span class="lineno">  228</span>       <span class="comment">// According to a config parameter, a second bridge may be added which</span></div>
<div class="line"><span class="lineno">  229</span>       <span class="comment">// results in a cross connection between the pillars.</span></div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> sj = supper, ej = slower; sj.z() = startz; ej.z() = sj.z() + zstep;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>       <span class="comment">// TODO: This is a workaround to not have a faulty last bridge</span></div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">while</span>(ej.z() &gt;= eupper.z() <span class="comment">/*endz*/</span>) {</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a>(sj, <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#af7fb78600461d0f438f5eb6d7708822a">dirv</a>(sj, ej), pillar.r_start) &gt;= bridge_distance)</div>
<div class="line"><span class="lineno">  235</span>        {</div>
<div class="line"><span class="lineno">  236</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ac710babcb3a5fe5216c9bc75a69357ac">add_crossbridge</a>(sj, ej, pillar.r_start);</div>
<div class="line"><span class="lineno">  237</span>            was_connected = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>           <span class="comment">// double bridging: (crosses)</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span>(docrosses) {</div>
<div class="line"><span class="lineno">  242</span>            <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> sjback(ej.x(), ej.y(), sj.z());</div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> ejback(sj.x(), sj.y(), ej.z());</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">if</span> (sjback.z() &lt;= slower.z() &amp;&amp; ejback.z() &gt;= eupper.z() &amp;&amp;</div>
<div class="line"><span class="lineno">  245</span>                <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a>(sjback, <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#af7fb78600461d0f438f5eb6d7708822a">dirv</a>(sjback, ejback),</div>
<div class="line"><span class="lineno">  246</span>                                     pillar.r_start) &gt;= bridge_distance) {</div>
<div class="line"><span class="lineno">  247</span>                <span class="comment">// need to check collision for the cross stick</span></div>
<div class="line"><span class="lineno">  248</span>                <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ac710babcb3a5fe5216c9bc75a69357ac">add_crossbridge</a>(sjback, ejback, pillar.r_start);</div>
<div class="line"><span class="lineno">  249</span>                was_connected = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  250</span>            }</div>
<div class="line"><span class="lineno">  251</span>        }</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        sj.swap(ej);</div>
<div class="line"><span class="lineno">  254</span>        ej.z() = sj.z() + zstep;</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">return</span> was_connected;</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_ac710babcb3a5fe5216c9bc75a69357ac"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ac710babcb3a5fe5216c9bc75a69357ac">Slic3r::sla::SupportTreeBuilder::add_crossbridge</a></div><div class="ttdeci">const Bridge &amp; add_crossbridge(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:370</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a14dd6b7cc4fe3e8ea2a1018f0b9f5c2ea22aadb26447d87b550b155a4d764fad0"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2ea22aadb26447d87b550b155a4d764fad0">Slic3r::sla::PillarConnectionMode::cross</a></div><div class="ttdeci">@ cross</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a14dd6b7cc4fe3e8ea2a1018f0b9f5c2eab72f3bd391ba731a35708bfd8cd8a68f"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2eab72f3bd391ba731a35708bfd8cd8a68f">Slic3r::sla::PillarConnectionMode::dynamic</a></div><div class="ttdeci">@ dynamic</div></div>
<div class="ttc" id="anamespace_slic3r_html_a40e8e384542f32f8150cabd3db031651"><div class="ttname"><a href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Slic3r::Vec2d</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 2, 1, Eigen::DontAlign &gt; Vec2d</div><div class="ttdef"><b>Definition</b> Point.hpp:51</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a0f0b055a45504fd2ae90765f4cefe6db"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a0f0b055a45504fd2ae90765f4cefe6db">Slic3r::sla::SupportTreeConfig::pillar_connection_mode</a></div><div class="ttdeci">PillarConnectionMode pillar_connection_mode</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:42</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_af81c7c272736d1079d33da417a4029e8"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af81c7c272736d1079d33da417a4029e8">Slic3r::sla::SupportTreeConfig::max_pillar_link_distance_mm</a></div><div class="ttdeci">double max_pillar_link_distance_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00370">Slic3r::sla::SupportTreeBuilder::add_crossbridge()</a>, <a class="el" href="../../#l00057">Slic3r::sla::SupportTreeConfig::base_height_mm</a>, <a class="el" href="../../#l00054">Slic3r::sla::SupportTreeConfig::base_radius_mm</a>, <a class="el" href="../../#l00153">bridge_mesh_distance()</a>, <a class="el" href="../../#l00060">Slic3r::sla::SupportTreeConfig::bridge_slope</a>, <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2ea22aadb26447d87b550b155a4d764fad0">Slic3r::sla::cross</a>, <a class="el" href="../../#l00091">Slic3r::sla::dirv()</a>, <a class="el" href="../../#l00052">Slic3r::sla::distance()</a>, <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#a14dd6b7cc4fe3e8ea2a1018f0b9f5c2eab72f3bd391ba731a35708bfd8cd8a68f">Slic3r::sla::dynamic</a>, <a class="el" href="../../#l00162">Slic3r::sla::Pillar::endpoint()</a>, <a class="el" href="../../#l00134">Slic3r::sla::ground_level()</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00066">Slic3r::sla::SupportTreeConfig::max_pillar_link_distance_mm</a>, <a class="el" href="../../#l00042">Slic3r::sla::SupportTreeConfig::pillar_connection_mode</a>, <a class="el" href="../../#l00132">Slic3r::sla::Pillar::r_start</a>, <a class="el" href="../../#l00157">Slic3r::sla::Pillar::startpoint()</a>, and <a class="el" href="../../#l00886">Eigen::PlainObjectBase&lt; Derived &gt;::swap()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ac88fdd2c72db851a70846123057050f4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae9ede8d634c88d0796968d7708526621" name="ae9ede8d634c88d0796968d7708526621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ede8d634c88d0796968d7708526621">&#9670;&#160;</a></span>interconnect_pillars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::interconnect_pillars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  771</span>{</div>
<div class="line"><span class="lineno">  772</span>    <span class="comment">// Now comes the algorithm that connects pillars with each other.</span></div>
<div class="line"><span class="lineno">  773</span>    <span class="comment">// Ideally every pillar should be connected with at least one of its</span></div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// neighbors if that neighbor is within max_pillar_link_distance</span></div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <span class="comment">// Pillars with height exceeding H1 will require at least one neighbor</span></div>
<div class="line"><span class="lineno">  777</span>    <span class="comment">// to connect with. Height exceeding H2 require two neighbors.</span></div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordtype">double</span> H1 = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ae420c4d9bf7d7e58791f3a403d76c35f">max_solo_pillar_height_mm</a>;</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordtype">double</span> H2 = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a01a6f4d92fc8eb3a9a708456a7588c58">max_dual_pillar_height_mm</a>;</div>
<div class="line"><span class="lineno">  780</span>    <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#af81c7c272736d1079d33da417a4029e8">max_pillar_link_distance_mm</a>;</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">// A connection between two pillars only counts if the height ratio is</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="comment">// bigger than 50%</span></div>
<div class="line"><span class="lineno">  784</span>    <span class="keywordtype">double</span> min_height_ratio = 0.5;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>    std::set&lt;unsigned long&gt; pairs;</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">// A function to connect one pillar with its neighbors. THe number of</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="comment">// neighbors is given in the configuration. This function if called</span></div>
<div class="line"><span class="lineno">  790</span>    <span class="comment">// for every pillar in the pillar index. A pair of pillar will not</span></div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">// be connected multiple times this is ensured by the &#39;pairs&#39; set which</span></div>
<div class="line"><span class="lineno">  792</span>    <span class="comment">// remembers the processed pillar pairs</span></div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">auto</span> cascadefn =</div>
<div class="line"><span class="lineno">  794</span>        [<span class="keyword">this</span>, <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a>, &amp;pairs, min_height_ratio, H1] (<span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a>&amp; el)</div>
<div class="line"><span class="lineno">  795</span>    {</div>
<div class="line"><span class="lineno">  796</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> qp = el.first;    <span class="comment">// endpoint of the pillar</span></div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>        <span class="keyword">const</span> Pillar&amp; pillar = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(el.second); <span class="comment">// actual pillar</span></div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>        <span class="comment">// Get the max number of neighbors a pillar should connect to</span></div>
<div class="line"><span class="lineno">  801</span>        <span class="keywordtype">unsigned</span> neighbors = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a3530bb98463522d95a83398eb8bb26a9">pillar_cascade_neighbors</a>;</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>        <span class="comment">// connections are already enough for the pillar</span></div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">if</span>(pillar.links &gt;= neighbors) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>        <span class="keywordtype">double</span> max_d = <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">d</a> * pillar.r_start / <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>;</div>
<div class="line"><span class="lineno">  807</span>        <span class="comment">// Query all remaining points within reach</span></div>
<div class="line"><span class="lineno">  808</span>        <span class="keyword">auto</span> qres = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#aee6aade607d6d7b8ef3fb8504e70acfc">query</a>([qp, max_d](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a>&amp; e){</div>
<div class="line"><span class="lineno">  809</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(e.first, qp) &lt; max_d;</div>
<div class="line"><span class="lineno">  810</span>        });</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>        <span class="comment">// sort the result by distance (have to check if this is needed)</span></div>
<div class="line"><span class="lineno">  813</span>        std::sort(qres.begin(), qres.end(),</div>
<div class="line"><span class="lineno">  814</span>                  [qp](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a>&amp; e1, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#a4bdef96a096b7124e071e180958ee0a7">PointIndexEl</a>&amp; e2){</div>
<div class="line"><span class="lineno">  815</span>                      return distance(e1.first, qp) &lt; distance(e2.first, qp);</div>
<div class="line"><span class="lineno">  816</span>                  });</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; re : qres) { <span class="comment">// process the queried neighbors</span></div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>            <span class="keywordflow">if</span>(re.second == el.second) <span class="keywordflow">continue</span>; <span class="comment">// Skip self</span></div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>            <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = el.second, <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">b</a> = re.second;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>            <span class="comment">// Get unique hash for the given pair (order doesn&#39;t matter)</span></div>
<div class="line"><span class="lineno">  825</span>            <span class="keyword">auto</span> hashval = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a9ad9ea358eb9284a34f93220ae7a1b87">pairhash</a>(a, b);</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>            <span class="comment">// Search for the pair amongst the remembered pairs</span></div>
<div class="line"><span class="lineno">  828</span>            <span class="keywordflow">if</span>(pairs.find(hashval) != pairs.end()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>            <span class="keyword">const</span> Pillar&amp; neighborpillar = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(re.second);</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>            <span class="comment">// this neighbor is occupied, skip</span></div>
<div class="line"><span class="lineno">  833</span>            <span class="keywordflow">if</span> (neighborpillar.links &gt;= neighbors) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">if</span> (neighborpillar.r_start &lt; pillar.r_start) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ac88fdd2c72db851a70846123057050f4">interconnect</a>(pillar, neighborpillar)) {</div>
<div class="line"><span class="lineno">  837</span>                pairs.insert(hashval);</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>                <span class="comment">// If the interconnection length between the two pillars is</span></div>
<div class="line"><span class="lineno">  840</span>                <span class="comment">// less than 50% of the longer pillar&#39;s height, don&#39;t count</span></div>
<div class="line"><span class="lineno">  841</span>                <span class="keywordflow">if</span>(pillar.height &lt; H1 ||</div>
<div class="line"><span class="lineno">  842</span>                    neighborpillar.height / pillar.height &gt; min_height_ratio)</div>
<div class="line"><span class="lineno">  843</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(pillar);</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>                <span class="keywordflow">if</span>(neighborpillar.height &lt; H1 ||</div>
<div class="line"><span class="lineno">  846</span>                    pillar.height / neighborpillar.height &gt; min_height_ratio)</div>
<div class="line"><span class="lineno">  847</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(neighborpillar);</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>            }</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>            <span class="comment">// connections are enough for one pillar</span></div>
<div class="line"><span class="lineno">  852</span>            <span class="keywordflow">if</span>(pillar.links &gt;= neighbors) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  853</span>        }</div>
<div class="line"><span class="lineno">  854</span>    };</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    <span class="comment">// Run the cascade for the pillars in the index</span></div>
<div class="line"><span class="lineno">  857</span>    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a730279f31f6e625cdbdb45d94635d70d">foreach</a>(cascadefn);</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>    <span class="comment">// We would be done here if we could allow some pillars to not be</span></div>
<div class="line"><span class="lineno">  860</span>    <span class="comment">// connected with any neighbors. But this might leave the support tree</span></div>
<div class="line"><span class="lineno">  861</span>    <span class="comment">// unprintable.</span></div>
<div class="line"><span class="lineno">  862</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno">  863</span>    <span class="comment">// The current solution is to insert additional pillars next to these</span></div>
<div class="line"><span class="lineno">  864</span>    <span class="comment">// lonely pillars. One or even two additional pillar might get inserted</span></div>
<div class="line"><span class="lineno">  865</span>    <span class="comment">// depending on the length of the lonely pillar.</span></div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordtype">size_t</span> pillarcount = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ab8476c24a5d68b3dfcee43026bd81c0f">pillarcount</a>();</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>    <span class="comment">// Again, go through all pillars, this time in the whole support tree</span></div>
<div class="line"><span class="lineno">  870</span>    <span class="comment">// not just the index.</span></div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> pid = 0; pid &lt; pillarcount; pid++) {</div>
<div class="line"><span class="lineno">  872</span>        <span class="keyword">auto</span> pillar = [<span class="keyword">this</span>, pid]() { <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(pid); };</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        <span class="comment">// Decide how many additional pillars will be needed:</span></div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordtype">unsigned</span> needpillars = 0;</div>
<div class="line"><span class="lineno">  877</span>        <span class="keywordflow">if</span> (pillar().bridges &gt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a07fd7cd4b86424405fa6a1eb5beed422">max_bridges_on_pillar</a>)</div>
<div class="line"><span class="lineno">  878</span>            needpillars = 3;</div>
<div class="line"><span class="lineno">  879</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pillar().links &lt; 2 &amp;&amp; pillar().height &gt; H2) {</div>
<div class="line"><span class="lineno">  880</span>            <span class="comment">// Not enough neighbors to support this pillar</span></div>
<div class="line"><span class="lineno">  881</span>            needpillars = 2;</div>
<div class="line"><span class="lineno">  882</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pillar().links &lt; 1 &amp;&amp; pillar().height &gt; H1) {</div>
<div class="line"><span class="lineno">  883</span>            <span class="comment">// No neighbors could be found and the pillar is too long.</span></div>
<div class="line"><span class="lineno">  884</span>            needpillars = 1;</div>
<div class="line"><span class="lineno">  885</span>        }</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>        needpillars = std::max(pillar().links, needpillars) - pillar().links;</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> (needpillars == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>        <span class="comment">// Search for new pillar locations:</span></div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordtype">bool</span>   found    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordtype">double</span> alpha    = 0; <span class="comment">// goes to 2Pi</span></div>
<div class="line"><span class="lineno">  894</span>        <span class="keywordtype">double</span> r        = 2 * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">base_radius_mm</a>;</div>
<div class="line"><span class="lineno">  895</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a>  pillarsp = pillar().startpoint();</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>        <span class="comment">// temp value for starting point detection</span></div>
<div class="line"><span class="lineno">  898</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> sp(pillarsp.x(), pillarsp.y(), pillarsp.z() - r);</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        <span class="comment">// A vector of bool for placement feasbility</span></div>
<div class="line"><span class="lineno">  901</span>        std::vector&lt;bool&gt;  canplace(needpillars, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  902</span>        std::vector&lt;Vec3d&gt; spts(needpillars); <span class="comment">// vector of starting points</span></div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordtype">double</span> gnd      = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>);</div>
<div class="line"><span class="lineno">  905</span>        <span class="keywordtype">double</span> min_dist = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aa8eff4efe264cff44de4347f95087f50">pillar_base_safety_distance_mm</a> +</div>
<div class="line"><span class="lineno">  906</span>                          <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#acd6d38bb77e453b7b6cc42a60001a18a">base_radius_mm</a> + <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a>;</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">while</span>(!found &amp;&amp; alpha &lt; 2*<a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>) {</div>
<div class="line"><span class="lineno">  909</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> n = 0;</div>
<div class="line"><span class="lineno">  910</span>                 n &lt; needpillars &amp;&amp; (!n || canplace[n - 1]);</div>
<div class="line"><span class="lineno">  911</span>                 n++)</div>
<div class="line"><span class="lineno">  912</span>            {</div>
<div class="line"><span class="lineno">  913</span>                <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a0cc175b9c0f1b6a831c399e269772661">a</a> = alpha + n * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a> / 3;</div>
<div class="line"><span class="lineno">  914</span>                <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a>  s = sp;</div>
<div class="line"><span class="lineno">  915</span>                s.x() += std::cos(a) * r;</div>
<div class="line"><span class="lineno">  916</span>                s.y() += std::sin(a) * r;</div>
<div class="line"><span class="lineno">  917</span>                spts[n] = s;</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>                <span class="comment">// Check the path vertically down</span></div>
<div class="line"><span class="lineno">  920</span>                <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> check_from = s + <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a>{0., 0., pillar().r_start};</div>
<div class="line"><span class="lineno">  921</span>                <span class="keyword">auto</span> hr = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ace23a8b24ed471b7fff260e2334698f4">bridge_mesh_intersect</a>(check_from, <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab2c5a8d29e1e239213ee1f858a0f9014">DOWN</a>, pillar().r_start);</div>
<div class="line"><span class="lineno">  922</span>                <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> gndsp{s.x(), s.y(), gnd};</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>                <span class="comment">// If the path is clear, check for pillar base collisions</span></div>
<div class="line"><span class="lineno">  925</span>                canplace[n] = std::isinf(hr.distance()) &amp;&amp;</div>
<div class="line"><span class="lineno">  926</span>                              std::sqrt(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>.<a class="code hl_function" href="../../d7/dfa/class_slic3r_1_1_a_a_b_b_mesh.html#a14f7bf09cf7ae804fb42141840f94b63">squared_distance</a>(gndsp)) &gt;</div>
<div class="line"><span class="lineno">  927</span>                                  min_dist;</div>
<div class="line"><span class="lineno">  928</span>            }</div>
<div class="line"><span class="lineno">  929</span> </div>
<div class="line"><span class="lineno">  930</span>            found = std::all_of(canplace.begin(), canplace.end(),</div>
<div class="line"><span class="lineno">  931</span>                                [](<span class="keywordtype">bool</span> v) { return v; });</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>            <span class="comment">// 20 angles will be tried...</span></div>
<div class="line"><span class="lineno">  934</span>            alpha += 0.1 * <a class="code hl_variable" href="../../dd/d47/libslic3r_8h.html#a299aabc5fc8285cbf99025330a3d0d0d">PI</a>;</div>
<div class="line"><span class="lineno">  935</span>        }</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        std::vector&lt;long&gt; newpills;</div>
<div class="line"><span class="lineno">  938</span>        newpills.reserve(needpillars);</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">if</span> (found)</div>
<div class="line"><span class="lineno">  941</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> n = 0; n &lt; needpillars; n++) {</div>
<div class="line"><span class="lineno">  942</span>                <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> s = spts[n];</div>
<div class="line"><span class="lineno">  943</span>                Pillar p(<a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a>{s.x(), s.y(), gnd}, s.z() - gnd, pillar().r_start);</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ac88fdd2c72db851a70846123057050f4">interconnect</a>(pillar(), p)) {</div>
<div class="line"><span class="lineno">  946</span>                    Pillar &amp;pp = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a130726add7685bbdc8da605c3511814a">add_pillar</a>(p));</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>                    <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9209eb0c1edfa398938bd006d36ce78f">add_pillar_base</a>(pp.id);</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#ad5b651654acbcea9ae361b2a653c15fa">insert</a>(pp.endpoint(), <span class="keywordtype">unsigned</span>(pp.id));</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a39bc20e522b9699d6b4fa1ff10cbaaba">add_junction</a>(s, pillar().r_start);</div>
<div class="line"><span class="lineno">  953</span>                    <span class="keywordtype">double</span> t = <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#afcd5ab6e34d28eb06c8869ca9e8cdf7d">bridge_mesh_distance</a>(pillarsp, <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#af7fb78600461d0f438f5eb6d7708822a">dirv</a>(pillarsp, s),</div>
<div class="line"><span class="lineno">  954</span>                                                    pillar().r_start);</div>
<div class="line"><span class="lineno">  955</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(pillarsp, s) &lt; t)</div>
<div class="line"><span class="lineno">  956</span>                        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a23976481a726809d6737abefa6c77f1b">add_bridge</a>(pillarsp, s, pillar().r_start);</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>                    <span class="keywordflow">if</span> (pillar().endpoint().z() &gt; <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>) + pillar().r_start)</div>
<div class="line"><span class="lineno">  959</span>                        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a39bc20e522b9699d6b4fa1ff10cbaaba">add_junction</a>(pillar().endpoint(), pillar().r_start);</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>                    newpills.emplace_back(pp.id);</div>
<div class="line"><span class="lineno">  962</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(pillar());</div>
<div class="line"><span class="lineno">  963</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(pp);</div>
<div class="line"><span class="lineno">  964</span>                }</div>
<div class="line"><span class="lineno">  965</span>            }</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordflow">if</span>(!newpills.empty()) {</div>
<div class="line"><span class="lineno">  968</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = newpills.begin(), nx = std::next(it);</div>
<div class="line"><span class="lineno">  969</span>                 nx != newpills.end(); ++it, ++nx) {</div>
<div class="line"><span class="lineno">  970</span>                <span class="keyword">const</span> Pillar&amp; itpll = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(*it);</div>
<div class="line"><span class="lineno">  971</span>                <span class="keyword">const</span> Pillar&amp; nxpll = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(*nx);</div>
<div class="line"><span class="lineno">  972</span>                <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ac88fdd2c72db851a70846123057050f4">interconnect</a>(itpll, nxpll)) {</div>
<div class="line"><span class="lineno">  973</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(itpll);</div>
<div class="line"><span class="lineno">  974</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">increment_links</a>(nxpll);</div>
<div class="line"><span class="lineno">  975</span>                }</div>
<div class="line"><span class="lineno">  976</span>            }</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a730279f31f6e625cdbdb45d94635d70d">foreach</a>(cascadefn);</div>
<div class="line"><span class="lineno">  979</span>        }</div>
<div class="line"><span class="lineno">  980</span>    }</div>
<div class="line"><span class="lineno">  981</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1_a_a_b_b_mesh_html_a14f7bf09cf7ae804fb42141840f94b63"><div class="ttname"><a href="../../d7/dfa/class_slic3r_1_1_a_a_b_b_mesh.html#a14f7bf09cf7ae804fb42141840f94b63">Slic3r::AABBMesh::squared_distance</a></div><div class="ttdeci">double squared_distance(const Vec3d &amp;p, int &amp;i, Vec3d &amp;c) const</div><div class="ttdef"><b>Definition</b> AABBMesh.cpp:313</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a9209eb0c1edfa398938bd006d36ce78f"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9209eb0c1edfa398938bd006d36ce78f">Slic3r::sla::DefaultSupportTree::add_pillar_base</a></div><div class="ttdeci">void add_pillar_base(long pid)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:182</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_ac88fdd2c72db851a70846123057050f4"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ac88fdd2c72db851a70846123057050f4">Slic3r::sla::DefaultSupportTree::interconnect</a></div><div class="ttdeci">bool interconnect(const Pillar &amp;pillar, const Pillar &amp;nextpillar)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:167</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_pillar_index_html_a730279f31f6e625cdbdb45d94635d70d"><div class="ttname"><a href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a730279f31f6e625cdbdb45d94635d70d">Slic3r::sla::PillarIndex::foreach</a></div><div class="ttdeci">void foreach(Fn fn)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:44</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_pillar_index_html_ad5b651654acbcea9ae361b2a653c15fa"><div class="ttname"><a href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#ad5b651654acbcea9ae361b2a653c15fa">Slic3r::sla::PillarIndex::insert</a></div><div class="ttdeci">void insert(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:33</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_pillar_index_html_aee6aade607d6d7b8ef3fb8504e70acfc"><div class="ttname"><a href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#aee6aade607d6d7b8ef3fb8504e70acfc">Slic3r::sla::PillarIndex::query</a></div><div class="ttdeci">std::vector&lt; PointIndexEl &gt; query(Args &amp;&amp;...args) const</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:39</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a87ab3924dd732d94e135f69015290815"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a87ab3924dd732d94e135f69015290815">Slic3r::sla::SupportTreeBuilder::increment_links</a></div><div class="ttdeci">void increment_links(const Pillar &amp;pillar)</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:313</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_ab8476c24a5d68b3dfcee43026bd81c0f"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ab8476c24a5d68b3dfcee43026bd81c0f">Slic3r::sla::SupportTreeBuilder::pillarcount</a></div><div class="ttdeci">size_t pillarcount() const</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.hpp:389</div></div>
<div class="ttc" id="alibslic3r_8h_html_a75f355966e0a97665eaf5a4c79baa7af"><div class="ttname"><a href="../../dd/d47/libslic3r_8h.html#a75f355966e0a97665eaf5a4c79baa7af">EPSILON</a></div><div class="ttdeci">static constexpr double EPSILON</div><div class="ttdef"><b>Definition</b> libslic3r.h:51</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a9ad9ea358eb9284a34f93220ae7a1b87"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a9ad9ea358eb9284a34f93220ae7a1b87">Slic3r::sla::pairhash</a></div><div class="ttdeci">IntegerOnly&lt; DoubleI &gt; pairhash(I a, I b)</div><div class="ttdef"><b>Definition</b> SupportTreeUtilsLegacy.hpp:19</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a8277e0910d750195b448797616e091ad">marchsq::__impl::SquareTag::d</a></div><div class="ttdeci">@ d</div></div>
<div class="ttc" id="anamespacemarchsq_1_1____impl_html_a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f"><div class="ttname"><a href="../../d9/d6c/namespacemarchsq_1_1____impl.html#a5c3960032271d7907677d3507c909780a92eb5ffee6ae2fec3ad71c777531578f">marchsq::__impl::SquareTag::b</a></div><div class="ttdeci">@ b</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a01a6f4d92fc8eb3a9a708456a7588c58"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a01a6f4d92fc8eb3a9a708456a7588c58">Slic3r::sla::SupportTreeConfig::max_dual_pillar_height_mm</a></div><div class="ttdeci">static const double constexpr max_dual_pillar_height_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:104</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_a3530bb98463522d95a83398eb8bb26a9"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a3530bb98463522d95a83398eb8bb26a9">Slic3r::sla::SupportTreeConfig::pillar_cascade_neighbors</a></div><div class="ttdeci">static const unsigned constexpr pillar_cascade_neighbors</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:107</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_aa8eff4efe264cff44de4347f95087f50"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aa8eff4efe264cff44de4347f95087f50">Slic3r::sla::SupportTreeConfig::pillar_base_safety_distance_mm</a></div><div class="ttdeci">double pillar_base_safety_distance_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:74</div></div>
<div class="ttc" id="astruct_slic3r_1_1sla_1_1_support_tree_config_html_ae420c4d9bf7d7e58791f3a403d76c35f"><div class="ttname"><a href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#ae420c4d9bf7d7e58791f3a403d76c35f">Slic3r::sla::SupportTreeConfig::max_solo_pillar_height_mm</a></div><div class="ttdeci">static const double constexpr max_solo_pillar_height_mm</div><div class="ttdef"><b>Definition</b> SupportTree.hpp:103</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00091">Slic3r::sla::dirv()</a>, <a class="el" href="../../#l00162">Slic3r::sla::Pillar::endpoint()</a>, <a class="el" href="../../#l00051">EPSILON</a>, <a class="el" href="../../#l00134">Slic3r::sla::ground_level()</a>, <a class="el" href="../../#l00132">Slic3r::sla::Pillar::height</a>, <a class="el" href="../../#l00067">Slic3r::sla::SupportTreeNode::id</a>, <a class="el" href="../../#l00143">Slic3r::sla::Pillar::links</a>, <a class="el" href="../../#l00019">Slic3r::sla::pairhash()</a>, <a class="el" href="../../#l00058">PI</a>, and <a class="el" href="../../#l00132">Slic3r::sla::Pillar::r_start</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae9ede8d634c88d0796968d7708526621_cgraph.svg" width="459" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae9ede8d634c88d0796968d7708526621_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a176c5e75f7c6d4df3a11dbb917799515" name="a176c5e75f7c6d4df3a11dbb917799515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176c5e75f7c6d4df3a11dbb917799515">&#9670;&#160;</a></span>merge_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::merge_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  233</span>{ <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a57bcbf4a1b9f716b3f5ffcf79c0bd217">merged_mesh</a>(); }</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_support_tree_builder_html_a57bcbf4a1b9f716b3f5ffcf79c0bd217"><div class="ttname"><a href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a57bcbf4a1b9f716b3f5ffcf79c0bd217">Slic3r::sla::SupportTreeBuilder::merged_mesh</a></div><div class="ttdeci">const indexed_triangle_set &amp; merged_mesh(size_t steps=45) const</div><div class="ttdef"><b>Definition</b> SupportTreeBuilder.cpp:86</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00077">m_builder</a>, and <a class="el" href="../../#l00086">Slic3r::sla::SupportTreeBuilder::merged_mesh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a176c5e75f7c6d4df3a11dbb917799515_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a176c5e75f7c6d4df3a11dbb917799515_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3a16bb846b05293daaf746993e05b704" name="a3a16bb846b05293daaf746993e05b704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a16bb846b05293daaf746993e05b704">&#9670;&#160;</a></span>pinhead_mesh_intersect() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> Slic3r::sla::DefaultSupportTree::pinhead_mesh_intersect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r_back</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  122</span>    {</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#ae1d43fb376d9519dd0171a1b4afcee15">pinhead_mesh_intersect</a>(s, dir, r_pin, r_back, width,</div>
<div class="line"><span class="lineno">  124</span>                                      r_back * <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#aa641974bb0ee1c24c90bb754e4360271">safety_distance_mm</a> /</div>
<div class="line"><span class="lineno">  125</span>                                          <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a451d3c2e9eb01074d093b3fae9e5443e">cfg</a>.<a class="code hl_variable" href="../../d4/df4/struct_slic3r_1_1sla_1_1_support_tree_config.html#a2c75265d112b6139202567bb55576f60">head_back_radius_mm</a>);</div>
<div class="line"><span class="lineno">  126</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00117">Slic3r::sla::SupportableMesh::cfg</a>, <a class="el" href="../../#l00034">Slic3r::sla::SupportTreeConfig::head_back_radius_mm</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00150">pinhead_mesh_intersect()</a>, and <a class="el" href="../../#l00101">Slic3r::sla::SupportTreeConfig::safety_distance_mm</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a3a16bb846b05293daaf746993e05b704_cgraph.svg" width="100%" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae1d43fb376d9519dd0171a1b4afcee15" name="ae1d43fb376d9519dd0171a1b4afcee15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d43fb376d9519dd0171a1b4afcee15">&#9670;&#160;</a></span>pinhead_mesh_intersect() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> Slic3r::sla::DefaultSupportTree::pinhead_mesh_intersect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r_back</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>safety_d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span>{</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a48092cd44b8cd79b6bc40714986c1e08">sla::pinhead_mesh_hit</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>, s, dir, r_pin, r_back, width, sd);</div>
<div class="line"><span class="lineno">  159</span>}</div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a48092cd44b8cd79b6bc40714986c1e08"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a48092cd44b8cd79b6bc40714986c1e08">Slic3r::sla::pinhead_mesh_hit</a></div><div class="ttdeci">Hit pinhead_mesh_hit(Ex ex, const AABBMesh &amp;mesh, const Vec3d &amp;s, const Vec3d &amp;dir, double r_pin, double r_back, double width, double sd)</div><div class="ttdef"><b>Definition</b> SupportTreeUtils.hpp:193</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00115">Slic3r::sla::SupportableMesh::emesh</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00193">Slic3r::sla::pinhead_mesh_hit()</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00363">add_pinheads()</a>, and <a class="el" href="../../#l00117">pinhead_mesh_intersect()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae1d43fb376d9519dd0171a1b4afcee15_cgraph.svg" width="606" height="102"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae1d43fb376d9519dd0171a1b4afcee15_icgraph.svg" width="100%" height="393"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8601e9bdd706d1fe96e3bedec24bc629" name="a8601e9bdd706d1fe96e3bedec24bc629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8601e9bdd706d1fe96e3bedec24bc629">&#9670;&#160;</a></span>ray_mesh_intersect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a> Slic3r::sla::DefaultSupportTree::ray_mesh_intersect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   94</span>    {</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>.<a class="code hl_variable" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html#a2ad7c2a49bb9abbed404ef98ac08b498">emesh</a>.<a class="code hl_function" href="../../d7/dfa/class_slic3r_1_1_a_a_b_b_mesh.html#a8f00c75f38098019f11b771bbc14ed96">query_ray_hit</a>(s, dir);</div>
<div class="line"><span class="lineno">   96</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00115">Slic3r::sla::SupportableMesh::emesh</a>, <a class="el" href="../../#l00059">m_sm</a>, and <a class="el" href="../../#l00152">Slic3r::AABBMesh::query_ray_hit()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a8601e9bdd706d1fe96e3bedec24bc629_cgraph.svg" width="100%" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a28517ac516d5aae1a1d53e3bf0ac41cb" name="a28517ac516d5aae1a1d53e3bf0ac41cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28517ac516d5aae1a1d53e3bf0ac41cb">&#9670;&#160;</a></span>routing_to_ground()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::routing_to_ground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  556</span>{</div>
<div class="line"><span class="lineno">  557</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa08bef6ae20fa1b81be46635a370acac">ClusterEl</a> cl_centroids;</div>
<div class="line"><span class="lineno">  558</span>    cl_centroids.reserve(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">m_pillar_clusters</a>.size());</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;cl : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">m_pillar_clusters</a>) {</div>
<div class="line"><span class="lineno">  561</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>        <span class="comment">// place all the centroid head positions into the index. We</span></div>
<div class="line"><span class="lineno">  564</span>        <span class="comment">// will query for alternative pillar positions. If a sidehead</span></div>
<div class="line"><span class="lineno">  565</span>        <span class="comment">// cannot connect to the cluster centroid, we have to search</span></div>
<div class="line"><span class="lineno">  566</span>        <span class="comment">// for another head with a full pillar. Also when there are two</span></div>
<div class="line"><span class="lineno">  567</span>        <span class="comment">// elements in the cluster, the centroid is arbitrary and the</span></div>
<div class="line"><span class="lineno">  568</span>        <span class="comment">// sidehead is allowed to connect to a nearby pillar to</span></div>
<div class="line"><span class="lineno">  569</span>        <span class="comment">// increase structural stability.</span></div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">if</span> (cl.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>           <span class="comment">// get the current cluster centroid</span></div>
<div class="line"><span class="lineno">  574</span>        <span class="keyword">auto</span> &amp;      thr    = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>;</div>
<div class="line"><span class="lineno">  575</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;points = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#abcfa102f97338e2bdae2ea69a5ddbee3">m_points</a>;</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordtype">long</span> lcid = <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a53139898a9e4bd8b552a133b8bb9703d">cluster_centroid</a>(</div>
<div class="line"><span class="lineno">  578</span>            cl, [&amp;points](<span class="keywordtype">size_t</span> idx) { <span class="keywordflow">return</span> points.row(<span class="keywordtype">long</span>(idx)); },</div>
<div class="line"><span class="lineno">  579</span>            [thr](<span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;p2) {</div>
<div class="line"><span class="lineno">  580</span>                thr();</div>
<div class="line"><span class="lineno">  581</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa4f41ff28d4c9d4af10cb1f86fe6d30e">distance</a>(<a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>(p1.x(), p1.y()), <a class="code hl_typedef" href="../../de/db8/namespace_slic3r.html#a40e8e384542f32f8150cabd3db031651">Vec2d</a>(p2.x(), p2.y()));</div>
<div class="line"><span class="lineno">  582</span>            });</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        assert(lcid &gt;= 0);</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordtype">unsigned</span> hid = cl[size_t(lcid)]; <span class="comment">// Head ID</span></div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>        cl_centroids.emplace_back(hid);</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>        Head &amp;h = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">head</a>(hid);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a72da80ed50f099c60976f7e9d9a2d3a4">create_ground_pillar</a>(h.junction(), h.dir, h.id)) {</div>
<div class="line"><span class="lineno">  592</span>            BOOST_LOG_TRIVIAL(warning)</div>
<div class="line"><span class="lineno">  593</span>                &lt;&lt; <span class="stringliteral">&quot;Pillar cannot be created for support point id: &quot;</span> &lt;&lt; hid;</div>
<div class="line"><span class="lineno">  594</span>            <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a>.emplace_back(h.id);</div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  596</span>        }</div>
<div class="line"><span class="lineno">  597</span>    }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="comment">// now we will go through the clusters ones again and connect the</span></div>
<div class="line"><span class="lineno">  600</span>    <span class="comment">// sidepoints with the cluster centroid (which is a ground pillar)</span></div>
<div class="line"><span class="lineno">  601</span>    <span class="comment">// or a nearby pillar if the centroid is unreachable.</span></div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordtype">size_t</span> ci = 0;</div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::vector&lt;unsigned&gt; &amp;cl : <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8c911098941242486a991f97678bb2cd">m_pillar_clusters</a>) {</div>
<div class="line"><span class="lineno">  604</span>        <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>        <span class="keyword">auto</span> cidx = cl_centroids[ci++];</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>        <span class="keyword">auto</span> q = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#aee6aade607d6d7b8ef3fb8504e70acfc">query</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">head</a>(cidx).<a class="code hl_function" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html#a520e3ac5a258ff6c79e31b2fdb13e52c">junction_point</a>(), 1);</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">if</span> (!q.empty()) {</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordtype">long</span> centerpillarID = q.front().second;</div>
<div class="line"><span class="lineno">  611</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : cl) {</div>
<div class="line"><span class="lineno">  612</span>                <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">if</span> (c == cidx) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>                <span class="keyword">auto</span> &amp;sidehead = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#a19c45b0758c7142dfcb00ea6d7ecdf99">head</a>(c);</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a0cf057154f70931d7aaeffe4b7f50b66">connect_to_nearpillar</a>(sidehead, centerpillarID) &amp;&amp;</div>
<div class="line"><span class="lineno">  618</span>                    !<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#aa23b747823ffb3723208a96023580539">search_pillar_and_connect</a>(sidehead)) {</div>
<div class="line"><span class="lineno">  619</span>                    <span class="comment">// Vec3d pend = Vec3d{pstart.x(), pstart.y(), gndlvl};</span></div>
<div class="line"><span class="lineno">  620</span>                    <span class="comment">// Could not find a pillar, create one</span></div>
<div class="line"><span class="lineno">  621</span>                    <a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a72da80ed50f099c60976f7e9d9a2d3a4">create_ground_pillar</a>(sidehead.junction(), sidehead.dir, sidehead.id);</div>
<div class="line"><span class="lineno">  622</span>                }</div>
<div class="line"><span class="lineno">  623</span>            }</div>
<div class="line"><span class="lineno">  624</span>        }</div>
<div class="line"><span class="lineno">  625</span>    }</div>
<div class="line"><span class="lineno">  626</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a0cf057154f70931d7aaeffe4b7f50b66"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a0cf057154f70931d7aaeffe4b7f50b66">Slic3r::sla::DefaultSupportTree::connect_to_nearpillar</a></div><div class="ttdeci">bool connect_to_nearpillar(const Head &amp;head, long nearpillar_id)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:260</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a72da80ed50f099c60976f7e9d9a2d3a4"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a72da80ed50f099c60976f7e9d9a2d3a4">Slic3r::sla::DefaultSupportTree::create_ground_pillar</a></div><div class="ttdeci">bool create_ground_pillar(const Junction &amp;jp, const Vec3d &amp;sourcedir, long head_id=SupportTreeNode::ID_UNSET)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:343</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_aa23b747823ffb3723208a96023580539"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#aa23b747823ffb3723208a96023580539">Slic3r::sla::DefaultSupportTree::search_pillar_and_connect</a></div><div class="ttdeci">bool search_pillar_and_connect(const Head &amp;source)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:701</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a53139898a9e4bd8b552a133b8bb9703d"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a53139898a9e4bd8b552a133b8bb9703d">Slic3r::sla::cluster_centroid</a></div><div class="ttdeci">long cluster_centroid(const ClusterEl &amp;clust, PointFn pointfn, DistFn df)</div><div class="ttdef"><b>Definition</b> Clustering.hpp:33</div></div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_aa08bef6ae20fa1b81be46635a370acac"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#aa08bef6ae20fa1b81be46635a370acac">Slic3r::sla::ClusterEl</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; ClusterEl</div><div class="ttdef"><b>Definition</b> Clustering.hpp:11</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00033">Slic3r::sla::cluster_centroid()</a>, <a class="el" href="../../#l00260">connect_to_nearpillar()</a>, <a class="el" href="../../#l00343">create_ground_pillar()</a>, <a class="el" href="../../#l00080">Slic3r::sla::Head::dir</a>, <a class="el" href="../../#l00052">Slic3r::sla::distance()</a>, <a class="el" href="../../#l00380">Slic3r::sla::SupportTreeBuilder::head()</a>, <a class="el" href="../../#l00067">Slic3r::sla::SupportTreeNode::id</a>, <a class="el" href="../../#l00114">Slic3r::sla::Head::junction()</a>, <a class="el" href="../../#l00122">Slic3r::sla::Head::junction_point()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00064">m_iheads_onmodel</a>, <a class="el" href="../../#l00073">m_pillar_clusters</a>, <a class="el" href="../../#l00087">m_pillar_index</a>, <a class="el" href="../../#l00080">m_points</a>, <a class="el" href="../../#l00084">m_thr</a>, <a class="el" href="../../#l00039">Slic3r::sla::PillarIndex::query()</a>, and <a class="el" href="../../#l00701">search_pillar_and_connect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a28517ac516d5aae1a1d53e3bf0ac41cb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a28517ac516d5aae1a1d53e3bf0ac41cb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae83a50e5b42513a911e826a9863c2ecd" name="ae83a50e5b42513a911e826a9863c2ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83a50e5b42513a911e826a9863c2ecd">&#9670;&#160;</a></span>routing_to_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d95/glu-libtess_8h.html#a4292190e3f1f6b373a760c7d9316ad3c">void</a> Slic3r::sla::DefaultSupportTree::routing_to_model </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  739</span>{</div>
<div class="line"><span class="lineno">  740</span>    <span class="comment">// We need to check if there is an easy way out to the bed surface.</span></div>
<div class="line"><span class="lineno">  741</span>    <span class="comment">// If it can be routed there with a bridge shorter than</span></div>
<div class="line"><span class="lineno">  742</span>    <span class="comment">// min_bridge_distance.</span></div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_function" href="../../dd/d43/namespace_slic3r_1_1execution.html#a7707f5e49d8a4e2e9fce66b91a5c1488">execution::for_each</a>(</div>
<div class="line"><span class="lineno">  745</span>        <a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a>.begin(), <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a9055fc63dcacd48415ebdf8b489ccde7">m_iheads_onmodel</a>.end(),</div>
<div class="line"><span class="lineno">  746</span>        [<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keywordtype">unsigned</span> idx) {</div>
<div class="line"><span class="lineno">  747</span>            m_thr();</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>            auto &amp;head = m_builder.head(idx);</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>            <span class="comment">// Search nearby pillar</span></div>
<div class="line"><span class="lineno">  752</span>            if (search_pillar_and_connect(head)) { return; }</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>            <span class="comment">// Cannot connect to nearby pillar. We will try to search for</span></div>
<div class="line"><span class="lineno">  755</span>            <span class="comment">// a route to the ground.</span></div>
<div class="line"><span class="lineno">  756</span>            <a class="code hl_function" href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6b6d8c5761dcf669ea478b545f64786d">connect_to_ground</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>)) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>            <span class="comment">// No route to the ground, so connect to the model body as a last resort</span></div>
<div class="line"><span class="lineno">  759</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a89d43bcb5868a3e62d90d02387d7fa25">connect_to_model_body</a>(<a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>)) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>            <span class="comment">// We have failed to route this head.</span></div>
<div class="line"><span class="lineno">  762</span>            BOOST_LOG_TRIVIAL(warning)</div>
<div class="line"><span class="lineno">  763</span>                &lt;&lt; <span class="stringliteral">&quot;Failed to route model facing support point. ID: &quot;</span> &lt;&lt; idx;</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>            <a class="code hl_function" href="../../d6/d4f/_block_methods_8h.html#a66cee6936cfa159827535f010684d973">head</a>.invalidate();</div>
<div class="line"><span class="lineno">  766</span>        },</div>
<div class="line"><span class="lineno">  767</span>        <a class="code hl_function" href="../../dd/d43/namespace_slic3r_1_1execution.html#ab1e33cdef542abaf3b8a479f4ce3b38f">execution::max_concurrency</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>));</div>
<div class="line"><span class="lineno">  768</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a6b6d8c5761dcf669ea478b545f64786d"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a6b6d8c5761dcf669ea478b545f64786d">Slic3r::sla::DefaultSupportTree::connect_to_ground</a></div><div class="ttdeci">bool connect_to_ground(Head &amp;head)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:628</div></div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_default_support_tree_html_a89d43bcb5868a3e62d90d02387d7fa25"><div class="ttname"><a href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a89d43bcb5868a3e62d90d02387d7fa25">Slic3r::sla::DefaultSupportTree::connect_to_model_body</a></div><div class="ttdeci">bool connect_to_model_body(Head &amp;head)</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.cpp:648</div></div>
<div class="ttc" id="alexer_8c_html_ad4a65b873df5c05570846b5413b41dfd"><div class="ttname"><a href="../../d8/d33/lexer_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a></div><div class="ttdeci">if(!(yy_init))</div><div class="ttdef"><b>Definition</b> lexer.c:1190</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00628">connect_to_ground()</a>, <a class="el" href="../../#l00648">connect_to_model_body()</a>, <a class="el" href="../../#l00046">Slic3r::execution::for_each()</a>, <a class="el" href="../../#l00919">head()</a>, <a class="el" href="../../#l01190">if()</a>, <a class="el" href="../../#l00064">m_iheads_onmodel</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00037">execute()</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae83a50e5b42513a911e826a9863c2ecd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_ae83a50e5b42513a911e826a9863c2ecd_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa23b747823ffb3723208a96023580539" name="aa23b747823ffb3723208a96023580539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23b747823ffb3723208a96023580539">&#9670;&#160;</a></span>search_pillar_and_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Slic3r::sla::DefaultSupportTree::search_pillar_and_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d0/d03/struct_slic3r_1_1sla_1_1_head.html">Head</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  702</span>{</div>
<div class="line"><span class="lineno">  703</span>    <span class="comment">// Hope that a local copy takes less time than the whole search loop.</span></div>
<div class="line"><span class="lineno">  704</span>    <span class="comment">// We also need to remove elements progressively from the copied index.</span></div>
<div class="line"><span class="lineno">  705</span>    PointIndex spindex = <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a39bdcde67234461310a4eace989d3115">m_pillar_index</a>.<a class="code hl_function" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a2d325329e6ae54618fbe8548c2448b5f">guarded_clone</a>();</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordtype">long</span> nearest_id = <a class="code hl_variable" href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">SupportTreeNode::ID_UNSET</a>;</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> querypt = source.junction_point();</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordflow">while</span>(nearest_id &lt; 0 &amp;&amp; !spindex.empty()) { <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a8eb2a5a8591c803ec799a01933e03176">m_thr</a>();</div>
<div class="line"><span class="lineno">  712</span>        <span class="comment">// loop until a suitable head is not found</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="comment">// if there is a pillar closer than the cluster center</span></div>
<div class="line"><span class="lineno">  714</span>        <span class="comment">// (this may happen as the clustering is not perfect)</span></div>
<div class="line"><span class="lineno">  715</span>        <span class="comment">// than we will bridge to this closer pillar</span></div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>        <a class="code hl_typedef" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> qp(querypt.x(), querypt.y(), <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#ab41efd0a7605e561ab59549056b570c3">ground_level</a>(<a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>));</div>
<div class="line"><span class="lineno">  718</span>        <span class="keyword">auto</span> qres = spindex.nearest(qp, 1);</div>
<div class="line"><span class="lineno">  719</span>        <span class="keywordflow">if</span>(qres.empty()) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>        <span class="keyword">auto</span> ne = qres.front();</div>
<div class="line"><span class="lineno">  722</span>        nearest_id = ne.second;</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span>(nearest_id &gt;= 0) {</div>
<div class="line"><span class="lineno">  725</span>            <span class="keywordflow">if</span> (<span class="keywordtype">size_t</span>(nearest_id) &lt; <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ab8476c24a5d68b3dfcee43026bd81c0f">pillarcount</a>()) {</div>
<div class="line"><span class="lineno">  726</span>                <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a0cf057154f70931d7aaeffe4b7f50b66">connect_to_nearpillar</a>(source, nearest_id) ||</div>
<div class="line"><span class="lineno">  727</span>                    <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a30b0e38e8985bef374c95e1f273435f8">m_builder</a>.<a class="code hl_function" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html#ae3ed5926f49bcb0701fa7866c7f22fbb">pillar</a>(nearest_id).r_start &lt; source.r_back_mm) {</div>
<div class="line"><span class="lineno">  728</span>                    nearest_id = <a class="code hl_variable" href="../../d4/d53/struct_slic3r_1_1sla_1_1_support_tree_node.html#a76078addba57fd698274703ced05c0d3">SupportTreeNode::ID_UNSET</a>;    <span class="comment">// continue searching</span></div>
<div class="line"><span class="lineno">  729</span>                    spindex.remove(ne);       <span class="comment">// without the current pillar</span></div>
<div class="line"><span class="lineno">  730</span>                }</div>
<div class="line"><span class="lineno">  731</span>            }</div>
<div class="line"><span class="lineno">  732</span>        }</div>
<div class="line"><span class="lineno">  733</span>    }</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">return</span> nearest_id &gt;= 0;</div>
<div class="line"><span class="lineno">  736</span>}</div>
<div class="ttc" id="aclass_slic3r_1_1sla_1_1_pillar_index_html_a2d325329e6ae54618fbe8548c2448b5f"><div class="ttname"><a href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html#a2d325329e6ae54618fbe8548c2448b5f">Slic3r::sla::PillarIndex::guarded_clone</a></div><div class="ttdeci">PointIndex guarded_clone()</div><div class="ttdef"><b>Definition</b> DefaultSupportTree.hpp:51</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00260">connect_to_nearpillar()</a>, <a class="el" href="../../#l00051">Slic3r::sla::PointIndex::empty()</a>, <a class="el" href="../../#l00134">Slic3r::sla::ground_level()</a>, <a class="el" href="../../#l00051">Slic3r::sla::PillarIndex::guarded_clone()</a>, <a class="el" href="../../#l00065">Slic3r::sla::SupportTreeNode::ID_UNSET</a>, <a class="el" href="../../#l00122">Slic3r::sla::Head::junction_point()</a>, <a class="el" href="../../#l00077">m_builder</a>, <a class="el" href="../../#l00087">m_pillar_index</a>, <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00084">m_thr</a>, <a class="el" href="../../#l00070">Slic3r::sla::PointIndex::nearest()</a>, <a class="el" href="../../#l00399">Slic3r::sla::SupportTreeBuilder::pillar()</a>, <a class="el" href="../../#l00389">Slic3r::sla::SupportTreeBuilder::pillarcount()</a>, <a class="el" href="../../#l00083">Slic3r::sla::Head::r_back_mm</a>, and <a class="el" href="../../#l00055">Slic3r::sla::PointIndex::remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00555">routing_to_ground()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_aa23b747823ffb3723208a96023580539_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_aa23b747823ffb3723208a96023580539_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a98147cc110ff2a817c2ab4c41e559fb1" name="a98147cc110ff2a817c2ab4c41e559fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98147cc110ff2a817c2ab4c41e559fb1">&#9670;&#160;</a></span>search_widening_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="../../d7/d4c/struct_slic3r_1_1sla_1_1_diff_bridge.html">DiffBridge</a> &gt; Slic3r::sla::DefaultSupportTree::search_widening_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>jp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#aa20f7e9692481f118a14e85faa01ed0e">Vec3d</a> &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>new_radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  191</span>    {</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/d57/namespace_slic3r_1_1sla.html#a08ccc3842e4be90b8093f4f4b00907be">sla::search_widening_path</a>(<a class="code hl_variable" href="../../d2/d57/namespace_slic3r_1_1sla.html#a1f28b9cd31b45305dbb04a98eff8dae3">suptree_ex_policy</a>, <a class="code hl_variable" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a2c88aceca54ea207b70b6159c6f69b54">m_sm</a>, jp, dir, radius, new_radius);</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="ttc" id="anamespace_slic3r_1_1sla_html_a08ccc3842e4be90b8093f4f4b00907be"><div class="ttname"><a href="../../d2/d57/namespace_slic3r_1_1sla.html#a08ccc3842e4be90b8093f4f4b00907be">Slic3r::sla::search_widening_path</a></div><div class="ttdeci">std::optional&lt; DiffBridge &gt; search_widening_path(Ex policy, const SupportableMesh &amp;sm, const Vec3d &amp;jp, const Vec3d &amp;dir, double radius, double new_radius)</div><div class="ttdef"><b>Definition</b> SupportTreeUtilsLegacy.hpp:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00059">m_sm</a>, <a class="el" href="../../#l00036">Slic3r::sla::search_widening_path()</a>, and <a class="el" href="../../#l00011">Slic3r::sla::suptree_ex_policy</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree_a98147cc110ff2a817c2ab4c41e559fb1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3c0ece7c8f1a624b0ddf87bea38aed84" name="a3c0ece7c8f1a624b0ddf87bea38aed84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0ece7c8f1a624b0ddf87bea38aed84">&#9670;&#160;</a></span>m_bridge_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d43/namespace_slic3r_1_1execution.html#a38c42b668b8f0efafab6799784823866">execution::BlockingMutex</a>&lt;<a class="el" href="../../de/db8/namespace_slic3r.html#d4/dac/struct_slic3r_1_1_execution_t_b_b">ExecutionTBB</a>&gt; Slic3r::sla::DefaultSupportTree::m_bridge_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00260">connect_to_nearpillar()</a>.</p>

</div>
</div>
<a id="a30b0e38e8985bef374c95e1f273435f8" name="a30b0e38e8985bef374c95e1f273435f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b0e38e8985bef374c95e1f273435f8">&#9670;&#160;</a></span>m_builder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d07/class_slic3r_1_1sla_1_1_support_tree_builder.html">SupportTreeBuilder</a>&amp; Slic3r::sla::DefaultSupportTree::m_builder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00182">add_pillar_base()</a>, <a class="el" href="../../#l00363">add_pinheads()</a>, <a class="el" href="../../#l00506">classify()</a>, <a class="el" href="../../#l00628">connect_to_ground()</a>, <a class="el" href="../../#l00648">connect_to_model_body()</a>, <a class="el" href="../../#l00260">connect_to_nearpillar()</a>, <a class="el" href="../../#l00343">create_ground_pillar()</a>, <a class="el" href="../../#l00167">interconnect()</a>, <a class="el" href="../../#l00233">merge_result()</a>, <a class="el" href="../../#l00555">routing_to_ground()</a>, and <a class="el" href="../../#l00701">search_pillar_and_connect()</a>.</p>

</div>
</div>
<a id="a4b311c62bf3089d4b6ea31fbf4cf60a4" name="a4b311c62bf3089d4b6ea31fbf4cf60a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b311c62bf3089d4b6ea31fbf4cf60a4">&#9670;&#160;</a></span>m_head_to_ground_scans</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;unsigned, <a class="el" href="../../df/dd5/class_slic3r_1_1_a_a_b_b_mesh_1_1hit__result.html">AABBMesh::hit_result</a>&gt; Slic3r::sla::DefaultSupportTree::m_head_to_ground_scans</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00506">classify()</a>, and <a class="el" href="../../#l00648">connect_to_model_body()</a>.</p>

</div>
</div>
<a id="ae60c5d2a7e2fbfb5c9b2aa9040f9d001" name="ae60c5d2a7e2fbfb5c9b2aa9040f9d001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60c5d2a7e2fbfb5c9b2aa9040f9d001">&#9670;&#160;</a></span>m_iheads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> Slic3r::sla::DefaultSupportTree::m_iheads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00363">add_pinheads()</a>, and <a class="el" href="../../#l00506">classify()</a>.</p>

</div>
</div>
<a id="a9055fc63dcacd48415ebdf8b489ccde7" name="a9055fc63dcacd48415ebdf8b489ccde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9055fc63dcacd48415ebdf8b489ccde7">&#9670;&#160;</a></span>m_iheads_onmodel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a> Slic3r::sla::DefaultSupportTree::m_iheads_onmodel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00506">classify()</a>, <a class="el" href="../../#l00555">routing_to_ground()</a>, and <a class="el" href="../../#l00738">routing_to_model()</a>.</p>

</div>
</div>
<a id="a8c911098941242486a991f97678bb2cd" name="a8c911098941242486a991f97678bb2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c911098941242486a991f97678bb2cd">&#9670;&#160;</a></span>m_pillar_clusters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html#a23a0579fd23041fa73a12d94960e7a01">PtIndices</a>&gt; Slic3r::sla::DefaultSupportTree::m_pillar_clusters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00506">classify()</a>, and <a class="el" href="../../#l00555">routing_to_ground()</a>.</p>

</div>
</div>
<a id="a39bdcde67234461310a4eace989d3115" name="a39bdcde67234461310a4eace989d3115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bdcde67234461310a4eace989d3115">&#9670;&#160;</a></span>m_pillar_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d21/class_slic3r_1_1sla_1_1_pillar_index.html">PillarIndex</a> Slic3r::sla::DefaultSupportTree::m_pillar_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00628">connect_to_ground()</a>, <a class="el" href="../../#l00648">connect_to_model_body()</a>, <a class="el" href="../../#l00343">create_ground_pillar()</a>, <a class="el" href="../../#l00555">routing_to_ground()</a>, and <a class="el" href="../../#l00701">search_pillar_and_connect()</a>.</p>

</div>
</div>
<a id="abcfa102f97338e2bdae2ea69a5ddbee3" name="abcfa102f97338e2bdae2ea69a5ddbee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfa102f97338e2bdae2ea69a5ddbee3">&#9670;&#160;</a></span>m_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::MatrixXd Slic3r::sla::DefaultSupportTree::m_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00017">DefaultSupportTree()</a>, <a class="el" href="../../#l00363">add_pinheads()</a>, and <a class="el" href="../../#l00555">routing_to_ground()</a>.</p>

</div>
</div>
<a id="a2c88aceca54ea207b70b6159c6f69b54" name="a2c88aceca54ea207b70b6159c6f69b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c88aceca54ea207b70b6159c6f69b54">&#9670;&#160;</a></span>m_sm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d53/getopt_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../df/d9b/struct_slic3r_1_1sla_1_1_supportable_mesh.html">SupportableMesh</a>&amp; Slic3r::sla::DefaultSupportTree::m_sm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00017">DefaultSupportTree()</a>, <a class="el" href="../../#l00182">add_pillar_base()</a>, <a class="el" href="../../#l00363">add_pinheads()</a>, <a class="el" href="../../#l00142">bridge_mesh_intersect()</a>, <a class="el" href="../../#l00161">bridge_mesh_intersect()</a>, <a class="el" href="../../#l00506">classify()</a>, <a class="el" href="../../#l00628">connect_to_ground()</a>, <a class="el" href="../../#l00648">connect_to_model_body()</a>, <a class="el" href="../../#l00260">connect_to_nearpillar()</a>, <a class="el" href="../../#l00343">create_ground_pillar()</a>, <a class="el" href="../../#l00167">interconnect()</a>, <a class="el" href="../../#l00117">pinhead_mesh_intersect()</a>, <a class="el" href="../../#l00150">pinhead_mesh_intersect()</a>, <a class="el" href="../../#l00092">ray_mesh_intersect()</a>, <a class="el" href="../../#l00701">search_pillar_and_connect()</a>, and <a class="el" href="../../#l00187">search_widening_path()</a>.</p>

</div>
</div>
<a id="a9baf55963cbfb17d79bc581bb0ca0910" name="a9baf55963cbfb17d79bc581bb0ca0910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9baf55963cbfb17d79bc581bb0ca0910">&#9670;&#160;</a></span>m_support_nmls</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::MatrixXd Slic3r::sla::DefaultSupportTree::m_support_nmls</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8eb2a5a8591c803ec799a01933e03176" name="a8eb2a5a8591c803ec799a01933e03176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb2a5a8591c803ec799a01933e03176">&#9670;&#160;</a></span>m_thr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html#adda397976fb15a4bfcd4468c0668acea">ThrowOnCancel</a> Slic3r::sla::DefaultSupportTree::m_thr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00363">add_pinheads()</a>, <a class="el" href="../../#l00506">classify()</a>, <a class="el" href="../../#l00555">routing_to_ground()</a>, and <a class="el" href="../../#l00701">search_pillar_and_connect()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libslic3r/SLA/<a class="el" href="../../">DefaultSupportTree.hpp</a></li>
<li>src/libslic3r/SLA/<a class="el" href="../../">DefaultSupportTree.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/db8/namespace_slic3r.html">Slic3r</a></li><li class="navelem"><a class="el" href="../../d2/d57/namespace_slic3r_1_1sla.html">sla</a></li><li class="navelem"><a class="el" href="../../d8/d8a/class_slic3r_1_1sla_1_1_default_support_tree.html">DefaultSupportTree</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
